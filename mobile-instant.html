<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Mobile BingeBoard - Instant Load</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: #000; 
            color: #fff; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            padding: 20px;
            line-height: 1.6;
        }
        .container { max-width: 100%; }
        .logo { 
            font-size: 28px; 
            font-weight: bold; 
            margin: 20px 0;
            text-align: center;
        }
        .logo .binge { 
            background: linear-gradient(135deg, #14b8a6, #0d9488); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            background-clip: text;
        }
        .status { 
            background: #064e3b; 
            color: #6ee7b7; 
            padding: 15px; 
            border-radius: 10px; 
            margin: 15px 0;
            font-weight: bold;
            text-align: center;
        }
        .debug-info { 
            background: #1a1a1a; 
            padding: 15px; 
            border-radius: 10px; 
            margin: 15px 0;
            font-size: 14px;
        }
        .debug-info h4 { 
            color: #14b8a6; 
            margin-bottom: 10px;
        }
        .debug-info p { 
            margin: 5px 0;
            word-break: break-word;
        }
        .test-btn {
            background: #14b8a6;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px 0;
            width: 100%;
        }
        .test-btn:active {
            background: #0d9488;
        }
        .success { background: #064e3b; color: #6ee7b7; }
        .error { background: #7f1d1d; color: #fca5a5; }
        .warning { background: #78350f; color: #fbbf24; }
        .result {
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <span class="binge">Binge</span>Board
        </div>
        
        <div class="status">
            ✅ Mobile Site Loading Successfully!
        </div>
        
        <div class="debug-info">
            <h4>Device Information</h4>
            <p id="userAgent">User Agent: Loading...</p>
            <p id="screenInfo">Screen: Loading...</p>
            <p id="windowInfo">Window: Loading...</p>
            <p id="pixelRatio">Pixel Ratio: Loading...</p>
            <p id="touchSupport">Touch: Loading...</p>
            <p id="networkInfo">Network: Loading...</p>
        </div>
        
        <div class="debug-info">
            <h4>Connection Test</h4>
            <p id="serverTest">Server Connection: Testing...</p>
            <p id="urlInfo">Current URL: Loading...</p>
            <p id="loadTime">Load Time: Loading...</p>
        </div>
        
        <button class="test-btn" onclick="runFullTest()">Test Mobile Detection</button>
        <button class="test-btn" onclick="testServerConnection()">Test Server Connection</button>
        <button class="test-btn" onclick="goToFullApp()">Go to Full App</button>
        
        <div id="testResults"></div>
    </div>

    <script>
        const startTime = Date.now();
        
        function updateDeviceInfo() {
            // User Agent
            document.getElementById('userAgent').textContent = 'User Agent: ' + navigator.userAgent;
            
            // Screen Info
            document.getElementById('screenInfo').textContent = 'Screen: ' + screen.width + 'x' + screen.height + 
                ' (Available: ' + screen.availWidth + 'x' + screen.availHeight + ')';
            
            // Window Info
            document.getElementById('windowInfo').textContent = 'Window: ' + window.innerWidth + 'x' + window.innerHeight;
            
            // Pixel Ratio
            document.getElementById('pixelRatio').textContent = 'Pixel Ratio: ' + (window.devicePixelRatio || 1);
            
            // Touch Support
            const hasTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
            document.getElementById('touchSupport').textContent = 'Touch: ' + (hasTouch ? 'Yes' : 'No');
            
            // Network Info
            const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
            const networkInfo = connection ? 
                'Type: ' + (connection.effectiveType || 'Unknown') + ', Downlink: ' + (connection.downlink || 'Unknown') :
                'Not available';
            document.getElementById('networkInfo').textContent = 'Network: ' + networkInfo;
            
            // URL Info
            document.getElementById('urlInfo').textContent = 'Current URL: ' + window.location.href;
            
            // Load Time
            const loadTime = Date.now() - startTime;
            document.getElementById('loadTime').textContent = 'Load Time: ' + loadTime + 'ms';
        }
        
        function testServerConnection() {
            const results = document.getElementById('testResults');
            results.innerHTML = '<div class="result warning">Testing server connection...</div>';
            
            fetch('/test-mobile')
                .then(response => response.json())
                .then(data => {
                    results.innerHTML = '<div class="result success">✅ Server Connection Working!</div>' +
                        '<div class="debug-info">' +
                        '<h4>Server Response</h4>' +
                        '<p>Mobile Detected: ' + data.isMobile + '</p>' +
                        '<p>Server Time: ' + data.timestamp + '</p>' +
                        '<p>Path: ' + data.path + '</p>' +
                        '</div>';
                    
                    document.getElementById('serverTest').textContent = 'Server Connection: ✅ Working';
                })
                .catch(error => {
                    results.innerHTML = '<div class="result error">❌ Server Connection Failed</div>' +
                        '<div class="debug-info">' +
                        '<p>Error: ' + error.message + '</p>' +
                        '</div>';
                    
                    document.getElementById('serverTest').textContent = 'Server Connection: ❌ Failed';
                });
        }
        
        function runFullTest() {
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|Mobile|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            const results = document.getElementById('testResults');
            results.innerHTML = '<div class="result ' + (isMobile ? 'success' : 'warning') + '">' +
                (isMobile ? '✅ Mobile Device Detected' : '⚠️ Desktop Device Detected') +
                '</div>' +
                '<div class="debug-info">' +
                '<h4>Detection Results</h4>' +
                '<p>Client-side Mobile: ' + isMobile + '</p>' +
                '<p>Touch Support: ' + ('ontouchstart' in window || navigator.maxTouchPoints > 0) + '</p>' +
                '<p>Screen Width: ' + screen.width + '</p>' +
                '<p>Window Width: ' + window.innerWidth + '</p>' +
                '</div>';
            
            // Also test server connection
            setTimeout(testServerConnection, 1000);
        }
        
        function goToFullApp() {
            window.location.href = '/';
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateDeviceInfo();
            
            // Auto-run tests after a short delay
            setTimeout(testServerConnection, 500);
            
            console.log('Mobile instant page loaded');
            console.log('User Agent:', navigator.userAgent);
            console.log('Screen Size:', screen.width + 'x' + screen.height);
            console.log('Touch Support:', 'ontouchstart' in window || navigator.maxTouchPoints > 0);
        });
    </script>
</body>
</html>