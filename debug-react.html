<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Debug</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #000;
            color: #fff;
            font-family: monospace;
        }
        .status {
            background: #111;
            padding: 15px;
            margin: 10px 0;
            border: 1px solid #333;
            border-radius: 5px;
        }
        .success { border-color: #10b981; }
        .error { border-color: #ef4444; }
        .warning { border-color: #f59e0b; }
        #root {
            border: 2px solid #14b8a6;
            min-height: 100px;
            margin: 20px 0;
            padding: 20px;
            background: #0a0a0a;
        }
    </style>
</head>
<body>
    <h1>React Debug Page</h1>
    
    <div class="status">
        <h3>Step 1: HTML Structure</h3>
        <p>Root element exists: <span id="root-check">Checking...</span></p>
    </div>
    
    <div class="status">
        <h3>Step 2: React Files</h3>
        <p>main.tsx loading: <span id="main-check">Checking...</span></p>
        <p>App-minimal.tsx loading: <span id="app-check">Checking...</span></p>
    </div>
    
    <div class="status">
        <h3>Step 3: React Rendering</h3>
        <p>React mounting: <span id="react-check">Checking...</span></p>
        <p>Console errors: <span id="error-check">Checking...</span></p>
    </div>
    
    <div id="root">
        <p>React app should render here...</p>
    </div>
    
    <div class="status">
        <h3>Manual Test</h3>
        <button onclick="testReact()" style="background: #14b8a6; color: white; border: none; padding: 10px 20px; border-radius: 5px; margin: 5px;">Test React</button>
        <button onclick="window.location.href = '/'" style="background: #374151; color: white; border: none; padding: 10px 20px; border-radius: 5px; margin: 5px;">Go to Main App</button>
    </div>
    
    <div class="status">
        <h3>Console Output</h3>
        <div id="console-output" style="background: #000; padding: 10px; height: 200px; overflow-y: auto; font-size: 12px;"></div>
    </div>

    <script>
        // Override console.log to capture output
        const originalLog = console.log;
        const originalError = console.error;
        const consoleOutput = document.getElementById('console-output');
        
        function addToConsole(message, type = 'log') {
            const color = type === 'error' ? '#ef4444' : '#10b981';
            consoleOutput.innerHTML += `<div style="color: ${color};">[${new Date().toLocaleTimeString()}] ${message}</div>`;
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }
        
        console.log = function(...args) {
            addToConsole(args.join(' '), 'log');
            originalLog.apply(console, args);
        };
        
        console.error = function(...args) {
            addToConsole(args.join(' '), 'error');
            originalError.apply(console, args);
        };
        
        // Step 1: Check root element
        const rootElement = document.getElementById('root');
        document.getElementById('root-check').textContent = rootElement ? '‚úÖ Found' : '‚ùå Not Found';
        document.getElementById('root-check').style.color = rootElement ? '#10b981' : '#ef4444';
        
        // Step 2: Test file loading
        function testFileLoading() {
            Promise.all([
                fetch('/src/main.tsx').then(r => r.ok),
                fetch('/src/App-minimal.tsx').then(r => r.ok)
            ]).then(([mainOk, appOk]) => {
                document.getElementById('main-check').textContent = mainOk ? '‚úÖ Available' : '‚ùå Failed';
                document.getElementById('main-check').style.color = mainOk ? '#10b981' : '#ef4444';
                
                document.getElementById('app-check').textContent = appOk ? '‚úÖ Available' : '‚ùå Failed';
                document.getElementById('app-check').style.color = appOk ? '#10b981' : '#ef4444';
            });
        }
        
        // Step 3: Test React mounting
        function testReact() {
            console.log('Testing React mounting...');
            
            // Try to create a simple React element
            try {
                const reactScript = document.createElement('script');
                reactScript.type = 'module';
                reactScript.textContent = `
                    import React from 'react';
                    import { createRoot } from 'react-dom/client';
                    
                    console.log('React imported successfully');
                    
                    const TestComponent = () => React.createElement('div', {
                        style: { 
                            background: '#14b8a6', 
                            color: 'white', 
                            padding: '20px', 
                            borderRadius: '8px',
                            textAlign: 'center'
                        }
                    }, 'React is working! üéâ');
                    
                    const rootElement = document.getElementById('root');
                    if (rootElement) {
                        console.log('Root element found, creating React root');
                        const root = createRoot(rootElement);
                        root.render(React.createElement(TestComponent));
                        console.log('React component rendered successfully');
                    } else {
                        console.error('Root element not found');
                    }
                `;
                
                document.head.appendChild(reactScript);
                
                setTimeout(() => {
                    const hasReactContent = document.getElementById('root').innerHTML.includes('React is working');
                    document.getElementById('react-check').textContent = hasReactContent ? '‚úÖ Working' : '‚ùå Failed';
                    document.getElementById('react-check').style.color = hasReactContent ? '#10b981' : '#ef4444';
                }, 2000);
                
            } catch (error) {
                console.error('React test failed:', error);
                document.getElementById('react-check').textContent = '‚ùå Error';
                document.getElementById('react-check').style.color = '#ef4444';
            }
        }
        
        // Monitor for errors
        window.addEventListener('error', (e) => {
            console.error('Global error:', e.error?.message || e.message);
            document.getElementById('error-check').textContent = '‚ùå Errors detected';
            document.getElementById('error-check').style.color = '#ef4444';
        });
        
        // Auto-run tests
        setTimeout(testFileLoading, 500);
        setTimeout(testReact, 2000);
        
        console.log('React debug page loaded');
    </script>
</body>
</html>