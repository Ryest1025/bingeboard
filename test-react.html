<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Direct React Test</title>
    <style>
        body { background: #000; color: #fff; font-family: Arial; padding: 20px; }
        .log { background: #111; padding: 10px; margin: 5px 0; border-left: 3px solid #14b8a6; }
        .error { border-left-color: #dc2626; }
    </style>
</head>
<body>
    <h1>Direct React Test</h1>
    <div id="logs"></div>
    <div id="root">Loading React...</div>
    
    <script>
        const logs = document.getElementById('logs');
        
        function log(message, isError = false) {
            const div = document.createElement('div');
            div.className = isError ? 'log error' : 'log';
            div.textContent = new Date().toLocaleTimeString() + ': ' + message;
            logs.appendChild(div);
            console.log(message);
        }
        
        log('Starting Direct React Test');
        
        // Test 1: Basic JavaScript
        log('✅ JavaScript is working');
        
        // Test 2: Try to load React directly from CDN
        (function() {
            const script = document.createElement('script');
            script.src = 'https://unpkg.com/react@18/umd/react.development.js';
            script.onload = function() {
                log('✅ React loaded from CDN');
                
                // Load ReactDOM
                const reactDOMScript = document.createElement('script');
                reactDOMScript.src = 'https://unpkg.com/react-dom@18/umd/react-dom.development.js';
                reactDOMScript.onload = function() {
                    log('✅ ReactDOM loaded from CDN');
                    
                    // Test React rendering
                    try {
                        const { createElement } = React;
                        const { createRoot } = ReactDOM;
                        
                        const TestComponent = () => {
                            return createElement('div', {
                                style: {
                                    color: '#14b8a6',
                                    fontSize: '2rem',
                                    textAlign: 'center',
                                    padding: '20px'
                                }
                            }, 'React CDN Test Working!');
                        };
                        
                        const root = document.getElementById('root');
                        if (root) {
                            const reactRoot = createRoot(root);
                            reactRoot.render(createElement(TestComponent));
                            log('✅ React component rendered successfully with CDN');
                        }
                    } catch (e) {
                        log('❌ React rendering error: ' + e.message, true);
                    }
                };
                reactDOMScript.onerror = function() {
                    log('❌ Failed to load ReactDOM from CDN', true);
                };
                document.head.appendChild(reactDOMScript);
            };
            script.onerror = function() {
                log('❌ Failed to load React from CDN', true);
            };
            document.head.appendChild(script);
        })();
        
        // Test 3: Check if Vite is interfering
        setTimeout(() => {
            log('⏰ 5 second timeout check');
            if (document.getElementById('root').textContent === 'Loading React...') {
                log('❌ React still not loaded after 5 seconds', true);
            }
        }, 5000);
        
        // Global error handlers
        window.addEventListener('error', (e) => {
            log('❌ Runtime Error: ' + e.message + ' at ' + e.filename + ':' + e.lineno, true);
        });
        
        window.addEventListener('unhandledrejection', (e) => {
            log('❌ Promise Rejection: ' + e.reason, true);
        });
    </script>
</body>
</html>