import{K as Z}from"./index-BPk3_MNU.js";var tt=Object.defineProperty,Q=t=>{throw TypeError(t)},et=(t,e,i)=>e in t?tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,N=(t,e,i)=>et(t,typeof e!="symbol"?e+"":e,i),B=(t,e,i)=>e.has(t)||Q("Cannot "+i),L=(t,e,i)=>(B(t,e,"read from private field"),i?i.call(t):e.get(t)),C=(t,e,i)=>e.has(t)?Q("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),T=(t,e,i,c)=>(B(t,e,"write to private field"),e.set(t,i),i),b=(t,e,i)=>(B(t,e,"access private method"),i);const st=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"];var K;const q=(K=globalThis.document)==null?void 0:K.createElement("template");q&&(q.innerHTML=`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video,
      audio {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
      }
    </style>
    <slot></slot>
  `);const X=(t,{tag:e,is:i})=>{var c,l,f,w,R,M,A,S,v,W,k,r,y,P,H,g,O,n;const a=(c=globalThis.document)==null?void 0:c.createElement(e,{is:i}),h=a?V(a):[];return l=class extends t{constructor(){super(),C(this,r),C(this,M),C(this,A),C(this,S,!1),C(this,v,!1),C(this,W),C(this,k),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.append(this.constructor.template.content.cloneNode(!0))),this.load!==l.prototype.load&&(this.loadComplete=new z)}static get observedAttributes(){var s,o;return b(s=l,w,R).call(s),[...((o=a==null?void 0:a.constructor)==null?void 0:o.observedAttributes)??[],"autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"]}get loadComplete(){return L(this,A)}set loadComplete(s){T(this,v,!1),T(this,A,s),s==null||s.then(()=>{T(this,v,!0)})}get isLoaded(){return L(this,v)}get nativeEl(){return L(this,W)??this.shadowRoot.querySelector(e)??this.querySelector(e)}set nativeEl(s){T(this,W,s)}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(s){this.toggleAttribute("muted",!!s)}get src(){return this.getAttribute("src")}set src(s){this.setAttribute("src",`${s}`)}get preload(){var s;return this.getAttribute("preload")??((s=this.nativeEl)==null?void 0:s.preload)}set preload(s){this.setAttribute("preload",`${s}`)}attributeChangedCallback(s,o,p){b(this,r,y).call(this),s==="src"&&this.load!==l.prototype.load&&b(this,r,O).call(this),b(this,r,n).call(this,s,o,p)}connectedCallback(){b(this,r,y).call(this)}},f=new WeakMap,w=new WeakSet,R=function(){if(L(this,f))return;T(this,f,!0);const s=new Set(this.observedAttributes);s.delete("muted");for(let o of h)if(!(o in this.prototype))if(typeof a[o]=="function")this.prototype[o]=function(...p){b(this,r,y).call(this);const u=()=>this.call?this.call(o,...p):this.nativeEl[o].apply(this.nativeEl,p);return this.loadComplete&&!this.isLoaded?this.loadComplete.then(u):u()};else{let p={get(){var u,m;b(this,r,y).call(this);let d=o.toLowerCase();if(s.has(d)){const E=this.getAttribute(d);return E===null?!1:E===""?!0:E}return((u=this.get)==null?void 0:u.call(this,o))??((m=this.nativeEl)==null?void 0:m[o])??L(this,k)[o]}};o!==o.toUpperCase()&&(p.set=async function(u){b(this,r,y).call(this);let m=o.toLowerCase();if(s.has(m)){u===!0||u===!1||u==null?this.toggleAttribute(m,!!u):this.setAttribute(m,u);return}if(this.loadComplete&&!this.isLoaded&&await this.loadComplete,this.set){this.set(o,u);return}this.nativeEl[o]=u}),Object.defineProperty(this.prototype,o,p)}},M=new WeakMap,A=new WeakMap,S=new WeakMap,v=new WeakMap,W=new WeakMap,k=new WeakMap,r=new WeakSet,y=async function(){var s,o;if(L(this,M))return;T(this,M,!0),b(this,r,H).call(this),b(this,r,g).call(this);for(let m of h)b(this,r,P).call(this,m);const p=new Map,u=this.shadowRoot.querySelector("slot:not([name])");u==null||u.addEventListener("slotchange",()=>{const m=new Map(p);u.assignedElements().filter(d=>["track","source"].includes(d.localName)).forEach(async d=>{var E,F;m.delete(d);let j=p.get(d);j||(j=d.cloneNode(),p.set(d,j)),this.loadComplete&&!this.isLoaded&&await this.loadComplete,(F=(E=this.nativeEl).append)==null||F.call(E,j)}),m.forEach(d=>d.remove())});for(let m of this.constructor.Events)(o=(s=this.shadowRoot).addEventListener)==null||o.call(s,m,d=>{d.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(d.type,{detail:d.detail}))},!0)},P=function(s){if(Object.prototype.hasOwnProperty.call(this,s)){const o=this[s];delete this[s],this[s]=o}},H=function(){const s=document.createElement(e,{is:i});s.muted=this.hasAttribute("muted");for(let{name:o,value:p}of this.attributes)s.setAttribute(o,p);T(this,k,{});for(let o of V(s))L(this,k)[o]=s[o];s.removeAttribute("src"),s.load()},g=async function(){if(this.loadComplete&&!this.isLoaded&&await this.loadComplete,!this.nativeEl){const s=document.createElement(e,{is:i});s.part=e,this.shadowRoot.append(s)}this.nativeEl.muted=this.hasAttribute("muted")},O=async function(){var s;L(this,S)&&(this.loadComplete=new z),T(this,S,!0),await Promise.resolve(),await this.load(),(s=this.loadComplete)==null||s.resolve(),await this.loadComplete},n=async function(s,o,p){var u,m,d,E;this.loadComplete&&!this.isLoaded&&await this.loadComplete,!["id","class",...this.constructor.skipAttributes].includes(s)&&(p===null?(m=(u=this.nativeEl).removeAttribute)==null||m.call(u,s):(E=(d=this.nativeEl).setAttribute)==null||E.call(d,s,p))},C(l,w),N(l,"Events",st),N(l,"template",q),N(l,"skipAttributes",[]),C(l,f),l};function V(t){let e=[];for(let i=Object.getPrototypeOf(t);i&&i!==HTMLElement.prototype;i=Object.getPrototypeOf(i))e.push(...Object.getOwnPropertyNames(i));return e}class z extends Promise{constructor(e=()=>{}){let i,c;super((l,f)=>{e(l,f),i=l,c=f}),this.resolve=i,this.reject=c}}const it=globalThis.document?X(HTMLElement,{tag:"video"}):class{};globalThis.document&&X(HTMLElement,{tag:"audio"});var U,D;const $=(U=globalThis.document)==null?void 0:U.createElement("template");$&&($.innerHTML=`
  <div class="wistia_embed"></div>
  `);const I=(D=globalThis.document)==null?void 0:D.createElement("template");I&&(I.innerHTML=`
  <style>
    :host {
      display: inline-block;
      min-width: 300px;
      min-height: 150px;
      position: relative;
    }
    ::slotted(.wistia_embed) {
      position: absolute;
      width: 100%;
      height: 100%;
    }
  </style>
  <slot></slot>
  `);class _ extends it{get nativeEl(){var e;return((e=this.api)==null?void 0:e.elem())??this.querySelector("video")}async load(){var e;if((e=this.querySelector(".wistia_embed"))==null||e.remove(),!this.src)return;await new Promise(w=>setTimeout(w,50));const i=/(?:wistia\.com|wi\.st)\/(?:medias|embed)\/(.*)$/i,c=this.src.match(i)[1],l={autoPlay:this.autoplay,preload:this.preload??"metadata",playsinline:this.playsInline,endVideoBehavior:this.loop&&"loop",chromeless:!this.controls,playButton:this.controls,muted:this.defaultMuted};this.append($.content.cloneNode(!0));const f=this.querySelector(".wistia_embed");f.id||(f.id=nt(c)),f.classList.add(`wistia_async_${c}`),await ot("https://fast.wistia.com/assets/external/E-v1.js","Wistia"),this.api=await new Promise(w=>{globalThis._wq.push({id:f.id,onReady:w,options:l})})}async attributeChangedCallback(e,i,c){if(e==="controls"){switch(await this.loadComplete,e){case"controls":this.api.bigPlayButtonEnabled(this.controls),this.controls?this.api.releaseChromeless():this.api.requestChromeless();break}return}super.attributeChangedCallback(e,i,c)}get duration(){var e;return(e=this.api)==null?void 0:e.duration()}play(){return this.api.play(),new Promise(e=>this.addEventListener("playing",e))}}N(_,"template",I),N(_,"skipAttributes",["src"]);const x={};async function ot(t,e){return x[t]?x[t]:self[e]?self[e]:x[t]=new Promise((i,c)=>{const l=document.createElement("script");l.defer=!0,l.src=t,l.onload=()=>i(self[e]),l.onerror=c,document.head.append(l)})}let at=0;function nt(t){const e=++at;return`${t}${e}`}globalThis.customElements&&!globalThis.customElements.get("wistia-video")&&globalThis.customElements.define("wistia-video",_);var lt=_,rt=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),ut={className:"class",htmlFor:"for"};function Y(t){return t.toLowerCase()}function G(t){if(typeof t=="boolean")return t?"":void 0;if(typeof t!="function"&&!(typeof t=="object"&&t!==null))return t}function ct({react:t,tagName:e,elementClass:i,events:c,displayName:l,defaultProps:f,toAttributeName:w=Y,toAttributeValue:R=G}){const M=Number.parseInt(t.version)>=19,A=t.forwardRef((S,v)=>{var W,k;const r=t.useRef(null),y=t.useRef(new Map),P={},H={},g={},O={};for(const[n,a]of Object.entries(S)){if(rt.has(n)){g[n]=a;continue}const h=w(ut[n]??n);if(n in i.prototype&&!(n in(((W=globalThis.HTMLElement)==null?void 0:W.prototype)??{}))&&!((k=i.observedAttributes)!=null&&k.some(o=>o===h))){O[n]=a;continue}if(n.startsWith("on")){P[n]=a;continue}const s=R(a);if(h&&s!=null&&(H[h]=String(s),M||(g[h]=s)),h&&M){const o=G(a);s!==o?g[h]=s:g[h]=a}}if(typeof window<"u"){for(const n in P){const a=P[n],h=n.endsWith("Capture"),s=((c==null?void 0:c[n])??n.slice(2).toLowerCase()).slice(0,h?-7:void 0);t.useLayoutEffect(()=>{const o=r==null?void 0:r.current;if(!(!o||typeof a!="function"))return o.addEventListener(s,a,h),()=>{o.removeEventListener(s,a,h)}},[r==null?void 0:r.current,a])}t.useLayoutEffect(()=>{if(r.current===null)return;const n=new Map;for(const a in O)J(r.current,a,O[a]),y.current.delete(a),n.set(a,O[a]);for(const[a,h]of y.current)J(r.current,a,void 0);y.current=n})}if(typeof window>"u"&&i!=null&&i.getTemplateHTML&&i!=null&&i.shadowRootOptions){const{mode:n,delegatesFocus:a}=i.shadowRootOptions,h=t.createElement("template",{shadowrootmode:n,shadowrootdelegatesfocus:a,dangerouslySetInnerHTML:{__html:i.getTemplateHTML(H,S)}});g.children=[h,g.children]}return t.createElement(e,{...f,...g,ref:t.useCallback(n=>{r.current=n,typeof v=="function"?v(n):v!==null&&(v.current=n)},[v])})});return A.displayName=l??i.name,A}function J(t,e,i){var c;t[e]=i,i==null&&e in(((c=globalThis.HTMLElement)==null?void 0:c.prototype)??{})&&t.removeAttribute(e)}var ht=ct({react:Z,tagName:"wistia-video",elementClass:lt,toAttributeName(t){return t==="muted"?"":t==="defaultMuted"?"muted":Y(t)}});export{ht as default};
