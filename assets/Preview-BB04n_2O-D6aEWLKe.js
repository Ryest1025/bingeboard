import{v as g,K as a}from"./index-BPk3_MNU.js";const d="64px",p={},I=({src:n,light:r,oEmbedUrl:i,onClickPreview:t,playIcon:v,previewTabIndex:w,previewAriaLabel:u})=>{const[h,l]=g.useState(null);g.useEffect(()=>{!n||!r||!i||f({src:n,light:r,oEmbedUrl:i})},[n,r,i]);const f=async({src:e,light:c,oEmbedUrl:k})=>{if(a.isValidElement(c))return;if(typeof c=="string"){l(c);return}if(p[e]){l(p[e]);return}l(null);const m=await(await fetch(k.replace("{url}",e))).json();if(m.thumbnail_url){const y=m.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");l(y),p[e]=y}},x=e=>{(e.key==="Enter"||e.key===" ")&&(t==null||t(e))},E=e=>{t==null||t(e)},o=a.isValidElement(r),b={display:"flex",alignItems:"center",justifyContent:"center"},s={preview:{width:"100%",height:"100%",backgroundImage:h&&!o?`url(${h})`:void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",...b},shadow:{background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:d,width:d,height:d,position:o?"absolute":void 0,...b},playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},_=a.createElement("div",{style:s.shadow,className:"react-player__shadow"},a.createElement("div",{style:s.playIcon,className:"react-player__play-icon"}));return a.createElement("div",{style:s.preview,className:"react-player__preview",tabIndex:w,onClick:E,onKeyPress:x,...u?{"aria-label":u}:{}},o?r:null,v||_)};var K=I;export{K as default};
