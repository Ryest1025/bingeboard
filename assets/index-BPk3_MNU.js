const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/react-vk-CPTWl-DTGhmZYb.js","assets/custom-media-element-BTc9lN-c-DnaVW_yH.js","assets/hls-Gu2pieNd-D912zfQd.js","assets/react-BoeU2g4Z-B9wiM3n_.js","assets/index-BRKyTy26-iU_Y9IMC.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();const C5="modulepreload",E5=function(t){return"/"+t},ew={},fr=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(m){return Promise.all(m.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=c(r.map(m=>{if(m=E5(m),m in ew)return;ew[m]=!0;const f=m.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${g}`))return;const x=document.createElement("link");if(x.rel=f?"stylesheet":C5,f||(x.as="script"),x.crossOrigin="",x.href=m,h&&x.setAttribute("nonce",h),document.head.appendChild(x),f)return new Promise((k,j)=>{x.addEventListener("load",k),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return e().catch(l)})},Nu=(t,e=Nu,r=e.f||(e.f=["assets/react-vk-CPTWl.js","assets/custom-media-element-BTc9lN-c.js","assets/hls-Gu2pieNd.js","assets/react-BoeU2g4Z.js","assets/index-BRKyTy26.js"]))=>t.map(n=>r[n]);var Qk=t=>{throw TypeError(t)},yv=(t,e,r)=>e.has(t)||Qk("Cannot "+r),M=(t,e,r)=>(yv(t,e,"read from private field"),r?r.call(t):e.get(t)),Se=(t,e,r)=>e.has(t)?Qk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),he=(t,e,r,n)=>(yv(t,e,"write to private field"),e.set(t,r),r),De=(t,e,r)=>(yv(t,e,"access private method"),r),ig=(t,e,r,n)=>({set _(a){he(t,e,a)},get _(){return M(t,e,n)}});function T5(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function e(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=e(n);fetch(n.href,a)}})();const _5="modulepreload",P5=function(t){return"/"+t},tw={},ct=function(t,e,r){let n=Promise.resolve();if(e&&e.length>0){let l=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));n=l(e.map(h=>{if(h=P5(h),h in tw)return;tw[h]=!0;const m=h.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${f}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":_5,m||(g.as="script"),g.crossOrigin="",g.href=h,u&&g.setAttribute("nonce",u),document.head.appendChild(g),m)return new Promise((x,k)=>{g.addEventListener("load",x),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return n.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};function Xk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rw={exports:{}},fl={},nw={exports:{}},Le={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var sw;function R5(){if(sw)return Le;sw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function b(U,q,ue){this.props=U,this.context=q,this.refs=N,this.updater=ue||k}b.prototype.isReactComponent={},b.prototype.setState=function(U,q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,q,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=b.prototype;function _(U,q,ue){this.props=U,this.context=q,this.refs=N,this.updater=ue||k}var T=_.prototype=new C;T.constructor=_,j(T,b.prototype),T.isPureReactComponent=!0;var P=Array.isArray,A=Object.prototype.hasOwnProperty,L={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(U,q,ue){var be,Ee={},Me=null,He=null;if(q!=null)for(be in q.ref!==void 0&&(He=q.ref),q.key!==void 0&&(Me=""+q.key),q)A.call(q,be)&&!I.hasOwnProperty(be)&&(Ee[be]=q[be]);var $e=arguments.length-2;if($e===1)Ee.children=ue;else if(1<$e){for(var Fe=Array($e),_t=0;_t<$e;_t++)Fe[_t]=arguments[_t+2];Ee.children=Fe}if(U&&U.defaultProps)for(be in $e=U.defaultProps,$e)Ee[be]===void 0&&(Ee[be]=$e[be]);return{$$typeof:t,type:U,key:Me,ref:He,props:Ee,_owner:L.current}}function R(U,q){return{$$typeof:t,type:U.type,key:q,ref:U.ref,props:U.props,_owner:U._owner}}function z(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function G(U){var q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return q[ue]})}var W=/\/+/g;function ee(U,q){return typeof U=="object"&&U!==null&&U.key!=null?G(""+U.key):q.toString(36)}function D(U,q,ue,be,Ee){var Me=typeof U;(Me==="undefined"||Me==="boolean")&&(U=null);var He=!1;if(U===null)He=!0;else switch(Me){case"string":case"number":He=!0;break;case"object":switch(U.$$typeof){case t:case e:He=!0}}if(He)return He=U,Ee=Ee(He),U=be===""?"."+ee(He,0):be,P(Ee)?(ue="",U!=null&&(ue=U.replace(W,"$&/")+"/"),D(Ee,q,ue,"",function(_t){return _t})):Ee!=null&&(z(Ee)&&(Ee=R(Ee,ue+(!Ee.key||He&&He.key===Ee.key?"":(""+Ee.key).replace(W,"$&/")+"/")+U)),q.push(Ee)),1;if(He=0,be=be===""?".":be+":",P(U))for(var $e=0;$e<U.length;$e++){Me=U[$e];var Fe=be+ee(Me,$e);He+=D(Me,q,ue,Fe,Ee)}else if(Fe=x(U),typeof Fe=="function")for(U=Fe.call(U),$e=0;!(Me=U.next()).done;)Me=Me.value,Fe=be+ee(Me,$e++),He+=D(Me,q,ue,Fe,Ee);else if(Me==="object")throw q=String(U),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return He}function Q(U,q,ue){if(U==null)return U;var be=[],Ee=0;return D(U,be,"","",function(Me){return q.call(ue,Me,Ee++)}),be}function ae(U){if(U._status===-1){var q=U._result;q=q(),q.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=q)}if(U._status===1)return U._result.default;throw U._result}var oe={current:null},H={transition:null},Z={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:H,ReactCurrentOwner:L};function X(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:Q,forEach:function(U,q,ue){Q(U,function(){q.apply(this,arguments)},ue)},count:function(U){var q=0;return Q(U,function(){q++}),q},toArray:function(U){return Q(U,function(q){return q})||[]},only:function(U){if(!z(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Le.Component=b,Le.Fragment=r,Le.Profiler=a,Le.PureComponent=_,Le.StrictMode=n,Le.Suspense=h,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Le.act=X,Le.cloneElement=function(U,q,ue){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var be=j({},U.props),Ee=U.key,Me=U.ref,He=U._owner;if(q!=null){if(q.ref!==void 0&&(Me=q.ref,He=L.current),q.key!==void 0&&(Ee=""+q.key),U.type&&U.type.defaultProps)var $e=U.type.defaultProps;for(Fe in q)A.call(q,Fe)&&!I.hasOwnProperty(Fe)&&(be[Fe]=q[Fe]===void 0&&$e!==void 0?$e[Fe]:q[Fe])}var Fe=arguments.length-2;if(Fe===1)be.children=ue;else if(1<Fe){$e=Array(Fe);for(var _t=0;_t<Fe;_t++)$e[_t]=arguments[_t+2];be.children=$e}return{$$typeof:t,type:U.type,key:Ee,ref:Me,props:be,_owner:He}},Le.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:l,_context:U},U.Consumer=U},Le.createElement=E,Le.createFactory=function(U){var q=E.bind(null,U);return q.type=U,q},Le.createRef=function(){return{current:null}},Le.forwardRef=function(U){return{$$typeof:u,render:U}},Le.isValidElement=z,Le.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:ae}},Le.memo=function(U,q){return{$$typeof:m,type:U,compare:q===void 0?null:q}},Le.startTransition=function(U){var q=H.transition;H.transition={};try{U()}finally{H.transition=q}},Le.unstable_act=X,Le.useCallback=function(U,q){return oe.current.useCallback(U,q)},Le.useContext=function(U){return oe.current.useContext(U)},Le.useDebugValue=function(){},Le.useDeferredValue=function(U){return oe.current.useDeferredValue(U)},Le.useEffect=function(U,q){return oe.current.useEffect(U,q)},Le.useId=function(){return oe.current.useId()},Le.useImperativeHandle=function(U,q,ue){return oe.current.useImperativeHandle(U,q,ue)},Le.useInsertionEffect=function(U,q){return oe.current.useInsertionEffect(U,q)},Le.useLayoutEffect=function(U,q){return oe.current.useLayoutEffect(U,q)},Le.useMemo=function(U,q){return oe.current.useMemo(U,q)},Le.useReducer=function(U,q,ue){return oe.current.useReducer(U,q,ue)},Le.useRef=function(U){return oe.current.useRef(U)},Le.useState=function(U){return oe.current.useState(U)},Le.useSyncExternalStore=function(U,q,ue){return oe.current.useSyncExternalStore(U,q,ue)},Le.useTransition=function(){return oe.current.useTransition()},Le.version="18.3.1",Le}var aw;function Th(){return aw||(aw=1,nw.exports=R5()),nw.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var iw;function A5(){if(iw)return fl;iw=1;var t=Th(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,m){var f,g={},x=null,k=null;m!==void 0&&(x=""+m),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(k=h.ref);for(f in h)n.call(h,f)&&!l.hasOwnProperty(f)&&(g[f]=h[f]);if(u&&u.defaultProps)for(f in h=u.defaultProps,h)g[f]===void 0&&(g[f]=h[f]);return{$$typeof:e,type:u,key:x,ref:k,props:g,_owner:a.current}}return fl.Fragment=r,fl.jsx=c,fl.jsxs=c,fl}var ow;function I5(){return ow||(ow=1,rw.exports=A5()),rw.exports}var i=I5(),Gd={},of={exports:{}},sr={},lw={exports:{}},cw={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var dw;function O5(){return dw||(dw=1,(function(t){function e(H,Z){var X=H.length;H.push(Z);e:for(;0<X;){var U=X-1>>>1,q=H[U];if(0<a(q,Z))H[U]=Z,H[X]=q,X=U;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var Z=H[0],X=H.pop();if(X!==Z){H[0]=X;e:for(var U=0,q=H.length,ue=q>>>1;U<ue;){var be=2*(U+1)-1,Ee=H[be],Me=be+1,He=H[Me];if(0>a(Ee,X))Me<q&&0>a(He,Ee)?(H[U]=He,H[Me]=X,U=Me):(H[U]=Ee,H[be]=X,U=be);else if(Me<q&&0>a(He,X))H[U]=He,H[Me]=X,U=Me;else break e}}return Z}function a(H,Z){var X=H.sortIndex-Z.sortIndex;return X!==0?X:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],m=[],f=1,g=null,x=3,k=!1,j=!1,N=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(H){for(var Z=r(m);Z!==null;){if(Z.callback===null)n(m);else if(Z.startTime<=H)n(m),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=r(m)}}function P(H){if(N=!1,T(H),!j)if(r(h)!==null)j=!0,ae(A);else{var Z=r(m);Z!==null&&oe(P,Z.startTime-H)}}function A(H,Z){j=!1,N&&(N=!1,C(E),E=-1),k=!0;var X=x;try{for(T(Z),g=r(h);g!==null&&(!(g.expirationTime>Z)||H&&!G());){var U=g.callback;if(typeof U=="function"){g.callback=null,x=g.priorityLevel;var q=U(g.expirationTime<=Z);Z=t.unstable_now(),typeof q=="function"?g.callback=q:g===r(h)&&n(h),T(Z)}else n(h);g=r(h)}if(g!==null)var ue=!0;else{var be=r(m);be!==null&&oe(P,be.startTime-Z),ue=!1}return ue}finally{g=null,x=X,k=!1}}var L=!1,I=null,E=-1,R=5,z=-1;function G(){return!(t.unstable_now()-z<R)}function W(){if(I!==null){var H=t.unstable_now();z=H;var Z=!0;try{Z=I(!0,H)}finally{Z?ee():(L=!1,I=null)}}else L=!1}var ee;if(typeof _=="function")ee=function(){_(W)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Q=D.port2;D.port1.onmessage=W,ee=function(){Q.postMessage(null)}}else ee=function(){b(W,0)};function ae(H){I=H,L||(L=!0,ee())}function oe(H,Z){E=b(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){j||k||(j=!0,ae(A))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(H){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var X=x;x=Z;try{return H()}finally{x=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=x;x=H;try{return Z()}finally{x=X}},t.unstable_scheduleCallback=function(H,Z,X){var U=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?U+X:U):X=U,H){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=X+q,H={id:f++,callback:Z,priorityLevel:H,startTime:X,expirationTime:q,sortIndex:-1},X>U?(H.sortIndex=X,e(m,H),r(h)===null&&H===r(m)&&(N?(C(E),E=-1):N=!0,oe(P,X-U))):(H.sortIndex=q,e(h,H),j||k||(j=!0,ae(A))),H},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(H){var Z=x;return function(){var X=x;x=Z;try{return H.apply(this,arguments)}finally{x=X}}}})(cw)),cw}var uw;function D5(){return uw||(uw=1,lw.exports=O5()),lw.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var hw;function L5(){if(hw)return sr;hw=1;var t=Th(),e=D5();function r(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function l(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(a[s]=o,s=0;s<o.length;s++)n.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function x(s){return h.call(g,s)?!0:h.call(f,s)?!1:m.test(s)?g[s]=!0:(f[s]=!0,!1)}function k(s,o,d,p){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,o,d,p){if(o===null||typeof o>"u"||k(s,o,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(s,o,d,p,v,w,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=d,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=S}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new N(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function _(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(C,_);b[o]=new N(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(C,_);b[o]=new N(o,1,!1,s,"https://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(C,_);b[o]=new N(o,1,!1,s,"https://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","https://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,o,d,p){var v=b.hasOwnProperty(o)?b[o]:null;(v!==null?v.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(j(o,d,v,p)&&(d=null),p||v===null?x(o)&&(d===null?s.removeAttribute(o):s.setAttribute(o,""+d)):v.mustUseProperty?s[v.propertyName]=d===null?v.type===3?!1:"":d:(o=v.attributeName,p=v.attributeNamespace,d===null?s.removeAttribute(o):(v=v.type,d=v===3||v===4&&d===!0?"":""+d,p?s.setAttributeNS(p,o,d):s.setAttribute(o,d))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),L=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),G=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),H=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var X=Object.assign,U;function q(s){if(U===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+s}var ue=!1;function be(s,o){if(!s||ue)return"";ue=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var p=K}Reflect.construct(s,[],o)}else{try{o.call()}catch(K){p=K}s.call(o.prototype)}else{try{throw Error()}catch(K){p=K}s()}}catch(K){if(K&&p&&typeof K.stack=="string"){for(var v=K.stack.split(`
`),w=p.stack.split(`
`),S=v.length-1,O=w.length-1;1<=S&&0<=O&&v[S]!==w[O];)O--;for(;1<=S&&0<=O;S--,O--)if(v[S]!==w[O]){if(S!==1||O!==1)do if(S--,O--,0>O||v[S]!==w[O]){var F=`
`+v[S].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=S&&0<=O);break}}}finally{ue=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?q(s):""}function Ee(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function Me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case L:return"Portal";case R:return"Profiler";case E:return"StrictMode";case ee:return"Suspense";case D:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case G:return(s.displayName||"Context")+".Consumer";case z:return(s._context.displayName||"Context")+".Provider";case W:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Q:return o=s.displayName||null,o!==null?o:Me(s.type)||"Memo";case ae:o=s._payload,s=s._init;try{return Me(s(o))}catch{}}return null}function He(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function _t(s){var o=Fe(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,w=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(S){p=""+S,w.call(this,S)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ya(s){s._valueTracker||(s._valueTracker=_t(s))}function Lc(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return s&&(p=Fe(s)?s.checked?"true":"false":s.value),s=p,s!==d?(o.setValue(s),!0):!1}function ln(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function To(s,o){var d=o.checked;return X({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function Mc(s,o){var d=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;d=$e(o.value!=null?o.value:d),s._wrapperState={initialChecked:p,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Fc(s,o){o=o.checked,o!=null&&T(s,"checked",o,!1)}function _o(s,o){Fc(s,o);var d=$e(o.value),p=o.type;if(d!=null)p==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?us(s,o.type,d):o.hasOwnProperty("defaultValue")&&us(s,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function zc(s,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,d||o===s.value||(s.value=o),s.defaultValue=o}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function us(s,o,d){(o!=="number"||ln(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var Po=Array.isArray;function Ja(s,o,d,p){if(s=s.options,o){o={};for(var v=0;v<d.length;v++)o["$"+d[v]]=!0;for(d=0;d<s.length;d++)v=o.hasOwnProperty("$"+s[d].value),s[d].selected!==v&&(s[d].selected=v),v&&p&&(s[d].defaultSelected=!0)}else{for(d=""+$e(d),o=null,v=0;v<s.length;v++){if(s[v].value===d){s[v].selected=!0,p&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function vp(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return X({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function cy(s,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(r(92));if(Po(d)){if(1<d.length)throw Error(r(93));d=d[0]}o=d}o==null&&(o=""),d=o}s._wrapperState={initialValue:$e(d)}}function dy(s,o){var d=$e(o.value),p=$e(o.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),o.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),p!=null&&(s.defaultValue=""+p)}function uy(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function hy(s){switch(s){case"svg":return"https://www.w3.org/2000/svg";case"math":return"https://www.w3.org/1998/Math/MathML";default:return"https://www.w3.org/1999/xhtml"}}function yp(s,o){return s==null||s==="https://www.w3.org/1999/xhtml"?hy(o):s==="https://www.w3.org/2000/svg"&&o==="foreignObject"?"https://www.w3.org/1999/xhtml":s}var Uc,py=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,p,v){MSApp.execUnsafeLocalFunction(function(){return s(o,d,p,v)})}:s})(function(s,o){if(s.namespaceURI!=="https://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Uc=Uc||document.createElement("div"),Uc.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Uc.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Ro(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var Ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PP=["Webkit","ms","Moz","O"];Object.keys(Ao).forEach(function(s){PP.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ao[o]=Ao[s]})});function my(s,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||Ao.hasOwnProperty(s)&&Ao[s]?(""+o).trim():o+"px"}function fy(s,o){s=s.style;for(var d in o)if(o.hasOwnProperty(d)){var p=d.indexOf("--")===0,v=my(d,o[d],p);d==="float"&&(d="cssFloat"),p?s.setProperty(d,v):s[d]=v}}var RP=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xp(s,o){if(o){if(RP[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function bp(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wp=null;function Np(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var kp=null,ei=null,ti=null;function gy(s){if(s=el(s)){if(typeof kp!="function")throw Error(r(280));var o=s.stateNode;o&&(o=cd(o),kp(s.stateNode,s.type,o))}}function vy(s){ei?ti?ti.push(s):ti=[s]:ei=s}function yy(){if(ei){var s=ei,o=ti;if(ti=ei=null,gy(s),o)for(s=0;s<o.length;s++)gy(o[s])}}function xy(s,o){return s(o)}function by(){}var jp=!1;function wy(s,o,d){if(jp)return s(o,d);jp=!0;try{return xy(s,o,d)}finally{jp=!1,(ei!==null||ti!==null)&&(by(),yy())}}function Io(s,o){var d=s.stateNode;if(d===null)return null;var p=cd(d);if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var Sp=!1;if(u)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Sp=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Sp=!1}function AP(s,o,d,p,v,w,S,O,F){var K=Array.prototype.slice.call(arguments,3);try{o.apply(d,K)}catch(J){this.onError(J)}}var Do=!1,$c=null,Vc=!1,Cp=null,IP={onError:function(s){Do=!0,$c=s}};function OP(s,o,d,p,v,w,S,O,F){Do=!1,$c=null,AP.apply(IP,arguments)}function DP(s,o,d,p,v,w,S,O,F){if(OP.apply(this,arguments),Do){if(Do){var K=$c;Do=!1,$c=null}else throw Error(r(198));Vc||(Vc=!0,Cp=K)}}function aa(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function Ny(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function ky(s){if(aa(s)!==s)throw Error(r(188))}function LP(s){var o=s.alternate;if(!o){if(o=aa(s),o===null)throw Error(r(188));return o!==s?null:s}for(var d=s,p=o;;){var v=d.return;if(v===null)break;var w=v.alternate;if(w===null){if(p=v.return,p!==null){d=p;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===d)return ky(v),s;if(w===p)return ky(v),o;w=w.sibling}throw Error(r(188))}if(d.return!==p.return)d=v,p=w;else{for(var S=!1,O=v.child;O;){if(O===d){S=!0,d=v,p=w;break}if(O===p){S=!0,p=v,d=w;break}O=O.sibling}if(!S){for(O=w.child;O;){if(O===d){S=!0,d=w,p=v;break}if(O===p){S=!0,p=w,d=v;break}O=O.sibling}if(!S)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:o}function jy(s){return s=LP(s),s!==null?Sy(s):null}function Sy(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Sy(s);if(o!==null)return o;s=s.sibling}return null}var Cy=e.unstable_scheduleCallback,Ey=e.unstable_cancelCallback,MP=e.unstable_shouldYield,FP=e.unstable_requestPaint,pt=e.unstable_now,zP=e.unstable_getCurrentPriorityLevel,Ep=e.unstable_ImmediatePriority,Ty=e.unstable_UserBlockingPriority,Wc=e.unstable_NormalPriority,UP=e.unstable_LowPriority,_y=e.unstable_IdlePriority,Bc=null,cn=null;function $P(s){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Bc,s,void 0,(s.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:BP,VP=Math.log,WP=Math.LN2;function BP(s){return s>>>=0,s===0?32:31-(VP(s)/WP|0)|0}var Hc=64,qc=4194304;function Lo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Kc(s,o){var d=s.pendingLanes;if(d===0)return 0;var p=0,v=s.suspendedLanes,w=s.pingedLanes,S=d&268435455;if(S!==0){var O=S&~v;O!==0?p=Lo(O):(w&=S,w!==0&&(p=Lo(w)))}else S=d&~v,S!==0?p=Lo(S):w!==0&&(p=Lo(w));if(p===0)return 0;if(o!==0&&o!==p&&(o&v)===0&&(v=p&-p,w=o&-o,v>=w||v===16&&(w&4194240)!==0))return o;if((p&4)!==0&&(p|=d&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)d=31-Ur(o),v=1<<d,p|=s[d],o&=~v;return p}function HP(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qP(s,o){for(var d=s.suspendedLanes,p=s.pingedLanes,v=s.expirationTimes,w=s.pendingLanes;0<w;){var S=31-Ur(w),O=1<<S,F=v[S];F===-1?((O&d)===0||(O&p)!==0)&&(v[S]=HP(O,o)):F<=o&&(s.expiredLanes|=O),w&=~O}}function Tp(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Py(){var s=Hc;return Hc<<=1,(Hc&4194240)===0&&(Hc=64),s}function _p(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function Mo(s,o,d){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Ur(o),s[o]=d}function KP(s,o){var d=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<d;){var v=31-Ur(d),w=1<<v;o[v]=0,p[v]=-1,s[v]=-1,d&=~w}}function Pp(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var p=31-Ur(d),v=1<<p;v&o|s[p]&o&&(s[p]|=o),d&=~v}}var Ye=0;function Ry(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ay,Rp,Iy,Oy,Dy,Ap=!1,Gc=[],hs=null,ps=null,ms=null,Fo=new Map,zo=new Map,fs=[],GP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ly(s,o){switch(s){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Fo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(o.pointerId)}}function Uo(s,o,d,p,v,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:w,targetContainers:[v]},o!==null&&(o=el(o),o!==null&&Rp(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function ZP(s,o,d,p,v){switch(o){case"focusin":return hs=Uo(hs,s,o,d,p,v),!0;case"dragenter":return ps=Uo(ps,s,o,d,p,v),!0;case"mouseover":return ms=Uo(ms,s,o,d,p,v),!0;case"pointerover":var w=v.pointerId;return Fo.set(w,Uo(Fo.get(w)||null,s,o,d,p,v)),!0;case"gotpointercapture":return w=v.pointerId,zo.set(w,Uo(zo.get(w)||null,s,o,d,p,v)),!0}return!1}function My(s){var o=ia(s.target);if(o!==null){var d=aa(o);if(d!==null){if(o=d.tag,o===13){if(o=Ny(d),o!==null){s.blockedOn=o,Dy(s.priority,function(){Iy(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zc(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=Op(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var p=new d.constructor(d.type,d);wp=p,d.target.dispatchEvent(p),wp=null}else return o=el(d),o!==null&&Rp(o),s.blockedOn=d,!1;o.shift()}return!0}function Fy(s,o,d){Zc(s)&&d.delete(o)}function QP(){Ap=!1,hs!==null&&Zc(hs)&&(hs=null),ps!==null&&Zc(ps)&&(ps=null),ms!==null&&Zc(ms)&&(ms=null),Fo.forEach(Fy),zo.forEach(Fy)}function $o(s,o){s.blockedOn===o&&(s.blockedOn=null,Ap||(Ap=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,QP)))}function Vo(s){function o(v){return $o(v,s)}if(0<Gc.length){$o(Gc[0],s);for(var d=1;d<Gc.length;d++){var p=Gc[d];p.blockedOn===s&&(p.blockedOn=null)}}for(hs!==null&&$o(hs,s),ps!==null&&$o(ps,s),ms!==null&&$o(ms,s),Fo.forEach(o),zo.forEach(o),d=0;d<fs.length;d++)p=fs[d],p.blockedOn===s&&(p.blockedOn=null);for(;0<fs.length&&(d=fs[0],d.blockedOn===null);)My(d),d.blockedOn===null&&fs.shift()}var ri=P.ReactCurrentBatchConfig,Qc=!0;function XP(s,o,d,p){var v=Ye,w=ri.transition;ri.transition=null;try{Ye=1,Ip(s,o,d,p)}finally{Ye=v,ri.transition=w}}function YP(s,o,d,p){var v=Ye,w=ri.transition;ri.transition=null;try{Ye=4,Ip(s,o,d,p)}finally{Ye=v,ri.transition=w}}function Ip(s,o,d,p){if(Qc){var v=Op(s,o,d,p);if(v===null)Xp(s,o,p,Xc,d),Ly(s,p);else if(ZP(v,s,o,d,p))p.stopPropagation();else if(Ly(s,p),o&4&&-1<GP.indexOf(s)){for(;v!==null;){var w=el(v);if(w!==null&&Ay(w),w=Op(s,o,d,p),w===null&&Xp(s,o,p,Xc,d),w===v)break;v=w}v!==null&&p.stopPropagation()}else Xp(s,o,p,null,d)}}var Xc=null;function Op(s,o,d,p){if(Xc=null,s=Np(p),s=ia(s),s!==null)if(o=aa(s),o===null)s=null;else if(d=o.tag,d===13){if(s=Ny(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Xc=s,null}function zy(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zP()){case Ep:return 1;case Ty:return 4;case Wc:case UP:return 16;case _y:return 536870912;default:return 16}default:return 16}}var gs=null,Dp=null,Yc=null;function Uy(){if(Yc)return Yc;var s,o=Dp,d=o.length,p,v="value"in gs?gs.value:gs.textContent,w=v.length;for(s=0;s<d&&o[s]===v[s];s++);var S=d-s;for(p=1;p<=S&&o[d-p]===v[w-p];p++);return Yc=v.slice(s,1<p?1-p:void 0)}function Jc(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ed(){return!0}function $y(){return!1}function cr(s){function o(d,p,v,w,S){this._reactName=d,this._targetInst=v,this.type=p,this.nativeEvent=w,this.target=S,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(d=s[O],this[O]=d?d(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ed:$y,this.isPropagationStopped=$y,this}return X(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),o}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lp=cr(ni),Wo=X({},ni,{view:0,detail:0}),JP=cr(Wo),Mp,Fp,Bo,td=X({},Wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Up,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Bo&&(Bo&&s.type==="mousemove"?(Mp=s.screenX-Bo.screenX,Fp=s.screenY-Bo.screenY):Fp=Mp=0,Bo=s),Mp)},movementY:function(s){return"movementY"in s?s.movementY:Fp}}),Vy=cr(td),e4=X({},td,{dataTransfer:0}),t4=cr(e4),r4=X({},Wo,{relatedTarget:0}),zp=cr(r4),n4=X({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),s4=cr(n4),a4=X({},ni,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),i4=cr(a4),o4=X({},ni,{data:0}),Wy=cr(o4),l4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u4(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=d4[s])?!!o[s]:!1}function Up(){return u4}var h4=X({},Wo,{key:function(s){if(s.key){var o=l4[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Jc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?c4[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Up,charCode:function(s){return s.type==="keypress"?Jc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Jc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),p4=cr(h4),m4=X({},td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),By=cr(m4),f4=X({},Wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Up}),g4=cr(f4),v4=X({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),y4=cr(v4),x4=X({},td,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),b4=cr(x4),w4=[9,13,27,32],$p=u&&"CompositionEvent"in window,Ho=null;u&&"documentMode"in document&&(Ho=document.documentMode);var N4=u&&"TextEvent"in window&&!Ho,Hy=u&&(!$p||Ho&&8<Ho&&11>=Ho),qy=" ",Ky=!1;function Gy(s,o){switch(s){case"keyup":return w4.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var si=!1;function k4(s,o){switch(s){case"compositionend":return Zy(o);case"keypress":return o.which!==32?null:(Ky=!0,qy);case"textInput":return s=o.data,s===qy&&Ky?null:s;default:return null}}function j4(s,o){if(si)return s==="compositionend"||!$p&&Gy(s,o)?(s=Uy(),Yc=Dp=gs=null,si=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Hy&&o.locale!=="ko"?null:o.data;default:return null}}var S4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!S4[s.type]:o==="textarea"}function Xy(s,o,d,p){vy(p),o=id(o,"onChange"),0<o.length&&(d=new Lp("onChange","change",null,d,p),s.push({event:d,listeners:o}))}var qo=null,Ko=null;function C4(s){fx(s,0)}function rd(s){var o=ci(s);if(Lc(o))return s}function E4(s,o){if(s==="change")return o}var Yy=!1;if(u){var Vp;if(u){var Wp="oninput"in document;if(!Wp){var Jy=document.createElement("div");Jy.setAttribute("oninput","return;"),Wp=typeof Jy.oninput=="function"}Vp=Wp}else Vp=!1;Yy=Vp&&(!document.documentMode||9<document.documentMode)}function ex(){qo&&(qo.detachEvent("onpropertychange",tx),Ko=qo=null)}function tx(s){if(s.propertyName==="value"&&rd(Ko)){var o=[];Xy(o,Ko,s,Np(s)),wy(C4,o)}}function T4(s,o,d){s==="focusin"?(ex(),qo=o,Ko=d,qo.attachEvent("onpropertychange",tx)):s==="focusout"&&ex()}function _4(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return rd(Ko)}function P4(s,o){if(s==="click")return rd(o)}function R4(s,o){if(s==="input"||s==="change")return rd(o)}function A4(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var $r=typeof Object.is=="function"?Object.is:A4;function Go(s,o){if($r(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var v=d[p];if(!h.call(o,v)||!$r(s[v],o[v]))return!1}return!0}function rx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nx(s,o){var d=rx(s);s=0;for(var p;d;){if(d.nodeType===3){if(p=s+d.textContent.length,s<=o&&p>=o)return{node:d,offset:o-s};s=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=rx(d)}}function sx(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?sx(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function ax(){for(var s=window,o=ln();o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=ln(s.document)}return o}function Bp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function I4(s){var o=ax(),d=s.focusedElem,p=s.selectionRange;if(o!==d&&d&&d.ownerDocument&&sx(d.ownerDocument.documentElement,d)){if(p!==null&&Bp(d)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(s,d.value.length);else if(s=(o=d.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var v=d.textContent.length,w=Math.min(p.start,v);p=p.end===void 0?w:Math.min(p.end,v),!s.extend&&w>p&&(v=p,p=w,w=v),v=nx(d,w);var S=nx(d,p);v&&S&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),s.removeAllRanges(),w>p?(s.addRange(o),s.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),s.addRange(o)))}}for(o=[],s=d;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)s=o[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var O4=u&&"documentMode"in document&&11>=document.documentMode,ai=null,Hp=null,Zo=null,qp=!1;function ix(s,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;qp||ai==null||ai!==ln(p)||(p=ai,"selectionStart"in p&&Bp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Zo&&Go(Zo,p)||(Zo=p,p=id(Hp,"onSelect"),0<p.length&&(o=new Lp("onSelect","select",null,o,d),s.push({event:o,listeners:p}),o.target=ai)))}function nd(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var ii={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionend:nd("Transition","TransitionEnd")},Kp={},ox={};u&&(ox=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function sd(s){if(Kp[s])return Kp[s];if(!ii[s])return s;var o=ii[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in ox)return Kp[s]=o[d];return s}var lx=sd("animationend"),cx=sd("animationiteration"),dx=sd("animationstart"),ux=sd("transitionend"),hx=new Map,px="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(s,o){hx.set(s,o),l(o,[s])}for(var Gp=0;Gp<px.length;Gp++){var Zp=px[Gp],D4=Zp.toLowerCase(),L4=Zp[0].toUpperCase()+Zp.slice(1);vs(D4,"on"+L4)}vs(lx,"onAnimationEnd"),vs(cx,"onAnimationIteration"),vs(dx,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(ux,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function mx(s,o,d){var p=s.type||"unknown-event";s.currentTarget=d,DP(p,o,void 0,s),s.currentTarget=null}function fx(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var p=s[d],v=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var S=p.length-1;0<=S;S--){var O=p[S],F=O.instance,K=O.currentTarget;if(O=O.listener,F!==w&&v.isPropagationStopped())break e;mx(v,O,K),w=F}else for(S=0;S<p.length;S++){if(O=p[S],F=O.instance,K=O.currentTarget,O=O.listener,F!==w&&v.isPropagationStopped())break e;mx(v,O,K),w=F}}}if(Vc)throw s=Cp,Vc=!1,Cp=null,s}function tt(s,o){var d=o[nm];d===void 0&&(d=o[nm]=new Set);var p=s+"__bubble";d.has(p)||(gx(o,s,2,!1),d.add(p))}function Qp(s,o,d){var p=0;o&&(p|=4),gx(d,s,p,o)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Xo(s){if(!s[ad]){s[ad]=!0,n.forEach(function(d){d!=="selectionchange"&&(M4.has(d)||Qp(d,!1,s),Qp(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[ad]||(o[ad]=!0,Qp("selectionchange",!1,o))}}function gx(s,o,d,p){switch(zy(o)){case 1:var v=XP;break;case 4:v=YP;break;default:v=Ip}d=v.bind(null,o,d,s),v=void 0,!Sp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?s.addEventListener(o,d,{capture:!0,passive:v}):s.addEventListener(o,d,!0):v!==void 0?s.addEventListener(o,d,{passive:v}):s.addEventListener(o,d,!1)}function Xp(s,o,d,p,v){var w=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var O=p.stateNode.containerInfo;if(O===v||O.nodeType===8&&O.parentNode===v)break;if(S===4)for(S=p.return;S!==null;){var F=S.tag;if((F===3||F===4)&&(F=S.stateNode.containerInfo,F===v||F.nodeType===8&&F.parentNode===v))return;S=S.return}for(;O!==null;){if(S=ia(O),S===null)return;if(F=S.tag,F===5||F===6){p=w=S;continue e}O=O.parentNode}}p=p.return}wy(function(){var K=w,J=Np(d),te=[];e:{var Y=hx.get(s);if(Y!==void 0){var de=Lp,fe=s;switch(s){case"keypress":if(Jc(d)===0)break e;case"keydown":case"keyup":de=p4;break;case"focusin":fe="focus",de=zp;break;case"focusout":fe="blur",de=zp;break;case"beforeblur":case"afterblur":de=zp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=t4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=g4;break;case lx:case cx:case dx:de=s4;break;case ux:de=y4;break;case"scroll":de=JP;break;case"wheel":de=b4;break;case"copy":case"cut":case"paste":de=i4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=By}var ve=(o&4)!==0,mt=!ve&&s==="scroll",V=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var $=K,B;$!==null;){B=$;var ne=B.stateNode;if(B.tag===5&&ne!==null&&(B=ne,V!==null&&(ne=Io($,V),ne!=null&&ve.push(Yo($,ne,B)))),mt)break;$=$.return}0<ve.length&&(Y=new de(Y,fe,null,d,J),te.push({event:Y,listeners:ve}))}}if((o&7)===0){e:{if(Y=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",Y&&d!==wp&&(fe=d.relatedTarget||d.fromElement)&&(ia(fe)||fe[Mn]))break e;if((de||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,de?(fe=d.relatedTarget||d.toElement,de=K,fe=fe?ia(fe):null,fe!==null&&(mt=aa(fe),fe!==mt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(de=null,fe=K),de!==fe)){if(ve=Vy,ne="onMouseLeave",V="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(ve=By,ne="onPointerLeave",V="onPointerEnter",$="pointer"),mt=de==null?Y:ci(de),B=fe==null?Y:ci(fe),Y=new ve(ne,$+"leave",de,d,J),Y.target=mt,Y.relatedTarget=B,ne=null,ia(J)===K&&(ve=new ve(V,$+"enter",fe,d,J),ve.target=B,ve.relatedTarget=mt,ne=ve),mt=ne,de&&fe)t:{for(ve=de,V=fe,$=0,B=ve;B;B=oi(B))$++;for(B=0,ne=V;ne;ne=oi(ne))B++;for(;0<$-B;)ve=oi(ve),$--;for(;0<B-$;)V=oi(V),B--;for(;$--;){if(ve===V||V!==null&&ve===V.alternate)break t;ve=oi(ve),V=oi(V)}ve=null}else ve=null;de!==null&&vx(te,Y,de,ve,!1),fe!==null&&mt!==null&&vx(te,mt,fe,ve,!0)}}e:{if(Y=K?ci(K):window,de=Y.nodeName&&Y.nodeName.toLowerCase(),de==="select"||de==="input"&&Y.type==="file")var xe=E4;else if(Qy(Y))if(Yy)xe=R4;else{xe=_4;var ke=T4}else(de=Y.nodeName)&&de.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(xe=P4);if(xe&&(xe=xe(s,K))){Xy(te,xe,d,J);break e}ke&&ke(s,Y,K),s==="focusout"&&(ke=Y._wrapperState)&&ke.controlled&&Y.type==="number"&&us(Y,"number",Y.value)}switch(ke=K?ci(K):window,s){case"focusin":(Qy(ke)||ke.contentEditable==="true")&&(ai=ke,Hp=K,Zo=null);break;case"focusout":Zo=Hp=ai=null;break;case"mousedown":qp=!0;break;case"contextmenu":case"mouseup":case"dragend":qp=!1,ix(te,d,J);break;case"selectionchange":if(O4)break;case"keydown":case"keyup":ix(te,d,J)}var je;if($p)e:{switch(s){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else si?Gy(s,d)&&(Te="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Te="onCompositionStart");Te&&(Hy&&d.locale!=="ko"&&(si||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&si&&(je=Uy()):(gs=J,Dp="value"in gs?gs.value:gs.textContent,si=!0)),ke=id(K,Te),0<ke.length&&(Te=new Wy(Te,s,null,d,J),te.push({event:Te,listeners:ke}),je?Te.data=je:(je=Zy(d),je!==null&&(Te.data=je)))),(je=N4?k4(s,d):j4(s,d))&&(K=id(K,"onBeforeInput"),0<K.length&&(J=new Wy("onBeforeInput","beforeinput",null,d,J),te.push({event:J,listeners:K}),J.data=je))}fx(te,o)})}function Yo(s,o,d){return{instance:s,listener:o,currentTarget:d}}function id(s,o){for(var d=o+"Capture",p=[];s!==null;){var v=s,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=Io(s,d),w!=null&&p.unshift(Yo(s,w,v)),w=Io(s,o),w!=null&&p.push(Yo(s,w,v))),s=s.return}return p}function oi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function vx(s,o,d,p,v){for(var w=o._reactName,S=[];d!==null&&d!==p;){var O=d,F=O.alternate,K=O.stateNode;if(F!==null&&F===p)break;O.tag===5&&K!==null&&(O=K,v?(F=Io(d,w),F!=null&&S.unshift(Yo(d,F,O))):v||(F=Io(d,w),F!=null&&S.push(Yo(d,F,O)))),d=d.return}S.length!==0&&s.push({event:o,listeners:S})}var F4=/\r\n?/g,z4=/\u0000|\uFFFD/g;function yx(s){return(typeof s=="string"?s:""+s).replace(F4,`
`).replace(z4,"")}function od(s,o,d){if(o=yx(o),yx(s)!==o&&d)throw Error(r(425))}function ld(){}var Yp=null,Jp=null;function em(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var tm=typeof setTimeout=="function"?setTimeout:void 0,U4=typeof clearTimeout=="function"?clearTimeout:void 0,xx=typeof Promise=="function"?Promise:void 0,$4=typeof queueMicrotask=="function"?queueMicrotask:typeof xx<"u"?function(s){return xx.resolve(null).then(s).catch(V4)}:tm;function V4(s){setTimeout(function(){throw s})}function rm(s,o){var d=o,p=0;do{var v=d.nextSibling;if(s.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(p===0){s.removeChild(v),Vo(o);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=v}while(d);Vo(o)}function ys(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function bx(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return s;o--}else d==="/$"&&o++}s=s.previousSibling}return null}var li=Math.random().toString(36).slice(2),dn="__reactFiber$"+li,Jo="__reactProps$"+li,Mn="__reactContainer$"+li,nm="__reactEvents$"+li,W4="__reactListeners$"+li,B4="__reactHandles$"+li;function ia(s){var o=s[dn];if(o)return o;for(var d=s.parentNode;d;){if(o=d[Mn]||d[dn]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=bx(s);s!==null;){if(d=s[dn])return d;s=bx(s)}return o}s=d,d=s.parentNode}return null}function el(s){return s=s[dn]||s[Mn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ci(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function cd(s){return s[Jo]||null}var sm=[],di=-1;function xs(s){return{current:s}}function rt(s){0>di||(s.current=sm[di],sm[di]=null,di--)}function et(s,o){di++,sm[di]=s.current,s.current=o}var bs={},Mt=xs(bs),Jt=xs(!1),oa=bs;function ui(s,o){var d=s.type.contextTypes;if(!d)return bs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in d)v[w]=o[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=v),v}function er(s){return s=s.childContextTypes,s!=null}function dd(){rt(Jt),rt(Mt)}function wx(s,o,d){if(Mt.current!==bs)throw Error(r(168));et(Mt,o),et(Jt,d)}function Nx(s,o,d){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var v in p)if(!(v in o))throw Error(r(108,He(s)||"Unknown",v));return X({},d,p)}function ud(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||bs,oa=Mt.current,et(Mt,s),et(Jt,Jt.current),!0}function kx(s,o,d){var p=s.stateNode;if(!p)throw Error(r(169));d?(s=Nx(s,o,oa),p.__reactInternalMemoizedMergedChildContext=s,rt(Jt),rt(Mt),et(Mt,s)):rt(Jt),et(Jt,d)}var Fn=null,hd=!1,am=!1;function jx(s){Fn===null?Fn=[s]:Fn.push(s)}function H4(s){hd=!0,jx(s)}function ws(){if(!am&&Fn!==null){am=!0;var s=0,o=Ye;try{var d=Fn;for(Ye=1;s<d.length;s++){var p=d[s];do p=p(!0);while(p!==null)}Fn=null,hd=!1}catch(v){throw Fn!==null&&(Fn=Fn.slice(s+1)),Cy(Ep,ws),v}finally{Ye=o,am=!1}}return null}var hi=[],pi=0,pd=null,md=0,wr=[],Nr=0,la=null,zn=1,Un="";function ca(s,o){hi[pi++]=md,hi[pi++]=pd,pd=s,md=o}function Sx(s,o,d){wr[Nr++]=zn,wr[Nr++]=Un,wr[Nr++]=la,la=s;var p=zn;s=Un;var v=32-Ur(p)-1;p&=~(1<<v),d+=1;var w=32-Ur(o)+v;if(30<w){var S=v-v%5;w=(p&(1<<S)-1).toString(32),p>>=S,v-=S,zn=1<<32-Ur(o)+v|d<<v|p,Un=w+s}else zn=1<<w|d<<v|p,Un=s}function im(s){s.return!==null&&(ca(s,1),Sx(s,1,0))}function om(s){for(;s===pd;)pd=hi[--pi],hi[pi]=null,md=hi[--pi],hi[pi]=null;for(;s===la;)la=wr[--Nr],wr[Nr]=null,Un=wr[--Nr],wr[Nr]=null,zn=wr[--Nr],wr[Nr]=null}var dr=null,ur=null,at=!1,Vr=null;function Cx(s,o){var d=Cr(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=s,o=s.deletions,o===null?(s.deletions=[d],s.flags|=16):o.push(d)}function Ex(s,o){switch(s.tag){case 5:var d=s.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,dr=s,ur=ys(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,dr=s,ur=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=la!==null?{id:zn,overflow:Un}:null,s.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=Cr(18,null,null,0),d.stateNode=o,d.return=s,s.child=d,dr=s,ur=null,!0):!1;default:return!1}}function lm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function cm(s){if(at){var o=ur;if(o){var d=o;if(!Ex(s,o)){if(lm(s))throw Error(r(418));o=ys(d.nextSibling);var p=dr;o&&Ex(s,o)?Cx(p,d):(s.flags=s.flags&-4097|2,at=!1,dr=s)}}else{if(lm(s))throw Error(r(418));s.flags=s.flags&-4097|2,at=!1,dr=s}}}function Tx(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;dr=s}function fd(s){if(s!==dr)return!1;if(!at)return Tx(s),at=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!em(s.type,s.memoizedProps)),o&&(o=ur)){if(lm(s))throw _x(),Error(r(418));for(;o;)Cx(s,o),o=ys(o.nextSibling)}if(Tx(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(o===0){ur=ys(s.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}s=s.nextSibling}ur=null}}else ur=dr?ys(s.stateNode.nextSibling):null;return!0}function _x(){for(var s=ur;s;)s=ys(s.nextSibling)}function mi(){ur=dr=null,at=!1}function dm(s){Vr===null?Vr=[s]:Vr.push(s)}var q4=P.ReactCurrentBatchConfig;function tl(s,o,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var p=d.stateNode}if(!p)throw Error(r(147,s));var v=p,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(S){var O=v.refs;S===null?delete O[w]:O[w]=S},o._stringRef=w,o)}if(typeof s!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,s))}return s}function gd(s,o){throw s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Px(s){var o=s._init;return o(s._payload)}function Rx(s){function o(V,$){if(s){var B=V.deletions;B===null?(V.deletions=[$],V.flags|=16):B.push($)}}function d(V,$){if(!s)return null;for(;$!==null;)o(V,$),$=$.sibling;return null}function p(V,$){for(V=new Map;$!==null;)$.key!==null?V.set($.key,$):V.set($.index,$),$=$.sibling;return V}function v(V,$){return V=_s(V,$),V.index=0,V.sibling=null,V}function w(V,$,B){return V.index=B,s?(B=V.alternate,B!==null?(B=B.index,B<$?(V.flags|=2,$):B):(V.flags|=2,$)):(V.flags|=1048576,$)}function S(V){return s&&V.alternate===null&&(V.flags|=2),V}function O(V,$,B,ne){return $===null||$.tag!==6?($=ef(B,V.mode,ne),$.return=V,$):($=v($,B),$.return=V,$)}function F(V,$,B,ne){var xe=B.type;return xe===I?J(V,$,B.props.children,ne,B.key):$!==null&&($.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ae&&Px(xe)===$.type)?(ne=v($,B.props),ne.ref=tl(V,$,B),ne.return=V,ne):(ne=Ud(B.type,B.key,B.props,null,V.mode,ne),ne.ref=tl(V,$,B),ne.return=V,ne)}function K(V,$,B,ne){return $===null||$.tag!==4||$.stateNode.containerInfo!==B.containerInfo||$.stateNode.implementation!==B.implementation?($=tf(B,V.mode,ne),$.return=V,$):($=v($,B.children||[]),$.return=V,$)}function J(V,$,B,ne,xe){return $===null||$.tag!==7?($=va(B,V.mode,ne,xe),$.return=V,$):($=v($,B),$.return=V,$)}function te(V,$,B){if(typeof $=="string"&&$!==""||typeof $=="number")return $=ef(""+$,V.mode,B),$.return=V,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return B=Ud($.type,$.key,$.props,null,V.mode,B),B.ref=tl(V,null,$),B.return=V,B;case L:return $=tf($,V.mode,B),$.return=V,$;case ae:var ne=$._init;return te(V,ne($._payload),B)}if(Po($)||Z($))return $=va($,V.mode,B,null),$.return=V,$;gd(V,$)}return null}function Y(V,$,B,ne){var xe=$!==null?$.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return xe!==null?null:O(V,$,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===xe?F(V,$,B,ne):null;case L:return B.key===xe?K(V,$,B,ne):null;case ae:return xe=B._init,Y(V,$,xe(B._payload),ne)}if(Po(B)||Z(B))return xe!==null?null:J(V,$,B,ne,null);gd(V,B)}return null}function de(V,$,B,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return V=V.get(B)||null,O($,V,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return V=V.get(ne.key===null?B:ne.key)||null,F($,V,ne,xe);case L:return V=V.get(ne.key===null?B:ne.key)||null,K($,V,ne,xe);case ae:var ke=ne._init;return de(V,$,B,ke(ne._payload),xe)}if(Po(ne)||Z(ne))return V=V.get(B)||null,J($,V,ne,xe,null);gd($,ne)}return null}function fe(V,$,B,ne){for(var xe=null,ke=null,je=$,Te=$=0,At=null;je!==null&&Te<B.length;Te++){je.index>Te?(At=je,je=null):At=je.sibling;var qe=Y(V,je,B[Te],ne);if(qe===null){je===null&&(je=At);break}s&&je&&qe.alternate===null&&o(V,je),$=w(qe,$,Te),ke===null?xe=qe:ke.sibling=qe,ke=qe,je=At}if(Te===B.length)return d(V,je),at&&ca(V,Te),xe;if(je===null){for(;Te<B.length;Te++)je=te(V,B[Te],ne),je!==null&&($=w(je,$,Te),ke===null?xe=je:ke.sibling=je,ke=je);return at&&ca(V,Te),xe}for(je=p(V,je);Te<B.length;Te++)At=de(je,V,Te,B[Te],ne),At!==null&&(s&&At.alternate!==null&&je.delete(At.key===null?Te:At.key),$=w(At,$,Te),ke===null?xe=At:ke.sibling=At,ke=At);return s&&je.forEach(function(Ps){return o(V,Ps)}),at&&ca(V,Te),xe}function ve(V,$,B,ne){var xe=Z(B);if(typeof xe!="function")throw Error(r(150));if(B=xe.call(B),B==null)throw Error(r(151));for(var ke=xe=null,je=$,Te=$=0,At=null,qe=B.next();je!==null&&!qe.done;Te++,qe=B.next()){je.index>Te?(At=je,je=null):At=je.sibling;var Ps=Y(V,je,qe.value,ne);if(Ps===null){je===null&&(je=At);break}s&&je&&Ps.alternate===null&&o(V,je),$=w(Ps,$,Te),ke===null?xe=Ps:ke.sibling=Ps,ke=Ps,je=At}if(qe.done)return d(V,je),at&&ca(V,Te),xe;if(je===null){for(;!qe.done;Te++,qe=B.next())qe=te(V,qe.value,ne),qe!==null&&($=w(qe,$,Te),ke===null?xe=qe:ke.sibling=qe,ke=qe);return at&&ca(V,Te),xe}for(je=p(V,je);!qe.done;Te++,qe=B.next())qe=de(je,V,Te,qe.value,ne),qe!==null&&(s&&qe.alternate!==null&&je.delete(qe.key===null?Te:qe.key),$=w(qe,$,Te),ke===null?xe=qe:ke.sibling=qe,ke=qe);return s&&je.forEach(function(S5){return o(V,S5)}),at&&ca(V,Te),xe}function mt(V,$,B,ne){if(typeof B=="object"&&B!==null&&B.type===I&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:e:{for(var xe=B.key,ke=$;ke!==null;){if(ke.key===xe){if(xe=B.type,xe===I){if(ke.tag===7){d(V,ke.sibling),$=v(ke,B.props.children),$.return=V,V=$;break e}}else if(ke.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ae&&Px(xe)===ke.type){d(V,ke.sibling),$=v(ke,B.props),$.ref=tl(V,ke,B),$.return=V,V=$;break e}d(V,ke);break}else o(V,ke);ke=ke.sibling}B.type===I?($=va(B.props.children,V.mode,ne,B.key),$.return=V,V=$):(ne=Ud(B.type,B.key,B.props,null,V.mode,ne),ne.ref=tl(V,$,B),ne.return=V,V=ne)}return S(V);case L:e:{for(ke=B.key;$!==null;){if($.key===ke)if($.tag===4&&$.stateNode.containerInfo===B.containerInfo&&$.stateNode.implementation===B.implementation){d(V,$.sibling),$=v($,B.children||[]),$.return=V,V=$;break e}else{d(V,$);break}else o(V,$);$=$.sibling}$=tf(B,V.mode,ne),$.return=V,V=$}return S(V);case ae:return ke=B._init,mt(V,$,ke(B._payload),ne)}if(Po(B))return fe(V,$,B,ne);if(Z(B))return ve(V,$,B,ne);gd(V,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,$!==null&&$.tag===6?(d(V,$.sibling),$=v($,B),$.return=V,V=$):(d(V,$),$=ef(B,V.mode,ne),$.return=V,V=$),S(V)):d(V,$)}return mt}var fi=Rx(!0),Ax=Rx(!1),vd=xs(null),yd=null,gi=null,um=null;function hm(){um=gi=yd=null}function pm(s){var o=vd.current;rt(vd),s._currentValue=o}function mm(s,o,d){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===d)break;s=s.return}}function vi(s,o){yd=s,um=gi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(tr=!0),s.firstContext=null)}function kr(s){var o=s._currentValue;if(um!==s)if(s={context:s,memoizedValue:o,next:null},gi===null){if(yd===null)throw Error(r(308));gi=s,yd.dependencies={lanes:0,firstContext:s}}else gi=gi.next=s;return o}var da=null;function fm(s){da===null?da=[s]:da.push(s)}function Ix(s,o,d,p){var v=o.interleaved;return v===null?(d.next=d,fm(o)):(d.next=v.next,v.next=d),o.interleaved=d,$n(s,p)}function $n(s,o){s.lanes|=o;var d=s.alternate;for(d!==null&&(d.lanes|=o),d=s,s=s.return;s!==null;)s.childLanes|=o,d=s.alternate,d!==null&&(d.childLanes|=o),d=s,s=s.return;return d.tag===3?d.stateNode:null}var Ns=!1;function gm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ox(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Vn(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ks(s,o,d){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(We&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,$n(s,d)}return v=p.interleaved,v===null?(o.next=o,fm(p)):(o.next=v.next,v.next=o),p.interleaved=o,$n(s,d)}function xd(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,d|=p,o.lanes=d,Pp(s,d)}}function Dx(s,o){var d=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var v=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var S={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?v=w=S:w=w.next=S,d=d.next}while(d!==null);w===null?v=w=o:w=w.next=o}else v=w=o;d={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}function bd(s,o,d,p){var v=s.updateQueue;Ns=!1;var w=v.firstBaseUpdate,S=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var F=O,K=F.next;F.next=null,S===null?w=K:S.next=K,S=F;var J=s.alternate;J!==null&&(J=J.updateQueue,O=J.lastBaseUpdate,O!==S&&(O===null?J.firstBaseUpdate=K:O.next=K,J.lastBaseUpdate=F))}if(w!==null){var te=v.baseState;S=0,J=K=F=null,O=w;do{var Y=O.lane,de=O.eventTime;if((p&Y)===Y){J!==null&&(J=J.next={eventTime:de,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var fe=s,ve=O;switch(Y=o,de=d,ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){te=fe.call(de,te,Y);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,Y=typeof fe=="function"?fe.call(de,te,Y):fe,Y==null)break e;te=X({},te,Y);break e;case 2:Ns=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,Y=v.effects,Y===null?v.effects=[O]:Y.push(O))}else de={eventTime:de,lane:Y,tag:O.tag,payload:O.payload,callback:O.callback,next:null},J===null?(K=J=de,F=te):J=J.next=de,S|=Y;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;Y=O,O=Y.next,Y.next=null,v.lastBaseUpdate=Y,v.shared.pending=null}}while(!0);if(J===null&&(F=te),v.baseState=F,v.firstBaseUpdate=K,v.lastBaseUpdate=J,o=v.shared.interleaved,o!==null){v=o;do S|=v.lane,v=v.next;while(v!==o)}else w===null&&(v.shared.lanes=0);pa|=S,s.lanes=S,s.memoizedState=te}}function Lx(s,o,d){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],v=p.callback;if(v!==null){if(p.callback=null,p=d,typeof v!="function")throw Error(r(191,v));v.call(p)}}}var rl={},un=xs(rl),nl=xs(rl),sl=xs(rl);function ua(s){if(s===rl)throw Error(r(174));return s}function vm(s,o){switch(et(sl,o),et(nl,s),et(un,rl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:yp(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=yp(o,s)}rt(un),et(un,o)}function yi(){rt(un),rt(nl),rt(sl)}function Mx(s){ua(sl.current);var o=ua(un.current),d=yp(o,s.type);o!==d&&(et(nl,s),et(un,d))}function ym(s){nl.current===s&&(rt(un),rt(nl))}var it=xs(0);function wd(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xm=[];function bm(){for(var s=0;s<xm.length;s++)xm[s]._workInProgressVersionPrimary=null;xm.length=0}var Nd=P.ReactCurrentDispatcher,wm=P.ReactCurrentBatchConfig,ha=0,ot=null,jt=null,Pt=null,kd=!1,al=!1,il=0,K4=0;function Ft(){throw Error(r(321))}function Nm(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!$r(s[d],o[d]))return!1;return!0}function km(s,o,d,p,v,w){if(ha=w,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Nd.current=s===null||s.memoizedState===null?X4:Y4,s=d(p,v),al){w=0;do{if(al=!1,il=0,25<=w)throw Error(r(301));w+=1,Pt=jt=null,o.updateQueue=null,Nd.current=J4,s=d(p,v)}while(al)}if(Nd.current=Cd,o=jt!==null&&jt.next!==null,ha=0,Pt=jt=ot=null,kd=!1,o)throw Error(r(300));return s}function jm(){var s=il!==0;return il=0,s}function hn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ot.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function jr(){if(jt===null){var s=ot.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var o=Pt===null?ot.memoizedState:Pt.next;if(o!==null)Pt=o,jt=s;else{if(s===null)throw Error(r(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Pt===null?ot.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}function ol(s,o){return typeof o=="function"?o(s):o}function Sm(s){var o=jr(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var p=jt,v=p.baseQueue,w=d.pending;if(w!==null){if(v!==null){var S=v.next;v.next=w.next,w.next=S}p.baseQueue=v=w,d.pending=null}if(v!==null){w=v.next,p=p.baseState;var O=S=null,F=null,K=w;do{var J=K.lane;if((ha&J)===J)F!==null&&(F=F.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),p=K.hasEagerState?K.eagerState:s(p,K.action);else{var te={lane:J,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};F===null?(O=F=te,S=p):F=F.next=te,ot.lanes|=J,pa|=J}K=K.next}while(K!==null&&K!==w);F===null?S=p:F.next=O,$r(p,o.memoizedState)||(tr=!0),o.memoizedState=p,o.baseState=S,o.baseQueue=F,d.lastRenderedState=p}if(s=d.interleaved,s!==null){v=s;do w=v.lane,ot.lanes|=w,pa|=w,v=v.next;while(v!==s)}else v===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function Cm(s){var o=jr(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var p=d.dispatch,v=d.pending,w=o.memoizedState;if(v!==null){d.pending=null;var S=v=v.next;do w=s(w,S.action),S=S.next;while(S!==v);$r(w,o.memoizedState)||(tr=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),d.lastRenderedState=w}return[w,p]}function Fx(){}function zx(s,o){var d=ot,p=jr(),v=o(),w=!$r(p.memoizedState,v);if(w&&(p.memoizedState=v,tr=!0),p=p.queue,Em(Vx.bind(null,d,p,s),[s]),p.getSnapshot!==o||w||Pt!==null&&Pt.memoizedState.tag&1){if(d.flags|=2048,ll(9,$x.bind(null,d,p,v,o),void 0,null),Rt===null)throw Error(r(349));(ha&30)!==0||Ux(d,o,v)}return v}function Ux(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function $x(s,o,d,p){o.value=d,o.getSnapshot=p,Wx(o)&&Bx(s)}function Vx(s,o,d){return d(function(){Wx(o)&&Bx(s)})}function Wx(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!$r(s,d)}catch{return!0}}function Bx(s){var o=$n(s,1);o!==null&&qr(o,s,1,-1)}function Hx(s){var o=hn();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:s},o.queue=s,s=s.dispatch=Q4.bind(null,ot,s),[o.memoizedState,s]}function ll(s,o,d,p){return s={tag:s,create:o,destroy:d,deps:p,next:null},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.lastEffect=s.next=s):(d=o.lastEffect,d===null?o.lastEffect=s.next=s:(p=d.next,d.next=s,s.next=p,o.lastEffect=s)),s}function qx(){return jr().memoizedState}function jd(s,o,d,p){var v=hn();ot.flags|=s,v.memoizedState=ll(1|o,d,void 0,p===void 0?null:p)}function Sd(s,o,d,p){var v=jr();p=p===void 0?null:p;var w=void 0;if(jt!==null){var S=jt.memoizedState;if(w=S.destroy,p!==null&&Nm(p,S.deps)){v.memoizedState=ll(o,d,w,p);return}}ot.flags|=s,v.memoizedState=ll(1|o,d,w,p)}function Kx(s,o){return jd(8390656,8,s,o)}function Em(s,o){return Sd(2048,8,s,o)}function Gx(s,o){return Sd(4,2,s,o)}function Zx(s,o){return Sd(4,4,s,o)}function Qx(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Xx(s,o,d){return d=d!=null?d.concat([s]):null,Sd(4,4,Qx.bind(null,o,s),d)}function Tm(){}function Yx(s,o){var d=jr();o=o===void 0?null:o;var p=d.memoizedState;return p!==null&&o!==null&&Nm(o,p[1])?p[0]:(d.memoizedState=[s,o],s)}function Jx(s,o){var d=jr();o=o===void 0?null:o;var p=d.memoizedState;return p!==null&&o!==null&&Nm(o,p[1])?p[0]:(s=s(),d.memoizedState=[s,o],s)}function eb(s,o,d){return(ha&21)===0?(s.baseState&&(s.baseState=!1,tr=!0),s.memoizedState=d):($r(d,o)||(d=Py(),ot.lanes|=d,pa|=d,s.baseState=!0),o)}function G4(s,o){var d=Ye;Ye=d!==0&&4>d?d:4,s(!0);var p=wm.transition;wm.transition={};try{s(!1),o()}finally{Ye=d,wm.transition=p}}function tb(){return jr().memoizedState}function Z4(s,o,d){var p=Es(s);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},rb(s))nb(o,d);else if(d=Ix(s,o,d,p),d!==null){var v=Ht();qr(d,s,p,v),sb(d,o,p)}}function Q4(s,o,d){var p=Es(s),v={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(rb(s))nb(o,v);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var S=o.lastRenderedState,O=w(S,d);if(v.hasEagerState=!0,v.eagerState=O,$r(O,S)){var F=o.interleaved;F===null?(v.next=v,fm(o)):(v.next=F.next,F.next=v),o.interleaved=v;return}}catch{}finally{}d=Ix(s,o,v,p),d!==null&&(v=Ht(),qr(d,s,p,v),sb(d,o,p))}}function rb(s){var o=s.alternate;return s===ot||o!==null&&o===ot}function nb(s,o){al=kd=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function sb(s,o,d){if((d&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,d|=p,o.lanes=d,Pp(s,d)}}var Cd={readContext:kr,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},X4={readContext:kr,useCallback:function(s,o){return hn().memoizedState=[s,o===void 0?null:o],s},useContext:kr,useEffect:Kx,useImperativeHandle:function(s,o,d){return d=d!=null?d.concat([s]):null,jd(4194308,4,Qx.bind(null,o,s),d)},useLayoutEffect:function(s,o){return jd(4194308,4,s,o)},useInsertionEffect:function(s,o){return jd(4,2,s,o)},useMemo:function(s,o){var d=hn();return o=o===void 0?null:o,s=s(),d.memoizedState=[s,o],s},useReducer:function(s,o,d){var p=hn();return o=d!==void 0?d(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=Z4.bind(null,ot,s),[p.memoizedState,s]},useRef:function(s){var o=hn();return s={current:s},o.memoizedState=s},useState:Hx,useDebugValue:Tm,useDeferredValue:function(s){return hn().memoizedState=s},useTransition:function(){var s=Hx(!1),o=s[0];return s=G4.bind(null,s[1]),hn().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,d){var p=ot,v=hn();if(at){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),Rt===null)throw Error(r(349));(ha&30)!==0||Ux(p,o,d)}v.memoizedState=d;var w={value:d,getSnapshot:o};return v.queue=w,Kx(Vx.bind(null,p,w,s),[s]),p.flags|=2048,ll(9,$x.bind(null,p,w,d,o),void 0,null),d},useId:function(){var s=hn(),o=Rt.identifierPrefix;if(at){var d=Un,p=zn;d=(p&~(1<<32-Ur(p)-1)).toString(32)+d,o=":"+o+"R"+d,d=il++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=K4++,o=":"+o+"r"+d.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Y4={readContext:kr,useCallback:Yx,useContext:kr,useEffect:Em,useImperativeHandle:Xx,useInsertionEffect:Gx,useLayoutEffect:Zx,useMemo:Jx,useReducer:Sm,useRef:qx,useState:function(){return Sm(ol)},useDebugValue:Tm,useDeferredValue:function(s){var o=jr();return eb(o,jt.memoizedState,s)},useTransition:function(){var s=Sm(ol)[0],o=jr().memoizedState;return[s,o]},useMutableSource:Fx,useSyncExternalStore:zx,useId:tb,unstable_isNewReconciler:!1},J4={readContext:kr,useCallback:Yx,useContext:kr,useEffect:Em,useImperativeHandle:Xx,useInsertionEffect:Gx,useLayoutEffect:Zx,useMemo:Jx,useReducer:Cm,useRef:qx,useState:function(){return Cm(ol)},useDebugValue:Tm,useDeferredValue:function(s){var o=jr();return jt===null?o.memoizedState=s:eb(o,jt.memoizedState,s)},useTransition:function(){var s=Cm(ol)[0],o=jr().memoizedState;return[s,o]},useMutableSource:Fx,useSyncExternalStore:zx,useId:tb,unstable_isNewReconciler:!1};function Wr(s,o){if(s&&s.defaultProps){o=X({},o),s=s.defaultProps;for(var d in s)o[d]===void 0&&(o[d]=s[d]);return o}return o}function _m(s,o,d,p){o=s.memoizedState,d=d(p,o),d=d==null?o:X({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Ed={isMounted:function(s){return(s=s._reactInternals)?aa(s)===s:!1},enqueueSetState:function(s,o,d){s=s._reactInternals;var p=Ht(),v=Es(s),w=Vn(p,v);w.payload=o,d!=null&&(w.callback=d),o=ks(s,w,v),o!==null&&(qr(o,s,v,p),xd(o,s,v))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var p=Ht(),v=Es(s),w=Vn(p,v);w.tag=1,w.payload=o,d!=null&&(w.callback=d),o=ks(s,w,v),o!==null&&(qr(o,s,v,p),xd(o,s,v))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=Ht(),p=Es(s),v=Vn(d,p);v.tag=2,o!=null&&(v.callback=o),o=ks(s,v,p),o!==null&&(qr(o,s,p,d),xd(o,s,p))}};function ab(s,o,d,p,v,w,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,S):o.prototype&&o.prototype.isPureReactComponent?!Go(d,p)||!Go(v,w):!0}function ib(s,o,d){var p=!1,v=bs,w=o.contextType;return typeof w=="object"&&w!==null?w=kr(w):(v=er(o)?oa:Mt.current,p=o.contextTypes,w=(p=p!=null)?ui(s,v):bs),o=new o(d,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ed,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=w),o}function ob(s,o,d,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==s&&Ed.enqueueReplaceState(o,o.state,null)}function Pm(s,o,d,p){var v=s.stateNode;v.props=d,v.state=s.memoizedState,v.refs={},gm(s);var w=o.contextType;typeof w=="object"&&w!==null?v.context=kr(w):(w=er(o)?oa:Mt.current,v.context=ui(s,w)),v.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(_m(s,o,w,d),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&Ed.enqueueReplaceState(v,v.state,null),bd(s,d,v,p),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function xi(s,o){try{var d="",p=o;do d+=Ee(p),p=p.return;while(p);var v=d}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:v,digest:null}}function Rm(s,o,d){return{value:s,source:null,stack:d??null,digest:o??null}}function Am(s,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var e5=typeof WeakMap=="function"?WeakMap:Map;function lb(s,o,d){d=Vn(-1,d),d.tag=3,d.payload={element:null};var p=o.value;return d.callback=function(){Od||(Od=!0,qm=p),Am(s,o)},d}function cb(s,o,d){d=Vn(-1,d),d.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var v=o.value;d.payload=function(){return p(v)},d.callback=function(){Am(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){Am(s,o),typeof p!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),d}function db(s,o,d){var p=s.pingCache;if(p===null){p=s.pingCache=new e5;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(d)||(v.add(d),s=m5.bind(null,s,o,d),o.then(s,s))}function ub(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function hb(s,o,d,p,v){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=Vn(-1,1),o.tag=2,ks(d,o,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var t5=P.ReactCurrentOwner,tr=!1;function Bt(s,o,d,p){o.child=s===null?Ax(o,null,d,p):fi(o,s.child,d,p)}function pb(s,o,d,p,v){d=d.render;var w=o.ref;return vi(o,v),p=km(s,o,d,p,w,v),d=jm(),s!==null&&!tr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~v,Wn(s,o,v)):(at&&d&&im(o),o.flags|=1,Bt(s,o,p,v),o.child)}function mb(s,o,d,p,v){if(s===null){var w=d.type;return typeof w=="function"&&!Jm(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=w,fb(s,o,w,p,v)):(s=Ud(d.type,null,p,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,(s.lanes&v)===0){var S=w.memoizedProps;if(d=d.compare,d=d!==null?d:Go,d(S,p)&&s.ref===o.ref)return Wn(s,o,v)}return o.flags|=1,s=_s(w,p),s.ref=o.ref,s.return=o,o.child=s}function fb(s,o,d,p,v){if(s!==null){var w=s.memoizedProps;if(Go(w,p)&&s.ref===o.ref)if(tr=!1,o.pendingProps=p=w,(s.lanes&v)!==0)(s.flags&131072)!==0&&(tr=!0);else return o.lanes=s.lanes,Wn(s,o,v)}return Im(s,o,d,p,v)}function gb(s,o,d){var p=o.pendingProps,v=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(wi,hr),hr|=d;else{if((d&1073741824)===0)return s=w!==null?w.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,et(wi,hr),hr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:d,et(wi,hr),hr|=p}else w!==null?(p=w.baseLanes|d,o.memoizedState=null):p=d,et(wi,hr),hr|=p;return Bt(s,o,v,d),o.child}function vb(s,o){var d=o.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function Im(s,o,d,p,v){var w=er(d)?oa:Mt.current;return w=ui(o,w),vi(o,v),d=km(s,o,d,p,w,v),p=jm(),s!==null&&!tr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~v,Wn(s,o,v)):(at&&p&&im(o),o.flags|=1,Bt(s,o,d,v),o.child)}function yb(s,o,d,p,v){if(er(d)){var w=!0;ud(o)}else w=!1;if(vi(o,v),o.stateNode===null)_d(s,o),ib(o,d,p),Pm(o,d,p,v),p=!0;else if(s===null){var S=o.stateNode,O=o.memoizedProps;S.props=O;var F=S.context,K=d.contextType;typeof K=="object"&&K!==null?K=kr(K):(K=er(d)?oa:Mt.current,K=ui(o,K));var J=d.getDerivedStateFromProps,te=typeof J=="function"||typeof S.getSnapshotBeforeUpdate=="function";te||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==p||F!==K)&&ob(o,S,p,K),Ns=!1;var Y=o.memoizedState;S.state=Y,bd(o,p,S,v),F=o.memoizedState,O!==p||Y!==F||Jt.current||Ns?(typeof J=="function"&&(_m(o,d,J,p),F=o.memoizedState),(O=Ns||ab(o,d,O,p,Y,F,K))?(te||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=F),S.props=p,S.state=F,S.context=K,p=O):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{S=o.stateNode,Ox(s,o),O=o.memoizedProps,K=o.type===o.elementType?O:Wr(o.type,O),S.props=K,te=o.pendingProps,Y=S.context,F=d.contextType,typeof F=="object"&&F!==null?F=kr(F):(F=er(d)?oa:Mt.current,F=ui(o,F));var de=d.getDerivedStateFromProps;(J=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==te||Y!==F)&&ob(o,S,p,F),Ns=!1,Y=o.memoizedState,S.state=Y,bd(o,p,S,v);var fe=o.memoizedState;O!==te||Y!==fe||Jt.current||Ns?(typeof de=="function"&&(_m(o,d,de,p),fe=o.memoizedState),(K=Ns||ab(o,d,K,p,Y,fe,F)||!1)?(J||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,fe,F),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,fe,F)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&Y===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&Y===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=fe),S.props=p,S.state=fe,S.context=F,p=K):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&Y===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&Y===s.memoizedState||(o.flags|=1024),p=!1)}return Om(s,o,d,p,w,v)}function Om(s,o,d,p,v,w){vb(s,o);var S=(o.flags&128)!==0;if(!p&&!S)return v&&kx(o,d,!1),Wn(s,o,w);p=o.stateNode,t5.current=o;var O=S&&typeof d.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&S?(o.child=fi(o,s.child,null,w),o.child=fi(o,null,O,w)):Bt(s,o,O,w),o.memoizedState=p.state,v&&kx(o,d,!0),o.child}function xb(s){var o=s.stateNode;o.pendingContext?wx(s,o.pendingContext,o.pendingContext!==o.context):o.context&&wx(s,o.context,!1),vm(s,o.containerInfo)}function bb(s,o,d,p,v){return mi(),dm(v),o.flags|=256,Bt(s,o,d,p),o.child}var Dm={dehydrated:null,treeContext:null,retryLane:0};function Lm(s){return{baseLanes:s,cachePool:null,transitions:null}}function wb(s,o,d){var p=o.pendingProps,v=it.current,w=!1,S=(o.flags&128)!==0,O;if((O=S)||(O=s!==null&&s.memoizedState===null?!1:(v&2)!==0),O?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),et(it,v&1),s===null)return cm(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=p.children,s=p.fallback,w?(p=o.mode,w=o.child,S={mode:"hidden",children:S},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=S):w=$d(S,p,0,null),s=va(s,p,d,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=Lm(d),o.memoizedState=Dm,s):Mm(o,S));if(v=s.memoizedState,v!==null&&(O=v.dehydrated,O!==null))return r5(s,o,S,p,O,v,d);if(w){w=p.fallback,S=o.mode,v=s.child,O=v.sibling;var F={mode:"hidden",children:p.children};return(S&1)===0&&o.child!==v?(p=o.child,p.childLanes=0,p.pendingProps=F,o.deletions=null):(p=_s(v,F),p.subtreeFlags=v.subtreeFlags&14680064),O!==null?w=_s(O,w):(w=va(w,S,d,null),w.flags|=2),w.return=o,p.return=o,p.sibling=w,o.child=p,p=w,w=o.child,S=s.child.memoizedState,S=S===null?Lm(d):{baseLanes:S.baseLanes|d,cachePool:null,transitions:S.transitions},w.memoizedState=S,w.childLanes=s.childLanes&~d,o.memoizedState=Dm,p}return w=s.child,s=w.sibling,p=_s(w,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=d),p.return=o,p.sibling=null,s!==null&&(d=o.deletions,d===null?(o.deletions=[s],o.flags|=16):d.push(s)),o.child=p,o.memoizedState=null,p}function Mm(s,o){return o=$d({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Td(s,o,d,p){return p!==null&&dm(p),fi(o,s.child,null,d),s=Mm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function r5(s,o,d,p,v,w,S){if(d)return o.flags&256?(o.flags&=-257,p=Rm(Error(r(422))),Td(s,o,S,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=p.fallback,v=o.mode,p=$d({mode:"visible",children:p.children},v,0,null),w=va(w,v,S,null),w.flags|=2,p.return=o,w.return=o,p.sibling=w,o.child=p,(o.mode&1)!==0&&fi(o,s.child,null,S),o.child.memoizedState=Lm(S),o.memoizedState=Dm,w);if((o.mode&1)===0)return Td(s,o,S,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var O=p.dgst;return p=O,w=Error(r(419)),p=Rm(w,p,void 0),Td(s,o,S,p)}if(O=(S&s.childLanes)!==0,tr||O){if(p=Rt,p!==null){switch(S&-S){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|S))!==0?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,$n(s,v),qr(p,s,v,-1))}return Ym(),p=Rm(Error(r(421))),Td(s,o,S,p)}return v.data==="$?"?(o.flags|=128,o.child=s.child,o=f5.bind(null,s),v._reactRetry=o,null):(s=w.treeContext,ur=ys(v.nextSibling),dr=o,at=!0,Vr=null,s!==null&&(wr[Nr++]=zn,wr[Nr++]=Un,wr[Nr++]=la,zn=s.id,Un=s.overflow,la=o),o=Mm(o,p.children),o.flags|=4096,o)}function Nb(s,o,d){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),mm(s.return,o,d)}function Fm(s,o,d,p,v){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:v}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=d,w.tailMode=v)}function kb(s,o,d){var p=o.pendingProps,v=p.revealOrder,w=p.tail;if(Bt(s,o,p.children,d),p=it.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Nb(s,d,o);else if(s.tag===19)Nb(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(et(it,p),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(d=o.child,v=null;d!==null;)s=d.alternate,s!==null&&wd(s)===null&&(v=d),d=d.sibling;d=v,d===null?(v=o.child,o.child=null):(v=d.sibling,d.sibling=null),Fm(o,!1,v,d,w);break;case"backwards":for(d=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&wd(s)===null){o.child=v;break}s=v.sibling,v.sibling=d,d=v,v=s}Fm(o,!0,d,null,w);break;case"together":Fm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function _d(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Wn(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),pa|=o.lanes,(d&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,d=_s(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=_s(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function n5(s,o,d){switch(o.tag){case 3:xb(o),mi();break;case 5:Mx(o);break;case 1:er(o.type)&&ud(o);break;case 4:vm(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,v=o.memoizedProps.value;et(vd,p._currentValue),p._currentValue=v;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(et(it,it.current&1),o.flags|=128,null):(d&o.child.childLanes)!==0?wb(s,o,d):(et(it,it.current&1),s=Wn(s,o,d),s!==null?s.sibling:null);et(it,it.current&1);break;case 19:if(p=(d&o.childLanes)!==0,(s.flags&128)!==0){if(p)return kb(s,o,d);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),et(it,it.current),p)break;return null;case 22:case 23:return o.lanes=0,gb(s,o,d)}return Wn(s,o,d)}var jb,zm,Sb,Cb;jb=function(s,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},zm=function(){},Sb=function(s,o,d,p){var v=s.memoizedProps;if(v!==p){s=o.stateNode,ua(un.current);var w=null;switch(d){case"input":v=To(s,v),p=To(s,p),w=[];break;case"select":v=X({},v,{value:void 0}),p=X({},p,{value:void 0}),w=[];break;case"textarea":v=vp(s,v),p=vp(s,p),w=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=ld)}xp(d,p);var S;d=null;for(K in v)if(!p.hasOwnProperty(K)&&v.hasOwnProperty(K)&&v[K]!=null)if(K==="style"){var O=v[K];for(S in O)O.hasOwnProperty(S)&&(d||(d={}),d[S]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(a.hasOwnProperty(K)?w||(w=[]):(w=w||[]).push(K,null));for(K in p){var F=p[K];if(O=v!=null?v[K]:void 0,p.hasOwnProperty(K)&&F!==O&&(F!=null||O!=null))if(K==="style")if(O){for(S in O)!O.hasOwnProperty(S)||F&&F.hasOwnProperty(S)||(d||(d={}),d[S]="");for(S in F)F.hasOwnProperty(S)&&O[S]!==F[S]&&(d||(d={}),d[S]=F[S])}else d||(w||(w=[]),w.push(K,d)),d=F;else K==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,O=O?O.__html:void 0,F!=null&&O!==F&&(w=w||[]).push(K,F)):K==="children"?typeof F!="string"&&typeof F!="number"||(w=w||[]).push(K,""+F):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(a.hasOwnProperty(K)?(F!=null&&K==="onScroll"&&tt("scroll",s),w||O===F||(w=[])):(w=w||[]).push(K,F))}d&&(w=w||[]).push("style",d);var K=w;(o.updateQueue=K)&&(o.flags|=4)}},Cb=function(s,o,d,p){d!==p&&(o.flags|=4)};function cl(s,o){if(!at)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function zt(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,p=0;if(o)for(var v=s.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=p,s.childLanes=d,o}function s5(s,o,d){var p=o.pendingProps;switch(om(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(o),null;case 1:return er(o.type)&&dd(),zt(o),null;case 3:return p=o.stateNode,yi(),rt(Jt),rt(Mt),bm(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(fd(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Vr!==null&&(Zm(Vr),Vr=null))),zm(s,o),zt(o),null;case 5:ym(o);var v=ua(sl.current);if(d=o.type,s!==null&&o.stateNode!=null)Sb(s,o,d,p,v),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(r(166));return zt(o),null}if(s=ua(un.current),fd(o)){p=o.stateNode,d=o.type;var w=o.memoizedProps;switch(p[dn]=o,p[Jo]=w,s=(o.mode&1)!==0,d){case"dialog":tt("cancel",p),tt("close",p);break;case"iframe":case"object":case"embed":tt("load",p);break;case"video":case"audio":for(v=0;v<Qo.length;v++)tt(Qo[v],p);break;case"source":tt("error",p);break;case"img":case"image":case"link":tt("error",p),tt("load",p);break;case"details":tt("toggle",p);break;case"input":Mc(p,w),tt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},tt("invalid",p);break;case"textarea":cy(p,w),tt("invalid",p)}xp(d,w),v=null;for(var S in w)if(w.hasOwnProperty(S)){var O=w[S];S==="children"?typeof O=="string"?p.textContent!==O&&(w.suppressHydrationWarning!==!0&&od(p.textContent,O,s),v=["children",O]):typeof O=="number"&&p.textContent!==""+O&&(w.suppressHydrationWarning!==!0&&od(p.textContent,O,s),v=["children",""+O]):a.hasOwnProperty(S)&&O!=null&&S==="onScroll"&&tt("scroll",p)}switch(d){case"input":Ya(p),zc(p,w,!0);break;case"textarea":Ya(p),uy(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=ld)}p=v,o.updateQueue=p,p!==null&&(o.flags|=4)}else{S=v.nodeType===9?v:v.ownerDocument,s==="https://www.w3.org/1999/xhtml"&&(s=hy(d)),s==="https://www.w3.org/1999/xhtml"?d==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=S.createElement(d,{is:p.is}):(s=S.createElement(d),d==="select"&&(S=s,p.multiple?S.multiple=!0:p.size&&(S.size=p.size))):s=S.createElementNS(s,d),s[dn]=o,s[Jo]=p,jb(s,o,!1,!1),o.stateNode=s;e:{switch(S=bp(d,p),d){case"dialog":tt("cancel",s),tt("close",s),v=p;break;case"iframe":case"object":case"embed":tt("load",s),v=p;break;case"video":case"audio":for(v=0;v<Qo.length;v++)tt(Qo[v],s);v=p;break;case"source":tt("error",s),v=p;break;case"img":case"image":case"link":tt("error",s),tt("load",s),v=p;break;case"details":tt("toggle",s),v=p;break;case"input":Mc(s,p),v=To(s,p),tt("invalid",s);break;case"option":v=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},v=X({},p,{value:void 0}),tt("invalid",s);break;case"textarea":cy(s,p),v=vp(s,p),tt("invalid",s);break;default:v=p}xp(d,v),O=v;for(w in O)if(O.hasOwnProperty(w)){var F=O[w];w==="style"?fy(s,F):w==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&py(s,F)):w==="children"?typeof F=="string"?(d!=="textarea"||F!=="")&&Ro(s,F):typeof F=="number"&&Ro(s,""+F):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(a.hasOwnProperty(w)?F!=null&&w==="onScroll"&&tt("scroll",s):F!=null&&T(s,w,F,S))}switch(d){case"input":Ya(s),zc(s,p,!1);break;case"textarea":Ya(s),uy(s);break;case"option":p.value!=null&&s.setAttribute("value",""+$e(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?Ja(s,!!p.multiple,w,!1):p.defaultValue!=null&&Ja(s,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=ld)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return zt(o),null;case 6:if(s&&o.stateNode!=null)Cb(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(d=ua(sl.current),ua(un.current),fd(o)){if(p=o.stateNode,d=o.memoizedProps,p[dn]=o,(w=p.nodeValue!==d)&&(s=dr,s!==null))switch(s.tag){case 3:od(p.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&od(p.nodeValue,d,(s.mode&1)!==0)}w&&(o.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[dn]=o,o.stateNode=p}return zt(o),null;case 13:if(rt(it),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(at&&ur!==null&&(o.mode&1)!==0&&(o.flags&128)===0)_x(),mi(),o.flags|=98560,w=!1;else if(w=fd(o),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(r(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[dn]=o}else mi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),w=!1}else Vr!==null&&(Zm(Vr),Vr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=d,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(it.current&1)!==0?St===0&&(St=3):Ym())),o.updateQueue!==null&&(o.flags|=4),zt(o),null);case 4:return yi(),zm(s,o),s===null&&Xo(o.stateNode.containerInfo),zt(o),null;case 10:return pm(o.type._context),zt(o),null;case 17:return er(o.type)&&dd(),zt(o),null;case 19:if(rt(it),w=o.memoizedState,w===null)return zt(o),null;if(p=(o.flags&128)!==0,S=w.rendering,S===null)if(p)cl(w,!1);else{if(St!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(S=wd(s),S!==null){for(o.flags|=128,cl(w,!1),p=S.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=d,d=o.child;d!==null;)w=d,s=p,w.flags&=14680066,S=w.alternate,S===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=S.childLanes,w.lanes=S.lanes,w.child=S.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=S.memoizedProps,w.memoizedState=S.memoizedState,w.updateQueue=S.updateQueue,w.type=S.type,s=S.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return et(it,it.current&1|2),o.child}s=s.sibling}w.tail!==null&&pt()>Ni&&(o.flags|=128,p=!0,cl(w,!1),o.lanes=4194304)}else{if(!p)if(s=wd(S),s!==null){if(o.flags|=128,p=!0,d=s.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),cl(w,!0),w.tail===null&&w.tailMode==="hidden"&&!S.alternate&&!at)return zt(o),null}else 2*pt()-w.renderingStartTime>Ni&&d!==1073741824&&(o.flags|=128,p=!0,cl(w,!1),o.lanes=4194304);w.isBackwards?(S.sibling=o.child,o.child=S):(d=w.last,d!==null?d.sibling=S:o.child=S,w.last=S)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=pt(),o.sibling=null,d=it.current,et(it,p?d&1|2:d&1),o):(zt(o),null);case 22:case 23:return Xm(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(hr&1073741824)!==0&&(zt(o),o.subtreeFlags&6&&(o.flags|=8192)):zt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function a5(s,o){switch(om(o),o.tag){case 1:return er(o.type)&&dd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return yi(),rt(Jt),rt(Mt),bm(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return ym(o),null;case 13:if(rt(it),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));mi()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return rt(it),null;case 4:return yi(),null;case 10:return pm(o.type._context),null;case 22:case 23:return Xm(),null;case 24:return null;default:return null}}var Pd=!1,Ut=!1,i5=typeof WeakSet=="function"?WeakSet:Set,pe=null;function bi(s,o){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){ut(s,o,p)}else d.current=null}function Eb(s,o,d){try{d()}catch(p){ut(s,o,p)}}var Tb=!1;function o5(s,o){if(Yp=Qc,s=ax(),Bp(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var v=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var S=0,O=-1,F=-1,K=0,J=0,te=s,Y=null;t:for(;;){for(var de;te!==d||v!==0&&te.nodeType!==3||(O=S+v),te!==w||p!==0&&te.nodeType!==3||(F=S+p),te.nodeType===3&&(S+=te.nodeValue.length),(de=te.firstChild)!==null;)Y=te,te=de;for(;;){if(te===s)break t;if(Y===d&&++K===v&&(O=S),Y===w&&++J===p&&(F=S),(de=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=de}d=O===-1||F===-1?null:{start:O,end:F}}else d=null}d=d||{start:0,end:0}}else d=null;for(Jp={focusedElem:s,selectionRange:d},Qc=!1,pe=o;pe!==null;)if(o=pe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,pe=s;else for(;pe!==null;){o=pe;try{var fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var ve=fe.memoizedProps,mt=fe.memoizedState,V=o.stateNode,$=V.getSnapshotBeforeUpdate(o.elementType===o.type?ve:Wr(o.type,ve),mt);V.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var B=o.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ne){ut(o,o.return,ne)}if(s=o.sibling,s!==null){s.return=o.return,pe=s;break}pe=o.return}return fe=Tb,Tb=!1,fe}function dl(s,o,d){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&s)===s){var w=v.destroy;v.destroy=void 0,w!==void 0&&Eb(o,d,w)}v=v.next}while(v!==p)}}function Rd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&s)===s){var p=d.create;d.destroy=p()}d=d.next}while(d!==o)}}function Um(s){var o=s.ref;if(o!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof o=="function"?o(s):o.current=s}}function _b(s){var o=s.alternate;o!==null&&(s.alternate=null,_b(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[dn],delete o[Jo],delete o[nm],delete o[W4],delete o[B4])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Pb(s){return s.tag===5||s.tag===3||s.tag===4}function Rb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Pb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $m(s,o,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(s,o):d.insertBefore(s,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(s,d)):(o=d,o.appendChild(s)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=ld));else if(p!==4&&(s=s.child,s!==null))for($m(s,o,d),s=s.sibling;s!==null;)$m(s,o,d),s=s.sibling}function Vm(s,o,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Vm(s,o,d),s=s.sibling;s!==null;)Vm(s,o,d),s=s.sibling}var Ot=null,Br=!1;function js(s,o,d){for(d=d.child;d!==null;)Ab(s,o,d),d=d.sibling}function Ab(s,o,d){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Bc,d)}catch{}switch(d.tag){case 5:Ut||bi(d,o);case 6:var p=Ot,v=Br;Ot=null,js(s,o,d),Ot=p,Br=v,Ot!==null&&(Br?(s=Ot,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Ot.removeChild(d.stateNode));break;case 18:Ot!==null&&(Br?(s=Ot,d=d.stateNode,s.nodeType===8?rm(s.parentNode,d):s.nodeType===1&&rm(s,d),Vo(s)):rm(Ot,d.stateNode));break;case 4:p=Ot,v=Br,Ot=d.stateNode.containerInfo,Br=!0,js(s,o,d),Ot=p,Br=v;break;case 0:case 11:case 14:case 15:if(!Ut&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var w=v,S=w.destroy;w=w.tag,S!==void 0&&((w&2)!==0||(w&4)!==0)&&Eb(d,o,S),v=v.next}while(v!==p)}js(s,o,d);break;case 1:if(!Ut&&(bi(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(O){ut(d,o,O)}js(s,o,d);break;case 21:js(s,o,d);break;case 22:d.mode&1?(Ut=(p=Ut)||d.memoizedState!==null,js(s,o,d),Ut=p):js(s,o,d);break;default:js(s,o,d)}}function Ib(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new i5),o.forEach(function(p){var v=g5.bind(null,s,p);d.has(p)||(d.add(p),p.then(v,v))})}}function Hr(s,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var v=d[p];try{var w=s,S=o,O=S;e:for(;O!==null;){switch(O.tag){case 5:Ot=O.stateNode,Br=!1;break e;case 3:Ot=O.stateNode.containerInfo,Br=!0;break e;case 4:Ot=O.stateNode.containerInfo,Br=!0;break e}O=O.return}if(Ot===null)throw Error(r(160));Ab(w,S,v),Ot=null,Br=!1;var F=v.alternate;F!==null&&(F.return=null),v.return=null}catch(K){ut(v,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Ob(o,s),o=o.sibling}function Ob(s,o){var d=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Hr(o,s),pn(s),p&4){try{dl(3,s,s.return),Rd(3,s)}catch(ve){ut(s,s.return,ve)}try{dl(5,s,s.return)}catch(ve){ut(s,s.return,ve)}}break;case 1:Hr(o,s),pn(s),p&512&&d!==null&&bi(d,d.return);break;case 5:if(Hr(o,s),pn(s),p&512&&d!==null&&bi(d,d.return),s.flags&32){var v=s.stateNode;try{Ro(v,"")}catch(ve){ut(s,s.return,ve)}}if(p&4&&(v=s.stateNode,v!=null)){var w=s.memoizedProps,S=d!==null?d.memoizedProps:w,O=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{O==="input"&&w.type==="radio"&&w.name!=null&&Fc(v,w),bp(O,S);var K=bp(O,w);for(S=0;S<F.length;S+=2){var J=F[S],te=F[S+1];J==="style"?fy(v,te):J==="dangerouslySetInnerHTML"?py(v,te):J==="children"?Ro(v,te):T(v,J,te,K)}switch(O){case"input":_o(v,w);break;case"textarea":dy(v,w);break;case"select":var Y=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var de=w.value;de!=null?Ja(v,!!w.multiple,de,!1):Y!==!!w.multiple&&(w.defaultValue!=null?Ja(v,!!w.multiple,w.defaultValue,!0):Ja(v,!!w.multiple,w.multiple?[]:"",!1))}v[Jo]=w}catch(ve){ut(s,s.return,ve)}}break;case 6:if(Hr(o,s),pn(s),p&4){if(s.stateNode===null)throw Error(r(162));v=s.stateNode,w=s.memoizedProps;try{v.nodeValue=w}catch(ve){ut(s,s.return,ve)}}break;case 3:if(Hr(o,s),pn(s),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Vo(o.containerInfo)}catch(ve){ut(s,s.return,ve)}break;case 4:Hr(o,s),pn(s);break;case 13:Hr(o,s),pn(s),v=s.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(Hm=pt())),p&4&&Ib(s);break;case 22:if(J=d!==null&&d.memoizedState!==null,s.mode&1?(Ut=(K=Ut)||J,Hr(o,s),Ut=K):Hr(o,s),pn(s),p&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!J&&(s.mode&1)!==0)for(pe=s,J=s.child;J!==null;){for(te=pe=J;pe!==null;){switch(Y=pe,de=Y.child,Y.tag){case 0:case 11:case 14:case 15:dl(4,Y,Y.return);break;case 1:bi(Y,Y.return);var fe=Y.stateNode;if(typeof fe.componentWillUnmount=="function"){p=Y,d=Y.return;try{o=p,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(ve){ut(p,d,ve)}}break;case 5:bi(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Mb(te);continue}}de!==null?(de.return=Y,pe=de):Mb(te)}J=J.sibling}e:for(J=null,te=s;;){if(te.tag===5){if(J===null){J=te;try{v=te.stateNode,K?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(O=te.stateNode,F=te.memoizedProps.style,S=F!=null&&F.hasOwnProperty("display")?F.display:null,O.style.display=my("display",S))}catch(ve){ut(s,s.return,ve)}}}else if(te.tag===6){if(J===null)try{te.stateNode.nodeValue=K?"":te.memoizedProps}catch(ve){ut(s,s.return,ve)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===s)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===s)break e;for(;te.sibling===null;){if(te.return===null||te.return===s)break e;J===te&&(J=null),te=te.return}J===te&&(J=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Hr(o,s),pn(s),p&4&&Ib(s);break;case 21:break;default:Hr(o,s),pn(s)}}function pn(s){var o=s.flags;if(o&2){try{e:{for(var d=s.return;d!==null;){if(Pb(d)){var p=d;break e}d=d.return}throw Error(r(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(Ro(v,""),p.flags&=-33);var w=Rb(s);Vm(s,w,v);break;case 3:case 4:var S=p.stateNode.containerInfo,O=Rb(s);$m(s,O,S);break;default:throw Error(r(161))}}catch(F){ut(s,s.return,F)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function l5(s,o,d){pe=s,Db(s)}function Db(s,o,d){for(var p=(s.mode&1)!==0;pe!==null;){var v=pe,w=v.child;if(v.tag===22&&p){var S=v.memoizedState!==null||Pd;if(!S){var O=v.alternate,F=O!==null&&O.memoizedState!==null||Ut;O=Pd;var K=Ut;if(Pd=S,(Ut=F)&&!K)for(pe=v;pe!==null;)S=pe,F=S.child,S.tag===22&&S.memoizedState!==null?Fb(v):F!==null?(F.return=S,pe=F):Fb(v);for(;w!==null;)pe=w,Db(w),w=w.sibling;pe=v,Pd=O,Ut=K}Lb(s)}else(v.subtreeFlags&8772)!==0&&w!==null?(w.return=v,pe=w):Lb(s)}}function Lb(s){for(;pe!==null;){var o=pe;if((o.flags&8772)!==0){var d=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ut||Rd(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Ut)if(d===null)p.componentDidMount();else{var v=o.elementType===o.type?d.memoizedProps:Wr(o.type,d.memoizedProps);p.componentDidUpdate(v,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Lx(o,w,p);break;case 3:var S=o.updateQueue;if(S!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}Lx(o,S,d)}break;case 5:var O=o.stateNode;if(d===null&&o.flags&4){d=O;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&d.focus();break;case"img":F.src&&(d.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var J=K.memoizedState;if(J!==null){var te=J.dehydrated;te!==null&&Vo(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ut||o.flags&512&&Um(o)}catch(Y){ut(o,o.return,Y)}}if(o===s){pe=null;break}if(d=o.sibling,d!==null){d.return=o.return,pe=d;break}pe=o.return}}function Mb(s){for(;pe!==null;){var o=pe;if(o===s){pe=null;break}var d=o.sibling;if(d!==null){d.return=o.return,pe=d;break}pe=o.return}}function Fb(s){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{Rd(4,o)}catch(F){ut(o,d,F)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var v=o.return;try{p.componentDidMount()}catch(F){ut(o,v,F)}}var w=o.return;try{Um(o)}catch(F){ut(o,w,F)}break;case 5:var S=o.return;try{Um(o)}catch(F){ut(o,S,F)}}}catch(F){ut(o,o.return,F)}if(o===s){pe=null;break}var O=o.sibling;if(O!==null){O.return=o.return,pe=O;break}pe=o.return}}var c5=Math.ceil,Ad=P.ReactCurrentDispatcher,Wm=P.ReactCurrentOwner,Sr=P.ReactCurrentBatchConfig,We=0,Rt=null,xt=null,Dt=0,hr=0,wi=xs(0),St=0,ul=null,pa=0,Id=0,Bm=0,hl=null,rr=null,Hm=0,Ni=1/0,Bn=null,Od=!1,qm=null,Ss=null,Dd=!1,Cs=null,Ld=0,pl=0,Km=null,Md=-1,Fd=0;function Ht(){return(We&6)!==0?pt():Md!==-1?Md:Md=pt()}function Es(s){return(s.mode&1)===0?1:(We&2)!==0&&Dt!==0?Dt&-Dt:q4.transition!==null?(Fd===0&&(Fd=Py()),Fd):(s=Ye,s!==0||(s=window.event,s=s===void 0?16:zy(s.type)),s)}function qr(s,o,d,p){if(50<pl)throw pl=0,Km=null,Error(r(185));Mo(s,d,p),((We&2)===0||s!==Rt)&&(s===Rt&&((We&2)===0&&(Id|=d),St===4&&Ts(s,Dt)),nr(s,p),d===1&&We===0&&(o.mode&1)===0&&(Ni=pt()+500,hd&&ws()))}function nr(s,o){var d=s.callbackNode;qP(s,o);var p=Kc(s,s===Rt?Dt:0);if(p===0)d!==null&&Ey(d),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(d!=null&&Ey(d),o===1)s.tag===0?H4(Ub.bind(null,s)):jx(Ub.bind(null,s)),$4(function(){(We&6)===0&&ws()}),d=null;else{switch(Ry(p)){case 1:d=Ep;break;case 4:d=Ty;break;case 16:d=Wc;break;case 536870912:d=_y;break;default:d=Wc}d=Gb(d,zb.bind(null,s))}s.callbackPriority=o,s.callbackNode=d}}function zb(s,o){if(Md=-1,Fd=0,(We&6)!==0)throw Error(r(327));var d=s.callbackNode;if(ki()&&s.callbackNode!==d)return null;var p=Kc(s,s===Rt?Dt:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=zd(s,p);else{o=p;var v=We;We|=2;var w=Vb();(Rt!==s||Dt!==o)&&(Bn=null,Ni=pt()+500,fa(s,o));do try{h5();break}catch(O){$b(s,O)}while(!0);hm(),Ad.current=w,We=v,xt!==null?o=0:(Rt=null,Dt=0,o=St)}if(o!==0){if(o===2&&(v=Tp(s),v!==0&&(p=v,o=Gm(s,v))),o===1)throw d=ul,fa(s,0),Ts(s,p),nr(s,pt()),d;if(o===6)Ts(s,p);else{if(v=s.current.alternate,(p&30)===0&&!d5(v)&&(o=zd(s,p),o===2&&(w=Tp(s),w!==0&&(p=w,o=Gm(s,w))),o===1))throw d=ul,fa(s,0),Ts(s,p),nr(s,pt()),d;switch(s.finishedWork=v,s.finishedLanes=p,o){case 0:case 1:throw Error(r(345));case 2:ga(s,rr,Bn);break;case 3:if(Ts(s,p),(p&130023424)===p&&(o=Hm+500-pt(),10<o)){if(Kc(s,0)!==0)break;if(v=s.suspendedLanes,(v&p)!==p){Ht(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=tm(ga.bind(null,s,rr,Bn),o);break}ga(s,rr,Bn);break;case 4:if(Ts(s,p),(p&4194240)===p)break;for(o=s.eventTimes,v=-1;0<p;){var S=31-Ur(p);w=1<<S,S=o[S],S>v&&(v=S),p&=~w}if(p=v,p=pt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*c5(p/1960))-p,10<p){s.timeoutHandle=tm(ga.bind(null,s,rr,Bn),p);break}ga(s,rr,Bn);break;case 5:ga(s,rr,Bn);break;default:throw Error(r(329))}}}return nr(s,pt()),s.callbackNode===d?zb.bind(null,s):null}function Gm(s,o){var d=hl;return s.current.memoizedState.isDehydrated&&(fa(s,o).flags|=256),s=zd(s,o),s!==2&&(o=rr,rr=d,o!==null&&Zm(o)),s}function Zm(s){rr===null?rr=s:rr.push.apply(rr,s)}function d5(s){for(var o=s;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var v=d[p],w=v.getSnapshot;v=v.value;try{if(!$r(w(),v))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ts(s,o){for(o&=~Bm,o&=~Id,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var d=31-Ur(o),p=1<<d;s[d]=-1,o&=~p}}function Ub(s){if((We&6)!==0)throw Error(r(327));ki();var o=Kc(s,0);if((o&1)===0)return nr(s,pt()),null;var d=zd(s,o);if(s.tag!==0&&d===2){var p=Tp(s);p!==0&&(o=p,d=Gm(s,p))}if(d===1)throw d=ul,fa(s,0),Ts(s,o),nr(s,pt()),d;if(d===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ga(s,rr,Bn),nr(s,pt()),null}function Qm(s,o){var d=We;We|=1;try{return s(o)}finally{We=d,We===0&&(Ni=pt()+500,hd&&ws())}}function ma(s){Cs!==null&&Cs.tag===0&&(We&6)===0&&ki();var o=We;We|=1;var d=Sr.transition,p=Ye;try{if(Sr.transition=null,Ye=1,s)return s()}finally{Ye=p,Sr.transition=d,We=o,(We&6)===0&&ws()}}function Xm(){hr=wi.current,rt(wi)}function fa(s,o){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,U4(d)),xt!==null)for(d=xt.return;d!==null;){var p=d;switch(om(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&dd();break;case 3:yi(),rt(Jt),rt(Mt),bm();break;case 5:ym(p);break;case 4:yi();break;case 13:rt(it);break;case 19:rt(it);break;case 10:pm(p.type._context);break;case 22:case 23:Xm()}d=d.return}if(Rt=s,xt=s=_s(s.current,null),Dt=hr=o,St=0,ul=null,Bm=Id=pa=0,rr=hl=null,da!==null){for(o=0;o<da.length;o++)if(d=da[o],p=d.interleaved,p!==null){d.interleaved=null;var v=p.next,w=d.pending;if(w!==null){var S=w.next;w.next=v,p.next=S}d.pending=p}da=null}return s}function $b(s,o){do{var d=xt;try{if(hm(),Nd.current=Cd,kd){for(var p=ot.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}kd=!1}if(ha=0,Pt=jt=ot=null,al=!1,il=0,Wm.current=null,d===null||d.return===null){St=1,ul=o,xt=null;break}e:{var w=s,S=d.return,O=d,F=o;if(o=Dt,O.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var K=F,J=O,te=J.tag;if((J.mode&1)===0&&(te===0||te===11||te===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var de=ub(S);if(de!==null){de.flags&=-257,hb(de,S,O,w,o),de.mode&1&&db(w,K,o),o=de,F=K;var fe=o.updateQueue;if(fe===null){var ve=new Set;ve.add(F),o.updateQueue=ve}else fe.add(F);break e}else{if((o&1)===0){db(w,K,o),Ym();break e}F=Error(r(426))}}else if(at&&O.mode&1){var mt=ub(S);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),hb(mt,S,O,w,o),dm(xi(F,O));break e}}w=F=xi(F,O),St!==4&&(St=2),hl===null?hl=[w]:hl.push(w),w=S;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var V=lb(w,F,o);Dx(w,V);break e;case 1:O=F;var $=w.type,B=w.stateNode;if((w.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Ss===null||!Ss.has(B)))){w.flags|=65536,o&=-o,w.lanes|=o;var ne=cb(w,O,o);Dx(w,ne);break e}}w=w.return}while(w!==null)}Bb(d)}catch(xe){o=xe,xt===d&&d!==null&&(xt=d=d.return);continue}break}while(!0)}function Vb(){var s=Ad.current;return Ad.current=Cd,s===null?Cd:s}function Ym(){(St===0||St===3||St===2)&&(St=4),Rt===null||(pa&268435455)===0&&(Id&268435455)===0||Ts(Rt,Dt)}function zd(s,o){var d=We;We|=2;var p=Vb();(Rt!==s||Dt!==o)&&(Bn=null,fa(s,o));do try{u5();break}catch(v){$b(s,v)}while(!0);if(hm(),We=d,Ad.current=p,xt!==null)throw Error(r(261));return Rt=null,Dt=0,St}function u5(){for(;xt!==null;)Wb(xt)}function h5(){for(;xt!==null&&!MP();)Wb(xt)}function Wb(s){var o=Kb(s.alternate,s,hr);s.memoizedProps=s.pendingProps,o===null?Bb(s):xt=o,Wm.current=null}function Bb(s){var o=s;do{var d=o.alternate;if(s=o.return,(o.flags&32768)===0){if(d=s5(d,o,hr),d!==null){xt=d;return}}else{if(d=a5(d,o),d!==null){d.flags&=32767,xt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{St=6,xt=null;return}}if(o=o.sibling,o!==null){xt=o;return}xt=o=s}while(o!==null);St===0&&(St=5)}function ga(s,o,d){var p=Ye,v=Sr.transition;try{Sr.transition=null,Ye=1,p5(s,o,d,p)}finally{Sr.transition=v,Ye=p}return null}function p5(s,o,d,p){do ki();while(Cs!==null);if((We&6)!==0)throw Error(r(327));d=s.finishedWork;var v=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var w=d.lanes|d.childLanes;if(KP(s,w),s===Rt&&(xt=Rt=null,Dt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Dd||(Dd=!0,Gb(Wc,function(){return ki(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=Sr.transition,Sr.transition=null;var S=Ye;Ye=1;var O=We;We|=4,Wm.current=null,o5(s,d),Ob(d,s),I4(Jp),Qc=!!Yp,Jp=Yp=null,s.current=d,l5(d),FP(),We=O,Ye=S,Sr.transition=w}else s.current=d;if(Dd&&(Dd=!1,Cs=s,Ld=v),w=s.pendingLanes,w===0&&(Ss=null),$P(d.stateNode),nr(s,pt()),o!==null)for(p=s.onRecoverableError,d=0;d<o.length;d++)v=o[d],p(v.value,{componentStack:v.stack,digest:v.digest});if(Od)throw Od=!1,s=qm,qm=null,s;return(Ld&1)!==0&&s.tag!==0&&ki(),w=s.pendingLanes,(w&1)!==0?s===Km?pl++:(pl=0,Km=s):pl=0,ws(),null}function ki(){if(Cs!==null){var s=Ry(Ld),o=Sr.transition,d=Ye;try{if(Sr.transition=null,Ye=16>s?16:s,Cs===null)var p=!1;else{if(s=Cs,Cs=null,Ld=0,(We&6)!==0)throw Error(r(331));var v=We;for(We|=4,pe=s.current;pe!==null;){var w=pe,S=w.child;if((pe.flags&16)!==0){var O=w.deletions;if(O!==null){for(var F=0;F<O.length;F++){var K=O[F];for(pe=K;pe!==null;){var J=pe;switch(J.tag){case 0:case 11:case 15:dl(8,J,w)}var te=J.child;if(te!==null)te.return=J,pe=te;else for(;pe!==null;){J=pe;var Y=J.sibling,de=J.return;if(_b(J),J===K){pe=null;break}if(Y!==null){Y.return=de,pe=Y;break}pe=de}}}var fe=w.alternate;if(fe!==null){var ve=fe.child;if(ve!==null){fe.child=null;do{var mt=ve.sibling;ve.sibling=null,ve=mt}while(ve!==null)}}pe=w}}if((w.subtreeFlags&2064)!==0&&S!==null)S.return=w,pe=S;else e:for(;pe!==null;){if(w=pe,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:dl(9,w,w.return)}var V=w.sibling;if(V!==null){V.return=w.return,pe=V;break e}pe=w.return}}var $=s.current;for(pe=$;pe!==null;){S=pe;var B=S.child;if((S.subtreeFlags&2064)!==0&&B!==null)B.return=S,pe=B;else e:for(S=$;pe!==null;){if(O=pe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Rd(9,O)}}catch(xe){ut(O,O.return,xe)}if(O===S){pe=null;break e}var ne=O.sibling;if(ne!==null){ne.return=O.return,pe=ne;break e}pe=O.return}}if(We=v,ws(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Bc,s)}catch{}p=!0}return p}finally{Ye=d,Sr.transition=o}}return!1}function Hb(s,o,d){o=xi(d,o),o=lb(s,o,1),s=ks(s,o,1),o=Ht(),s!==null&&(Mo(s,1,o),nr(s,o))}function ut(s,o,d){if(s.tag===3)Hb(s,s,d);else for(;o!==null;){if(o.tag===3){Hb(o,s,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ss===null||!Ss.has(p))){s=xi(d,s),s=cb(o,s,1),o=ks(o,s,1),s=Ht(),o!==null&&(Mo(o,1,s),nr(o,s));break}}o=o.return}}function m5(s,o,d){var p=s.pingCache;p!==null&&p.delete(o),o=Ht(),s.pingedLanes|=s.suspendedLanes&d,Rt===s&&(Dt&d)===d&&(St===4||St===3&&(Dt&130023424)===Dt&&500>pt()-Hm?fa(s,0):Bm|=d),nr(s,o)}function qb(s,o){o===0&&((s.mode&1)===0?o=1:(o=qc,qc<<=1,(qc&130023424)===0&&(qc=4194304)));var d=Ht();s=$n(s,o),s!==null&&(Mo(s,o,d),nr(s,d))}function f5(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),qb(s,d)}function g5(s,o){var d=0;switch(s.tag){case 13:var p=s.stateNode,v=s.memoizedState;v!==null&&(d=v.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(o),qb(s,d)}var Kb;Kb=function(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps||Jt.current)tr=!0;else{if((s.lanes&d)===0&&(o.flags&128)===0)return tr=!1,n5(s,o,d);tr=(s.flags&131072)!==0}else tr=!1,at&&(o.flags&1048576)!==0&&Sx(o,md,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;_d(s,o),s=o.pendingProps;var v=ui(o,Mt.current);vi(o,d),v=km(null,o,p,s,v,d);var w=jm();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,er(p)?(w=!0,ud(o)):w=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,gm(o),v.updater=Ed,o.stateNode=v,v._reactInternals=o,Pm(o,p,s,d),o=Om(null,o,p,!0,w,d)):(o.tag=0,at&&w&&im(o),Bt(null,o,v,d),o=o.child),o;case 16:p=o.elementType;e:{switch(_d(s,o),s=o.pendingProps,v=p._init,p=v(p._payload),o.type=p,v=o.tag=y5(p),s=Wr(p,s),v){case 0:o=Im(null,o,p,s,d);break e;case 1:o=yb(null,o,p,s,d);break e;case 11:o=pb(null,o,p,s,d);break e;case 14:o=mb(null,o,p,Wr(p.type,s),d);break e}throw Error(r(306,p,""))}return o;case 0:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:Wr(p,v),Im(s,o,p,v,d);case 1:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:Wr(p,v),yb(s,o,p,v,d);case 3:e:{if(xb(o),s===null)throw Error(r(387));p=o.pendingProps,w=o.memoizedState,v=w.element,Ox(s,o),bd(o,p,null,d);var S=o.memoizedState;if(p=S.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){v=xi(Error(r(423)),o),o=bb(s,o,p,d,v);break e}else if(p!==v){v=xi(Error(r(424)),o),o=bb(s,o,p,d,v);break e}else for(ur=ys(o.stateNode.containerInfo.firstChild),dr=o,at=!0,Vr=null,d=Ax(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(mi(),p===v){o=Wn(s,o,d);break e}Bt(s,o,p,d)}o=o.child}return o;case 5:return Mx(o),s===null&&cm(o),p=o.type,v=o.pendingProps,w=s!==null?s.memoizedProps:null,S=v.children,em(p,v)?S=null:w!==null&&em(p,w)&&(o.flags|=32),vb(s,o),Bt(s,o,S,d),o.child;case 6:return s===null&&cm(o),null;case 13:return wb(s,o,d);case 4:return vm(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=fi(o,null,p,d):Bt(s,o,p,d),o.child;case 11:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:Wr(p,v),pb(s,o,p,v,d);case 7:return Bt(s,o,o.pendingProps,d),o.child;case 8:return Bt(s,o,o.pendingProps.children,d),o.child;case 12:return Bt(s,o,o.pendingProps.children,d),o.child;case 10:e:{if(p=o.type._context,v=o.pendingProps,w=o.memoizedProps,S=v.value,et(vd,p._currentValue),p._currentValue=S,w!==null)if($r(w.value,S)){if(w.children===v.children&&!Jt.current){o=Wn(s,o,d);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var O=w.dependencies;if(O!==null){S=w.child;for(var F=O.firstContext;F!==null;){if(F.context===p){if(w.tag===1){F=Vn(-1,d&-d),F.tag=2;var K=w.updateQueue;if(K!==null){K=K.shared;var J=K.pending;J===null?F.next=F:(F.next=J.next,J.next=F),K.pending=F}}w.lanes|=d,F=w.alternate,F!==null&&(F.lanes|=d),mm(w.return,d,o),O.lanes|=d;break}F=F.next}}else if(w.tag===10)S=w.type===o.type?null:w.child;else if(w.tag===18){if(S=w.return,S===null)throw Error(r(341));S.lanes|=d,O=S.alternate,O!==null&&(O.lanes|=d),mm(S,d,o),S=w.sibling}else S=w.child;if(S!==null)S.return=w;else for(S=w;S!==null;){if(S===o){S=null;break}if(w=S.sibling,w!==null){w.return=S.return,S=w;break}S=S.return}w=S}Bt(s,o,v.children,d),o=o.child}return o;case 9:return v=o.type,p=o.pendingProps.children,vi(o,d),v=kr(v),p=p(v),o.flags|=1,Bt(s,o,p,d),o.child;case 14:return p=o.type,v=Wr(p,o.pendingProps),v=Wr(p.type,v),mb(s,o,p,v,d);case 15:return fb(s,o,o.type,o.pendingProps,d);case 17:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:Wr(p,v),_d(s,o),o.tag=1,er(p)?(s=!0,ud(o)):s=!1,vi(o,d),ib(o,p,v),Pm(o,p,v,d),Om(null,o,p,!0,s,d);case 19:return kb(s,o,d);case 22:return gb(s,o,d)}throw Error(r(156,o.tag))};function Gb(s,o){return Cy(s,o)}function v5(s,o,d,p){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(s,o,d,p){return new v5(s,o,d,p)}function Jm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function y5(s){if(typeof s=="function")return Jm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===W)return 11;if(s===Q)return 14}return 2}function _s(s,o){var d=s.alternate;return d===null?(d=Cr(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function Ud(s,o,d,p,v,w){var S=2;if(p=s,typeof s=="function")Jm(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case I:return va(d.children,v,w,o);case E:S=8,v|=8;break;case R:return s=Cr(12,d,o,v|2),s.elementType=R,s.lanes=w,s;case ee:return s=Cr(13,d,o,v),s.elementType=ee,s.lanes=w,s;case D:return s=Cr(19,d,o,v),s.elementType=D,s.lanes=w,s;case oe:return $d(d,v,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:S=10;break e;case G:S=9;break e;case W:S=11;break e;case Q:S=14;break e;case ae:S=16,p=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return o=Cr(S,d,o,v),o.elementType=s,o.type=p,o.lanes=w,o}function va(s,o,d,p){return s=Cr(7,s,p,o),s.lanes=d,s}function $d(s,o,d,p){return s=Cr(22,s,p,o),s.elementType=oe,s.lanes=d,s.stateNode={isHidden:!1},s}function ef(s,o,d){return s=Cr(6,s,null,o),s.lanes=d,s}function tf(s,o,d){return o=Cr(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function x5(s,o,d,p,v){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_p(0),this.expirationTimes=_p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_p(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function rf(s,o,d,p,v,w,S,O,F){return s=new x5(s,o,d,O,F),o===1?(o=1,w===!0&&(o|=8)):o=0,w=Cr(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},gm(w),s}function b5(s,o,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:p==null?null:""+p,children:s,containerInfo:o,implementation:d}}function Zb(s){if(!s)return bs;s=s._reactInternals;e:{if(aa(s)!==s||s.tag!==1)throw Error(r(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(er(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(s.tag===1){var d=s.type;if(er(d))return Nx(s,d,o)}return o}function Qb(s,o,d,p,v,w,S,O,F){return s=rf(d,p,!0,s,v,w,S,O,F),s.context=Zb(null),d=s.current,p=Ht(),v=Es(d),w=Vn(p,v),w.callback=o??null,ks(d,w,v),s.current.lanes=v,Mo(s,v,p),nr(s,p),s}function Vd(s,o,d,p){var v=o.current,w=Ht(),S=Es(v);return d=Zb(d),o.context===null?o.context=d:o.pendingContext=d,o=Vn(w,S),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=ks(v,o,S),s!==null&&(qr(s,v,S,w),xd(s,v,S)),S}function Wd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Xb(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function nf(s,o){Xb(s,o),(s=s.alternate)&&Xb(s,o)}function w5(){return null}var Yb=typeof reportError=="function"?reportError:function(s){console.error(s)};function sf(s){this._internalRoot=s}Bd.prototype.render=sf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));Vd(s,o,null,null)},Bd.prototype.unmount=sf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ma(function(){Vd(null,s,null,null)}),o[Mn]=null}};function Bd(s){this._internalRoot=s}Bd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Oy();s={blockedOn:null,target:s,priority:o};for(var d=0;d<fs.length&&o!==0&&o<fs[d].priority;d++);fs.splice(d,0,s),d===0&&My(s)}};function af(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Hd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Jb(){}function N5(s,o,d,p,v){if(v){if(typeof p=="function"){var w=p;p=function(){var K=Wd(S);w.call(K)}}var S=Qb(o,p,s,0,null,!1,!1,"",Jb);return s._reactRootContainer=S,s[Mn]=S.current,Xo(s.nodeType===8?s.parentNode:s),ma(),S}for(;v=s.lastChild;)s.removeChild(v);if(typeof p=="function"){var O=p;p=function(){var K=Wd(F);O.call(K)}}var F=rf(s,0,!1,null,null,!1,!1,"",Jb);return s._reactRootContainer=F,s[Mn]=F.current,Xo(s.nodeType===8?s.parentNode:s),ma(function(){Vd(o,F,d,p)}),F}function qd(s,o,d,p,v){var w=d._reactRootContainer;if(w){var S=w;if(typeof v=="function"){var O=v;v=function(){var F=Wd(S);O.call(F)}}Vd(o,S,s,v)}else S=N5(d,o,s,v,p);return Wd(S)}Ay=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var d=Lo(o.pendingLanes);d!==0&&(Pp(o,d|1),nr(o,pt()),(We&6)===0&&(Ni=pt()+500,ws()))}break;case 13:ma(function(){var p=$n(s,1);if(p!==null){var v=Ht();qr(p,s,1,v)}}),nf(s,1)}},Rp=function(s){if(s.tag===13){var o=$n(s,134217728);if(o!==null){var d=Ht();qr(o,s,134217728,d)}nf(s,134217728)}},Iy=function(s){if(s.tag===13){var o=Es(s),d=$n(s,o);if(d!==null){var p=Ht();qr(d,s,o,p)}nf(s,o)}},Oy=function(){return Ye},Dy=function(s,o){var d=Ye;try{return Ye=s,o()}finally{Ye=d}},kp=function(s,o,d){switch(o){case"input":if(_o(s,d),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==s&&p.form===s.form){var v=cd(p);if(!v)throw Error(r(90));Lc(p),_o(p,v)}}}break;case"textarea":dy(s,d);break;case"select":o=d.value,o!=null&&Ja(s,!!d.multiple,o,!1)}},xy=Qm,by=ma;var k5={usingClientEntryPoint:!1,Events:[el,ci,cd,vy,yy,Qm]},ml={findFiberByHostInstance:ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j5={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=jy(s),s===null?null:s.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||w5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{Bc=Kd.inject(j5),cn=Kd}catch{}}return sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k5,sr.createPortal=function(s,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!af(o))throw Error(r(200));return b5(s,o,null,d)},sr.createRoot=function(s,o){if(!af(s))throw Error(r(299));var d=!1,p="",v=Yb;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=rf(s,1,!1,null,null,d,!1,p,v),s[Mn]=o.current,Xo(s.nodeType===8?s.parentNode:s),new sf(o)},sr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=jy(o),s=s===null?null:s.stateNode,s},sr.flushSync=function(s){return ma(s)},sr.hydrate=function(s,o,d){if(!Hd(o))throw Error(r(200));return qd(null,s,o,!0,d)},sr.hydrateRoot=function(s,o,d){if(!af(s))throw Error(r(405));var p=d!=null&&d.hydratedSources||null,v=!1,w="",S=Yb;if(d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(S=d.onRecoverableError)),o=Qb(o,null,s,1,d??null,v,!1,w,S),s[Mn]=o.current,Xo(s),p)for(s=0;s<p.length;s++)d=p[s],v=d._getVersion,v=v(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,v]:o.mutableSourceEagerHydrationData.push(d,v);return new Bd(o)},sr.render=function(s,o,d){if(!Hd(o))throw Error(r(200));return qd(null,s,o,!1,d)},sr.unmountComponentAtNode=function(s){if(!Hd(s))throw Error(r(40));return s._reactRootContainer?(ma(function(){qd(null,null,s,!1,function(){s._reactRootContainer=null,s[Mn]=null})}),!0):!1},sr.unstable_batchedUpdates=Qm,sr.unstable_renderSubtreeIntoContainer=function(s,o,d,p){if(!Hd(d))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return qd(s,o,d,!1,p)},sr.version="18.3.1-next-f1338f8080-20240426",sr}var pw;function Yk(){if(pw)return of.exports;pw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),of.exports=L5(),of.exports}var mw;function M5(){if(mw)return Gd;mw=1;var t=Yk();return Gd.createRoot=t.createRoot,Gd.hydrateRoot=t.hydrateRoot,Gd}var F5=M5();function z5(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,a,l,c=[],u="",h=t.split("/");for(h[0]||h.shift();a=h.shift();)r=a[0],r==="*"?(c.push(r),u+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),l=a.indexOf(".",1),c.push(a.substring(1,~n?n:~l?l:a.length)),u+=~n&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(u+=(~n?"?":"")+"\\"+a.substring(l))):u+="/"+a;return{keys:c,pattern:new RegExp("^"+u+(e?"(?=$|/)":"/?$"),"i")}}var y=Th();const Ke=Xk(y),xv=T5({__proto__:null,default:Ke},[y]);var fw={exports:{}},lf={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var gw;function U5(){if(gw)return lf;gw=1;var t=Th();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function u(g,x){var k=x(),j=n({inst:{value:k,getSnapshot:x}}),N=j[0].inst,b=j[1];return l(function(){N.value=k,N.getSnapshot=x,h(N)&&b({inst:N})},[g,k,x]),a(function(){return h(N)&&b({inst:N}),g(function(){h(N)&&b({inst:N})})},[g]),c(k),k}function h(g){var x=g.getSnapshot;g=g.value;try{var k=x();return!r(g,k)}catch{return!0}}function m(g,x){return x()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return lf.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,lf}var vw;function $5(){return vw||(vw=1,fw.exports=U5()),fw.exports}var Jk=$5();const V5=xv.useInsertionEffect,W5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ej=W5?y.useLayoutEffect:y.useEffect,B5=V5||ej,bv=t=>{const e=y.useRef([t,(...r)=>e[0](...r)]).current;return B5(()=>{e[0]=t}),e[1]},H5="popstate",wv="pushState",Nv="replaceState",q5="hashchange",yw=[H5,wv,Nv,q5],K5=t=>{for(const e of yw)addEventListener(e,t);return()=>{for(const e of yw)removeEventListener(e,t)}},tj=(t,e)=>Jk.useSyncExternalStore(K5,t,e),G5=()=>location.search,Z5=({ssrSearch:t=""}={})=>tj(G5,()=>t),xw=()=>location.pathname,Q5=({ssrPath:t}={})=>tj(xw,t?()=>t:xw),X5=(t,{replace:e=!1,state:r=null}={})=>history[e?Nv:wv](r,"",t),Y5=(t={})=>[Q5(t),X5],bw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[bw]>"u"){for(const t of[wv,Nv]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,bw,{value:!0})}const J5=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",rj=(t="")=>t==="/"?"":t,eR=(t,e)=>t[0]==="~"?t.slice(1):rj(e)+t,tR=(t="",e)=>J5(ww(rj(t)),ww(e)),ww=t=>{try{return decodeURI(t)}catch{return t}},nj={hook:Y5,searchHook:Z5,parser:z5,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},sj=y.createContext(nj),yo=()=>y.useContext(sj),aj={},ij=y.createContext(aj),rR=()=>y.useContext(ij),vc=t=>{const[e,r]=t.hook(t);return[tR(t.base,e),bv((n,a)=>r(eR(n,t.base),a))]},nn=()=>vc(yo()),oj=(t,e,r,n)=>{const{pattern:a,keys:l}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),c=a.exec(r)||[],[u,...h]=c;return u!==void 0?[!0,(()=>{const m=l!==!1?Object.fromEntries(l.map((g,x)=>[g,h[x]])):c.groups;let f={...h};return m&&Object.assign(f,m),f})(),...n?[u]:[]]:[!1,null]},nR=({children:t,...e})=>{var r,n;const a=yo(),l=e.hook?nj:a;let c=l;const[u,h]=((r=e.ssrPath)==null?void 0:r.split("?"))??[];h&&(e.ssrSearch=h,e.ssrPath=u),e.hrefs=e.hrefs??((n=e.hook)==null?void 0:n.hrefs);let m=y.useRef({}),f=m.current,g=f;for(let x in l){const k=x==="base"?l[x]+(e[x]||""):e[x]||l[x];f===g&&k!==g[x]&&(m.current=g={...g}),g[x]=k,(k!==l[x]||k!==c[x])&&(c=g)}return y.createElement(sj.Provider,{value:c,children:t})},Nw=({children:t,component:e},r)=>e?y.createElement(e,{params:r}):typeof t=="function"?t(r):t,sR=t=>{let e=y.useRef(aj);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,a])=>a!==r[n])?t:r},ya=({path:t,nest:e,match:r,...n})=>{const a=yo(),[l]=vc(a),[c,u,h]=r??oj(a.parser,t,l,e),m=sR({...rR(),...u});if(!c)return null;const f=h?y.createElement(nR,{base:h},Nw(n,m)):Nw(n,m);return y.createElement(ij.Provider,{value:m,children:f})},Et=y.forwardRef((t,e)=>{const r=yo(),[n,a]=vc(r),{to:l="",href:c=l,onClick:u,asChild:h,children:m,className:f,replace:g,state:x,...k}=t,j=bv(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(u==null||u(b),b.defaultPrevented||(b.preventDefault(),a(c,t)))}),N=r.hrefs(c[0]==="~"?c.slice(1):r.base+c,r);return h&&y.isValidElement(m)?y.cloneElement(m,{onClick:j,href:N}):y.createElement("a",{...k,onClick:j,href:N,className:f!=null&&f.call?f(n===c):f,children:m,ref:e})}),lj=t=>Array.isArray(t)?t.flatMap(e=>lj(e&&e.type===y.Fragment?e.props.children:e)):[t],aR=({children:t,location:e})=>{const r=yo(),[n]=vc(r);for(const a of lj(t)){let l=0;if(y.isValidElement(a)&&(l=oj(r.parser,a.props.path,e||n,a.props.nest))[0])return y.cloneElement(a,{match:l})}return null},ku=t=>{const{to:e,href:r=e}=t,n=yo(),[,a]=vc(n),l=bv(()=>a(e||r,t)),{ssrContext:c}=n;return ej(()=>{l()},[]),c&&(c.redirectTo=e),null};var xo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},za=typeof window>"u"||"Deno"in globalThis;function Gt(){}function iR(t,e){return typeof t=="function"?t(e):t}function og(t){return typeof t=="number"&&t>=0&&t!==1/0}function cj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Bs(t,e){return typeof t=="function"?t(e):t}function Pr(t,e){return typeof t=="function"?t(e):t}function kw(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:l,queryKey:c,stale:u}=t;if(c){if(n){if(e.queryHash!==kv(c,e.options))return!1}else if(!Ql(e.queryKey,c))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||a&&a!==e.state.fetchStatus||l&&!l(e))}function jw(t,e){const{exact:r,status:n,predicate:a,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(r){if(Ua(e.options.mutationKey)!==Ua(l))return!1}else if(!Ql(e.options.mutationKey,l))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function kv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ua)(t)}function Ua(t){return JSON.stringify(t,(e,r)=>lg(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ql(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Ql(t[r],e[r])):!1}function dj(t,e){if(t===e)return t;const r=Sw(t)&&Sw(e);if(r||lg(t)&&lg(e)){const n=r?t:Object.keys(t),a=n.length,l=r?e:Object.keys(e),c=l.length,u=r?[]:{},h=new Set(n);let m=0;for(let f=0;f<c;f++){const g=r?f:l[f];(!r&&h.has(g)||r)&&t[g]===void 0&&e[g]===void 0?(u[g]=void 0,m++):(u[g]=dj(t[g],e[g]),u[g]===t[g]&&t[g]!==void 0&&m++)}return a===c&&m===a?t:u}return e}function $u(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Sw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function lg(t){if(!Cw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Cw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Cw(t){return Object.prototype.toString.call(t)==="[object Object]"}function oR(t){return new Promise(e=>{setTimeout(e,t)})}function cg(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?dj(t,e):e}function lR(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function cR(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var jv=Symbol();function uj(t,e){return!t.queryFn&&e!=null&&e.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===jv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function hj(t,e){return typeof t=="function"?t(...e):!!t}var ji,xa,gl,Ew,dR=(Ew=class extends xo{constructor(){super(),Se(this,ji),Se(this,xa),Se(this,gl),he(this,gl,t=>{if(!za&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){M(this,xa)||this.setEventListener(M(this,gl))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,xa))==null||t.call(this),he(this,xa,void 0))}setEventListener(t){var e;he(this,gl,t),(e=M(this,xa))==null||e.call(this),he(this,xa,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){M(this,ji)!==t&&(he(this,ji,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof M(this,ji)=="boolean"?M(this,ji):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ji=new WeakMap,xa=new WeakMap,gl=new WeakMap,Ew),Sv=new dR,vl,ba,yl,Tw,uR=(Tw=class extends xo{constructor(){super(),Se(this,vl,!0),Se(this,ba),Se(this,yl),he(this,yl,t=>{if(!za&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,ba)||this.setEventListener(M(this,yl))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,ba))==null||t.call(this),he(this,ba,void 0))}setEventListener(t){var e;he(this,yl,t),(e=M(this,ba))==null||e.call(this),he(this,ba,t(this.setOnline.bind(this)))}setOnline(t){M(this,vl)!==t&&(he(this,vl,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return M(this,vl)}},vl=new WeakMap,ba=new WeakMap,yl=new WeakMap,Tw),Vu=new uR;function dg(){let t,e;const r=new Promise((a,l)=>{t=a,e=l});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function hR(t){return Math.min(1e3*2**t,3e4)}function pj(t){return(t??"online")==="online"?Vu.isOnline():!0}var mj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function cf(t){return t instanceof mj}function fj(t){let e=!1,r=0,n=!1,a;const l=dg(),c=N=>{var b;n||(x(new mj(N)),(b=t.abort)==null||b.call(t))},u=()=>{e=!0},h=()=>{e=!1},m=()=>Sv.isFocused()&&(t.networkMode==="always"||Vu.isOnline())&&t.canRun(),f=()=>pj(t.networkMode)&&t.canRun(),g=N=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,N),a==null||a(),l.resolve(N))},x=N=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,N),a==null||a(),l.reject(N))},k=()=>new Promise(N=>{var b;a=C=>{(n||m())&&N(C)},(b=t.onPause)==null||b.call(t)}).then(()=>{var N;a=void 0,n||(N=t.onContinue)==null||N.call(t)}),j=()=>{if(n)return;let N;const b=r===0?t.initialPromise:void 0;try{N=b??t.fn()}catch(C){N=Promise.reject(C)}Promise.resolve(N).then(g).catch(C=>{var _;if(n)return;const T=t.retry??(za?0:3),P=t.retryDelay??hR,A=typeof P=="function"?P(r,C):P,L=T===!0||typeof T=="number"&&r<T||typeof T=="function"&&T(r,C);if(e||!L){x(C);return}r++,(_=t.onFail)==null||_.call(t,r,C),oR(A).then(()=>m()?void 0:k()).then(()=>{e?x(C):j()})})};return{promise:l,cancel:c,continue:()=>(a==null||a(),l),cancelRetry:u,continueRetry:h,canStart:f,start:()=>(f()?j():k().then(j),l)}}var pR=t=>setTimeout(t,0);function mR(){let t=[],e=0,r=u=>{u()},n=u=>{u()},a=pR;const l=u=>{e?t.push(u):a(()=>{r(u)})},c=()=>{const u=t;t=[],u.length&&a(()=>{n(()=>{u.forEach(h=>{r(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||c()}return h},batchCalls:u=>(...h)=>{l(()=>{u(...h)})},schedule:l,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{a=u}}}var Tt=mR(),Si,_w,gj=(_w=class{constructor(){Se(this,Si)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),og(this.gcTime)&&he(this,Si,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(za?1/0:300*1e3))}clearGcTimeout(){M(this,Si)&&(clearTimeout(M(this,Si)),he(this,Si,void 0))}},Si=new WeakMap,_w),xl,Ci,Kr,Ei,qt,Zd,Ti,mn,Hn,Pw,fR=(Pw=class extends gj{constructor(t){super(),Se(this,mn),Se(this,xl),Se(this,Ci),Se(this,Kr),Se(this,Ei),Se(this,qt),Se(this,Zd),Se(this,Ti),he(this,Ti,!1),he(this,Zd,t.defaultOptions),this.setOptions(t.options),this.observers=[],he(this,Ei,t.client),he(this,Kr,M(this,Ei).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,he(this,xl,gR(this.options)),this.state=t.state??M(this,xl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=M(this,qt))==null?void 0:t.promise}setOptions(t){this.options={...M(this,Zd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,Kr).remove(this)}setData(t,e){const r=cg(this.state.data,t,this.options);return De(this,mn,Hn).call(this,{data:r,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),r}setState(t,e){De(this,mn,Hn).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var e,r;const n=(e=M(this,qt))==null?void 0:e.promise;return(r=M(this,qt))==null||r.cancel(t),n?n.then(Gt).catch(Gt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,xl))}isActive(){return this.observers.some(t=>Pr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cj(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=M(this,qt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=M(this,qt))==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),M(this,Kr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(M(this,qt)&&(M(this,Ti)?M(this,qt).cancel({revert:!0}):M(this,qt).cancelRetry()),this.scheduleGc()),M(this,Kr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,mn,Hn).call(this,{type:"invalidate"})}fetch(t,e){var r,n,a;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e!=null&&e.cancelRefetch)this.cancel({silent:!0});else if(M(this,qt))return M(this,qt).continueRetry(),M(this,qt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(g=>g.options.queryFn);f&&this.setOptions(f.options)}const l=new AbortController,c=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(he(this,Ti,!0),l.signal)})},u=()=>{const f=uj(this.options,e),g=(()=>{const x={client:M(this,Ei),queryKey:this.queryKey,meta:this.meta};return c(x),x})();return he(this,Ti,!1),this.options.persister?this.options.persister(f,g,this):f(g)},h=(()=>{const f={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:M(this,Ei),state:this.state,fetchFn:u};return c(f),f})();(r=this.options.behavior)==null||r.onFetch(h,this),he(this,Ci,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((n=h.fetchOptions)==null?void 0:n.meta))&&De(this,mn,Hn).call(this,{type:"fetch",meta:(a=h.fetchOptions)==null?void 0:a.meta});const m=f=>{var g,x,k,j;cf(f)&&f.silent||De(this,mn,Hn).call(this,{type:"error",error:f}),cf(f)||((x=(g=M(this,Kr).config).onError)==null||x.call(g,f,this),(j=(k=M(this,Kr).config).onSettled)==null||j.call(k,this.state.data,f,this)),this.scheduleGc()};return he(this,qt,fj({initialPromise:e==null?void 0:e.initialPromise,fn:h.fetchFn,abort:l.abort.bind(l),onSuccess:f=>{var g,x,k,j;if(f===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(N){m(N);return}(x=(g=M(this,Kr).config).onSuccess)==null||x.call(g,f,this),(j=(k=M(this,Kr).config).onSettled)==null||j.call(k,f,this.state.error,this),this.scheduleGc()},onError:m,onFail:(f,g)=>{De(this,mn,Hn).call(this,{type:"failed",failureCount:f,error:g})},onPause:()=>{De(this,mn,Hn).call(this,{type:"pause"})},onContinue:()=>{De(this,mn,Hn).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),M(this,qt).start()}},xl=new WeakMap,Ci=new WeakMap,Kr=new WeakMap,Ei=new WeakMap,qt=new WeakMap,Zd=new WeakMap,Ti=new WeakMap,mn=new WeakSet,Hn=function(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...vj(r.data,this.options),fetchMeta:t.meta??null};case"success":return he(this,Ci,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return cf(n)&&n.revert&&M(this,Ci)?{...M(this,Ci),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),Tt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),M(this,Kr).notify({query:this,type:"updated",action:t})})},Pw);function vj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function gR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var qn,Rw,vR=(Rw=class extends xo{constructor(t={}){super(),Se(this,qn),this.config=t,he(this,qn,new Map)}build(t,e,r){const n=e.queryKey,a=e.queryHash??kv(n,e);let l=this.get(a);return l||(l=new fR({client:t,queryKey:n,queryHash:a,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(l)),l}add(t){M(this,qn).has(t.queryHash)||(M(this,qn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=M(this,qn).get(t.queryHash);e&&(t.destroy(),e===t&&M(this,qn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return M(this,qn).get(t)}getAll(){return[...M(this,qn).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>kw(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>kw(t,r)):e}notify(t){Tt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Tt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qn=new WeakMap,Rw),Kn,ar,_i,Gn,Rs,Aw,yR=(Aw=class extends gj{constructor(t){super(),Se(this,Gn),Se(this,Kn),Se(this,ar),Se(this,_i),this.mutationId=t.mutationId,he(this,ar,t.mutationCache),he(this,Kn,[]),this.state=t.state||yj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){M(this,Kn).includes(t)||(M(this,Kn).push(t),this.clearGcTimeout(),M(this,ar).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){he(this,Kn,M(this,Kn).filter(e=>e!==t)),this.scheduleGc(),M(this,ar).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){M(this,Kn).length||(this.state.status==="pending"?this.scheduleGc():M(this,ar).remove(this))}continue(){var t;return((t=M(this,_i))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var e,r,n,a,l,c,u,h,m,f,g,x,k,j,N,b,C,_,T,P;const A=()=>{De(this,Gn,Rs).call(this,{type:"continue"})};he(this,_i,fj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,R)=>{De(this,Gn,Rs).call(this,{type:"failed",failureCount:E,error:R})},onPause:()=>{De(this,Gn,Rs).call(this,{type:"pause"})},onContinue:A,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,ar).canRun(this)}));const L=this.state.status==="pending",I=!M(this,_i).canStart();try{if(L)A();else{De(this,Gn,Rs).call(this,{type:"pending",variables:t,isPaused:I}),await((r=(e=M(this,ar).config).onMutate)==null?void 0:r.call(e,t,this));const R=await((a=(n=this.options).onMutate)==null?void 0:a.call(n,t));R!==this.state.context&&De(this,Gn,Rs).call(this,{type:"pending",context:R,variables:t,isPaused:I})}const E=await M(this,_i).start();return await((c=(l=M(this,ar).config).onSuccess)==null?void 0:c.call(l,E,t,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,E,t,this.state.context)),await((f=(m=M(this,ar).config).onSettled)==null?void 0:f.call(m,E,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,E,null,t,this.state.context)),De(this,Gn,Rs).call(this,{type:"success",data:E}),E}catch(E){try{throw await((j=(k=M(this,ar).config).onError)==null?void 0:j.call(k,E,t,this.state.context,this)),await((b=(N=this.options).onError)==null?void 0:b.call(N,E,t,this.state.context)),await((_=(C=M(this,ar).config).onSettled)==null?void 0:_.call(C,void 0,E,this.state.variables,this.state.context,this)),await((P=(T=this.options).onSettled)==null?void 0:P.call(T,void 0,E,t,this.state.context)),E}finally{De(this,Gn,Rs).call(this,{type:"error",error:E})}}finally{M(this,ar).runNext(this)}}},Kn=new WeakMap,ar=new WeakMap,_i=new WeakMap,Gn=new WeakSet,Rs=function(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Tt.batch(()=>{M(this,Kn).forEach(r=>{r.onMutationUpdate(t)}),M(this,ar).notify({mutation:this,type:"updated",action:t})})},Aw);function yj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var As,fn,Qd,Iw,xR=(Iw=class extends xo{constructor(t={}){super(),Se(this,As),Se(this,fn),Se(this,Qd),this.config=t,he(this,As,new Set),he(this,fn,new Map),he(this,Qd,0)}build(t,e,r){const n=new yR({mutationCache:this,mutationId:++ig(this,Qd)._,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){M(this,As).add(t);const e=Xd(t);if(typeof e=="string"){const r=M(this,fn).get(e);r?r.push(t):M(this,fn).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(M(this,As).delete(t)){const e=Xd(t);if(typeof e=="string"){const r=M(this,fn).get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&M(this,fn).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Xd(t);if(typeof e=="string"){const r=M(this,fn).get(e),n=r==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===t}else return!0}runNext(t){var e;const r=Xd(t);if(typeof r=="string"){const n=(e=M(this,fn).get(r))==null?void 0:e.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tt.batch(()=>{M(this,As).forEach(t=>{this.notify({type:"removed",mutation:t})}),M(this,As).clear(),M(this,fn).clear()})}getAll(){return Array.from(M(this,As))}find(t){const e={exact:!0,...t};return this.getAll().find(r=>jw(e,r))}findAll(t={}){return this.getAll().filter(e=>jw(t,e))}notify(t){Tt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Tt.batch(()=>Promise.all(t.map(e=>e.continue().catch(Gt))))}},As=new WeakMap,fn=new WeakMap,Qd=new WeakMap,Iw);function Xd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Ow(t){return{onFetch:(e,r)=>{var n,a,l,c,u;const h=e.options,m=(l=(a=(n=e.fetchOptions)==null?void 0:n.meta)==null?void 0:a.fetchMore)==null?void 0:l.direction,f=((c=e.state.data)==null?void 0:c.pages)||[],g=((u=e.state.data)==null?void 0:u.pageParams)||[];let x={pages:[],pageParams:[]},k=0;const j=async()=>{let N=!1;const b=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?N=!0:e.signal.addEventListener("abort",()=>{N=!0}),e.signal)})},C=uj(e.options,e.fetchOptions),_=async(T,P,A)=>{if(N)return Promise.reject();if(P==null&&T.pages.length)return Promise.resolve(T);const L=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:P,direction:A?"backward":"forward",meta:e.options.meta};return b(z),z})(),I=await C(L),{maxPages:E}=e.options,R=A?cR:lR;return{pages:R(T.pages,I,E),pageParams:R(T.pageParams,P,E)}};if(m&&f.length){const T=m==="backward",P=T?bR:Dw,A={pages:f,pageParams:g},L=P(h,A);x=await _(A,L,T)}else{const T=t??f.length;do{const P=k===0?g[0]??h.initialPageParam:Dw(h,x);if(k>0&&P==null)break;x=await _(x,P),k++}while(k<T)}return x};e.options.persister?e.fetchFn=()=>{var N,b;return(b=(N=e.options).persister)==null?void 0:b.call(N,j,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=j}}}function Dw(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function bR(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ft,wa,Na,bl,wl,ka,Nl,kl,Lw,xj=(Lw=class{constructor(t={}){Se(this,ft),Se(this,wa),Se(this,Na),Se(this,bl),Se(this,wl),Se(this,ka),Se(this,Nl),Se(this,kl),he(this,ft,t.queryCache||new vR),he(this,wa,t.mutationCache||new xR),he(this,Na,t.defaultOptions||{}),he(this,bl,new Map),he(this,wl,new Map),he(this,ka,0)}mount(){ig(this,ka)._++,M(this,ka)===1&&(he(this,Nl,Sv.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,ft).onFocus())})),he(this,kl,Vu.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,ft).onOnline())})))}unmount(){var t,e;ig(this,ka)._--,M(this,ka)===0&&((t=M(this,Nl))==null||t.call(this),he(this,Nl,void 0),(e=M(this,kl))==null||e.call(this),he(this,kl,void 0))}isFetching(t){return M(this,ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return M(this,wa).findAll({...t,status:"pending"}).length}getQueryData(t){var e;const r=this.defaultQueryOptions({queryKey:t});return(e=M(this,ft).get(r.queryHash))==null?void 0:e.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=M(this,ft).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Bs(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return M(this,ft).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=M(this,ft).get(n.queryHash),l=a==null?void 0:a.state.data,c=iR(e,l);if(c!==void 0)return M(this,ft).build(this,n).setData(c,{...r,manual:!0})}setQueriesData(t,e,r){return Tt.batch(()=>M(this,ft).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var e;const r=this.defaultQueryOptions({queryKey:t});return(e=M(this,ft).get(r.queryHash))==null?void 0:e.state}removeQueries(t){const e=M(this,ft);Tt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=M(this,ft);return Tt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Tt.batch(()=>M(this,ft).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(Gt).catch(Gt)}invalidateQueries(t,e={}){return Tt.batch(()=>(M(this,ft).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Tt.batch(()=>M(this,ft).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,r);return r.throwOnError||(l=l.catch(Gt)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(Gt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=M(this,ft).build(this,e);return r.isStaleByTime(Bs(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Gt).catch(Gt)}fetchInfiniteQuery(t){return t.behavior=Ow(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Gt).catch(Gt)}ensureInfiniteQueryData(t){return t.behavior=Ow(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vu.isOnline()?M(this,wa).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,ft)}getMutationCache(){return M(this,wa)}getDefaultOptions(){return M(this,Na)}setDefaultOptions(t){he(this,Na,t)}setQueryDefaults(t,e){M(this,bl).set(Ua(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...M(this,bl).values()],r={};return e.forEach(n=>{Ql(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){M(this,wl).set(Ua(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...M(this,wl).values()],r={};return e.forEach(n=>{Ql(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...M(this,Na).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=kv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===jv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...M(this,Na).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){M(this,ft).clear(),M(this,wa).clear()}},ft=new WeakMap,wa=new WeakMap,Na=new WeakMap,bl=new WeakMap,wl=new WeakMap,ka=new WeakMap,Nl=new WeakMap,kl=new WeakMap,Lw),pr,Ve,Yd,ir,Pi,jl,ja,Sa,Jd,Sl,Cl,Ri,Ai,Ca,El,gt,Tl,df,uf,hf,pf,mf,ff,gf,Mw,Fw,wR=(Fw=class extends xo{constructor(t,e){super(),Se(this,gt),Se(this,pr),Se(this,Ve),Se(this,Yd),Se(this,ir),Se(this,Pi),Se(this,jl),Se(this,ja),Se(this,Sa),Se(this,Jd),Se(this,Sl),Se(this,Cl),Se(this,Ri),Se(this,Ai),Se(this,Ca),Se(this,El,new Set),this.options=e,he(this,pr,t),he(this,Sa,null),he(this,ja,dg()),this.options.experimental_prefetchInRender||M(this,ja).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,Ve).addObserver(this),zw(M(this,Ve),this.options)?De(this,gt,Tl).call(this):this.updateResult(),De(this,gt,pf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ug(M(this,Ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ug(M(this,Ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,gt,mf).call(this),De(this,gt,ff).call(this),M(this,Ve).removeObserver(this)}setOptions(t){const e=this.options,r=M(this,Ve);if(this.options=M(this,pr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pr(this.options.enabled,M(this,Ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,gt,gf).call(this),M(this,Ve).setOptions(this.options),e._defaulted&&!$u(this.options,e)&&M(this,pr).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,Ve),observer:this});const n=this.hasListeners();n&&Uw(M(this,Ve),r,this.options,e)&&De(this,gt,Tl).call(this),this.updateResult(),n&&(M(this,Ve)!==r||Pr(this.options.enabled,M(this,Ve))!==Pr(e.enabled,M(this,Ve))||Bs(this.options.staleTime,M(this,Ve))!==Bs(e.staleTime,M(this,Ve)))&&De(this,gt,df).call(this);const a=De(this,gt,uf).call(this);n&&(M(this,Ve)!==r||Pr(this.options.enabled,M(this,Ve))!==Pr(e.enabled,M(this,Ve))||a!==M(this,Ca))&&De(this,gt,hf).call(this,a)}getOptimisticResult(t){const e=M(this,pr).getQueryCache().build(M(this,pr),t),r=this.createResult(e,t);return kR(this,r)&&(he(this,ir,r),he(this,jl,this.options),he(this,Pi,M(this,Ve).state)),r}getCurrentResult(){return M(this,ir)}trackResult(t,e){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),e==null||e(n),Reflect.get(r,n))})}trackProp(t){M(this,El).add(t)}getCurrentQuery(){return M(this,Ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=M(this,pr).defaultQueryOptions(t),r=M(this,pr).getQueryCache().build(M(this,pr),e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return De(this,gt,Tl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,ir)))}createResult(t,e){var r;const n=M(this,Ve),a=this.options,l=M(this,ir),c=M(this,Pi),u=M(this,jl),h=t!==n?t.state:M(this,Yd),{state:m}=t;let f={...m},g=!1,x;if(e._optimisticResults){const I=this.hasListeners(),E=!I&&zw(t,e),R=I&&Uw(t,n,e,a);(E||R)&&(f={...f,...vj(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:k,errorUpdatedAt:j,status:N}=f;x=f.data;let b=!1;if(e.placeholderData!==void 0&&x===void 0&&N==="pending"){let I;l!=null&&l.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData)?(I=l.data,b=!0):I=typeof e.placeholderData=="function"?e.placeholderData((r=M(this,Cl))==null?void 0:r.state.data,M(this,Cl)):e.placeholderData,I!==void 0&&(N="success",x=cg(l==null?void 0:l.data,I,e),g=!0)}if(e.select&&x!==void 0&&!b)if(l&&x===(c==null?void 0:c.data)&&e.select===M(this,Jd))x=M(this,Sl);else try{he(this,Jd,e.select),x=e.select(x),x=cg(l==null?void 0:l.data,x,e),he(this,Sl,x),he(this,Sa,null)}catch(I){he(this,Sa,I)}M(this,Sa)&&(k=M(this,Sa),x=M(this,Sl),j=Date.now(),N="error");const C=f.fetchStatus==="fetching",_=N==="pending",T=N==="error",P=_&&C,A=x!==void 0,L={status:N,fetchStatus:f.fetchStatus,isPending:_,isSuccess:N==="success",isError:T,isInitialLoading:P,isLoading:P,data:x,dataUpdatedAt:f.dataUpdatedAt,error:k,errorUpdatedAt:j,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>h.dataUpdateCount||f.errorUpdateCount>h.errorUpdateCount,isFetching:C,isRefetching:C&&!_,isLoadingError:T&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:T&&A,isStale:Cv(t,e),refetch:this.refetch,promise:M(this,ja),isEnabled:Pr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=z=>{L.status==="error"?z.reject(L.error):L.data!==void 0&&z.resolve(L.data)},E=()=>{const z=he(this,ja,L.promise=dg());I(z)},R=M(this,ja);switch(R.status){case"pending":t.queryHash===n.queryHash&&I(R);break;case"fulfilled":(L.status==="error"||L.data!==R.value)&&E();break;case"rejected":(L.status!=="error"||L.error!==R.reason)&&E();break}}return L}updateResult(){const t=M(this,ir),e=this.createResult(M(this,Ve),this.options);if(he(this,Pi,M(this,Ve).state),he(this,jl,this.options),M(this,Pi).data!==void 0&&he(this,Cl,M(this,Ve)),$u(e,t))return;he(this,ir,e);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!M(this,El).size)return!0;const l=new Set(a??M(this,El));return this.options.throwOnError&&l.add("error"),Object.keys(M(this,ir)).some(c=>{const u=c;return M(this,ir)[u]!==t[u]&&l.has(u)})};De(this,gt,Mw).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,gt,pf).call(this)}},pr=new WeakMap,Ve=new WeakMap,Yd=new WeakMap,ir=new WeakMap,Pi=new WeakMap,jl=new WeakMap,ja=new WeakMap,Sa=new WeakMap,Jd=new WeakMap,Sl=new WeakMap,Cl=new WeakMap,Ri=new WeakMap,Ai=new WeakMap,Ca=new WeakMap,El=new WeakMap,gt=new WeakSet,Tl=function(t){De(this,gt,gf).call(this);let e=M(this,Ve).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Gt)),e},df=function(){De(this,gt,mf).call(this);const t=Bs(this.options.staleTime,M(this,Ve));if(za||M(this,ir).isStale||!og(t))return;const e=cj(M(this,ir).dataUpdatedAt,t)+1;he(this,Ri,setTimeout(()=>{M(this,ir).isStale||this.updateResult()},e))},uf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,Ve)):this.options.refetchInterval)??!1},hf=function(t){De(this,gt,ff).call(this),he(this,Ca,t),!(za||Pr(this.options.enabled,M(this,Ve))===!1||!og(M(this,Ca))||M(this,Ca)===0)&&he(this,Ai,setInterval(()=>{(this.options.refetchIntervalInBackground||Sv.isFocused())&&De(this,gt,Tl).call(this)},M(this,Ca)))},pf=function(){De(this,gt,df).call(this),De(this,gt,hf).call(this,De(this,gt,uf).call(this))},mf=function(){M(this,Ri)&&(clearTimeout(M(this,Ri)),he(this,Ri,void 0))},ff=function(){M(this,Ai)&&(clearInterval(M(this,Ai)),he(this,Ai,void 0))},gf=function(){const t=M(this,pr).getQueryCache().build(M(this,pr),this.options);if(t===M(this,Ve))return;const e=M(this,Ve);he(this,Ve,t),he(this,Yd,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},Mw=function(t){Tt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(M(this,ir))}),M(this,pr).getQueryCache().notify({query:M(this,Ve),type:"observerResultsUpdated"})})},Fw);function NR(t,e){return Pr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function zw(t,e){return NR(t,e)||t.state.data!==void 0&&ug(t,e,e.refetchOnMount)}function ug(t,e,r){if(Pr(e.enabled,t)!==!1&&Bs(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Cv(t,e)}return!1}function Uw(t,e,r,n){return(t!==e||Pr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Cv(t,r)}function Cv(t,e){return Pr(e.enabled,t)!==!1&&t.isStaleByTime(Bs(e.staleTime,t))}function kR(t,e){return!$u(t.getCurrentResult(),e)}var Ea,Ta,mr,Is,_a,eu,vf,$w,jR=($w=class extends xo{constructor(t,e){super(),Se(this,_a),Se(this,Ea),Se(this,Ta),Se(this,mr),Se(this,Is),he(this,Ea,t),this.setOptions(e),this.bindMethods(),De(this,_a,eu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var e;const r=this.options;this.options=M(this,Ea).defaultMutationOptions(t),$u(this.options,r)||M(this,Ea).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,mr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ua(r.mutationKey)!==Ua(this.options.mutationKey)?this.reset():((e=M(this,mr))==null?void 0:e.state.status)==="pending"&&M(this,mr).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=M(this,mr))==null||t.removeObserver(this)}onMutationUpdate(t){De(this,_a,eu).call(this),De(this,_a,vf).call(this,t)}getCurrentResult(){return M(this,Ta)}reset(){var t;(t=M(this,mr))==null||t.removeObserver(this),he(this,mr,void 0),De(this,_a,eu).call(this),De(this,_a,vf).call(this)}mutate(t,e){var r;return he(this,Is,e),(r=M(this,mr))==null||r.removeObserver(this),he(this,mr,M(this,Ea).getMutationCache().build(M(this,Ea),this.options)),M(this,mr).addObserver(this),M(this,mr).execute(t)}},Ea=new WeakMap,Ta=new WeakMap,mr=new WeakMap,Is=new WeakMap,_a=new WeakSet,eu=function(){var t;const e=((t=M(this,mr))==null?void 0:t.state)??yj();he(this,Ta,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},vf=function(t){Tt.batch(()=>{var e,r,n,a,l,c,u,h;if(M(this,Is)&&this.hasListeners()){const m=M(this,Ta).variables,f=M(this,Ta).context;(t==null?void 0:t.type)==="success"?((r=(e=M(this,Is)).onSuccess)==null||r.call(e,t.data,m,f),(a=(n=M(this,Is)).onSettled)==null||a.call(n,t.data,null,m,f)):(t==null?void 0:t.type)==="error"&&((c=(l=M(this,Is)).onError)==null||c.call(l,t.error,m,f),(h=(u=M(this,Is)).onSettled)==null||h.call(u,void 0,t.error,m,f))}this.listeners.forEach(m=>{m(M(this,Ta))})})},$w),bj=y.createContext(void 0),bo=t=>{const e=y.useContext(bj);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},SR=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(bj.Provider,{value:t,children:e})),wj=y.createContext(!1),CR=()=>y.useContext(wj);wj.Provider;function ER(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var TR=y.createContext(ER()),_R=()=>y.useContext(TR),PR=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},RR=t=>{y.useEffect(()=>{t.clearReset()},[t])},AR=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(a&&t.data===void 0||hj(r,[t.error,n])),IR=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},OR=(t,e)=>t.isLoading&&t.isFetching&&!e,DR=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Vw=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function LR(t,e,r){var n,a,l,c,u;const h=CR(),m=_R(),f=bo(),g=f.defaultQueryOptions(t);(a=(n=f.getDefaultOptions().queries)==null?void 0:n._experimental_beforeQuery)==null||a.call(n,g),g._optimisticResults=h?"isRestoring":"optimistic",IR(g),PR(g,m),RR(m);const x=!f.getQueryCache().get(g.queryHash),[k]=y.useState(()=>new e(f,g)),j=k.getOptimisticResult(g),N=!h&&t.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(b=>{const C=N?k.subscribe(Tt.batchCalls(b)):Gt;return k.updateResult(),C},[k,N]),()=>k.getCurrentResult(),()=>k.getCurrentResult()),y.useEffect(()=>{k.setOptions(g)},[g,k]),DR(g,j))throw Vw(g,k,m);if(AR({result:j,errorResetBoundary:m,throwOnError:g.throwOnError,query:f.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw j.error;if((c=(l=f.getDefaultOptions().queries)==null?void 0:l._experimental_afterQuery)==null||c.call(l,g,j),g.experimental_prefetchInRender&&!za&&OR(j,h)){const b=x?Vw(g,k,m):(u=f.getQueryCache().get(g.queryHash))==null?void 0:u.promise;b==null||b.catch(Gt).finally(()=>{k.updateResult()})}return g.notifyOnChangeProps?j:k.trackResult(j)}function Gs(t,e){return LR(t,wR)}function Wu(t,e){const r=bo(),[n]=y.useState(()=>new jR(r,t));y.useEffect(()=>{n.setOptions(t)},[n,t]);const a=y.useSyncExternalStore(y.useCallback(c=>n.subscribe(Tt.batchCalls(c)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),l=y.useCallback((c,u)=>{n.mutate(c,u).catch(Gt)},[n]);if(a.error&&hj(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}function MR({children:t}){const[e]=y.useState(()=>new xj({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,staleTime:3e5}}}));return i.jsx(SR,{client:e,children:t})}new xj({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,staleTime:300*1e3}}});function me(t,e,{checkForDefaultPrevented:r=!0}={}){return function(n){if(t==null||t(n),r===!1||!n.defaultPrevented)return e==null?void 0:e(n)}}function Ww(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _h(...t){return e=>{let r=!1;const n=t.map(a=>{const l=Ww(a,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<n.length;a++){const l=n[a];typeof l=="function"?l():Ww(t[a],null)}}}}function Ze(...t){return y.useCallback(_h(...t),t)}function FR(t,e){const r=y.createContext(e),n=l=>{const{children:c,...u}=l,h=y.useMemo(()=>u,Object.values(u));return i.jsx(r.Provider,{value:h,children:c})};n.displayName=t+"Provider";function a(l){const c=y.useContext(r);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[n,a]}function lr(t,e=[]){let r=[];function n(l,c){const u=y.createContext(c),h=r.length;r=[...r,c];const m=g=>{var x;const{scope:k,children:j,...N}=g,b=((x=k==null?void 0:k[t])==null?void 0:x[h])||u,C=y.useMemo(()=>N,Object.values(N));return i.jsx(b.Provider,{value:C,children:j})};m.displayName=l+"Provider";function f(g,x){var k;const j=((k=x==null?void 0:x[t])==null?void 0:k[h])||u,N=y.useContext(j);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,f]}const a=()=>{const l=r.map(c=>y.createContext(c));return function(c){const u=(c==null?void 0:c[t])||l;return y.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return a.scopeName=t,[n,zR(a,...e)]}function zR(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){const l=n.reduce((c,{useScope:u,scopeName:h})=>{const m=u(a)[`__scope${h}`];return{...c,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return r.scopeName=e.scopeName,r}var Ph=Yk();const UR=Xk(Ph);function Ji(t){const e=VR(t),r=y.forwardRef((n,a)=>{const{children:l,...c}=n,u=y.Children.toArray(l),h=u.find(BR);if(h){const m=h.props.children,f=u.map(g=>g===h?y.Children.count(m)>1?y.Children.only(null):y.isValidElement(m)?m.props.children:null:g);return i.jsx(e,{...c,ref:a,children:y.isValidElement(m)?y.cloneElement(m,void 0,f):null})}return i.jsx(e,{...c,ref:a,children:l})});return r.displayName=`${t}.Slot`,r}var $R=Ji("Slot");function VR(t){const e=y.forwardRef((r,n)=>{const{children:a,...l}=r;if(y.isValidElement(a)){const c=qR(a),u=HR(l,a.props);return a.type!==y.Fragment&&(u.ref=n?_h(n,c):c),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Nj=Symbol("radix.slottable");function WR(t){const e=({children:r})=>i.jsx(i.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Nj,e}function BR(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Nj}function HR(t,e){const r={...e};for(const n in e){const a=t[n],l=e[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...c)=>{const u=l(...c);return a(...c),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...t,...r}}function qR(t){var e,r;let n=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?t.ref:(n=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var KR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=KR.reduce((t,e)=>{const r=Ji(`Primitive.${e}`),n=y.forwardRef((a,l)=>{const{asChild:c,...u}=a,h=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(h,{...u,ref:l})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Ev(t,e){t&&Ph.flushSync(()=>t.dispatchEvent(e))}function or(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function GR(t,e=globalThis==null?void 0:globalThis.document){const r=or(t);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var ZR="DismissableLayer",hg="dismissableLayer.update",QR="dismissableLayer.pointerDownOutside",XR="dismissableLayer.focusOutside",Bw,kj=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yc=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...h}=t,m=y.useContext(kj),[f,g]=y.useState(null),x=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=y.useState({}),j=Ze(e,I=>g(I)),N=Array.from(m.layers),[b]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=N.indexOf(b),_=f?N.indexOf(f):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,P=_>=C,A=JR(I=>{const E=I.target,R=[...m.branches].some(z=>z.contains(E));!P||R||(a==null||a(I),c==null||c(I),I.defaultPrevented||u==null||u())},x),L=e3(I=>{const E=I.target;[...m.branches].some(R=>R.contains(E))||(l==null||l(I),c==null||c(I),I.defaultPrevented||u==null||u())},x);return GR(I=>{_===m.layers.size-1&&(n==null||n(I),!I.defaultPrevented&&u&&(I.preventDefault(),u()))},x),y.useEffect(()=>{if(f)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Bw=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(f)),m.layers.add(f),Hw(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Bw)}},[f,x,r,m]),y.useEffect(()=>()=>{f&&(m.layers.delete(f),m.layersWithOutsidePointerEventsDisabled.delete(f),Hw())},[f,m]),y.useEffect(()=>{const I=()=>k({});return document.addEventListener(hg,I),()=>document.removeEventListener(hg,I)},[]),i.jsx(Ae.div,{...h,ref:j,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:me(t.onFocusCapture,L.onFocusCapture),onBlurCapture:me(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:me(t.onPointerDownCapture,A.onPointerDownCapture)})});yc.displayName=ZR;var YR="DismissableLayerBranch",jj=y.forwardRef((t,e)=>{const r=y.useContext(kj),n=y.useRef(null),a=Ze(e,n);return y.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),i.jsx(Ae.div,{...t,ref:a})});jj.displayName=YR;function JR(t,e=globalThis==null?void 0:globalThis.document){const r=or(t),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const l=u=>{if(u.target&&!n.current){let h=function(){Sj(QR,r,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=h,e.addEventListener("click",a.current,{once:!0})):h()}else e.removeEventListener("click",a.current);n.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function e3(t,e=globalThis==null?void 0:globalThis.document){const r=or(t),n=y.useRef(!1);return y.useEffect(()=>{const a=l=>{l.target&&!n.current&&Sj(XR,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Hw(){const t=new CustomEvent(hg);document.dispatchEvent(t)}function Sj(t,e,r,{discrete:n}){const a=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?Ev(a,l):a.dispatchEvent(l)}var t3=yc,r3=jj,Lr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},n3=xv[" useId ".trim().toString()]||(()=>{}),s3=0;function La(t){const[e,r]=y.useState(n3());return Lr(()=>{r(n=>n??String(s3++))},[t]),e?`radix-${e}`:""}const a3=["top","right","bottom","left"],Zs=Math.min,gr=Math.max,Bu=Math.round,tu=Math.floor,bn=t=>({x:t,y:t}),i3={left:"right",right:"left",bottom:"top",top:"bottom"},o3={start:"end",end:"start"};function pg(t,e,r){return gr(t,Zs(e,r))}function ss(t,e){return typeof t=="function"?t(e):t}function as(t){return t.split("-")[0]}function wo(t){return t.split("-")[1]}function Tv(t){return t==="x"?"y":"x"}function _v(t){return t==="y"?"height":"width"}const l3=new Set(["top","bottom"]);function xn(t){return l3.has(as(t))?"y":"x"}function Pv(t){return Tv(xn(t))}function c3(t,e,r){r===void 0&&(r=!1);const n=wo(t),a=Pv(t),l=_v(a);let c=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Hu(c)),[c,Hu(c)]}function d3(t){const e=Hu(t);return[mg(t),e,mg(e)]}function mg(t){return t.replace(/start|end/g,e=>o3[e])}const qw=["left","right"],Kw=["right","left"],u3=["top","bottom"],h3=["bottom","top"];function p3(t,e,r){switch(t){case"top":case"bottom":return r?e?Kw:qw:e?qw:Kw;case"left":case"right":return e?u3:h3;default:return[]}}function m3(t,e,r,n){const a=wo(t);let l=p3(as(t),r==="start",n);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(mg)))),l}function Hu(t){return t.replace(/left|right|bottom|top/g,e=>i3[e])}function f3(t){return{top:0,right:0,bottom:0,left:0,...t}}function Cj(t){return typeof t!="number"?f3(t):{top:t,right:t,bottom:t,left:t}}function qu(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function Gw(t,e,r){let{reference:n,floating:a}=t;const l=xn(e),c=Pv(e),u=_v(c),h=as(e),m=l==="y",f=n.x+n.width/2-a.width/2,g=n.y+n.height/2-a.height/2,x=n[u]/2-a[u]/2;let k;switch(h){case"top":k={x:f,y:n.y-a.height};break;case"bottom":k={x:f,y:n.y+n.height};break;case"right":k={x:n.x+n.width,y:g};break;case"left":k={x:n.x-a.width,y:g};break;default:k={x:n.x,y:n.y}}switch(wo(e)){case"start":k[c]-=x*(r&&m?-1:1);break;case"end":k[c]+=x*(r&&m?-1:1);break}return k}const g3=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:l=[],platform:c}=r,u=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:a}),{x:f,y:g}=Gw(m,n,h),x=n,k={},j=0;for(let N=0;N<u.length;N++){const{name:b,fn:C}=u[N],{x:_,y:T,data:P,reset:A}=await C({x:f,y:g,initialPlacement:n,placement:x,strategy:a,middlewareData:k,rects:m,platform:c,elements:{reference:t,floating:e}});f=_??f,g=T??g,k={...k,[b]:{...k[b],...P}},A&&j<=50&&(j++,typeof A=="object"&&(A.placement&&(x=A.placement),A.rects&&(m=A.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:a}):A.rects),{x:f,y:g}=Gw(m,x,h)),N=-1)}return{x:f,y:g,placement:x,strategy:a,middlewareData:k}};async function Xl(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:l,rects:c,elements:u,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:x=!1,padding:k=0}=ss(e,t),j=Cj(k),N=u[x?g==="floating"?"reference":"floating":g],b=qu(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(N)))==null||r?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:m,rootBoundary:f,strategy:h})),C=g==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),T=await(l.isElement==null?void 0:l.isElement(_))?await(l.getScale==null?void 0:l.getScale(_))||{x:1,y:1}:{x:1,y:1},P=qu(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:_,strategy:h}):C);return{top:(b.top-P.top+j.top)/T.y,bottom:(P.bottom-b.bottom+j.bottom)/T.y,left:(b.left-P.left+j.left)/T.x,right:(P.right-b.right+j.right)/T.x}}const v3=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:l,platform:c,elements:u,middlewareData:h}=e,{element:m,padding:f=0}=ss(t,e)||{};if(m==null)return{};const g=Cj(f),x={x:r,y:n},k=Pv(a),j=_v(k),N=await c.getDimensions(m),b=k==="y",C=b?"top":"left",_=b?"bottom":"right",T=b?"clientHeight":"clientWidth",P=l.reference[j]+l.reference[k]-x[k]-l.floating[j],A=x[k]-l.reference[k],L=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let I=L?L[T]:0;(!I||!await(c.isElement==null?void 0:c.isElement(L)))&&(I=u.floating[T]||l.floating[j]);const E=P/2-A/2,R=I/2-N[j]/2-1,z=Zs(g[C],R),G=Zs(g[_],R),W=z,ee=I-N[j]-G,D=I/2-N[j]/2+E,Q=pg(W,D,ee),ae=!h.arrow&&wo(a)!=null&&D!==Q&&l.reference[j]/2-(D<W?z:G)-N[j]/2<0,oe=ae?D<W?D-W:D-ee:0;return{[k]:x[k]+oe,data:{[k]:Q,centerOffset:D-Q-oe,...ae&&{alignmentOffset:oe}},reset:ae}}}),y3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:l,rects:c,initialPlacement:u,platform:h,elements:m}=e,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:N=!0,...b}=ss(t,e);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=as(a),_=xn(u),T=as(u)===u,P=await(h.isRTL==null?void 0:h.isRTL(m.floating)),A=x||(T||!N?[Hu(u)]:d3(u)),L=j!=="none";!x&&L&&A.push(...m3(u,N,j,P));const I=[u,...A],E=await Xl(e,b),R=[];let z=((n=l.flip)==null?void 0:n.overflows)||[];if(f&&R.push(E[C]),g){const D=c3(a,c,P);R.push(E[D[0]],E[D[1]])}if(z=[...z,{placement:a,overflows:R}],!R.every(D=>D<=0)){var G,W;const D=(((G=l.flip)==null?void 0:G.index)||0)+1,Q=I[D];if(Q&&(!(g==="alignment"&&_!==xn(Q))||z.every(oe=>xn(oe.placement)===_?oe.overflows[0]>0:!0)))return{data:{index:D,overflows:z},reset:{placement:Q}};let ae=(W=z.filter(oe=>oe.overflows[0]<=0).sort((oe,H)=>oe.overflows[1]-H.overflows[1])[0])==null?void 0:W.placement;if(!ae)switch(k){case"bestFit":{var ee;const oe=(ee=z.filter(H=>{if(L){const Z=xn(H.placement);return Z===_||Z==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(Z=>Z>0).reduce((Z,X)=>Z+X,0)]).sort((H,Z)=>H[1]-Z[1])[0])==null?void 0:ee[0];oe&&(ae=oe);break}case"initialPlacement":ae=u;break}if(a!==ae)return{reset:{placement:ae}}}return{}}}};function Zw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Qw(t){return a3.some(e=>t[e]>=0)}const x3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=ss(t,e);switch(n){case"referenceHidden":{const l=await Xl(e,{...a,elementContext:"reference"}),c=Zw(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Qw(c)}}}case"escaped":{const l=await Xl(e,{...a,altBoundary:!0}),c=Zw(l,r.floating);return{data:{escapedOffsets:c,escaped:Qw(c)}}}default:return{}}}}},Ej=new Set(["left","top"]);async function b3(t,e){const{placement:r,platform:n,elements:a}=t,l=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=as(r),u=wo(r),h=xn(r)==="y",m=Ej.has(c)?-1:1,f=l&&h?-1:1,g=ss(e,t);let{mainAxis:x,crossAxis:k,alignmentAxis:j}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof j=="number"&&(k=u==="end"?j*-1:j),h?{x:k*f,y:x*m}:{x:x*m,y:k*f}}const w3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:l,placement:c,middlewareData:u}=e,h=await b3(e,t);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:a+h.x,y:l+h.y,data:{...h,placement:c}}}}},N3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:b=>{let{x:C,y:_}=b;return{x:C,y:_}}},...h}=ss(t,e),m={x:r,y:n},f=await Xl(e,h),g=xn(as(a)),x=Tv(g);let k=m[x],j=m[g];if(l){const b=x==="y"?"top":"left",C=x==="y"?"bottom":"right",_=k+f[b],T=k-f[C];k=pg(_,k,T)}if(c){const b=g==="y"?"top":"left",C=g==="y"?"bottom":"right",_=j+f[b],T=j-f[C];j=pg(_,j,T)}const N=u.fn({...e,[x]:k,[g]:j});return{...N,data:{x:N.x-r,y:N.y-n,enabled:{[x]:l,[g]:c}}}}}},k3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:l,middlewareData:c}=e,{offset:u=0,mainAxis:h=!0,crossAxis:m=!0}=ss(t,e),f={x:r,y:n},g=xn(a),x=Tv(g);let k=f[x],j=f[g];const N=ss(u,e),b=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(h){const T=x==="y"?"height":"width",P=l.reference[x]-l.floating[T]+b.mainAxis,A=l.reference[x]+l.reference[T]-b.mainAxis;k<P?k=P:k>A&&(k=A)}if(m){var C,_;const T=x==="y"?"width":"height",P=Ej.has(as(a)),A=l.reference[g]-l.floating[T]+(P&&((C=c.offset)==null?void 0:C[g])||0)+(P?0:b.crossAxis),L=l.reference[g]+l.reference[T]+(P?0:((_=c.offset)==null?void 0:_[g])||0)-(P?b.crossAxis:0);j<A?j=A:j>L&&(j=L)}return{[x]:k,[g]:j}}}},j3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:l,platform:c,elements:u}=e,{apply:h=()=>{},...m}=ss(t,e),f=await Xl(e,m),g=as(a),x=wo(a),k=xn(a)==="y",{width:j,height:N}=l.floating;let b,C;g==="top"||g==="bottom"?(b=g,C=x===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(C=g,b=x==="end"?"top":"bottom");const _=N-f.top-f.bottom,T=j-f.left-f.right,P=Zs(N-f[b],_),A=Zs(j-f[C],T),L=!e.middlewareData.shift;let I=P,E=A;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=T),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(I=_),L&&!x){const z=gr(f.left,0),G=gr(f.right,0),W=gr(f.top,0),ee=gr(f.bottom,0);k?E=j-2*(z!==0||G!==0?z+G:gr(f.left,f.right)):I=N-2*(W!==0||ee!==0?W+ee:gr(f.top,f.bottom))}await h({...e,availableWidth:E,availableHeight:I});const R=await c.getDimensions(u.floating);return j!==R.width||N!==R.height?{reset:{rects:!0}}:{}}}};function Rh(){return typeof window<"u"}function No(t){return Tj(t)?(t.nodeName||"").toLowerCase():"#document"}function yr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function An(t){var e;return(e=(Tj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Tj(t){return Rh()?t instanceof Node||t instanceof yr(t).Node:!1}function tn(t){return Rh()?t instanceof Element||t instanceof yr(t).Element:!1}function Tn(t){return Rh()?t instanceof HTMLElement||t instanceof yr(t).HTMLElement:!1}function Xw(t){return!Rh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yr(t).ShadowRoot}const S3=new Set(["inline","contents"]);function xc(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=rn(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!S3.has(a)}const C3=new Set(["table","td","th"]);function E3(t){return C3.has(No(t))}const T3=[":popover-open",":modal"];function Ah(t){return T3.some(e=>{try{return t.matches(e)}catch{return!1}})}const _3=["transform","translate","scale","rotate","perspective"],P3=["transform","translate","scale","rotate","perspective","filter"],R3=["paint","layout","strict","content"];function Rv(t){const e=Av(),r=tn(t)?rn(t):t;return _3.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||P3.some(n=>(r.willChange||"").includes(n))||R3.some(n=>(r.contain||"").includes(n))}function A3(t){let e=Qs(t);for(;Tn(e)&&!eo(e);){if(Rv(e))return e;if(Ah(e))return null;e=Qs(e)}return null}function Av(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const I3=new Set(["html","body","#document"]);function eo(t){return I3.has(No(t))}function rn(t){return yr(t).getComputedStyle(t)}function Ih(t){return tn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qs(t){if(No(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Xw(t)&&t.host||An(t);return Xw(e)?e.host:e}function _j(t){const e=Qs(t);return eo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Tn(e)&&xc(e)?e:_j(e)}function Yl(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=_j(t),l=a===((n=t.ownerDocument)==null?void 0:n.body),c=yr(a);if(l){const u=fg(c);return e.concat(c,c.visualViewport||[],xc(a)?a:[],u&&r?Yl(u):[])}return e.concat(a,Yl(a,[],r))}function fg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Pj(t){const e=rn(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Tn(t),l=a?t.offsetWidth:r,c=a?t.offsetHeight:n,u=Bu(r)!==l||Bu(n)!==c;return u&&(r=l,n=c),{width:r,height:n,$:u}}function Iv(t){return tn(t)?t:t.contextElement}function qi(t){const e=Iv(t);if(!Tn(e))return bn(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:l}=Pj(e);let c=(l?Bu(r.width):r.width)/n,u=(l?Bu(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const O3=bn(0);function Rj(t){const e=yr(t);return!Av()||!e.visualViewport?O3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function D3(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==yr(t)?!1:e}function $a(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),l=Iv(t);let c=bn(1);e&&(n?tn(n)&&(c=qi(n)):c=qi(t));const u=D3(l,r,n)?Rj(l):bn(0);let h=(a.left+u.x)/c.x,m=(a.top+u.y)/c.y,f=a.width/c.x,g=a.height/c.y;if(l){const x=yr(l),k=n&&tn(n)?yr(n):n;let j=x,N=fg(j);for(;N&&n&&k!==j;){const b=qi(N),C=N.getBoundingClientRect(),_=rn(N),T=C.left+(N.clientLeft+parseFloat(_.paddingLeft))*b.x,P=C.top+(N.clientTop+parseFloat(_.paddingTop))*b.y;h*=b.x,m*=b.y,f*=b.x,g*=b.y,h+=T,m+=P,j=yr(N),N=fg(j)}}return qu({width:f,height:g,x:h,y:m})}function Ov(t,e){const r=Ih(t).scrollLeft;return e?e.left+r:$a(An(t)).left+r}function Aj(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-(r?0:Ov(t,n)),l=n.top+e.scrollTop;return{x:a,y:l}}function L3(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const l=a==="fixed",c=An(n),u=e?Ah(e.floating):!1;if(n===c||u&&l)return r;let h={scrollLeft:0,scrollTop:0},m=bn(1);const f=bn(0),g=Tn(n);if((g||!g&&!l)&&((No(n)!=="body"||xc(c))&&(h=Ih(n)),Tn(n))){const k=$a(n);m=qi(n),f.x=k.x+n.clientLeft,f.y=k.y+n.clientTop}const x=c&&!g&&!l?Aj(c,h,!0):bn(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-h.scrollLeft*m.x+f.x+x.x,y:r.y*m.y-h.scrollTop*m.y+f.y+x.y}}function M3(t){return Array.from(t.getClientRects())}function F3(t){const e=An(t),r=Ih(t),n=t.ownerDocument.body,a=gr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),l=gr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Ov(t);const u=-r.scrollTop;return rn(n).direction==="rtl"&&(c+=gr(e.clientWidth,n.clientWidth)-a),{width:a,height:l,x:c,y:u}}function z3(t,e){const r=yr(t),n=An(t),a=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,h=0;if(a){l=a.width,c=a.height;const m=Av();(!m||m&&e==="fixed")&&(u=a.offsetLeft,h=a.offsetTop)}return{width:l,height:c,x:u,y:h}}const U3=new Set(["absolute","fixed"]);function $3(t,e){const r=$a(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,l=Tn(t)?qi(t):bn(1),c=t.clientWidth*l.x,u=t.clientHeight*l.y,h=a*l.x,m=n*l.y;return{width:c,height:u,x:h,y:m}}function Yw(t,e,r){let n;if(e==="viewport")n=z3(t,r);else if(e==="document")n=F3(An(t));else if(tn(e))n=$3(e,r);else{const a=Rj(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return qu(n)}function Ij(t,e){const r=Qs(t);return r===e||!tn(r)||eo(r)?!1:rn(r).position==="fixed"||Ij(r,e)}function V3(t,e){const r=e.get(t);if(r)return r;let n=Yl(t,[],!1).filter(u=>tn(u)&&No(u)!=="body"),a=null;const l=rn(t).position==="fixed";let c=l?Qs(t):t;for(;tn(c)&&!eo(c);){const u=rn(c),h=Rv(c);!h&&u.position==="fixed"&&(a=null),(l?!h&&!a:!h&&u.position==="static"&&a&&U3.has(a.position)||xc(c)&&!h&&Ij(t,c))?n=n.filter(m=>m!==c):a=u,c=Qs(c)}return e.set(t,n),n}function W3(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const l=[...r==="clippingAncestors"?Ah(e)?[]:V3(e,this._c):[].concat(r),n],c=l[0],u=l.reduce((h,m)=>{const f=Yw(e,m,a);return h.top=gr(f.top,h.top),h.right=Zs(f.right,h.right),h.bottom=Zs(f.bottom,h.bottom),h.left=gr(f.left,h.left),h},Yw(e,c,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function B3(t){const{width:e,height:r}=Pj(t);return{width:e,height:r}}function H3(t,e,r){const n=Tn(e),a=An(e),l=r==="fixed",c=$a(t,!0,l,e);let u={scrollLeft:0,scrollTop:0};const h=bn(0);function m(){h.x=Ov(a)}if(n||!n&&!l)if((No(e)!=="body"||xc(a))&&(u=Ih(e)),n){const k=$a(e,!0,l,e);h.x=k.x+e.clientLeft,h.y=k.y+e.clientTop}else a&&m();l&&!n&&a&&m();const f=a&&!n&&!l?Aj(a,u):bn(0),g=c.left+u.scrollLeft-h.x-f.x,x=c.top+u.scrollTop-h.y-f.y;return{x:g,y:x,width:c.width,height:c.height}}function yf(t){return rn(t).position==="static"}function Jw(t,e){if(!Tn(t)||rn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return An(t)===r&&(r=r.ownerDocument.body),r}function Oj(t,e){const r=yr(t);if(Ah(t))return r;if(!Tn(t)){let a=Qs(t);for(;a&&!eo(a);){if(tn(a)&&!yf(a))return a;a=Qs(a)}return r}let n=Jw(t,e);for(;n&&E3(n)&&yf(n);)n=Jw(n,e);return n&&eo(n)&&yf(n)&&!Rv(n)?r:n||A3(t)||r}const q3=async function(t){const e=this.getOffsetParent||Oj,r=this.getDimensions,n=await r(t.floating);return{reference:H3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function K3(t){return rn(t).direction==="rtl"}const G3={convertOffsetParentRelativeRectToViewportRelativeRect:L3,getDocumentElement:An,getClippingRect:W3,getOffsetParent:Oj,getElementRects:q3,getClientRects:M3,getDimensions:B3,getScale:qi,isElement:tn,isRTL:K3};function Dj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Z3(t,e){let r=null,n;const a=An(t);function l(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),l();const m=t.getBoundingClientRect(),{left:f,top:g,width:x,height:k}=m;if(u||e(),!x||!k)return;const j=tu(g),N=tu(a.clientWidth-(f+x)),b=tu(a.clientHeight-(g+k)),C=tu(f),_={rootMargin:-j+"px "+-N+"px "+-b+"px "+-C+"px",threshold:gr(0,Zs(1,h))||1};let T=!0;function P(A){const L=A[0].intersectionRatio;if(L!==h){if(!T)return c();L?c(!1,L):n=setTimeout(()=>{c(!1,1e-7)},1e3)}L===1&&!Dj(m,t.getBoundingClientRect())&&c(),T=!1}try{r=new IntersectionObserver(P,{..._,root:a.ownerDocument})}catch{r=new IntersectionObserver(P,_)}r.observe(t)}return c(!0),l}function Q3(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,m=Iv(t),f=a||l?[...m?Yl(m):[],...Yl(e)]:[];f.forEach(C=>{a&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const g=m&&u?Z3(m,r):null;let x=-1,k=null;c&&(k=new ResizeObserver(C=>{let[_]=C;_&&_.target===m&&k&&(k.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var T;(T=k)==null||T.observe(e)})),r()}),m&&!h&&k.observe(m),k.observe(e));let j,N=h?$a(t):null;h&&b();function b(){const C=$a(t);N&&!Dj(N,C)&&r(),N=C,j=requestAnimationFrame(b)}return r(),()=>{var C;f.forEach(_=>{a&&_.removeEventListener("scroll",r),l&&_.removeEventListener("resize",r)}),g==null||g(),(C=k)==null||C.disconnect(),k=null,h&&cancelAnimationFrame(j)}}const X3=w3,Y3=N3,J3=y3,eA=j3,tA=x3,e1=v3,rA=k3,nA=(t,e,r)=>{const n=new Map,a={platform:G3,...r},l={...a.platform,_c:n};return g3(t,e,{...a,platform:l})};var sA=typeof document<"u",aA=function(){},ju=sA?y.useLayoutEffect:aA;function Ku(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Ku(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const l=a[n];if(!(l==="_owner"&&t.$$typeof)&&!Ku(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Lj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function t1(t,e){const r=Lj(t);return Math.round(e*r)/r}function xf(t){const e=y.useRef(t);return ju(()=>{e.current=t}),e}function iA(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:h,open:m}=t,[f,g]=y.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[x,k]=y.useState(n);Ku(x,n)||k(n);const[j,N]=y.useState(null),[b,C]=y.useState(null),_=y.useCallback(H=>{H!==L.current&&(L.current=H,N(H))},[]),T=y.useCallback(H=>{H!==I.current&&(I.current=H,C(H))},[]),P=l||j,A=c||b,L=y.useRef(null),I=y.useRef(null),E=y.useRef(f),R=h!=null,z=xf(h),G=xf(a),W=xf(m),ee=y.useCallback(()=>{if(!L.current||!I.current)return;const H={placement:e,strategy:r,middleware:x};G.current&&(H.platform=G.current),nA(L.current,I.current,H).then(Z=>{const X={...Z,isPositioned:W.current!==!1};D.current&&!Ku(E.current,X)&&(E.current=X,Ph.flushSync(()=>{g(X)}))})},[x,e,r,G,W]);ju(()=>{m===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,g(H=>({...H,isPositioned:!1})))},[m]);const D=y.useRef(!1);ju(()=>(D.current=!0,()=>{D.current=!1}),[]),ju(()=>{if(P&&(L.current=P),A&&(I.current=A),P&&A){if(z.current)return z.current(P,A,ee);ee()}},[P,A,ee,z,R]);const Q=y.useMemo(()=>({reference:L,floating:I,setReference:_,setFloating:T}),[_,T]),ae=y.useMemo(()=>({reference:P,floating:A}),[P,A]),oe=y.useMemo(()=>{const H={position:r,left:0,top:0};if(!ae.floating)return H;const Z=t1(ae.floating,f.x),X=t1(ae.floating,f.y);return u?{...H,transform:"translate("+Z+"px, "+X+"px)",...Lj(ae.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:X}},[r,u,ae.floating,f.x,f.y]);return y.useMemo(()=>({...f,update:ee,refs:Q,elements:ae,floatingStyles:oe}),[f,ee,Q,ae,oe])}const oA=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?e1({element:n.current,padding:a}).fn(r):{}:n?e1({element:n,padding:a}).fn(r):{}}}},lA=(t,e)=>({...X3(t),options:[t,e]}),cA=(t,e)=>({...Y3(t),options:[t,e]}),dA=(t,e)=>({...rA(t),options:[t,e]}),uA=(t,e)=>({...J3(t),options:[t,e]}),hA=(t,e)=>({...eA(t),options:[t,e]}),pA=(t,e)=>({...tA(t),options:[t,e]}),mA=(t,e)=>({...oA(t),options:[t,e]});var fA="Arrow",Mj=y.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...l}=t;return i.jsx(Ae.svg,{...l,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Mj.displayName=fA;var gA=Mj;function Oh(t){const[e,r]=y.useState(void 0);return Lr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,u;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;c=m.inlineSize,u=m.blockSize}else c=t.offsetWidth,u=t.offsetHeight;r({width:c,height:u})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Dv="Popper",[Fj,Dh]=lr(Dv),[vA,zj]=Fj(Dv),Uj=t=>{const{__scopePopper:e,children:r}=t,[n,a]=y.useState(null);return i.jsx(vA,{scope:e,anchor:n,onAnchorChange:a,children:r})};Uj.displayName=Dv;var $j="PopperAnchor",Vj=y.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,l=zj($j,r),c=y.useRef(null),u=Ze(e,c);return y.useEffect(()=>{l.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:i.jsx(Ae.div,{...a,ref:u})});Vj.displayName=$j;var Lv="PopperContent",[yA,xA]=Fj(Lv),Wj=y.forwardRef((t,e)=>{var r,n,a,l,c,u;const{__scopePopper:h,side:m="bottom",sideOffset:f=0,align:g="center",alignOffset:x=0,arrowPadding:k=0,avoidCollisions:j=!0,collisionBoundary:N=[],collisionPadding:b=0,sticky:C="partial",hideWhenDetached:_=!1,updatePositionStrategy:T="optimized",onPlaced:P,...A}=t,L=zj(Lv,h),[I,E]=y.useState(null),R=Ze(e,ln=>E(ln)),[z,G]=y.useState(null),W=Oh(z),ee=(W==null?void 0:W.width)??0,D=(W==null?void 0:W.height)??0,Q=m+(g!=="center"?"-"+g:""),ae=typeof b=="number"?b:{top:0,right:0,bottom:0,left:0,...b},oe=Array.isArray(N)?N:[N],H=oe.length>0,Z={padding:ae,boundary:oe.filter(wA),altBoundary:H},{refs:X,floatingStyles:U,placement:q,isPositioned:ue,middlewareData:be}=iA({strategy:"fixed",placement:Q,whileElementsMounted:(...ln)=>Q3(...ln,{animationFrame:T==="always"}),elements:{reference:L.anchor},middleware:[lA({mainAxis:f+D,alignmentAxis:x}),j&&cA({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?dA():void 0,...Z}),j&&uA({...Z}),hA({...Z,apply:({elements:ln,rects:To,availableWidth:Mc,availableHeight:Fc})=>{const{width:_o,height:zc}=To.reference,us=ln.floating.style;us.setProperty("--radix-popper-available-width",`${Mc}px`),us.setProperty("--radix-popper-available-height",`${Fc}px`),us.setProperty("--radix-popper-anchor-width",`${_o}px`),us.setProperty("--radix-popper-anchor-height",`${zc}px`)}}),z&&mA({element:z,padding:k}),NA({arrowWidth:ee,arrowHeight:D}),_&&pA({strategy:"referenceHidden",...Z})]}),[Ee,Me]=qj(q),He=or(P);Lr(()=>{ue&&(He==null||He())},[ue,He]);const $e=(r=be.arrow)==null?void 0:r.x,Fe=(n=be.arrow)==null?void 0:n.y,_t=((a=be.arrow)==null?void 0:a.centerOffset)!==0,[Ya,Lc]=y.useState();return Lr(()=>{I&&Lc(window.getComputedStyle(I).zIndex)},[I]),i.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:ue?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ya,"--radix-popper-transform-origin":[(l=be.transformOrigin)==null?void 0:l.x,(c=be.transformOrigin)==null?void 0:c.y].join(" "),...((u=be.hide)==null?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(yA,{scope:h,placedSide:Ee,onArrowChange:G,arrowX:$e,arrowY:Fe,shouldHideArrow:_t,children:i.jsx(Ae.div,{"data-side":Ee,"data-align":Me,...A,ref:R,style:{...A.style,animation:ue?void 0:"none"}})})})});Wj.displayName=Lv;var Bj="PopperArrow",bA={top:"bottom",right:"left",bottom:"top",left:"right"},Hj=y.forwardRef(function(t,e){const{__scopePopper:r,...n}=t,a=xA(Bj,r),l=bA[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(gA,{...n,ref:e,style:{...n.style,display:"block"}})})});Hj.displayName=Bj;function wA(t){return t!==null}var NA=t=>({name:"transformOrigin",options:t,fn(e){var r,n,a;const{placement:l,rects:c,middlewareData:u}=e,h=((r=u.arrow)==null?void 0:r.centerOffset)!==0,m=h?0:t.arrowWidth,f=h?0:t.arrowHeight,[g,x]=qj(l),k={start:"0%",center:"50%",end:"100%"}[x],j=(((n=u.arrow)==null?void 0:n.x)??0)+m/2,N=(((a=u.arrow)==null?void 0:a.y)??0)+f/2;let b="",C="";return g==="bottom"?(b=h?k:`${j}px`,C=`${-f}px`):g==="top"?(b=h?k:`${j}px`,C=`${c.floating.height+f}px`):g==="right"?(b=`${-f}px`,C=h?k:`${N}px`):g==="left"&&(b=`${c.floating.width+f}px`,C=h?k:`${N}px`),{data:{x:b,y:C}}}});function qj(t){const[e,r="center"]=t.split("-");return[e,r]}var Kj=Uj,Gj=Vj,Zj=Wj,Qj=Hj,kA="Portal",Lh=y.forwardRef((t,e)=>{var r;const{container:n,...a}=t,[l,c]=y.useState(!1);Lr(()=>c(!0),[]);const u=n||l&&((r=globalThis==null?void 0:globalThis.document)==null?void 0:r.body);return u?UR.createPortal(i.jsx(Ae.div,{...a,ref:e}),u):null});Lh.displayName=kA;function jA(t,e){return y.useReducer((r,n)=>e[r][n]??r,t)}var sn=t=>{const{present:e,children:r}=t,n=SA(e),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),l=Ze(n.ref,CA(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:l}):null};sn.displayName="Presence";function SA(t){const[e,r]=y.useState(),n=y.useRef(null),a=y.useRef(t),l=y.useRef("none"),c=t?"mounted":"unmounted",[u,h]=jA(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const m=ru(n.current);l.current=u==="mounted"?m:"none"},[u]),Lr(()=>{const m=n.current,f=a.current;if(f!==t){const g=l.current,x=ru(m);t?h("MOUNT"):x==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(f&&g!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,h]),Lr(()=>{if(e){let m;const f=e.ownerDocument.defaultView??window,g=k=>{const j=ru(n.current).includes(k.animationName);if(k.target===e&&j&&(h("ANIMATION_END"),!a.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",m=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},x=k=>{k.target===e&&(l.current=ru(n.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{f.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.useCallback(m=>{n.current=m?getComputedStyle(m):null,r(m)},[])}}function ru(t){return(t==null?void 0:t.animationName)||"none"}function CA(t){var e,r;let n=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?t.ref:(n=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var EA=xv[" useInsertionEffect ".trim().toString()]||Lr;function ra({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,l,c]=TA({defaultProp:e,onChange:r}),u=t!==void 0,h=u?t:a;{const f=y.useRef(t!==void 0);y.useEffect(()=>{const g=f.current;g!==u&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=u},[u,n])}const m=y.useCallback(f=>{var g;if(u){const x=_A(f)?f(t):f;x!==t&&((g=c.current)==null||g.call(c,x))}else l(f)},[u,t,l,c]);return[h,m]}function TA({defaultProp:t,onChange:e}){const[r,n]=y.useState(t),a=y.useRef(r),l=y.useRef(e);return EA(()=>{l.current=e},[e]),y.useEffect(()=>{var c;a.current!==r&&((c=l.current)==null||c.call(l,r),a.current=r)},[r,a]),[r,n,l]}function _A(t){return typeof t=="function"}var PA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),RA="VisuallyHidden",Mh=y.forwardRef((t,e)=>i.jsx(Ae.span,{...t,ref:e,style:{...PA,...t.style}}));Mh.displayName=RA;var AA=Mh,[Fh]=lr("Tooltip",[Dh]),zh=Dh(),Xj="TooltipProvider",IA=700,gg="tooltip.open",[OA,Mv]=Fh(Xj),Yj=t=>{const{__scopeTooltip:e,delayDuration:r=IA,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:l}=t,c=y.useRef(!0),u=y.useRef(!1),h=y.useRef(0);return y.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),i.jsx(OA,{scope:e,isOpenDelayedRef:c,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:y.useCallback(m=>{u.current=m},[]),disableHoverableContent:a,children:l})};Yj.displayName=Xj;var Jl="Tooltip",[DA,Uh]=Fh(Jl),Jj=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:a,onOpenChange:l,disableHoverableContent:c,delayDuration:u}=t,h=Mv(Jl,t.__scopeTooltip),m=zh(e),[f,g]=y.useState(null),x=La(),k=y.useRef(0),j=c??h.disableHoverableContent,N=u??h.delayDuration,b=y.useRef(!1),[C,_]=ra({prop:n,defaultProp:a??!1,onChange:I=>{I?(h.onOpen(),document.dispatchEvent(new CustomEvent(gg))):h.onClose(),l==null||l(I)},caller:Jl}),T=y.useMemo(()=>C?b.current?"delayed-open":"instant-open":"closed",[C]),P=y.useCallback(()=>{window.clearTimeout(k.current),k.current=0,b.current=!1,_(!0)},[_]),A=y.useCallback(()=>{window.clearTimeout(k.current),k.current=0,_(!1)},[_]),L=y.useCallback(()=>{window.clearTimeout(k.current),k.current=window.setTimeout(()=>{b.current=!0,_(!0),k.current=0},N)},[N,_]);return y.useEffect(()=>()=>{k.current&&(window.clearTimeout(k.current),k.current=0)},[]),i.jsx(Kj,{...m,children:i.jsx(DA,{scope:e,contentId:x,open:C,stateAttribute:T,trigger:f,onTriggerChange:g,onTriggerEnter:y.useCallback(()=>{h.isOpenDelayedRef.current?L():P()},[h.isOpenDelayedRef,L,P]),onTriggerLeave:y.useCallback(()=>{j?A():(window.clearTimeout(k.current),k.current=0)},[A,j]),onOpen:P,onClose:A,disableHoverableContent:j,children:r})})};Jj.displayName=Jl;var vg="TooltipTrigger",eS=y.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=Uh(vg,r),l=Mv(vg,r),c=zh(r),u=y.useRef(null),h=Ze(e,u,a.onTriggerChange),m=y.useRef(!1),f=y.useRef(!1),g=y.useCallback(()=>m.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),i.jsx(Gj,{asChild:!0,...c,children:i.jsx(Ae.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:h,onPointerMove:me(t.onPointerMove,x=>{x.pointerType!=="touch"&&!f.current&&!l.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:me(t.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:me(t.onPointerDown,()=>{a.open&&a.onClose(),m.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:me(t.onFocus,()=>{m.current||a.onOpen()}),onBlur:me(t.onBlur,a.onClose),onClick:me(t.onClick,a.onClose)})})});eS.displayName=vg;var LA="TooltipPortal",[CH,MA]=Fh(LA,{forceMount:void 0}),to="TooltipContent",tS=y.forwardRef((t,e)=>{const r=MA(to,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...l}=t,c=Uh(to,t.__scopeTooltip);return i.jsx(sn,{present:n||c.open,children:c.disableHoverableContent?i.jsx(rS,{side:a,...l,ref:e}):i.jsx(FA,{side:a,...l,ref:e})})}),FA=y.forwardRef((t,e)=>{const r=Uh(to,t.__scopeTooltip),n=Mv(to,t.__scopeTooltip),a=y.useRef(null),l=Ze(e,a),[c,u]=y.useState(null),{trigger:h,onClose:m}=r,f=a.current,{onPointerInTransitChange:g}=n,x=y.useCallback(()=>{u(null),g(!1)},[g]),k=y.useCallback((j,N)=>{const b=j.currentTarget,C={x:j.clientX,y:j.clientY},_=WA(C,b.getBoundingClientRect()),T=BA(C,_),P=HA(N.getBoundingClientRect()),A=KA([...T,...P]);u(A),g(!0)},[g]);return y.useEffect(()=>()=>x(),[x]),y.useEffect(()=>{if(h&&f){const j=b=>k(b,f),N=b=>k(b,h);return h.addEventListener("pointerleave",j),f.addEventListener("pointerleave",N),()=>{h.removeEventListener("pointerleave",j),f.removeEventListener("pointerleave",N)}}},[h,f,k,x]),y.useEffect(()=>{if(c){const j=N=>{const b=N.target,C={x:N.clientX,y:N.clientY},_=(h==null?void 0:h.contains(b))||(f==null?void 0:f.contains(b)),T=!qA(C,c);_?x():T&&(x(),m())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[h,f,c,m,x]),i.jsx(rS,{...t,ref:l})}),[zA,UA]=Fh(Jl,{isInside:!1}),$A=WR("TooltipContent"),rS=y.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:l,onPointerDownOutside:c,...u}=t,h=Uh(to,r),m=zh(r),{onClose:f}=h;return y.useEffect(()=>(document.addEventListener(gg,f),()=>document.removeEventListener(gg,f)),[f]),y.useEffect(()=>{if(h.trigger){const g=x=>{const k=x.target;k!=null&&k.contains(h.trigger)&&f()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[h.trigger,f]),i.jsx(yc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:f,children:i.jsxs(Zj,{"data-state":h.stateAttribute,...m,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx($A,{children:n}),i.jsx(zA,{scope:r,isInside:!0,children:i.jsx(AA,{id:h.contentId,role:"tooltip",children:a||n})})]})})});tS.displayName=to;var nS="TooltipArrow",VA=y.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=zh(r);return UA(nS,r).isInside?null:i.jsx(Qj,{...a,...n,ref:e})});VA.displayName=nS;function WA(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),l=Math.abs(e.left-t.x);switch(Math.min(r,n,a,l)){case l:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function BA(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function HA(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function qA(t,e){const{x:r,y:n}=t;let a=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const u=e[l],h=e[c],m=u.x,f=u.y,g=h.x,x=h.y;f>n!=x>n&&r<(g-m)*(n-f)/(x-f)+m&&(a=!a)}return a}function KA(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),GA(e)}function GA(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const l=e[e.length-1],c=e[e.length-2];if((l.x-c.x)*(a.y-c.y)>=(l.y-c.y)*(a.x-c.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const l=r[r.length-1],c=r[r.length-2];if((l.x-c.x)*(a.y-c.y)>=(l.y-c.y)*(a.x-c.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var ZA=Yj,QA=Jj,XA=eS,sS=tS;function aS(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=aS(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function iS(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=aS(t))&&(n&&(n+=" "),n+=e);return n}const Fv="-",YA=t=>{const e=eI(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const l=a.split(Fv);return l[0]===""&&l.length!==1&&l.shift(),oS(l,e)||JA(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},oS=(t,e)=>{var r;if(t.length===0)return e.classGroupId;const n=t[0],a=e.nextPart.get(n),l=a?oS(t.slice(1),a):void 0;if(l)return l;if(e.validators.length===0)return;const c=t.join(Fv);return(r=e.validators.find(({validator:u})=>u(c)))==null?void 0:r.classGroupId},r1=/^\[(.+)\]$/,JA=t=>{if(r1.test(t)){const e=r1.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},eI=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return rI(Object.entries(t.classGroups),r).forEach(([a,l])=>{yg(l,n,a,e)}),n},yg=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:n1(e,a);l.classGroupId=r;return}if(typeof a=="function"){if(tI(a)){yg(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([l,c])=>{yg(c,n1(e,l),r,n)})})},n1=(t,e)=>{let r=t;return e.split(Fv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},tI=t=>t.isThemeGetter,rI=(t,e)=>e?t.map(([r,n])=>{const a=n.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,u])=>[e+c,u])):l);return[r,a]}):t,nI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(l,c)=>{r.set(l,c),e++,e>t&&(e=0,n=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return a(l,c),c},set(l,c){r.has(l)?r.set(l,c):a(l,c)}}},lS="!",sI=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],l=e.length,c=u=>{const h=[];let m=0,f=0,g;for(let b=0;b<u.length;b++){let C=u[b];if(m===0){if(C===a&&(n||u.slice(b,b+l)===e)){h.push(u.slice(f,b)),f=b+l;continue}if(C==="/"){g=b;continue}}C==="["?m++:C==="]"&&m--}const x=h.length===0?u:u.substring(f),k=x.startsWith(lS),j=k?x.substring(1):x,N=g&&g>f?g-f:void 0;return{modifiers:h,hasImportantModifier:k,baseClassName:j,maybePostfixModifierPosition:N}};return r?u=>r({className:u,parseClassName:c}):c},aI=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},iI=t=>({cache:nI(t.cacheSize),parseClassName:sI(t),...YA(t)}),oI=/\s+/,lI=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,l=[],c=t.trim().split(oI);let u="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{modifiers:f,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:k}=r(m);let j=!!k,N=n(j?x.substring(0,k):x);if(!N){if(!j){u=m+(u.length>0?" "+u:u);continue}if(N=n(x),!N){u=m+(u.length>0?" "+u:u);continue}j=!1}const b=aI(f).join(":"),C=g?b+lS:b,_=C+N;if(l.includes(_))continue;l.push(_);const T=a(N,j);for(let P=0;P<T.length;++P){const A=T[P];l.push(C+A)}u=m+(u.length>0?" "+u:u)}return u};function cI(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=cS(e))&&(n&&(n+=" "),n+=r);return n}const cS=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=cS(t[n]))&&(r&&(r+=" "),r+=e);return r};function dI(t,...e){let r,n,a,l=c;function c(h){const m=e.reduce((f,g)=>g(f),t());return r=iI(m),n=r.cache.get,a=r.cache.set,l=u,u(h)}function u(h){const m=n(h);if(m)return m;const f=lI(h,r);return a(h,f),f}return function(){return l(cI.apply(null,arguments))}}const nt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},dS=/^\[(?:([a-z-]+):)?(.+)\]$/i,uI=/^\d+\/\d+$/,hI=new Set(["px","full","screen"]),pI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zn=t=>Ki(t)||hI.has(t)||uI.test(t),Os=t=>ko(t,"length",SI),Ki=t=>!!t&&!Number.isNaN(Number(t)),bf=t=>ko(t,"number",Ki),_l=t=>!!t&&Number.isInteger(Number(t)),yI=t=>t.endsWith("%")&&Ki(t.slice(0,-1)),Ie=t=>dS.test(t),Ds=t=>pI.test(t),xI=new Set(["length","size","percentage"]),bI=t=>ko(t,xI,uS),wI=t=>ko(t,"position",uS),NI=new Set(["image","url"]),kI=t=>ko(t,NI,EI),jI=t=>ko(t,"",CI),Pl=()=>!0,ko=(t,e,r)=>{const n=dS.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},SI=t=>mI.test(t)&&!fI.test(t),uS=()=>!1,CI=t=>gI.test(t),EI=t=>vI.test(t),TI=()=>{const t=nt("colors"),e=nt("spacing"),r=nt("blur"),n=nt("brightness"),a=nt("borderColor"),l=nt("borderRadius"),c=nt("borderSpacing"),u=nt("borderWidth"),h=nt("contrast"),m=nt("grayscale"),f=nt("hueRotate"),g=nt("invert"),x=nt("gap"),k=nt("gradientColorStops"),j=nt("gradientColorStopPositions"),N=nt("inset"),b=nt("margin"),C=nt("opacity"),_=nt("padding"),T=nt("saturate"),P=nt("scale"),A=nt("sepia"),L=nt("skew"),I=nt("space"),E=nt("translate"),R=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",Ie,e],W=()=>[Ie,e],ee=()=>["",Zn,Os],D=()=>["auto",Ki,Ie],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Ie],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Ki,Ie];return{cacheSize:500,separator:":",theme:{colors:[Pl],spacing:[Zn,Os],blur:["none","",Ds,Ie],brightness:U(),borderColor:[t],borderRadius:["none","","full",Ds,Ie],borderSpacing:W(),borderWidth:ee(),contrast:U(),grayscale:Z(),hueRotate:U(),invert:Z(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[yI,Os],inset:G(),margin:G(),opacity:U(),padding:W(),saturate:U(),scale:U(),sepia:Z(),skew:U(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[Ds]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),Ie]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_l,Ie]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",_l,Ie]}],"grid-cols":[{"grid-cols":[Pl]}],"col-start-end":[{col:["auto",{span:["full",_l,Ie]},Ie]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Pl]}],"row-start-end":[{row:["auto",{span:[_l,Ie]},Ie]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ie,e]}],"min-w":[{"min-w":[Ie,e,"min","max","fit"]}],"max-w":[{"max-w":[Ie,e,"none","full","min","max","fit","prose",{screen:[Ds]},Ds]}],h:[{h:[Ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ds,Os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bf]}],"font-family":[{font:[Pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",Ki,bf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zn,Ie]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zn,Os]}],"underline-offset":[{"underline-offset":["auto",Zn,Ie]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),wI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kI]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:ae()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[Zn,Ie]}],"outline-w":[{outline:[Zn,Os]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Zn,Os]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ds,jI]}],"shadow-color":[{shadow:[Pl]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Ds,Ie]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[g]}],saturate:[{saturate:[T]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[_l,Ie]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zn,Os,bf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_I=dI(TI);function _e(...t){return _I(iS(t))}const hS=ZA,s1=QA,a1=XA,xg=y.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(sS,{ref:n,sideOffset:e,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));xg.displayName=sS.displayName;const PI=1,RI=1e6;let wf=0;function AI(){return wf=(wf+1)%Number.MAX_SAFE_INTEGER,wf.toString()}const Nf=new Map,i1=t=>{if(Nf.has(t))return;const e=setTimeout(()=>{Nf.delete(t),Ul({type:"REMOVE_TOAST",toastId:t})},RI);Nf.set(t,e)},II=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,PI)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?i1(r):t.toasts.forEach(n=>{i1(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Su=[];let Cu={toasts:[]};function Ul(t){Cu=II(Cu,t),Su.forEach(e=>{e(Cu)})}function OI({...t}){const e=AI(),r=a=>Ul({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>Ul({type:"DISMISS_TOAST",toastId:e});return Ul({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function jo(){const[t,e]=y.useState(Cu);return y.useEffect(()=>(Su.push(e),()=>{const r=Su.indexOf(e);r>-1&&Su.splice(r,1)}),[t]),{...t,toast:OI,dismiss:r=>Ul({type:"DISMISS_TOAST",toastId:r})}}function $h(t){const e=t+"CollectionProvider",[r,n]=lr(e),[a,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=N=>{const{scope:b,children:C}=N,_=Ke.useRef(null),T=Ke.useRef(new Map).current;return i.jsx(a,{scope:b,itemMap:T,collectionRef:_,children:C})};c.displayName=e;const u=t+"CollectionSlot",h=Ji(u),m=Ke.forwardRef((N,b)=>{const{scope:C,children:_}=N,T=l(u,C),P=Ze(b,T.collectionRef);return i.jsx(h,{ref:P,children:_})});m.displayName=u;const f=t+"CollectionItemSlot",g="data-radix-collection-item",x=Ji(f),k=Ke.forwardRef((N,b)=>{const{scope:C,children:_,...T}=N,P=Ke.useRef(null),A=Ze(b,P),L=l(f,C);return Ke.useEffect(()=>(L.itemMap.set(P,{ref:P,...T}),()=>void L.itemMap.delete(P))),i.jsx(x,{[g]:"",ref:A,children:_})});k.displayName=f;function j(N){const b=l(t+"CollectionConsumer",N);return Ke.useCallback(()=>{const C=b.collectionRef.current;if(!C)return[];const _=Array.from(C.querySelectorAll(`[${g}]`));return Array.from(b.itemMap.values()).sort((T,P)=>_.indexOf(T.ref.current)-_.indexOf(P.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:c,Slot:m,ItemSlot:k},j,n]}var zv="ToastProvider",[Uv,DI,LI]=$h("Toast"),[pS]=lr("Toast",[LI]),[MI,Vh]=pS(zv),mS=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:l=50,children:c}=t,[u,h]=y.useState(null),[m,f]=y.useState(0),g=y.useRef(!1),x=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${zv}\`. Expected non-empty \`string\`.`),i.jsx(Uv.Provider,{scope:e,children:i.jsx(MI,{scope:e,label:r,duration:n,swipeDirection:a,swipeThreshold:l,toastCount:m,viewport:u,onViewportChange:h,onToastAdd:y.useCallback(()=>f(k=>k+1),[]),onToastRemove:y.useCallback(()=>f(k=>k-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:x,children:c})})};mS.displayName=zv;var fS="ToastViewport",FI=["F8"],bg="toast.viewportPause",wg="toast.viewportResume",gS=y.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=FI,label:a="Notifications ({hotkey})",...l}=t,c=Vh(fS,r),u=DI(r),h=y.useRef(null),m=y.useRef(null),f=y.useRef(null),g=y.useRef(null),x=Ze(e,g,c.onViewportChange),k=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=c.toastCount>0;y.useEffect(()=>{const b=C=>{var _;n.length!==0&&n.every(T=>C[T]||C.code===T)&&((_=g.current)==null||_.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),y.useEffect(()=>{const b=h.current,C=g.current;if(j&&b&&C){const _=()=>{if(!c.isClosePausedRef.current){const L=new CustomEvent(bg);C.dispatchEvent(L),c.isClosePausedRef.current=!0}},T=()=>{if(c.isClosePausedRef.current){const L=new CustomEvent(wg);C.dispatchEvent(L),c.isClosePausedRef.current=!1}},P=L=>{!b.contains(L.relatedTarget)&&T()},A=()=>{b.contains(document.activeElement)||T()};return b.addEventListener("focusin",_),b.addEventListener("focusout",P),b.addEventListener("pointermove",_),b.addEventListener("pointerleave",A),window.addEventListener("blur",_),window.addEventListener("focus",T),()=>{b.removeEventListener("focusin",_),b.removeEventListener("focusout",P),b.removeEventListener("pointermove",_),b.removeEventListener("pointerleave",A),window.removeEventListener("blur",_),window.removeEventListener("focus",T)}}},[j,c.isClosePausedRef]);const N=y.useCallback(({tabbingDirection:b})=>{const C=u().map(_=>{const T=_.ref.current,P=[T,...XI(T)];return b==="forwards"?P:P.reverse()});return(b==="forwards"?C.reverse():C).flat()},[u]);return y.useEffect(()=>{const b=g.current;if(b){const C=_=>{var T,P,A;const L=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!L){const I=document.activeElement,E=_.shiftKey;if(_.target===b&&E){(T=m.current)==null||T.focus();return}const R=N({tabbingDirection:E?"backwards":"forwards"}),z=R.findIndex(G=>G===I);kf(R.slice(z+1))?_.preventDefault():E?(P=m.current)==null||P.focus():(A=f.current)==null||A.focus()}};return b.addEventListener("keydown",C),()=>b.removeEventListener("keydown",C)}},[u,N]),i.jsxs(r3,{ref:h,role:"region","aria-label":a.replace("{hotkey}",k),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&i.jsx(Ng,{ref:m,onFocusFromOutsideViewport:()=>{const b=N({tabbingDirection:"forwards"});kf(b)}}),i.jsx(Uv.Slot,{scope:r,children:i.jsx(Ae.ol,{tabIndex:-1,...l,ref:x})}),j&&i.jsx(Ng,{ref:f,onFocusFromOutsideViewport:()=>{const b=N({tabbingDirection:"backwards"});kf(b)}})]})});gS.displayName=fS;var vS="ToastFocusProxy",Ng=y.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,l=Vh(vS,r);return i.jsx(Mh,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:c=>{var u;const h=c.relatedTarget;!((u=l.viewport)!=null&&u.contains(h))&&n()}})});Ng.displayName=vS;var bc="Toast",zI="toast.swipeStart",UI="toast.swipeMove",$I="toast.swipeCancel",VI="toast.swipeEnd",yS=y.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:l,...c}=t,[u,h]=ra({prop:n,defaultProp:a??!0,onChange:l,caller:bc});return i.jsx(sn,{present:r||u,children:i.jsx(HI,{open:u,...c,ref:e,onClose:()=>h(!1),onPause:or(t.onPause),onResume:or(t.onResume),onSwipeStart:me(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(t.onSwipeMove,m=>{const{x:f,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:me(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(t.onSwipeEnd,m=>{const{x:f,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),h(!1)})})})});yS.displayName=bc;var[WI,BI]=pS(bc,{onClose(){}}),HI=y.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:l,onClose:c,onEscapeKeyDown:u,onPause:h,onResume:m,onSwipeStart:f,onSwipeMove:g,onSwipeCancel:x,onSwipeEnd:k,...j}=t,N=Vh(bc,r),[b,C]=y.useState(null),_=Ze(e,D=>C(D)),T=y.useRef(null),P=y.useRef(null),A=a||N.duration,L=y.useRef(0),I=y.useRef(A),E=y.useRef(0),{onToastAdd:R,onToastRemove:z}=N,G=or(()=>{var D;b!=null&&b.contains(document.activeElement)&&((D=N.viewport)==null||D.focus()),c()}),W=y.useCallback(D=>{!D||D===1/0||(window.clearTimeout(E.current),L.current=new Date().getTime(),E.current=window.setTimeout(G,D))},[G]);y.useEffect(()=>{const D=N.viewport;if(D){const Q=()=>{W(I.current),m==null||m()},ae=()=>{const oe=new Date().getTime()-L.current;I.current=I.current-oe,window.clearTimeout(E.current),h==null||h()};return D.addEventListener(bg,ae),D.addEventListener(wg,Q),()=>{D.removeEventListener(bg,ae),D.removeEventListener(wg,Q)}}},[N.viewport,A,h,m,W]),y.useEffect(()=>{l&&!N.isClosePausedRef.current&&W(A)},[l,A,N.isClosePausedRef,W]),y.useEffect(()=>(R(),()=>z()),[R,z]);const ee=y.useMemo(()=>b?SS(b):null,[b]);return N.viewport?i.jsxs(i.Fragment,{children:[ee&&i.jsx(qI,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:ee}),i.jsx(WI,{scope:r,onClose:G,children:Ph.createPortal(i.jsx(Uv.ItemSlot,{scope:r,children:i.jsx(t3,{asChild:!0,onEscapeKeyDown:me(u,()=>{N.isFocusedToastEscapeKeyDownRef.current||G(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":N.swipeDirection,...j,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:me(t.onKeyDown,D=>{D.key==="Escape"&&(u==null||u(D.nativeEvent),D.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:me(t.onPointerDown,D=>{D.button===0&&(T.current={x:D.clientX,y:D.clientY})}),onPointerMove:me(t.onPointerMove,D=>{if(!T.current)return;const Q=D.clientX-T.current.x,ae=D.clientY-T.current.y,oe=!!P.current,H=["left","right"].includes(N.swipeDirection),Z=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,X=H?Z(0,Q):0,U=H?0:Z(0,ae),q=D.pointerType==="touch"?10:2,ue={x:X,y:U},be={originalEvent:D,delta:ue};oe?(P.current=ue,nu(UI,g,be,{discrete:!1})):o1(ue,N.swipeDirection,q)?(P.current=ue,nu(zI,f,be,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(Q)>q||Math.abs(ae)>q)&&(T.current=null)}),onPointerUp:me(t.onPointerUp,D=>{const Q=P.current,ae=D.target;if(ae.hasPointerCapture(D.pointerId)&&ae.releasePointerCapture(D.pointerId),P.current=null,T.current=null,Q){const oe=D.currentTarget,H={originalEvent:D,delta:Q};o1(Q,N.swipeDirection,N.swipeThreshold)?nu(VI,k,H,{discrete:!0}):nu($I,x,H,{discrete:!0}),oe.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),qI=t=>{const{__scopeToast:e,children:r,...n}=t,a=Vh(bc,e),[l,c]=y.useState(!1),[u,h]=y.useState(!1);return ZI(()=>c(!0)),y.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),u?null:i.jsx(Lh,{asChild:!0,children:i.jsx(Mh,{...n,children:l&&i.jsxs(i.Fragment,{children:[a.label," ",r]})})})},KI="ToastTitle",xS=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Ae.div,{...n,ref:e})});xS.displayName=KI;var GI="ToastDescription",bS=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Ae.div,{...n,ref:e})});bS.displayName=GI;var wS="ToastAction",NS=y.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx(jS,{altText:r,asChild:!0,children:i.jsx($v,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${wS}\`. Expected non-empty \`string\`.`),null)});NS.displayName=wS;var kS="ToastClose",$v=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,a=BI(kS,r);return i.jsx(jS,{asChild:!0,children:i.jsx(Ae.button,{type:"button",...n,ref:e,onClick:me(t.onClick,a.onClose)})})});$v.displayName=kS;var jS=y.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...a}=t;return i.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:e})});function SS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),QI(r)){const n=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!n)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...SS(r))}}),e}function nu(t,e,r,{discrete:n}){const a=r.originalEvent.currentTarget,l=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?Ev(a,l):a.dispatchEvent(l)}var o1=(t,e,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),l=n>a;return e==="left"||e==="right"?l&&n>r:!l&&a>r};function ZI(t=()=>{}){const e=or(t);Lr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function QI(t){return t.nodeType===t.ELEMENT_NODE}function XI(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function kf(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var YI=mS,CS=gS,ES=yS,TS=xS,_S=bS,PS=NS,RS=$v;const l1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,c1=iS,Wh=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return c1(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:l}=e,c=Object.keys(a).map(m=>{const f=r==null?void 0:r[m],g=l==null?void 0:l[m];if(f===null)return null;const x=l1(f)||l1(g);return a[m][x]}),u=r&&Object.entries(r).reduce((m,f)=>{let[g,x]=f;return x===void 0||(m[g]=x),m},{}),h=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((m,f)=>{let{class:g,className:x,...k}=f;return Object.entries(k).every(j=>{let[N,b]=j;return Array.isArray(b)?b.includes({...l,...u}[N]):{...l,...u}[N]===b})?[...m,g,x]:m},[]);return c1(t,c,h,r==null?void 0:r.class,r==null?void 0:r.className)};/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const JI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AS=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var eO={xmlns:"https://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const tO=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:c,...u},h)=>y.createElement("svg",{ref:h,...eO,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:AS("lucide",a),...u},[...c.map(([m,f])=>y.createElement(m,f)),...Array.isArray(l)?l:[l]]));/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const le=(t,e)=>{const r=y.forwardRef(({className:n,...a},l)=>y.createElement(tO,{ref:l,iconNode:e,className:AS(`lucide-${JI(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rO=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const IS=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Vv=le("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ec=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nO=le("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const OS=le("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sO=le("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wc=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Bh=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const aO=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iO=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const DS=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oO=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Gu=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const LS=le("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const MS=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const lO=le("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Xs=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const cO=le("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dO=le("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uO=le("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hO=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const d1=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const pO=le("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $l=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Zu=le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Or=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mO=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fO=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gO=le("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Hh=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _n=le("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Qu=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vO=le("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const yO=le("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Eu=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ro=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const FS=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Xu=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xO=le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const bO=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const zS=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wO=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const NO=le("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kO=le("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const u1=le("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const jO=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kt=le("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Pn=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const US=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const no=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const qh=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $S=le("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const SO=le("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wn=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const CO=le("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const EO=le("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const TO=le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ts=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Nt=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kg=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _O=le("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Nn=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const PO=le("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const h1=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Wv=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Kh=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ir=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const jg=le("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const RO=le("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const AO=le("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const In=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const is=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),IO=YI,VS=y.forwardRef(({className:t,...e},r)=>i.jsx(CS,{ref:r,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));VS.displayName=CS.displayName;const OO=Wh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),WS=y.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(ES,{ref:n,className:_e(OO({variant:e}),t),...r}));WS.displayName=ES.displayName;const DO=y.forwardRef(({className:t,...e},r)=>i.jsx(PS,{ref:r,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));DO.displayName=PS.displayName;const BS=y.forwardRef(({className:t,...e},r)=>i.jsx(RS,{ref:r,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(In,{className:"h-4 w-4"})}));BS.displayName=RS.displayName;const HS=y.forwardRef(({className:t,...e},r)=>i.jsx(TS,{ref:r,className:_e("text-sm font-semibold",t),...e}));HS.displayName=TS.displayName;const qS=y.forwardRef(({className:t,...e},r)=>i.jsx(_S,{ref:r,className:_e("text-sm opacity-90",t),...e}));qS.displayName=_S.displayName;function LO(){const{toasts:t}=jo();return i.jsxs(IO,{children:[t.map(function({id:e,title:r,description:n,action:a,...l}){return i.jsxs(WS,{...l,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(HS,{children:r}),n&&i.jsx(qS,{children:n})]}),a,i.jsx(BS,{})]},e)}),i.jsx(VS,{})]})}const MO=()=>{};var p1={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const KS=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},FO=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[r++];e[n++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[r++],c=t[r++],u=t[r++],h=((a&7)<<18|(l&63)<<12|(c&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const l=t[r++],c=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},GS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,u=c?t[a+1]:0,h=a+2<t.length,m=h?t[a+2]:0,f=l>>2,g=(l&3)<<4|u>>4;let x=(u&15)<<2|m>>6,k=m&63;h||(k=64,c||(x=64)),n.push(r[f],r[g],r[x],r[k])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const l=r[t.charAt(a++)],c=a<t.length?r[t.charAt(a)]:0;++a;const u=a<t.length?r[t.charAt(a)]:64;++a;const h=a<t.length?r[t.charAt(a)]:64;if(++a,l==null||c==null||u==null||h==null)throw new zO;const m=l<<2|c>>4;if(n.push(m),u!==64){const f=c<<4&240|u>>2;if(n.push(f),h!==64){const g=u<<6&192|h;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UO=function(t){const e=KS(t);return GS.encodeByteArray(e,!0)},ZS=function(t){return UO(t).replace(/\./g,"")},QS=function(t){try{return GS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $O(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const VO=()=>$O().__FIREBASE_DEFAULTS__,WO=()=>{if(typeof process>"u"||typeof p1>"u")return;const t=p1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QS(t[1]);return e&&JSON.parse(e)},Bv=()=>{try{return MO()||VO()||WO()||BO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HO=t=>{var e,r;return(r=(e=Bv())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},XS=()=>{var t;return(t=Bv())==null?void 0:t.config},YS=t=>{var e;return(e=Bv())==null?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gh(t){try{return(t.startsWith("https://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KO(t){return(await fetch(t,{credentials:"include"})).ok}const Vl={};function GO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?t.emulator.push(e):t.prod.push(e);return t}function ZO(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let m1=!1;function QO(t,e){if(typeof window>"u"||typeof document>"u"||!Gh(window.location.host)||Vl[t]===e||Vl[t]||m1)return;Vl[t]=e;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",a=GO().prod.length>0;function l(){const g=document.getElementById(n);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{m1=!0,l()},g}function m(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=ZO(n),x=r("text"),k=document.getElementById(x)||document.createElement("span"),j=r("learnmore"),N=document.getElementById(j)||document.createElement("a"),b=r("preprendIcon"),C=document.getElementById(b)||document.createElementNS("https://www.w3.org/2000/svg","svg");if(g.created){const _=g.element;c(_),m(N,j);const T=h();u(C,b),_.append(C,k,N,T),document.body.appendChild(_)}a?(k.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function YO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tD(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rD(){try{return typeof indexedDB=="object"}catch{return!1}}function nD(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(r){e(r)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sD="FirebaseError";class na extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=sD,Object.setPrototypeOf(this,na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}}class Nc{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?aD(l,n):"Error",u=`${this.serviceName}: ${c} (${a}).`;return new na(a,u,n)}}function aD(t,e){return t.replace(iD,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const iD=/\{\$([^}]+)}/g;function oD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const l=t[a],c=e[a];if(f1(l)&&f1(c)){if(!so(l,c))return!1}else if(l!==c)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function f1(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kc(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Il(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[n,a]=r.split("=");e[decodeURIComponent(n)]=decodeURIComponent(a)}}),e}function Ol(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function lD(t,e){const r=new cD(t,e);return r.subscribe.bind(r)}class cD{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");dD(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=jf),a.error===void 0&&(a.error=jf),a.complete===void 0&&(a.complete=jf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dD(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function jf(){}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function On(t){return t&&t._delegate?t._delegate:t}class ao{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ra="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uD{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new qO;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pD(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const l=this.getOrInitializeService({instanceIdentifier:a});n.resolve(l)}catch{}}}}clearInstance(e=Ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ra){return this.instances.has(e)}getOptions(e=Ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[l,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(l);n===u&&c.resolve(a)}return a}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(e),this.onInitCallbacks.set(n,a);const l=this.instances.get(n);return l&&e(l,n),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:hD(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ra){return this.component?this.component.multipleInstances?e:Ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hD(t){return t===Ra?void 0:t}function pD(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new uD(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const fD={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},gD=Je.INFO,vD={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},yD=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=vD[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class JS{constructor(e){this.name=e,this._logLevel=gD,this._logHandler=yD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const xD=(t,e)=>e.some(r=>t instanceof r);let g1,v1;function bD(){return g1||(g1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wD(){return v1||(v1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e2=new WeakMap,Sg=new WeakMap,t2=new WeakMap,Sf=new WeakMap,Hv=new WeakMap;function ND(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{r(Hs(t.result)),a()},c=()=>{n(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(r=>{r instanceof IDBCursor&&e2.set(r,t)}).catch(()=>{}),Hv.set(e,t),e}function kD(t){if(Sg.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{r(),a()},c=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Sg.set(t,e)}let Cg={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||t2.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Hs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jD(t){Cg=t(Cg)}function SD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Cf(this),e,...r);return t2.set(n,e.sort?e.sort():[e]),Hs(n)}:wD().includes(t)?function(...e){return t.apply(Cf(this),e),Hs(e2.get(this))}:function(...e){return Hs(t.apply(Cf(this),e))}}function CD(t){return typeof t=="function"?SD(t):(t instanceof IDBTransaction&&kD(t),xD(t,bD())?new Proxy(t,Cg):t)}function Hs(t){if(t instanceof IDBRequest)return ND(t);if(Sf.has(t))return Sf.get(t);const e=CD(t);return e!==t&&(Sf.set(t,e),Hv.set(e,t)),e}const Cf=t=>Hv.get(t);function ED(t,e,{blocked:r,upgrade:n,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),u=Hs(c);return n&&c.addEventListener("upgradeneeded",h=>{n(Hs(c.result),h.oldVersion,h.newVersion,Hs(c.transaction),h)}),r&&c.addEventListener("blocked",h=>r(h.oldVersion,h.newVersion,h)),u.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const TD=["get","getKey","getAll","getAllKeys","count"],_D=["put","add","delete","clear"],Ef=new Map;function y1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ef.get(e))return Ef.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=_D.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||TD.includes(r)))return;const l=async function(c,...u){const h=this.transaction(c,a?"readwrite":"readonly");let m=h.store;return n&&(m=m.index(u.shift())),(await Promise.all([m[r](...u),a&&h.done]))[0]};return Ef.set(e,l),l}jD(t=>({...t,get:(e,r,n)=>y1(e,r)||t.get(e,r,n),has:(e,r)=>!!y1(e,r)||t.has(e,r)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(RD(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function RD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eg="@firebase/app",x1="0.14.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const os=new JS("@firebase/app"),AD="@firebase/app-compat",ID="@firebase/analytics-compat",OD="@firebase/analytics",DD="@firebase/app-check-compat",LD="@firebase/app-check",MD="@firebase/auth",FD="@firebase/auth-compat",zD="@firebase/database",UD="@firebase/data-connect",$D="@firebase/database-compat",VD="@firebase/functions",WD="@firebase/functions-compat",BD="@firebase/installations",HD="@firebase/installations-compat",qD="@firebase/messaging",KD="@firebase/messaging-compat",GD="@firebase/performance",ZD="@firebase/performance-compat",QD="@firebase/remote-config",XD="@firebase/remote-config-compat",YD="@firebase/storage",JD="@firebase/storage-compat",eL="@firebase/firestore",tL="@firebase/ai",rL="@firebase/firestore-compat",nL="firebase",sL="12.0.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tg="[DEFAULT]",aL={[Eg]:"fire-core",[AD]:"fire-core-compat",[OD]:"fire-analytics",[ID]:"fire-analytics-compat",[LD]:"fire-app-check",[DD]:"fire-app-check-compat",[MD]:"fire-auth",[FD]:"fire-auth-compat",[zD]:"fire-rtdb",[UD]:"fire-data-connect",[$D]:"fire-rtdb-compat",[VD]:"fire-fn",[WD]:"fire-fn-compat",[BD]:"fire-iid",[HD]:"fire-iid-compat",[qD]:"fire-fcm",[KD]:"fire-fcm-compat",[GD]:"fire-perf",[ZD]:"fire-perf-compat",[QD]:"fire-rc",[XD]:"fire-rc-compat",[YD]:"fire-gcs",[JD]:"fire-gcs-compat",[eL]:"fire-fst",[rL]:"fire-fst-compat",[tL]:"fire-vertex","fire-js":"fire-js",[nL]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tc=new Map,iL=new Map,_g=new Map;function b1(t,e){try{t.container.addComponent(e)}catch(r){os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function rc(t){const e=t.name;if(_g.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;_g.set(e,t);for(const r of tc.values())b1(r,t);for(const r of iL.values())b1(r,t);return!0}function r2(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function vr(t){return t==null?!1:t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Nc("app","Firebase",oL);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lL{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jc=sL;function n2(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:Tg,automaticDataCollectionEnabled:!0,...e},a=n.name;if(typeof a!="string"||!a)throw qs.create("bad-app-name",{appName:String(a)});if(r||(r=XS()),!r)throw qs.create("no-options");const l=tc.get(a);if(l){if(so(r,l.options)&&so(n,l.config))return l;throw qs.create("duplicate-app",{appName:a})}const c=new mD(a);for(const h of _g.values())c.addComponent(h);const u=new lL(r,n,c);return tc.set(a,u),u}function cL(t=Tg){const e=tc.get(t);if(!e&&t===Tg&&XS())return n2();if(!e)throw qs.create("no-app",{appName:t});return e}function w1(){return Array.from(tc.values())}function Gi(t,e,r){let n=aL[t]??t;r&&(n+=`-${r}`);const a=n.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${n}" with version "${e}":`];a&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(c.join(" "));return}rc(new ao(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dL="firebase-heartbeat-database",uL=1,nc="firebase-heartbeat-store";let Tf=null;function s2(){return Tf||(Tf=ED(dL,uL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nc)}catch(r){console.warn(r)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),Tf}async function hL(t){try{const e=(await s2()).transaction(nc),r=await e.objectStore(nc).get(a2(t));return await e.done,r}catch(e){if(e instanceof na)os.warn(e.message);else{const r=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});os.warn(r.message)}}}async function N1(t,e){try{const r=(await s2()).transaction(nc,"readwrite");await r.objectStore(nc).put(e,a2(t)),await r.done}catch(r){if(r instanceof na)os.warn(r.message);else{const n=qs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});os.warn(n.message)}}}function a2(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pL=1024,mL=30;class fL{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new vL(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=k1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>mL){const l=yL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){os.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=k1(),{heartbeatsToSend:n,unsentEntries:a}=gL(this._heartbeatsCache.heartbeats),l=ZS(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(r){return os.warn(r),""}}}function k1(){return new Date().toISOString().substring(0,10)}function gL(t,e=pL){const r=[];let n=t.slice();for(const a of t){const l=r.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),j1(r)>e){l.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),j1(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class vL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rD()?nD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await hL(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function j1(t){return ZS(JSON.stringify({version:2,heartbeats:t})).length}function yL(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xL(t){rc(new ao("platform-logger",e=>new PD(e),"PRIVATE")),rc(new ao("heartbeat",e=>new fL(e),"PRIVATE")),Gi(Eg,x1,t),Gi(Eg,x1,"esm2020"),Gi("fire-js","")}xL("");function i2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o2=i2,l2=new Nc("auth","Firebase",i2());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Yu=new JS("@firebase/auth");function bL(t,...e){Yu.logLevel<=Je.WARN&&Yu.warn(`Auth (${jc}): ${t}`,...e)}function Tu(t,...e){Yu.logLevel<=Je.ERROR&&Yu.error(`Auth (${jc}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Mr(t,...e){throw Kv(t,...e)}function en(t,...e){return Kv(t,...e)}function qv(t,e,r){const n={...o2(),[e]:r};return new Nc("auth","Firebase",n).create(e,{appName:t.name})}function kn(t){return qv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c2(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Mr(t,"argument-error"),qv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kv(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return l2.create(t,...e)}function Ne(t,e,...r){if(!t)throw Kv(e,...r)}function Yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tu(e),new Error(e)}function ls(t,e){t||Yn(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ju(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function d2(){return S1()==="http:"||S1()==="https:"}function S1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d2()||JO()||"connection"in navigator)?navigator.onLine:!0}function NL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sc{constructor(e,r){this.shortDelay=e,this.longDelay=r,ls(r>e,"Short delay should be less than long delay!"),this.isMobile=XO()||eD()}get(){return wL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gv(t,e){ls(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class u2{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SL=new Sc(3e4,6e4);function Dn(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ln(t,e,r,n,a={}){return h2(t,a,async()=>{let l={},c={};n&&(e==="GET"?c=n:l={body:JSON.stringify(n)});const u=kc({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:h,...l};return YO()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Gh(t.emulatorConfig.host)&&(m.credentials="include"),u2.fetch()(await p2(t,t.config.apiHost,r,u),m)})}async function h2(t,e,r){t._canInitEmulator=!1;const n={...kL,...e};try{const a=new EL(t),l=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw su(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const u=l.ok?c.errorMessage:c.error.message,[h,m]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw su(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw su(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw su(t,"user-disabled",c);const f=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw qv(t,f,m);Mr(t,f)}}catch(a){if(a instanceof na)throw a;Mr(t,"network-request-failed",{message:String(a)})}}async function Cc(t,e,r,n,a={}){const l=await Ln(t,e,r,n,a);return"mfaPendingCredential"in l&&Mr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function p2(t,e,r,n){const a=`${e}${r}?${n}`,l=t,c=l.config.emulator?Gv(t.config,a):`${t.config.apiScheme}://${a}`;return jL.includes(r)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function CL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(en(this.auth,"network-request-failed")),SL.get())})}}function su(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=en(t,e,n);return a.customData._tokenResponse=r,a}function C1(t){return t!==void 0&&t.enterprise!==void 0}class TL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return CL(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _L(t,e){return Ln(t,"GET","/v2/recaptchaConfig",Dn(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function PL(t,e){return Ln(t,"POST","/v1/accounts:delete",e)}async function eh(t,e){return Ln(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m2(t,e=!1){const r=On(t),n=await r.getIdToken(e),a=Zv(n);Ne(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:n,authTime:Wl(_f(a.auth_time)),issuedAtTime:Wl(_f(a.iat)),expirationTime:Wl(_f(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function _f(t){return Number(t)*1e3}function Zv(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Tu("JWT malformed, contained fewer than 3 sections"),null;try{const a=QS(r);return a?JSON.parse(a):(Tu("Failed to decode base64 JWT payload"),null)}catch(a){return Tu("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function E1(t){const e=Zv(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function sc(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof na&&RL(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function RL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pg{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function th(t){var e;const r=t.auth,n=await t.getIdToken(),a=await sc(t,eh(r,{idToken:n}));Ne(a==null?void 0:a.users.length,r,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=(e=l.providerUserInfo)!=null&&e.length?g2(l.providerUserInfo):[],u=IL(t.providerData,c),h=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(u!=null&&u.length),f=h?m:!1,g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Pg(l.createdAt,l.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function f2(t){const e=On(t);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IL(t,e){return[...t.filter(r=>!e.some(n=>n.providerId===r.providerId)),...e]}function g2(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function OL(t,e){const r=await h2(t,{},async()=>{const n=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await p2(t,a,"/v1/token",`key=${l}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:n};return t.emulatorConfig&&Gh(t.emulatorConfig.host)&&(h.credentials="include"),u2.fetch()(c,h)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function DL(t,e){return Ln(t,"POST","/v2/accounts:revokeToken",Dn(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const r=E1(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:l}=await OL(e,r);this.updateTokensAndExpiration(n,a,Number(l))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:l}=r,c=new Zi;return n&&(Ne(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),a&&(Ne(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ne(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zi,this.toJSON())}_performRefresh(){return Yn("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ls(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Jr{constructor({uid:e,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new AL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Pg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await sc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return m2(this,e)}reload(){return f2(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Jr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await th(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(kn(this.auth));const e=await this.getIdToken();return await sc(this,PL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,a=r.email??void 0,l=r.phoneNumber??void 0,c=r.photoURL??void 0,u=r.tenantId??void 0,h=r._redirectEventId??void 0,m=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:k,providerData:j,stsTokenManager:N}=r;Ne(g&&N,e,"internal-error");const b=Zi.fromJSON(this.name,N);Ne(typeof g=="string",e,"internal-error"),Ls(n,e.name),Ls(a,e.name),Ne(typeof x=="boolean",e,"internal-error"),Ne(typeof k=="boolean",e,"internal-error"),Ls(l,e.name),Ls(c,e.name),Ls(u,e.name),Ls(h,e.name),Ls(m,e.name),Ls(f,e.name);const C=new Jr({uid:g,auth:e,email:a,emailVerified:x,displayName:n,isAnonymous:k,photoURL:c,phoneNumber:l,tenantId:u,stsTokenManager:b,createdAt:m,lastLoginAt:f});return j&&Array.isArray(j)&&(C.providerData=j.map(_=>({..._}))),h&&(C._redirectEventId=h),C}static async _fromIdTokenResponse(e,r,n=!1){const a=new Zi;a.updateFromServerResponse(r);const l=new Jr({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await th(l),l}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];Ne(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?g2(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),u=new Zi;u.updateFromIdToken(n);const h=new Jr({uid:a.localId,auth:e,stsTokenManager:u,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Pg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,m),h}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T1=new Map;function Jn(t){ls(t instanceof Function,"Expected a class definition");let e=T1.get(t);return e?(ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T1.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class v2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}v2.type="NONE";const Rg=v2;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _u(t,e,r){return`firebase:${t}:${e}:${r}`}class Qi{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:l}=this.auth;this.fullUserKey=_u(this.userKey,a.apiKey,l),this.fullPersistenceKey=_u("persistence",a.apiKey,l),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await eh(this.auth,{idToken:e}).catch(()=>{});return r?Jr._fromGetAccountInfoResponse(this.auth,r,e):null}return Jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Qi(Jn(Rg),e,n);const a=(await Promise.all(r.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Jn(Rg);const c=_u(n,e.config.apiKey,e.name);let u=null;for(const m of r)try{const f=await m._get(c);if(f){let g;if(typeof f=="string"){const x=await eh(e,{idToken:f}).catch(()=>{});if(!x)break;g=await Jr._fromGetAccountInfoResponse(e,x,f)}else g=Jr._fromJSON(e,f);m!==l&&(u=g),l=m;break}}catch{}const h=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new Qi(l,e,n):(l=h[0],u&&await l._set(c,u.toJSON()),await Promise.all(r.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Qi(l,e,n))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k2(e))return"Blackberry";if(j2(e))return"Webos";if(x2(e))return"Safari";if((e.includes("chrome/")||b2(e))&&!e.includes("edge/"))return"Chrome";if(N2(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function y2(t=Qt()){return/firefox\//i.test(t)}function x2(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b2(t=Qt()){return/crios\//i.test(t)}function w2(t=Qt()){return/iemobile/i.test(t)}function N2(t=Qt()){return/android/i.test(t)}function k2(t=Qt()){return/blackberry/i.test(t)}function j2(t=Qt()){return/webos/i.test(t)}function Qv(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LL(t=Qt()){var e;return Qv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function ML(){return tD()&&document.documentMode===10}function S2(t=Qt()){return Qv(t)||N2(t)||j2(t)||k2(t)||/windows phone/i.test(t)||w2(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function C2(t,e=[]){let r;switch(t){case"Browser":r=_1(Qt());break;case"Worker":r=`${_1(Qt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${jc}/${n}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=l=>new Promise((c,u)=>{try{const h=e(l);c(h)}catch(h){u(h)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function zL(t,e={}){return Ln(t,"GET","/v2/passwordPolicy",Dn(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UL=6;class $L{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??UL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VL{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P1(this),this.idTokenSubscription=new P1(this),this.beforeStateQueue=new FL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Jn(r)),this._initializationPromise=this.queue(async()=>{var n,a,l;if(!this._deleted&&(this.persistenceManager=await Qi.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await eh(this,{idToken:e}),n=await Jr._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(vr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(r=this.redirectUser)==null?void 0:r._redirectEventId,u=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===u)&&h!=null&&h.user&&(a=h.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vr(this.app))return Promise.reject(kn(this));const r=e?On(e):null;return r&&Ne(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vr(this.app)?Promise.reject(kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zL(this),r=new $L(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nc("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await DL(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Jn(e)||this._popupRedirectResolver;Ne(r,this,"argument-error"),this.redirectPersistenceManager=await Qi.create(this,[Jn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const l=typeof r=="function"?r:r.next.bind(r);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(u,this,"internal-error"),u.then(()=>{c||l(this.currentUser)}),typeof r=="function"){const h=e.addObserver(r,n,a);return()=>{c=!0,h()}}else{const h=e.addObserver(r);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r}async _getAppCheckToken(){var e;if(vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return r!=null&&r.error&&bL(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function an(t){return On(t)}class P1{constructor(e){this.auth=e,this.observer=null,this.addObserver=lD(r=>this.observer=r)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WL(t){Zh=t}function E2(t){return Zh.loadJS(t)}function BL(){return Zh.recaptchaEnterpriseScript}function HL(){return Zh.gapiScript}function qL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class KL{constructor(){this.enterprise=new GL}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class GL{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const ZL="recaptcha-enterprise",T2="NO_RECAPTCHA";class QL{constructor(e){this.type=ZL,this.auth=an(e)}async verify(e="verify",r=!1){async function n(l){if(!r){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,u)=>{_L(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new TL(h);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(h=>{u(h)})})}function a(l,c,u){const h=window.grecaptcha;C1(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(T2)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KL().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{n(this.auth).then(u=>{if(!r&&C1(window.grecaptcha))a(u,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=BL();h.length!==0&&(h+=u),E2(h).then(()=>{a(u,l,c)}).catch(m=>{c(m)})}}).catch(u=>{c(u)})})}}async function R1(t,e,r,n=!1,a=!1){const l=new QL(t);let c;if(a)c=T2;else try{c=await l.verify(r)}catch{c=await l.verify(r,!0)}const u={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function rh(t,e,r,n,a){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await R1(t,e,r,r==="getOobCode");return n(t,c)}else return n(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await R1(t,e,r,r==="getOobCode");return n(t,u)}else return Promise.reject(c)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _2(t,e){const r=r2(t,"auth");if(r.isInitialized()){const n=r.getImmediate(),a=r.getOptions();if(so(a,e??{}))return n;Mr(n,"already-initialized")}return r.initialize({options:e})}function XL(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function P2(t,e,r){const n=an(t);Ne(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,l=R2(e),{host:c,port:u}=YL(e),h=u===null?"":`:${u}`,m={url:`${l}//${c}${h}/`},f=Object.freeze({host:c,port:u,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){Ne(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ne(so(m,n.config.emulator)&&so(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=m,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,Gh(c)?(KO(`${l}//${c}${h}`),QO("Auth",!0)):JL()}function R2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YL(t){const e=R2(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const l=a[1];return{host:l,port:A1(n.substr(l.length+1))}}else{const[l,c]=n.split(":");return{host:l,port:A1(c)}}}function A1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JL(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qh{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,r){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}}async function e6(t,e){return Ln(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function t6(t,e){return Cc(t,"POST","/v1/accounts:signInWithPassword",Dn(t,e))}async function r6(t,e){return Ln(t,"POST","/v1/accounts:sendOobCode",Dn(t,e))}async function n6(t,e){return r6(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function s6(t,e){return Cc(t,"POST","/v1/accounts:signInWithEmailLink",Dn(t,e))}async function a6(t,e){return Cc(t,"POST","/v1/accounts:signInWithEmailLink",Dn(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class io extends Qh{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new io(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new io(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&r!=null&&r.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rh(e,r,"signInWithPassword",t6);case"emailLink":return s6(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rh(e,n,"signUpPassword",e6);case"emailLink":return a6(e,{idToken:r,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Xi(t,e){return Cc(t,"POST","/v1/accounts:signInWithIdp",Dn(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const i6="https://localhost";class Ys extends Qh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Mr("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a,...l}=r;if(!n||!a)return null;const c=new Ys(n,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const r=this.buildRequest();return Xi(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Xi(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Xi(e,r)}buildRequest(){const e={requestUri:i6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=kc(r)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function o6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l6(t){const e=Il(Ol(t)).link,r=e?Il(Ol(e)).deep_link_id:null,n=Il(Ol(t)).deep_link_id;return(n?Il(Ol(n)).link:null)||n||r||e||t}class Xh{constructor(e){const r=Il(Ol(e)),n=r.apiKey??null,a=r.oobCode??null,l=o6(r.mode??null);Ne(n&&a&&l,"argument-error"),this.apiKey=n,this.operation=l,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=l6(e);try{return new Xh(r)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ha{constructor(){this.providerId=Ha.PROVIDER_ID}static credential(e,r){return io._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Xh.parseLink(r);return Ne(n,"argument-error"),io._fromEmailAndCode(e,n.code,n.tenantId)}}Ha.PROVIDER_ID="password";Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ec extends Yh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qr extends Ec{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xr extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ys._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Xr.credential(r,n)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qn extends Ec{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qn.credential(e.oauthAccessToken)}catch{return null}}}Qn.GITHUB_SIGN_IN_METHOD="github.com";Qn.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xn extends Ec{constructor(){super("twitter.com")}static credential(e,r){return Ys._fromParams({providerId:Xn.PROVIDER_ID,signInMethod:Xn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Xn.credentialFromTaggedObject(e)}static credentialFromError(e){return Xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Xn.credential(r,n)}catch{return null}}}Xn.TWITTER_SIGN_IN_METHOD="twitter.com";Xn.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function c6(t,e){return Cc(t,"POST","/v1/accounts:signUp",Dn(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const l=await Jr._fromIdTokenResponse(e,n,a),c=I1(n);return new Va({user:l,providerId:c,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=I1(n);return new Va({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function I1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nh extends na{constructor(e,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new nh(e,r,n,a)}}function A2(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(t,a,e,n):a})}async function d6(t,e,r=!1){const n=await sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Va._forOperation(t,"link",n)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function u6(t,e,r=!1){const{auth:n}=t;if(vr(n.app))return Promise.reject(kn(n));const a="reauthenticate";try{const l=await sc(t,A2(n,a,e,t),r);Ne(l.idToken,n,"internal-error");const c=Zv(l.idToken);Ne(c,n,"internal-error");const{sub:u}=c;return Ne(t.uid===u,n,"user-mismatch"),Va._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Mr(n,"user-mismatch"),l}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function I2(t,e,r=!1){if(vr(t.app))return Promise.reject(kn(t));const n="signIn",a=await A2(t,n,e),l=await Va._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(l.user),l}async function O2(t,e){return I2(an(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function h6(t,e,r){var n;Ne(((n=r.url)==null?void 0:n.length)>0,t,"invalid-continue-uri"),Ne(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Ne(typeof r.linkDomain>"u"||r.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.linkDomain=r.linkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Ne(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(Ne(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function D2(t){const e=an(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p6(t,e,r){const n=an(t),a={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&h6(n,a,r),await rh(n,a,"getOobCode",n6)}async function Xv(t,e,r){if(vr(t.app))return Promise.reject(kn(t));const n=an(t),a=await rh(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c6).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&D2(t),c}),l=await Va._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(l.user),l}function Yv(t,e,r){return vr(t.app)?Promise.reject(kn(t)):O2(On(t),Ha.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&D2(t),n})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function m6(t,e){return Ln(t,"POST","/v1/accounts:createAuthUri",Dn(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Jv(t,e){const r=d2()?Ju():"https://localhost",n={identifier:e,continueUri:r},{signinMethods:a}=await m6(On(t),n);return a||[]}function L2(t,e,r,n){return On(t).onIdTokenChanged(e,r,n)}function M2(t,e,r){return On(t).beforeAuthStateChanged(e,r)}function F2(t,e,r,n){return On(t).onAuthStateChanged(e,r,n)}function z2(t){return On(t).signOut()}const sh="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U2{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const f6=1e3,g6=10;class $2 extends U2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((c,u,h)=>{this.notifyListeners(c,h)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(n);!r&&this.localCache[n]===c||this.notifyListeners(n,c)},l=this.storage.getItem(n);ML()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,g6):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},f6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}$2.type="LOCAL";const V2=$2;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W2 extends U2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}W2.type="SESSION";const e0=W2;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function v6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new Jh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:l}=r.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const u=Array.from(c).map(async m=>m(r.origin,l)),h=await v6(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:h})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function t0(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((u,h)=>{const m=t0("",20);a.port1.start();const f=setTimeout(()=>{h(new Error("unsupported_event"))},n);c={messageChannel:a,onMessage(g){const x=g;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(f),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),u(x.data.response);break;default:clearTimeout(f),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:r},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jn(){return window}function x6(t){jn().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function B2(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}async function b6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function N6(){return B2()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const H2="firebaseLocalStorageDb",k6=1,ah="firebaseLocalStorage",q2="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ep(t,e){return t.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function j6(){const t=indexedDB.deleteDatabase(H2);return new Tc(t).toPromise()}function Ag(){const t=indexedDB.open(H2,k6);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(ah,{keyPath:q2})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(ah)?e(n):(n.close(),await j6(),e(await Ag()))})})}async function O1(t,e,r){const n=ep(t,!0).put({[q2]:e,value:r});return new Tc(n).toPromise()}async function S6(t,e){const r=ep(t,!1).get(e),n=await new Tc(r).toPromise();return n===void 0?null:n.value}function D1(t,e){const r=ep(t,!0).delete(e);return new Tc(r).toPromise()}const C6=800,E6=3;class K2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ag(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>E6)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(N6()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await b6(),!this.activeServiceWorker)return;this.sender=new y6(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(e=n[0])!=null&&e.fulfilled&&(r=n[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ag();return await O1(e,sh,"1"),await D1(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>O1(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>S6(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>D1(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=ep(a,!1).getAll();return new Tc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K2.type="LOCAL";const G2=K2;new Sc(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function r0(t,e){return e?Jn(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class n0 extends Qh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xi(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Xi(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function T6(t){return I2(t.auth,new n0(t),t.bypassAuthState)}function _6(t){const{auth:e,user:r}=t;return Ne(r,e,"internal-error"),u6(r,new n0(t),t.bypassAuthState)}async function P6(t){const{auth:e,user:r}=t;return Ne(r,e,"internal-error"),d6(r,new n0(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z2{constructor(e,r,n,a,l=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:l,error:c,type:u}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:r,sessionId:n,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T6;case"linkViaPopup":case"linkViaRedirect":return P6;case"reauthViaPopup":case"reauthViaRedirect":return _6;default:Mr(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R6=new Sc(2e3,1e4);async function ac(t,e,r){if(vr(t.app))return Promise.reject(en(t,"operation-not-supported-in-this-environment"));const n=an(t);c2(t,e,Yh);const a=r0(n,r);return new Oa(n,"signInViaPopup",e,a).executeNotNull()}class Oa extends Z2{constructor(e,r,n,a,l){super(e,r,a,l),this.provider=n,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=t0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(en(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(en(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(en(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R6.get())};e()}}Oa.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const A6="pendingRedirect",Pu=new Map;class I6 extends Z2{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Pu.get(this.auth._key());if(!e){try{const r=await O6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(r){e=()=>Promise.reject(r)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O6(t,e){const r=X2(e),n=Q2(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}async function D6(t,e){return Q2(t)._set(X2(e),"true")}function L6(t,e){Pu.set(t._key(),e)}function Q2(t){return Jn(t._redirectPersistence)}function X2(t){return _u(A6,t.config.apiKey,t.name)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ig(t,e,r){return M6(t,e,r)}async function M6(t,e,r){if(vr(t.app))return Promise.reject(kn(t));const n=an(t);c2(t,e,Yh),await n._initializationPromise;const a=r0(n,r);return await D6(a,n),a._openRedirect(n,e,"signInViaRedirect")}async function Y2(t,e){return await an(t)._initializationPromise,J2(t,e,!1)}async function J2(t,e,r=!1){if(vr(t.app))return Promise.reject(kn(t));const n=an(t),a=r0(n,e),l=await new I6(n,a,r).execute();return l&&!r&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const F6=600*1e3;class z6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U6(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!eC(e)){const a=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(en(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F6&&this.cachedEventUids.clear(),this.cachedEventUids.has(L1(e))}saveEventToCache(e){this.cachedEventUids.add(L1(e)),this.lastProcessedEventTime=Date.now()}}function L1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eC(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function $6(t,e={}){return Ln(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W6=/^https?/;async function B6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $6(t);for(const r of e)try{if(H6(r))return}catch{}Mr(t,"unauthorized-domain")}function H6(t){const e=Ju(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===n}if(!W6.test(r))return!1;if(V6.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const q6=new Sc(3e4,6e4);function M1(){const t=jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function K6(t){return new Promise((e,r)=>{var n,a,l;function c(){M1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M1(),r(en(t,"network-request-failed"))},timeout:q6.get()})}if((a=(n=jn().gapi)==null?void 0:n.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=jn().gapi)!=null&&l.load)c();else{const u=qL("iframefcb");return jn()[u]=()=>{gapi.load?c():r(en(t,"network-request-failed"))},E2(`${HL()}?onload=${u}`).catch(h=>r(h))}}).catch(e=>{throw Ru=null,e})}let Ru=null;function G6(t){return Ru=Ru||K6(t),Ru}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Z6=new Sc(5e3,15e3),Q6="__/auth/iframe",X6="emulator/auth/iframe",Y6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eM(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Gv(e,X6):`https://${t.config.authDomain}/${Q6}`,n={apiKey:e.apiKey,appName:t.name,v:jc},a=J6.get(t.config.apiHost);a&&(n.eid=a);const l=t._getFrameworks();return l.length&&(n.fw=l.join(",")),`${r}?${kc(n).slice(1)}`}async function tM(t){const e=await G6(t),r=jn().gapi;return Ne(r,t,"internal-error"),e.open({where:document.body,url:eM(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y6,dontclear:!0},n=>new Promise(async(a,l)=>{await n.restyle({setHideOnLeave:!1});const c=en(t,"network-request-failed"),u=jn().setTimeout(()=>{l(c)},Z6.get());function h(){jn().clearTimeout(u),a(n)}n.ping(h).then(h,()=>{l(c)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nM=500,sM=600,aM="_blank",iM="https://localhost";class F1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oM(t,e,r,n=nM,a=sM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const h={...rM,width:n.toString(),height:a.toString(),top:l,left:c},m=Qt().toLowerCase();r&&(u=b2(m)?aM:r),y2(m)&&(e=e||iM,h.scrollbars="yes");const f=Object.entries(h).reduce((x,[k,j])=>`${x}${k}=${j},`,"");if(LL(m)&&u!=="_self")return lM(e||"",u),new F1(null);const g=window.open(e||"",u,f);Ne(g,t,"popup-blocked");try{g.focus()}catch{}return new F1(g)}function lM(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cM="__/auth/handler",dM="emulator/auth/handler",uM=encodeURIComponent("fac");async function z1(t,e,r,n,a,l){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:jc,eventId:a};if(e instanceof Yh){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",oD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))c[f]=g}if(e instanceof Ec){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(c.scopes=f.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const f of Object.keys(u))u[f]===void 0&&delete u[f];const h=await t._getAppCheckToken(),m=h?`#${uM}=${encodeURIComponent(h)}`:"";return`${hM(t)}?${kc(u).slice(1)}${m}`}function hM({config:t}){return t.emulator?Gv(t,dM):`https://${t.authDomain}/${cM}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pf="webStorageSupport";class pM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e0,this._completeRedirectFn=J2,this._overrideRedirectResult=L6}async _openPopup(e,r,n,a){var l;ls((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await z1(e,r,n,Ju(),a);return oM(e,c,t0())}async _openRedirect(e,r,n,a){await this._originValidation(e);const l=await z1(e,r,n,Ju(),a);return x6(l),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:l}=this.eventManagers[r];return a?Promise.resolve(a):(ls(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await tM(e),n=new z6(e);return r.register("authEvent",a=>(Ne(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Pf,{type:Pf},n=>{var a;const l=(a=n==null?void 0:n[0])==null?void 0:a[Pf];l!==void 0&&r(!!l),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=B6(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return S2()||x2()||Qv()}}const tC=pM;var U1="@firebase/auth",$1="1.11.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gM(t){rc(new ao("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=n.options;Ne(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:c,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C2(t)},m=new VL(n,a,l,h);return XL(m,r),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),rc(new ao("auth-internal",e=>{const r=an(e.getProvider("auth").getImmediate());return(n=>new mM(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(U1,$1,fM(t)),Gi(U1,$1,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vM=300,yM=YS("authIdTokenMaxAge")||vM;let V1=null;const xM=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>yM)return;const a=r==null?void 0:r.token;V1!==a&&(V1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function rC(t=cL()){const e=r2(t,"auth");if(e.isInitialized())return e.getImmediate();const r=_2(t,{popupRedirectResolver:tC,persistence:[G2,V2,e0]}),n=YS("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(n,location.origin);if(location.origin===l.origin){const c=xM(l.toString());M2(r,c,()=>c(r.currentUser)),L2(r,u=>c(u))}}const a=HO("auth");return a&&P2(r,`https://${a}`),r}function bM(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}WL({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const l=en("internal-error");l.customData=a,r(l)},n.type="text/javascript",n.charset="UTF-8",bM().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gM("Browser");const $s=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Xh,AuthCredential:Qh,EmailAuthCredential:io,EmailAuthProvider:Ha,FacebookAuthProvider:Qr,GithubAuthProvider:Qn,GoogleAuthProvider:Xr,OAuthCredential:Ys,TwitterAuthProvider:Xn,beforeAuthStateChanged:M2,browserLocalPersistence:V2,browserPopupRedirectResolver:tC,browserSessionPersistence:e0,connectAuthEmulator:P2,createUserWithEmailAndPassword:Xv,fetchSignInMethodsForEmail:Jv,getAuth:rC,getIdTokenResult:m2,getRedirectResult:Y2,inMemoryPersistence:Rg,indexedDBLocalPersistence:G2,initializeAuth:_2,onAuthStateChanged:F2,onIdTokenChanged:L2,prodErrorMap:o2,reload:f2,sendPasswordResetEmail:p6,signInWithCredential:O2,signInWithEmailAndPassword:Yv,signInWithPopup:ac,signInWithRedirect:Ig,signOut:z2},Symbol.toStringTag,{value:"Module"}));var wM="firebase",NM="12.0.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   https://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Gi(wM,NM,"app");const kM={apiKey:"AIzaSyB45zr8b2HjIx1fzXOuQsHxeQK9wl_wC88",authDomain:"bingeboard-73c5f.firebaseapp.com",projectId:"bingeboard-73c5f",storageBucket:"bingeboard-73c5f.firebasestorage.app",messagingSenderId:"145846820194",appId:"1:145846820194:web:047efd7a8e59b36944a03b",measurementId:"G-TB1ZXQ79LB"},nC=w1().length?w1()[0]:n2(kM),Be=rC(nC),oo=new Xr;oo.setCustomParameters({prompt:"select_account"});oo.addScope("email");oo.addScope("profile");const ic=new Qr;ic.setCustomParameters({display:"popup"});ic.addScope("email");const sC=Object.freeze(Object.defineProperty({__proto__:null,app:nC,auth:Be,facebookProvider:ic,googleProvider:oo},Symbol.toStringTag,{value:"Module"})),jM=()=>{const t="https://bingeboard-two.vercel.app";return console.log(" Using backend API:",t),t},SM=t=>{const e=jM(),r=t.startsWith("/")?t:`/${t}`;return`${e}${r}`},Wt=async(t,e)=>{const r=SM(t);return console.log(` API call: ${r}`),fetch(r,{credentials:"include",...e})};let ih={user:null,isAuthenticated:!1,isLoading:!0},W1=!1;const Og=new Set,Rr=t=>{ih={...ih,...t},Og.forEach(e=>e())},CM=()=>{if(!W1){if(W1=!0,new URLSearchParams(window.location.search).get("demo")==="true"){console.log(" Demo mode activated"),Rr({user:{id:"demo-user-123",email:"demo@bingeboardapp.com",displayName:"Demo User"},isAuthenticated:!0,isLoading:!1});return}F2(Be,async t=>{if(Rr({isLoading:!0}),t)try{console.log(" FirebaseUser detected:",t==null?void 0:t.email);try{console.log(" TEMPORARY BYPASS: Skipping backend for UI demo");const e={id:t.uid,email:t.email||"",displayName:t.displayName||void 0};Rr({user:e,isAuthenticated:!0,isLoading:!1}),console.log(" Frontend-only authentication successful for UI demo:",e)}catch(e){console.error("Auth sync error:",e),Rr({user:null,isAuthenticated:!1,isLoading:!1})}}catch(e){console.error("Auth sync error:",e),Rr({user:null,isAuthenticated:!1,isLoading:!1})}else try{const e=await Wt("/api/auth/status"),r=e.ok?await e.json():null;Rr({user:(r==null?void 0:r.user)||null,isAuthenticated:!!(r!=null&&r.user),isLoading:!1})}catch{Rr({user:null,isAuthenticated:!1,isLoading:!1})}})}};function Fr(){const[t,e]=y.useState(ih);y.useEffect(()=>{CM()},[]),y.useEffect(()=>{const a=()=>e({...ih});return Og.add(a),a(),()=>{Og.delete(a)}},[]);const r=y.useCallback(async()=>{try{Rr({isLoading:!0}),await Be.signOut(),await Wt("/api/auth/logout",{method:"POST"}),Rr({user:null,isAuthenticated:!1,isLoading:!1})}catch(a){console.error("Logout error:",a),Rr({isLoading:!1})}},[]),n=y.useCallback(async()=>{try{const a=await Wt("/api/auth/status"),l=a.ok?await a.json():null;Rr({user:(l==null?void 0:l.user)||null,isAuthenticated:!!(l!=null&&l.user),isLoading:!1})}catch{Rr({user:null,isAuthenticated:!1,isLoading:!1})}},[]);return{...t,logout:r,refreshSession:n}}function EM({className:t="h-5 w-5"}){return i.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",children:[i.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2",stroke:"currentColor",strokeWidth:"1.5"}),i.jsx("circle",{cx:"9",cy:"7",r:"4",stroke:"currentColor",strokeWidth:"1.5"}),i.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87",stroke:"currentColor",strokeWidth:"1.5"}),i.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75",stroke:"currentColor",strokeWidth:"1.5"})]})}function TM({className:t="h-5 w-5"}){return i.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",children:[i.jsx("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor",strokeWidth:"1.5"}),i.jsx("path",{d:"m21 21-4.35-4.35",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),i.jsx("circle",{cx:"11",cy:"11",r:"3",stroke:"currentColor",strokeWidth:"1",opacity:"0.5"})]})}function _M({className:t="h-5 w-5"}){return i.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",children:[i.jsx("path",{d:"M3 9.5L12 2l9 7.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M5 8v11a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("rect",{x:"9",y:"13",width:"6",height:"6",stroke:"currentColor",strokeWidth:"1.5"})]})}function PM(){const[t,e]=nn(),{isAuthenticated:r}=Fr();if(!r)return null;const n=[{path:"/",icon:_M,label:"Home"},{path:"/discover",icon:TM,label:"Discover"},{path:"/lists",icon:yO,label:"Lists"},{path:"/social",icon:EM,label:"Social"},{path:"/settings",icon:qh,label:"Settings"}];return i.jsxs(i.Fragment,{children:[i.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-slate-950/95 backdrop-blur-sm border-t border-slate-800",children:i.jsx("div",{className:"flex items-center justify-around py-2 px-1",children:n.map(a=>{const l=a.icon,c=t===a.path||a.path==="/"&&t==="/"||a.path==="/discover"&&t.startsWith("/discover");return i.jsxs("button",{onClick:()=>e(a.path),className:`flex flex-col items-center p-2 min-w-0 flex-1 transition-colors duration-200 ${c?"text-teal-400":"text-gray-400 hover:text-gray-300"}`,children:[i.jsx(l,{className:"w-5 h-5 mb-1 flex-shrink-0"}),i.jsx("span",{className:"text-xs font-medium truncate",children:a.label})]},a.path)})})}),i.jsx("div",{className:"md:hidden h-16"})]})}function RM(){const[t,e]=nn(),r=[{path:"/privacy-policy",icon:wn,label:"Privacy Policy"},{path:"/terms-of-service",icon:mO,label:"Terms of Service"},{path:"/eula",icon:TO,label:"EULA"}];return i.jsx("footer",{className:"bg-gray-900/95 border-t border-gray-800 mt-auto",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"w-10 h-8 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[i.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:i.jsx("div",{className:"text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),i.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),i.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),i.jsx("div",{className:"block",children:i.jsxs("span",{className:"text-xl select-none",children:[i.jsx("span",{className:"font-black bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Binge"}),i.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]})})]}),i.jsx("p",{className:"text-gray-400 text-sm",children:"The premium platform for tracking your favorite TV shows and sporting events. Discover, track, and share your entertainment experience."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-semibold text-sm mb-3",children:"Legal"}),i.jsx("div",{className:"space-y-2",children:r.map(n=>{const a=n.icon;return i.jsxs("button",{onClick:()=>e(n.path),className:"flex items-center text-gray-400 hover:text-teal-400 text-sm transition-colors",children:[i.jsx(a,{className:"w-4 h-4 mr-2"}),n.label]},n.path)})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-semibold text-sm mb-3",children:"Support"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[i.jsx("p",{children:"Privacy questions: privacy@bingeboard.com"}),i.jsx("p",{children:"Support: support@bingeboard.com"}),i.jsx("p",{className:"mt-4 text-xs",children:" 2025 BingeBoard. All rights reserved."})]})]})]})})})}const AM=Wh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 focus-visible:ring-offset-gray-900 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-blue-500 hover:bg-blue-600 text-white font-medium shadow-md hover:shadow-lg",destructive:"bg-red-600 text-white hover:bg-red-700 shadow-md hover:shadow-lg",outline:"border border-gray-600 bg-transparent text-white hover:bg-gray-700 hover:border-gray-500",secondary:"bg-gray-700 text-white hover:bg-gray-600 shadow-md hover:shadow-lg",ghost:"text-white hover:bg-gray-700 hover:text-white",link:"text-blue-400 underline-offset-4 hover:underline hover:text-blue-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=y.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},l)=>{const c=n?$R:"button";return i.jsx(c,{className:_e(AM({variant:e,size:r,className:t})),ref:l,...a})});ie.displayName="Button";const Zt=y.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:_e("flex h-10 w-full rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-base text-white ring-offset-gray-900 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-white placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 focus-visible:border-transparent disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-all duration-200",t),ref:n,...r}));Zt.displayName="Input";function IM(){return Jk.useSyncExternalStore(OM,()=>!0,()=>!1)}function OM(){return()=>{}}var s0="Avatar",[DM]=lr(s0),[LM,aC]=DM(s0),iC=y.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,l]=y.useState("idle");return i.jsx(LM,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:l,children:i.jsx(Ae.span,{...n,ref:e})})});iC.displayName=s0;var oC="AvatarImage",lC=y.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...l}=t,c=aC(oC,r),u=MM(n,l),h=or(m=>{a(m),c.onImageLoadingStatusChange(m)});return Lr(()=>{u!=="idle"&&h(u)},[u,h]),u==="loaded"?i.jsx(Ae.img,{...l,ref:e,src:n}):null});lC.displayName=oC;var cC="AvatarFallback",dC=y.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,l=aC(cC,r),[c,u]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const h=window.setTimeout(()=>u(!0),n);return()=>window.clearTimeout(h)}},[n]),c&&l.imageLoadingStatus!=="loaded"?i.jsx(Ae.span,{...a,ref:e}):null});dC.displayName=cC;function B1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function MM(t,{referrerPolicy:e,crossOrigin:r}){const n=IM(),a=y.useRef(null),l=n?(a.current||(a.current=new window.Image),a.current):null,[c,u]=y.useState(()=>B1(l,t));return Lr(()=>{u(B1(l,t))},[l,t]),Lr(()=>{const h=g=>()=>{u(g)};if(!l)return;const m=h("loaded"),f=h("error");return l.addEventListener("load",m),l.addEventListener("error",f),e&&(l.referrerPolicy=e),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",m),l.removeEventListener("error",f)}},[l,r,e]),c}var uC=iC,hC=lC,pC=dC;const qa=y.forwardRef(({className:t,...e},r)=>i.jsx(uC,{ref:r,className:_e("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));qa.displayName=uC.displayName;const Ka=y.forwardRef(({className:t,...e},r)=>i.jsx(hC,{ref:r,className:_e("aspect-square h-full w-full",t),...e}));Ka.displayName=hC.displayName;const Ga=y.forwardRef(({className:t,...e},r)=>i.jsx(pC,{ref:r,className:_e("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ga.displayName=pC.displayName;const FM=Wh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),ze=y.forwardRef(({className:t,variant:e,...r},n)=>i.jsx("div",{ref:n,className:_e(FM({variant:e}),t),...r}));ze.displayName="Badge";var zM=y.createContext(void 0);function tp(t){const e=y.useContext(zM);return t||e||"ltr"}var Rf=0;function mC(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??H1()),document.body.insertAdjacentElement("beforeend",t[1]??H1()),Rf++,()=>{Rf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rf--}},[])}function H1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Af="focusScope.autoFocusOnMount",If="focusScope.autoFocusOnUnmount",q1={bubbles:!1,cancelable:!0},UM="FocusScope",a0=y.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=t,[u,h]=y.useState(null),m=or(a),f=or(l),g=y.useRef(null),x=Ze(e,N=>h(N)),k=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let N=function(T){if(k.paused||!u)return;const P=T.target;u.contains(P)?g.current=P:Fs(g.current,{select:!0})},b=function(T){if(k.paused||!u)return;const P=T.relatedTarget;P!==null&&(u.contains(P)||Fs(g.current,{select:!0}))},C=function(T){if(document.activeElement===document.body)for(const P of T)P.removedNodes.length>0&&Fs(u)};document.addEventListener("focusin",N),document.addEventListener("focusout",b);const _=new MutationObserver(C);return u&&_.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",b),_.disconnect()}}},[n,u,k.paused]),y.useEffect(()=>{if(u){G1.add(k);const N=document.activeElement;if(!u.contains(N)){const b=new CustomEvent(Af,q1);u.addEventListener(Af,m),u.dispatchEvent(b),b.defaultPrevented||($M(qM(fC(u)),{select:!0}),document.activeElement===N&&Fs(u))}return()=>{u.removeEventListener(Af,m),setTimeout(()=>{const b=new CustomEvent(If,q1);u.addEventListener(If,f),u.dispatchEvent(b),b.defaultPrevented||Fs(N??document.body,{select:!0}),u.removeEventListener(If,f),G1.remove(k)},0)}}},[u,m,f,k]);const j=y.useCallback(N=>{if(!r&&!n||k.paused)return;const b=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,C=document.activeElement;if(b&&C){const _=N.currentTarget,[T,P]=VM(_);T&&P?!N.shiftKey&&C===P?(N.preventDefault(),r&&Fs(T,{select:!0})):N.shiftKey&&C===T&&(N.preventDefault(),r&&Fs(P,{select:!0})):C===_&&N.preventDefault()}},[r,n,k.paused]);return i.jsx(Ae.div,{tabIndex:-1,...c,ref:x,onKeyDown:j})});a0.displayName=UM;function $M(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Fs(n,{select:e}),document.activeElement!==r)return}function VM(t){const e=fC(t),r=K1(e,t),n=K1(e.reverse(),t);return[r,n]}function fC(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function K1(t,e){for(const r of t)if(!WM(r,{upTo:e}))return r}function WM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function BM(t){return t instanceof HTMLInputElement&&"select"in t}function Fs(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&BM(t)&&e&&t.select()}}var G1=HM();function HM(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Z1(t,e),t.unshift(e)},remove(e){var r;t=Z1(t,e),(r=t[0])==null||r.resume()}}}function Z1(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function qM(t){return t.filter(e=>e.tagName!=="A")}var Of="rovingFocusGroup.onEntryFocus",KM={bubbles:!1,cancelable:!0},_c="RovingFocusGroup",[Dg,gC,GM]=$h(_c),[ZM,rp]=lr(_c,[GM]),[QM,XM]=ZM(_c),vC=y.forwardRef((t,e)=>i.jsx(Dg.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(Dg.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(YM,{...t,ref:e})})}));vC.displayName=_c;var YM=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:f=!1,...g}=t,x=y.useRef(null),k=Ze(e,x),j=tp(l),[N,b]=ra({prop:c,defaultProp:u??null,onChange:h,caller:_c}),[C,_]=y.useState(!1),T=or(m),P=gC(r),A=y.useRef(!1),[L,I]=y.useState(0);return y.useEffect(()=>{const E=x.current;if(E)return E.addEventListener(Of,T),()=>E.removeEventListener(Of,T)},[T]),i.jsx(QM,{scope:r,orientation:n,dir:j,loop:a,currentTabStopId:N,onItemFocus:y.useCallback(E=>b(E),[b]),onItemShiftTab:y.useCallback(()=>_(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(E=>E+1),[]),onFocusableItemRemove:y.useCallback(()=>I(E=>E-1),[]),children:i.jsx(Ae.div,{tabIndex:C||L===0?-1:0,"data-orientation":n,...g,ref:k,style:{outline:"none",...t.style},onMouseDown:me(t.onMouseDown,()=>{A.current=!0}),onFocus:me(t.onFocus,E=>{const R=!A.current;if(E.target===E.currentTarget&&R&&!C){const z=new CustomEvent(Of,KM);if(E.currentTarget.dispatchEvent(z),!z.defaultPrevented){const G=P().filter(Q=>Q.focusable),W=G.find(Q=>Q.active),ee=G.find(Q=>Q.id===N),D=[W,ee,...G].filter(Boolean).map(Q=>Q.ref.current);bC(D,f)}}A.current=!1}),onBlur:me(t.onBlur,()=>_(!1))})})}),yC="RovingFocusGroupItem",xC=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:l,children:c,...u}=t,h=La(),m=l||h,f=XM(yC,r),g=f.currentTabStopId===m,x=gC(r),{onFocusableItemAdd:k,onFocusableItemRemove:j,currentTabStopId:N}=f;return y.useEffect(()=>{if(n)return k(),()=>j()},[n,k,j]),i.jsx(Dg.ItemSlot,{scope:r,id:m,focusable:n,active:a,children:i.jsx(Ae.span,{tabIndex:g?0:-1,"data-orientation":f.orientation,...u,ref:e,onMouseDown:me(t.onMouseDown,b=>{n?f.onItemFocus(m):b.preventDefault()}),onFocus:me(t.onFocus,()=>f.onItemFocus(m)),onKeyDown:me(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const C=tF(b,f.orientation,f.dir);if(C!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let _=x().filter(T=>T.focusable).map(T=>T.ref.current);if(C==="last")_.reverse();else if(C==="prev"||C==="next"){C==="prev"&&_.reverse();const T=_.indexOf(b.currentTarget);_=f.loop?rF(_,T+1):_.slice(T+1)}setTimeout(()=>bC(_))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:N!=null}):c})})});xC.displayName=yC;var JM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eF(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function tF(t,e,r){const n=eF(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return JM[n]}function bC(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function rF(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var wC=vC,NC=xC,nF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ii=new WeakMap,au=new WeakMap,iu={},Df=0,kC=function(t){return t&&(t.host||kC(t.parentNode))},sF=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=kC(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},aF=function(t,e,r,n){var a=sF(e,Array.isArray(t)?t:[t]);iu[r]||(iu[r]=new WeakMap);var l=iu[r],c=[],u=new Set,h=new Set(a),m=function(g){!g||u.has(g)||(u.add(g),m(g.parentNode))};a.forEach(m);var f=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(x){if(u.has(x))f(x);else try{var k=x.getAttribute(n),j=k!==null&&k!=="false",N=(Ii.get(x)||0)+1,b=(l.get(x)||0)+1;Ii.set(x,N),l.set(x,b),c.push(x),N===1&&j&&au.set(x,!0),b===1&&x.setAttribute(r,"true"),j||x.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",x,C)}})};return f(e),u.clear(),Df++,function(){c.forEach(function(g){var x=Ii.get(g)-1,k=l.get(g)-1;Ii.set(g,x),l.set(g,k),x||(au.has(g)||g.removeAttribute(n),au.delete(g)),k||g.removeAttribute(r)}),Df--,Df||(Ii=new WeakMap,Ii=new WeakMap,au=new WeakMap,iu={})}},jC=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=nF(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),aF(n,a,r,"aria-hidden")):function(){return null}},yn=function(){return yn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},yn.apply(this,arguments)};function SC(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function iF(t,e,r){for(var n=0,a=e.length,l;n<a;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return t.concat(l||Array.prototype.slice.call(e))}var Au="right-scroll-bar-position",Iu="width-before-scroll-bar",oF="with-scroll-bars-hidden",lF="--removed-body-scroll-bar-size";function Lf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function cF(t,e){var r=y.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var dF=typeof window<"u"?y.useLayoutEffect:y.useEffect,Q1=new WeakMap;function uF(t,e){var r=cF(null,function(n){return t.forEach(function(a){return Lf(a,n)})});return dF(function(){var n=Q1.get(r);if(n){var a=new Set(n),l=new Set(t),c=r.current;a.forEach(function(u){l.has(u)||Lf(u,null)}),l.forEach(function(u){a.has(u)||Lf(u,c)})}Q1.set(r,t)},[t]),r}function hF(t){return t}function pF(t,e){e===void 0&&(e=hF);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var c=e(l,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(u){return l(u)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(l),c=r}var h=function(){var f=c;c=[],f.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),r={push:function(f){c.push(f),m()},filter:function(f){return c=c.filter(f),r}}}};return a}function mF(t){t===void 0&&(t={});var e=pF(null);return e.options=yn({async:!0,ssr:!1},t),e}var CC=function(t){var e=t.sideCar,r=SC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,yn({},r))};CC.isSideCarExport=!0;function fF(t,e){return t.useMedium(e),CC}var EC=mF(),Mf=function(){},np=y.forwardRef(function(t,e){var r=y.useRef(null),n=y.useState({onScrollCapture:Mf,onWheelCapture:Mf,onTouchMoveCapture:Mf}),a=n[0],l=n[1],c=t.forwardProps,u=t.children,h=t.className,m=t.removeScrollBar,f=t.enabled,g=t.shards,x=t.sideCar,k=t.noRelative,j=t.noIsolation,N=t.inert,b=t.allowPinchZoom,C=t.as,_=C===void 0?"div":C,T=t.gapMode,P=SC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=x,L=uF([r,e]),I=yn(yn({},P),a);return y.createElement(y.Fragment,null,f&&y.createElement(A,{sideCar:EC,removeScrollBar:m,shards:g,noRelative:k,noIsolation:j,inert:N,setCallbacks:l,allowPinchZoom:!!b,lockRef:r,gapMode:T}),c?y.cloneElement(y.Children.only(u),yn(yn({},I),{ref:L})):y.createElement(_,yn({},I,{className:h,ref:L}),u))});np.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};np.classNames={fullWidth:Iu,zeroRight:Au};var gF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=gF();return e&&t.setAttribute("nonce",e),t}function yF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function xF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var bF=function(){var t=0,e=null;return{add:function(r){t==0&&(e=vF())&&(yF(e,r),xF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},wF=function(){var t=bF();return function(e,r){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},TC=function(){var t=wF(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},NF={left:0,top:0,right:0,gap:0},Ff=function(t){return parseInt(t||"",10)||0},kF=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[Ff(r),Ff(n),Ff(a)]},jF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return NF;var e=kF(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},SF=TC(),Yi="data-scroll-locked",CF=function(t,e,r,n){var a=t.left,l=t.top,c=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(oF,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Yi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Au,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Iu,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Au," .").concat(Au,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Iu," .").concat(Iu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Yi,`] {
    `).concat(lF,": ").concat(u,`px;
  }
`)},X1=function(){var t=parseInt(document.body.getAttribute(Yi)||"0",10);return isFinite(t)?t:0},EF=function(){y.useEffect(function(){return document.body.setAttribute(Yi,(X1()+1).toString()),function(){var t=X1()-1;t<=0?document.body.removeAttribute(Yi):document.body.setAttribute(Yi,t.toString())}},[])},TF=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;EF();var l=y.useMemo(function(){return jF(a)},[a]);return y.createElement(SF,{styles:CF(l,!e,a,r?"":"!important")})},Lg=!1;if(typeof window<"u")try{var ou=Object.defineProperty({},"passive",{get:function(){return Lg=!0,!0}});window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{Lg=!1}var Oi=Lg?{passive:!1}:!1,_F=function(t){return t.tagName==="TEXTAREA"},_C=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!_F(t)&&r[e]==="visible")},PF=function(t){return _C(t,"overflowY")},RF=function(t){return _C(t,"overflowX")},Y1=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=PC(t,n);if(a){var l=RC(t,n),c=l[1],u=l[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},AF=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},IF=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},PC=function(t,e){return t==="v"?PF(e):RF(e)},RC=function(t,e){return t==="v"?AF(e):IF(e)},OF=function(t,e){return t==="h"&&e==="rtl"?-1:1},DF=function(t,e,r,n,a){var l=OF(t,window.getComputedStyle(e).direction),c=l*n,u=r.target,h=e.contains(u),m=!1,f=c>0,g=0,x=0;do{if(!u)break;var k=RC(t,u),j=k[0],N=k[1],b=k[2],C=N-b-l*j;(j||C)&&PC(t,u)&&(g+=C,x+=j);var _=u.parentNode;u=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(f&&Math.abs(g)<1||!f&&Math.abs(x)<1)&&(m=!0),m},lu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},J1=function(t){return[t.deltaX,t.deltaY]},eN=function(t){return t&&"current"in t?t.current:t},LF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},MF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},FF=0,Di=[];function zF(t){var e=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(FF++)[0],l=y.useState(TC)[0],c=y.useRef(t);y.useEffect(function(){c.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var N=iF([t.lockRef.current],(t.shards||[]).map(eN)).filter(Boolean);return N.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),N.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var u=y.useCallback(function(N,b){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!c.current.allowPinchZoom;var C=lu(N),_=r.current,T="deltaX"in N?N.deltaX:_[0]-C[0],P="deltaY"in N?N.deltaY:_[1]-C[1],A,L=N.target,I=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in N&&I==="h"&&L.type==="range")return!1;var E=Y1(I,L);if(!E)return!0;if(E?A=I:(A=I==="v"?"h":"v",E=Y1(I,L)),!E)return!1;if(!n.current&&"changedTouches"in N&&(T||P)&&(n.current=A),!A)return!0;var R=n.current||A;return DF(R,b,N,R==="h"?T:P)},[]),h=y.useCallback(function(N){var b=N;if(!(!Di.length||Di[Di.length-1]!==l)){var C="deltaY"in b?J1(b):lu(b),_=e.current.filter(function(A){return A.name===b.type&&(A.target===b.target||b.target===A.shadowParent)&&LF(A.delta,C)})[0];if(_&&_.should){b.cancelable&&b.preventDefault();return}if(!_){var T=(c.current.shards||[]).map(eN).filter(Boolean).filter(function(A){return A.contains(b.target)}),P=T.length>0?u(b,T[0]):!c.current.noIsolation;P&&b.cancelable&&b.preventDefault()}}},[]),m=y.useCallback(function(N,b,C,_){var T={name:N,delta:b,target:C,should:_,shadowParent:UF(C)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),f=y.useCallback(function(N){r.current=lu(N),n.current=void 0},[]),g=y.useCallback(function(N){m(N.type,J1(N),N.target,u(N,t.lockRef.current))},[]),x=y.useCallback(function(N){m(N.type,lu(N),N.target,u(N,t.lockRef.current))},[]);y.useEffect(function(){return Di.push(l),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",h,Oi),document.addEventListener("touchmove",h,Oi),document.addEventListener("touchstart",f,Oi),function(){Di=Di.filter(function(N){return N!==l}),document.removeEventListener("wheel",h,Oi),document.removeEventListener("touchmove",h,Oi),document.removeEventListener("touchstart",f,Oi)}},[]);var k=t.removeScrollBar,j=t.inert;return y.createElement(y.Fragment,null,j?y.createElement(l,{styles:MF(a)}):null,k?y.createElement(TF,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function UF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $F=fF(EC,zF);var i0=y.forwardRef(function(t,e){return y.createElement(np,yn({},t,{ref:e,sideCar:$F}))});i0.classNames=np.classNames;var Mg=["Enter"," "],VF=["ArrowDown","PageUp","Home"],AC=["ArrowUp","PageDown","End"],WF=[...VF,...AC],BF={ltr:[...Mg,"ArrowRight"],rtl:[...Mg,"ArrowLeft"]},HF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pc="Menu",[oc,qF,KF]=$h(Pc),[Za,IC]=lr(Pc,[KF,Dh,rp]),sp=Dh(),OC=rp(),[GF,Qa]=Za(Pc),[ZF,Rc]=Za(Pc),DC=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:a,onOpenChange:l,modal:c=!0}=t,u=sp(e),[h,m]=y.useState(null),f=y.useRef(!1),g=or(l),x=tp(a);return y.useEffect(()=>{const k=()=>{f.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>f.current=!1;return document.addEventListener("keydown",k,{capture:!0}),()=>{document.removeEventListener("keydown",k,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),i.jsx(Kj,{...u,children:i.jsx(GF,{scope:e,open:r,onOpenChange:g,content:h,onContentChange:m,children:i.jsx(ZF,{scope:e,onClose:y.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:f,dir:x,modal:c,children:n})})})};DC.displayName=Pc;var QF="MenuAnchor",o0=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=sp(r);return i.jsx(Gj,{...a,...n,ref:e})});o0.displayName=QF;var l0="MenuPortal",[XF,LC]=Za(l0,{forceMount:void 0}),MC=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:a}=t,l=Qa(l0,e);return i.jsx(XF,{scope:e,forceMount:r,children:i.jsx(sn,{present:r||l.open,children:i.jsx(Lh,{asChild:!0,container:a,children:n})})})};MC.displayName=l0;var Dr="MenuContent",[YF,c0]=Za(Dr),FC=y.forwardRef((t,e)=>{const r=LC(Dr,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,l=Qa(Dr,t.__scopeMenu),c=Rc(Dr,t.__scopeMenu);return i.jsx(oc.Provider,{scope:t.__scopeMenu,children:i.jsx(sn,{present:n||l.open,children:i.jsx(oc.Slot,{scope:t.__scopeMenu,children:c.modal?i.jsx(JF,{...a,ref:e}):i.jsx(e8,{...a,ref:e})})})})}),JF=y.forwardRef((t,e)=>{const r=Qa(Dr,t.__scopeMenu),n=y.useRef(null),a=Ze(e,n);return y.useEffect(()=>{const l=n.current;if(l)return jC(l)},[]),i.jsx(d0,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:me(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),e8=y.forwardRef((t,e)=>{const r=Qa(Dr,t.__scopeMenu);return i.jsx(d0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),t8=Ji("MenuContent.ScrollLock"),d0=y.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:g,onInteractOutside:x,onDismiss:k,disableOutsideScroll:j,...N}=t,b=Qa(Dr,r),C=Rc(Dr,r),_=sp(r),T=OC(r),P=qF(r),[A,L]=y.useState(null),I=y.useRef(null),E=Ze(e,I,b.onContentChange),R=y.useRef(0),z=y.useRef(""),G=y.useRef(0),W=y.useRef(null),ee=y.useRef("right"),D=y.useRef(0),Q=j?i0:y.Fragment,ae=j?{as:t8,allowPinchZoom:!0}:void 0,oe=Z=>{var X,U;const q=z.current+Z,ue=P().filter(Fe=>!Fe.disabled),be=document.activeElement,Ee=(X=ue.find(Fe=>Fe.ref.current===be))==null?void 0:X.textValue,Me=ue.map(Fe=>Fe.textValue),He=p8(Me,q,Ee),$e=(U=ue.find(Fe=>Fe.textValue===He))==null?void 0:U.ref.current;(function Fe(_t){z.current=_t,window.clearTimeout(R.current),_t!==""&&(R.current=window.setTimeout(()=>Fe(""),1e3))})(q),$e&&setTimeout(()=>$e.focus())};y.useEffect(()=>()=>window.clearTimeout(R.current),[]),mC();const H=y.useCallback(Z=>{var X,U;return ee.current===((X=W.current)==null?void 0:X.side)&&f8(Z,(U=W.current)==null?void 0:U.area)},[]);return i.jsx(YF,{scope:r,searchRef:z,onItemEnter:y.useCallback(Z=>{H(Z)&&Z.preventDefault()},[H]),onItemLeave:y.useCallback(Z=>{var X;H(Z)||((X=I.current)==null||X.focus(),L(null))},[H]),onTriggerLeave:y.useCallback(Z=>{H(Z)&&Z.preventDefault()},[H]),pointerGraceTimerRef:G,onPointerGraceIntentChange:y.useCallback(Z=>{W.current=Z},[]),children:i.jsx(Q,{...ae,children:i.jsx(a0,{asChild:!0,trapped:a,onMountAutoFocus:me(l,Z=>{var X;Z.preventDefault(),(X=I.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:i.jsx(yc,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:g,onInteractOutside:x,onDismiss:k,children:i.jsx(wC,{asChild:!0,...T,dir:C.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:L,onEntryFocus:me(h,Z=>{C.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Zj,{role:"menu","aria-orientation":"vertical","data-state":eE(b.open),"data-radix-menu-content":"",dir:C.dir,..._,...N,ref:E,style:{outline:"none",...N.style},onKeyDown:me(N.onKeyDown,Z=>{const X=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,U=Z.ctrlKey||Z.altKey||Z.metaKey,q=Z.key.length===1;X&&(Z.key==="Tab"&&Z.preventDefault(),!U&&q&&oe(Z.key));const ue=I.current;if(Z.target!==ue||!WF.includes(Z.key))return;Z.preventDefault();const be=P().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);AC.includes(Z.key)&&be.reverse(),u8(be)}),onBlur:me(t.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(R.current),z.current="")}),onPointerMove:me(t.onPointerMove,lc(Z=>{const X=Z.target,U=D.current!==Z.clientX;if(Z.currentTarget.contains(X)&&U){const q=Z.clientX>D.current?"right":"left";ee.current=q,D.current=Z.clientX}}))})})})})})})});FC.displayName=Dr;var r8="MenuGroup",u0=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(Ae.div,{role:"group",...n,ref:e})});u0.displayName=r8;var n8="MenuLabel",zC=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(Ae.div,{...n,ref:e})});zC.displayName=n8;var oh="MenuItem",tN="menu.itemSelect",ap=y.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...a}=t,l=y.useRef(null),c=Rc(oh,t.__scopeMenu),u=c0(oh,t.__scopeMenu),h=Ze(e,l),m=y.useRef(!1),f=()=>{const g=l.current;if(!r&&g){const x=new CustomEvent(tN,{bubbles:!0,cancelable:!0});g.addEventListener(tN,k=>n==null?void 0:n(k),{once:!0}),Ev(g,x),x.defaultPrevented?m.current=!1:c.onClose()}};return i.jsx(UC,{...a,ref:h,disabled:r,onClick:me(t.onClick,f),onPointerDown:g=>{var x;(x=t.onPointerDown)==null||x.call(t,g),m.current=!0},onPointerUp:me(t.onPointerUp,g=>{var x;m.current||(x=g.currentTarget)==null||x.click()}),onKeyDown:me(t.onKeyDown,g=>{const x=u.searchRef.current!=="";r||x&&g.key===" "||Mg.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});ap.displayName=oh;var UC=y.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...l}=t,c=c0(oh,r),u=OC(r),h=y.useRef(null),m=Ze(e,h),[f,g]=y.useState(!1),[x,k]=y.useState("");return y.useEffect(()=>{const j=h.current;j&&k((j.textContent??"").trim())},[l.children]),i.jsx(oc.ItemSlot,{scope:r,disabled:n,textValue:a??x,children:i.jsx(NC,{asChild:!0,...u,focusable:!n,children:i.jsx(Ae.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...l,ref:m,onPointerMove:me(t.onPointerMove,lc(j=>{n?c.onItemLeave(j):(c.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(t.onPointerLeave,lc(j=>c.onItemLeave(j))),onFocus:me(t.onFocus,()=>g(!0)),onBlur:me(t.onBlur,()=>g(!1))})})})}),s8="MenuCheckboxItem",$C=y.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return i.jsx(qC,{scope:t.__scopeMenu,checked:r,children:i.jsx(ap,{role:"menuitemcheckbox","aria-checked":lh(r)?"mixed":r,...a,ref:e,"data-state":p0(r),onSelect:me(a.onSelect,()=>n==null?void 0:n(lh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});$C.displayName=s8;var VC="MenuRadioGroup",[a8,i8]=Za(VC,{value:void 0,onValueChange:()=>{}}),WC=y.forwardRef((t,e)=>{const{value:r,onValueChange:n,...a}=t,l=or(n);return i.jsx(a8,{scope:t.__scopeMenu,value:r,onValueChange:l,children:i.jsx(u0,{...a,ref:e})})});WC.displayName=VC;var BC="MenuRadioItem",HC=y.forwardRef((t,e)=>{const{value:r,...n}=t,a=i8(BC,t.__scopeMenu),l=r===a.value;return i.jsx(qC,{scope:t.__scopeMenu,checked:l,children:i.jsx(ap,{role:"menuitemradio","aria-checked":l,...n,ref:e,"data-state":p0(l),onSelect:me(n.onSelect,()=>{var c;return(c=a.onValueChange)==null?void 0:c.call(a,r)},{checkForDefaultPrevented:!1})})})});HC.displayName=BC;var h0="MenuItemIndicator",[qC,o8]=Za(h0,{checked:!1}),KC=y.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...a}=t,l=o8(h0,r);return i.jsx(sn,{present:n||lh(l.checked)||l.checked===!0,children:i.jsx(Ae.span,{...a,ref:e,"data-state":p0(l.checked)})})});KC.displayName=h0;var l8="MenuSeparator",GC=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});GC.displayName=l8;var c8="MenuArrow",ZC=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=sp(r);return i.jsx(Qj,{...a,...n,ref:e})});ZC.displayName=c8;var d8="MenuSub",[EH,QC]=Za(d8),Dl="MenuSubTrigger",XC=y.forwardRef((t,e)=>{const r=Qa(Dl,t.__scopeMenu),n=Rc(Dl,t.__scopeMenu),a=QC(Dl,t.__scopeMenu),l=c0(Dl,t.__scopeMenu),c=y.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=l,m={__scopeMenu:t.__scopeMenu},f=y.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return y.useEffect(()=>f,[f]),y.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),h(null)}},[u,h]),i.jsx(o0,{asChild:!0,...m,children:i.jsx(UC,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":eE(r.open),...t,ref:_h(e,a.onTriggerChange),onClick:g=>{var x;(x=t.onClick)==null||x.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:me(t.onPointerMove,lc(g=>{l.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!r.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:me(t.onPointerLeave,lc(g=>{var x,k;f();const j=(x=r.content)==null?void 0:x.getBoundingClientRect();if(j){const N=(k=r.content)==null?void 0:k.dataset.side,b=N==="right",C=b?-5:5,_=j[b?"left":"right"],T=j[b?"right":"left"];l.onPointerGraceIntentChange({area:[{x:g.clientX+C,y:g.clientY},{x:_,y:j.top},{x:T,y:j.top},{x:T,y:j.bottom},{x:_,y:j.bottom}],side:N}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(g),g.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:me(t.onKeyDown,g=>{var x;const k=l.searchRef.current!=="";t.disabled||k&&g.key===" "||BF[n.dir].includes(g.key)&&(r.onOpenChange(!0),(x=r.content)==null||x.focus(),g.preventDefault())})})})});XC.displayName=Dl;var YC="MenuSubContent",JC=y.forwardRef((t,e)=>{const r=LC(Dr,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,l=Qa(Dr,t.__scopeMenu),c=Rc(Dr,t.__scopeMenu),u=QC(YC,t.__scopeMenu),h=y.useRef(null),m=Ze(e,h);return i.jsx(oc.Provider,{scope:t.__scopeMenu,children:i.jsx(sn,{present:n||l.open,children:i.jsx(oc.Slot,{scope:t.__scopeMenu,children:i.jsx(d0,{id:u.contentId,"aria-labelledby":u.triggerId,...a,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var g;c.isUsingKeyboardRef.current&&((g=h.current)==null||g.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:me(t.onFocusOutside,f=>{f.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:me(t.onEscapeKeyDown,f=>{c.onClose(),f.preventDefault()}),onKeyDown:me(t.onKeyDown,f=>{var g;const x=f.currentTarget.contains(f.target),k=HF[c.dir].includes(f.key);x&&k&&(l.onOpenChange(!1),(g=u.trigger)==null||g.focus(),f.preventDefault())})})})})})});JC.displayName=YC;function eE(t){return t?"open":"closed"}function lh(t){return t==="indeterminate"}function p0(t){return lh(t)?"indeterminate":t?"checked":"unchecked"}function u8(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function h8(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function p8(t,e,r){const n=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let l=h8(t,Math.max(a,0));n.length===1&&(l=l.filter(u=>u!==r));const c=l.find(u=>u.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function m8(t,e){const{x:r,y:n}=t;let a=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const u=e[l],h=e[c],m=u.x,f=u.y,g=h.x,x=h.y;f>n!=x>n&&r<(g-m)*(n-f)/(x-f)+m&&(a=!a)}return a}function f8(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return m8(r,e)}function lc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var g8=DC,v8=o0,y8=MC,x8=FC,b8=u0,w8=zC,N8=ap,k8=$C,j8=WC,S8=HC,C8=KC,E8=GC,T8=ZC,_8=XC,P8=JC,ip="DropdownMenu",[R8]=lr(ip,[IC]),Yt=IC(),[A8,tE]=R8(ip),rE=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:a,defaultOpen:l,onOpenChange:c,modal:u=!0}=t,h=Yt(e),m=y.useRef(null),[f,g]=ra({prop:a,defaultProp:l??!1,onChange:c,caller:ip});return i.jsx(A8,{scope:e,triggerId:La(),triggerRef:m,contentId:La(),open:f,onOpenChange:g,onOpenToggle:y.useCallback(()=>g(x=>!x),[g]),modal:u,children:i.jsx(g8,{...h,open:f,onOpenChange:g,dir:n,modal:u,children:r})})};rE.displayName=ip;var nE="DropdownMenuTrigger",sE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,l=tE(nE,r),c=Yt(r);return i.jsx(v8,{asChild:!0,...c,children:i.jsx(Ae.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:_h(e,l.triggerRef),onPointerDown:me(t.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(l.onOpenToggle(),l.open||u.preventDefault())}),onKeyDown:me(t.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&l.onOpenToggle(),u.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});sE.displayName=nE;var I8="DropdownMenuPortal",aE=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Yt(e);return i.jsx(y8,{...n,...r})};aE.displayName=I8;var iE="DropdownMenuContent",oE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=tE(iE,r),l=Yt(r),c=y.useRef(!1);return i.jsx(x8,{id:a.contentId,"aria-labelledby":a.triggerId,...l,...n,ref:e,onCloseAutoFocus:me(t.onCloseAutoFocus,u=>{var h;c.current||(h=a.triggerRef.current)==null||h.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:me(t.onInteractOutside,u=>{const h=u.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0,f=h.button===2||m;(!a.modal||f)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oE.displayName=iE;var O8="DropdownMenuGroup",D8=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Yt(r);return i.jsx(b8,{...a,...n,ref:e})});D8.displayName=O8;var L8="DropdownMenuLabel",lE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Yt(r);return i.jsx(w8,{...a,...n,ref:e})});lE.displayName=L8;var M8="DropdownMenuItem",cE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Yt(r);return i.jsx(N8,{...a,...n,ref:e})});cE.displayName=M8;var F8="DropdownMenuCheckboxItem",dE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Yt(r);return i.jsx(k8,{...a,...n,ref:e})});dE.displayName=F8;var z8="DropdownMenuRadioGroup",U8=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Yt(r);return i.jsx(j8,{...a,...n,ref:e})});U8.displayName=z8;var $8="DropdownMenuRadioItem",uE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Yt(r);return i.jsx(S8,{...a,...n,ref:e})});uE.displayName=$8;var V8="DropdownMenuItemIndicator",hE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Yt(r);return i.jsx(C8,{...a,...n,ref:e})});hE.displayName=V8;var W8="DropdownMenuSeparator",pE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Yt(r);return i.jsx(E8,{...a,...n,ref:e})});pE.displayName=W8;var B8="DropdownMenuArrow",H8=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Yt(r);return i.jsx(T8,{...a,...n,ref:e})});H8.displayName=B8;var q8="DropdownMenuSubTrigger",mE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Yt(r);return i.jsx(_8,{...a,...n,ref:e})});mE.displayName=q8;var K8="DropdownMenuSubContent",fE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Yt(r);return i.jsx(P8,{...a,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fE.displayName=K8;var G8=rE,Z8=sE,Q8=aE,gE=oE,vE=lE,yE=cE,xE=dE,bE=uE,wE=hE,NE=pE,kE=mE,jE=fE;const SE=G8,CE=Z8,X8=y.forwardRef(({className:t,inset:e,children:r,...n},a)=>i.jsxs(kE,{ref:a,className:_e("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,i.jsx(DS,{className:"ml-auto h-4 w-4"})]}));X8.displayName=kE.displayName;const Y8=y.forwardRef(({className:t,...e},r)=>i.jsx(jE,{ref:r,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Y8.displayName=jE.displayName;const m0=y.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(Q8,{children:i.jsx(gE,{ref:n,sideOffset:e,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));m0.displayName=gE.displayName;const Vs=y.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(yE,{ref:n,className:_e("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));Vs.displayName=yE.displayName;const J8=y.forwardRef(({className:t,children:e,checked:r,...n},a)=>i.jsxs(xE,{ref:a,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(wE,{children:i.jsx(Bh,{className:"h-4 w-4"})})}),e]}));J8.displayName=xE.displayName;const ez=y.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(bE,{ref:n,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(wE,{children:i.jsx(MS,{className:"h-2 w-2 fill-current"})})}),e]}));ez.displayName=bE.displayName;const EE=y.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(vE,{ref:n,className:_e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));EE.displayName=vE.displayName;const Fg=y.forwardRef(({className:t,...e},r)=>i.jsx(NE,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));Fg.displayName=NE.displayName;function tz(){var t,e,r,n;const{user:a,isAuthenticated:l}=Fr(),[c,u]=nn(),[h,m]=y.useState(""),[f,g]=y.useState(!1),x=b=>{b.preventDefault(),h.trim()?u(`/discover?search=${encodeURIComponent(h.trim())}`):u("/discover")},k=b=>{b.key==="Enter"&&x(b)},{data:j=[]}=Gs({queryKey:["/api/notifications/history"],queryFn:async()=>{try{const b=await fetch("/api/notifications/history",{credentials:"include"});if(!b.ok)throw new Error("Failed to fetch notifications");return await b.json()}catch(b){return console.debug("Failed to fetch notifications:",b),[]}},enabled:l}),N=j&&Array.isArray(j)?j.filter(b=>!b.isRead).length:0;return l?i.jsx("header",{className:"fixed top-0 left-0 right-0 z-[9999] w-full border-b border-slate-800/50 bg-black backdrop-blur-md",style:{position:"fixed"},children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"flex h-16 items-center justify-between",children:[i.jsx(Et,{href:"/",children:i.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",children:[i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"w-10 h-8 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative group-hover:scale-105 transition-transform duration-300",children:[i.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:i.jsx("div",{className:"text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),i.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),i.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),i.jsxs("div",{className:"block",children:[i.jsxs("span",{className:"text-xl sm:text-2xl",children:[i.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent font-black",children:"Binge"}),i.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]}),i.jsx("div",{className:"text-xs text-teal-400 font-medium tracking-widest uppercase opacity-75 hidden sm:block",children:"Entertainment Hub"})]})]})}),i.jsx("div",{className:"flex-1 max-w-lg mx-8 hidden md:block",children:i.jsx("form",{onSubmit:x,className:"relative",children:i.jsxs("div",{className:"relative",children:[i.jsx(no,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(Zt,{type:"text",placeholder:"Search shows, movies, actors...",value:h,onChange:b=>m(b.target.value),onKeyDown:k,onFocus:()=>g(!0),onBlur:()=>g(!1),className:`pl-10 pr-4 py-2 bg-slate-800/50 border-slate-700 text-white placeholder-gray-400 focus:border-teal-500 focus:ring-1 focus:ring-teal-500 transition-all duration-200 ${f?"bg-slate-800/80 border-teal-500":"hover:bg-slate-800/70"}`})]})})}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"md:hidden",children:i.jsx(ie,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white",onClick:()=>u("/discover"),children:i.jsx(no,{className:"h-5 w-5"})})}),i.jsx(Et,{href:"/notifications",children:i.jsxs(ie,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white relative",children:[i.jsx(ec,{className:"h-5 w-5"}),N>0&&i.jsx(ze,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs min-w-0",children:N>9?"9+":N})]})}),i.jsxs(SE,{children:[i.jsx(CE,{asChild:!0,children:i.jsx(ie,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:i.jsxs(qa,{className:"h-10 w-10",children:[i.jsx(Ka,{src:(a==null?void 0:a.profileImageUrl)||void 0,alt:(a==null?void 0:a.firstName)||"User"}),i.jsx(Ga,{className:"bg-gradient-to-br from-cyan-500 to-blue-500 text-white",children:((e=(t=a==null?void 0:a.firstName)==null?void 0:t[0])==null?void 0:e.toUpperCase())||((n=(r=a==null?void 0:a.email)==null?void 0:r[0])==null?void 0:n.toUpperCase())||"U"})]})})}),i.jsxs(m0,{className:"w-56 bg-slate-800 border-slate-700 mr-4 z-[10000]",align:"end",alignOffset:-8,sideOffset:8,forceMount:!0,style:{zIndex:1e4},children:[i.jsx(EE,{className:"font-normal",children:i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsx("p",{className:"text-sm font-medium leading-none text-white",children:a!=null&&a.firstName&&a!=null&&a.lastName?`${a.firstName} ${a.lastName}`:(a==null?void 0:a.email)||"User"}),(a==null?void 0:a.email)&&i.jsx("p",{className:"text-xs leading-none text-gray-400",children:a.email})]})}),i.jsx(Fg,{className:"bg-slate-700"}),i.jsx(Vs,{className:"text-gray-300 hover:text-white hover:bg-slate-700 cursor-pointer",children:i.jsxs(Et,{href:"/profile",className:"flex items-center w-full",children:[i.jsx(Kh,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Profile"})]})}),i.jsx(Vs,{className:"text-gray-300 hover:text-white hover:bg-slate-700 cursor-pointer",children:i.jsxs(Et,{href:"/pricing",className:"flex items-center w-full",children:[i.jsx(uO,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Upgrade to Premium"})]})}),i.jsx(Vs,{className:"text-gray-300 hover:text-white hover:bg-slate-700 cursor-pointer",children:i.jsxs(Et,{href:"/settings",className:"flex items-center w-full",children:[i.jsx(qh,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Settings"})]})}),i.jsx(Fg,{className:"bg-slate-700"}),i.jsxs(Vs,{className:"text-gray-300 hover:text-white hover:bg-slate-700 cursor-pointer",onClick:async()=>{console.log(" MANUAL LOGOUT BUTTON CLICKED - Starting logout process..."),console.trace(" Stack trace for logout button click:");try{const{auth:b}=await ct(async()=>{const{auth:C}=await Promise.resolve().then(()=>sC);return{auth:C}},void 0);await z2(b),console.log(" Firebase client signout successful")}catch(b){console.error(" Firebase signout error:",b)}try{const b=await fetch("/api/auth/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});b.ok?console.log(" Backend session cleared successfully"):console.error(" Backend logout failed:",b.status)}catch(b){console.error(" Backend logout error:",b)}console.log(" Redirecting to home page..."),window.location.href="/"},children:[i.jsx(FS,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Log out"})]})]})]})]})]})})}):i.jsx("header",{className:"nav-opaque border-b border-slate-800 sticky top-0 z-[60]",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs(Et,{href:"/",className:"flex items-center space-x-3",children:[i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"w-10 h-8 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[i.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:i.jsx("div",{className:"text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),i.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),i.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),i.jsxs("div",{className:"block",children:[i.jsxs("span",{className:"text-xl sm:text-2xl",children:[i.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent font-black",children:"Binge"}),i.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]}),i.jsx("div",{className:"text-xs text-teal-400 font-medium tracking-widest uppercase opacity-75 hidden sm:block",children:"Entertainment Hub"})]})]}),i.jsx("div",{className:"flex items-center space-x-3",children:i.jsx(Et,{href:"/login",children:i.jsx(ie,{className:"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white font-semibold px-6 py-2",children:"Log In"})})})]})})})}const rz=Ke.memo(tz),Qe=y.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:_e("bg-gray-800 text-white shadow-md rounded-lg border border-gray-700",t),...e}));Qe.displayName="Card";const Ct=y.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:_e("flex flex-col space-y-1.5 p-6",t),...e}));Ct.displayName="CardHeader";const It=y.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:_e("text-2xl font-semibold leading-none tracking-tight",t),...e}));It.displayName="CardTitle";const TE=y.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:_e("text-sm text-gray-400",t),...e}));TE.displayName="CardDescription";const Xe=y.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:_e("p-6 pt-0",t),...e}));Xe.displayName="CardContent";const nz=y.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:_e("flex items-center p-6 pt-0",t),...e}));nz.displayName="CardFooter";function f0(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var op="Switch",[sz]=lr(op),[az,iz]=sz(op),_E=y.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:l,required:c,disabled:u,value:h="on",onCheckedChange:m,form:f,...g}=t,[x,k]=y.useState(null),j=Ze(e,T=>k(T)),N=y.useRef(!1),b=x?f||!!x.closest("form"):!0,[C,_]=ra({prop:a,defaultProp:l??!1,onChange:m,caller:op});return i.jsxs(az,{scope:r,checked:C,disabled:u,children:[i.jsx(Ae.button,{type:"button",role:"switch","aria-checked":C,"aria-required":c,"data-state":IE(C),"data-disabled":u?"":void 0,disabled:u,value:h,...g,ref:j,onClick:me(t.onClick,T=>{_(P=>!P),b&&(N.current=T.isPropagationStopped(),N.current||T.stopPropagation())})}),b&&i.jsx(AE,{control:x,bubbles:!N.current,name:n,value:h,checked:C,required:c,disabled:u,form:f,style:{transform:"translateX(-100%)"}})]})});_E.displayName=op;var PE="SwitchThumb",RE=y.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=iz(PE,r);return i.jsx(Ae.span,{"data-state":IE(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});RE.displayName=PE;var oz="SwitchBubbleInput",AE=y.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},l)=>{const c=y.useRef(null),u=Ze(c,l),h=f0(r),m=Oh(e);return y.useEffect(()=>{const f=c.current;if(!f)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==r&&x){const k=new Event("click",{bubbles:n});x.call(f,r),f.dispatchEvent(k)}},[h,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:u,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});AE.displayName=oz;function IE(t){return t?"checked":"unchecked"}var OE=_E,lz=RE;const Tr=y.forwardRef(({className:t,...e},r)=>i.jsx(OE,{className:_e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:i.jsx(lz,{className:_e("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Tr.displayName=OE.displayName;class cz{constructor(e){this.cache=new Map,this.gistId=null,this.baseUrl="https://api.github.com",this.githubToken=e}getHeaders(){return{Authorization:`token ${this.githubToken}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"}}async findOrCreateGist(){try{const e=await fetch(`${this.baseUrl}/gists`,{headers:this.getHeaders()});if(!e.ok)return console.error("Failed to fetch gists:",e.status),null;const r=(await e.json()).find(l=>l.description==="BingeBoard User Data"&&l.files["bingeboard-data.json"]);if(r)return this.gistId=r.id,console.log(" Found existing BingeBoard gist"),r.id;const n=await fetch(`${this.baseUrl}/gists`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({description:"BingeBoard User Data",public:!1,files:{"bingeboard-data.json":{content:JSON.stringify({})}}})});if(!n.ok)return console.error("Failed to create gist:",n.status),null;const a=await n.json();return this.gistId=a.id,console.log(" Created new BingeBoard gist"),a.id}catch(e){return console.error(" Error with gist operations:",e),null}}async getUserData(e){var r;try{if(this.cache.has(e))return this.cache.get(e);if(!this.gistId&&(this.gistId=await this.findOrCreateGist(),!this.gistId))return null;const n=await fetch(`${this.baseUrl}/gists/${this.gistId}`,{headers:this.getHeaders()});if(!n.ok)return console.error("Failed to fetch gist:",n.status),null;const a=(r=(await n.json()).files["bingeboard-data.json"])==null?void 0:r.content;if(!a)return console.log("No data file found in gist"),null;const l=JSON.parse(a)[e];return l&&(this.cache.set(e,l),console.log(" Loaded user data from GitHub")),l||null}catch(n){return console.error(" Error loading user data:",n),null}}async saveUserData(e){var r;try{if(!this.gistId&&(this.gistId=await this.findOrCreateGist(),!this.gistId))return!1;const n=await fetch(`${this.baseUrl}/gists/${this.gistId}`,{headers:this.getHeaders()});let a={};if(n.ok){const c=(r=(await n.json()).files["bingeboard-data.json"])==null?void 0:r.content;c&&(a=JSON.parse(c))}a[e.userId]=e;const l=await fetch(`${this.baseUrl}/gists/${this.gistId}`,{method:"PATCH",headers:this.getHeaders(),body:JSON.stringify({files:{"bingeboard-data.json":{content:JSON.stringify(a,null,2)}}})});return l.ok?(this.cache.set(e.userId,e),console.log(" Saved user data to GitHub"),!0):(console.error("Failed to update gist:",l.status),!1)}catch(n){return console.error(" Error saving user data:",n),!1}}clearCache(){this.cache.clear()}async deleteUserData(e){var r;try{if(!this.gistId&&(this.gistId=await this.findOrCreateGist(),!this.gistId))return!1;const n=await fetch(`${this.baseUrl}/gists/${this.gistId}`,{headers:this.getHeaders()});if(!n.ok)return!1;const a=(r=(await n.json()).files["bingeboard-data.json"])==null?void 0:r.content;if(!a)return!0;const l=JSON.parse(a);return delete l[e],(await fetch(`${this.baseUrl}/gists/${this.gistId}`,{method:"PATCH",headers:this.getHeaders(),body:JSON.stringify({files:{"bingeboard-data.json":{content:JSON.stringify(l,null,2)}}})})).ok?(this.cache.delete(e),console.log(" Deleted user data from GitHub"),!0):!1}catch(n){return console.error(" Error deleting user data:",n),!1}}}class dz{constructor(){this.githubService=null,this.currentUser=null}async initialize(e){try{return e?(this.githubService=new cz(e),console.log(" GitHub user data service initialized"),!0):(console.log(" No GitHub token provided, using localStorage fallback"),!0)}catch(r){return console.error(" Failed to initialize user data service:",r),!1}}async getCurrentUser(){const e=Be.currentUser;return e?await this.getUserData(e.uid):(console.log(" No authenticated user"),null)}async getUserData(e){try{if(this.githubService){const n=await this.githubService.getUserData(e);if(n)return this.currentUser=n,n}const r=localStorage.getItem(`bingeboard-user-${e}`);if(r){const n=JSON.parse(r);return this.currentUser=n,console.log(" Loaded user data from localStorage"),n}return null}catch(r){return console.error(" Error loading user data:",r),null}}async createUserFromFirebase(e){const r={userId:e.uid,email:e.email||"",displayName:e.displayName||"User",createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString(),preferences:{favoriteGenres:[],watchingGoals:"",experience:"",notifications:!0,privacy:"private"},watchlists:{watching:[],completed:[],planToWatch:[],dropped:[]},stats:{showsWatched:0,moviesWatched:0,totalHours:0,favoriteGenres:[]},social:{friends:[],following:[],followers:[]}};return await this.saveUserData(r),this.currentUser=r,console.log(" Created new user profile"),r}async saveUserData(e){try{return e.lastUpdated=new Date().toISOString(),this.githubService&&await this.githubService.saveUserData(e)?(this.currentUser=e,localStorage.setItem(`bingeboard-user-${e.userId}`,JSON.stringify(e)),!0):(localStorage.setItem(`bingeboard-user-${e.userId}`,JSON.stringify(e)),this.currentUser=e,console.log(" Saved user data to localStorage"),!0)}catch(r){return console.error(" Error saving user data:",r),!1}}async updatePreferences(e){const r=Be.currentUser;if(!r)return console.error(" No authenticated user"),!1;let n=await this.getUserData(r.uid);return n||(n=await this.createUserFromFirebase(r)),n.preferences={...n.preferences,...e},await this.saveUserData(n)}async addToWatchlist(e,r="planToWatch"){const n=Be.currentUser;if(!n)return console.error(" No authenticated user"),!1;let a=await this.getUserData(n.uid);a||(a=await this.createUserFromFirebase(n));const l={...e,dateAdded:new Date().toISOString(),notes:"",rating:void 0};return a.watchlists[r].some(c=>c.id===e.id)?!0:(a.watchlists[r].push(l),await this.saveUserData(a))}getUserStats(){var e;return((e=this.currentUser)==null?void 0:e.stats)||null}getUserWatchlists(){var e;return((e=this.currentUser)==null?void 0:e.watchlists)||null}getUserPreferences(){var e;return((e=this.currentUser)==null?void 0:e.preferences)||null}clearCurrentUser(){this.currentUser=null,this.githubService&&this.githubService.clearCache()}}const zg=new dz;function uz({isOpen:t,onComplete:e,userDisplayName:r,userData:n}){console.log(" PREMIUM ONBOARDING MODAL RENDERED",{isOpen:t,userDisplayName:r,userData:n==null?void 0:n.email});const[a,l]=y.useState(1),[c,u]=y.useState(!1),[h,m]=y.useState({userProfile:{firstName:(n==null?void 0:n.firstName)||"",lastName:(n==null?void 0:n.lastName)||"",email:(n==null?void 0:n.email)||"",phone:"",location:"",birthday:""},favoriteGenres:[],favoriteTeams:[],contentTypes:[],streamingPlatforms:[],viewingHabits:{preferredTime:"evening",bingeDuration:"2-3 hours",weeklyGoal:"5-10 hours"},privacy:"private",shareActivity:!1,findFriends:!1,allowRecommendations:!0,notifications:{newEpisodes:!0,friendActivity:!1,recommendations:!0,weeklyRecap:!1,trendingContent:!1},importHistory:!1,connectPlatforms:[],uploadedFiles:[],discoveryPreferences:{showRecommendations:!0,includePopular:!0,includeCriticsChoice:!1,includeHidden:!1},contentFilters:{hideAdult:!0,hideViolence:!1,maxRating:"R"},theme:"dark",selectedPlan:"free"}),f=["Action","Adventure","Animation","Comedy","Crime","Documentary","Drama","Family","Fantasy","History","Horror","Music","Mystery","Romance","Sci-Fi","Sports","Thriller","War","Western"],g=["TV Series","Movies","Documentaries","Anime","Reality TV","Talk Shows","News","Sports","Kids Content","International"],x=["Netflix","Disney+","HBO Max","Amazon Prime","Hulu","Apple TV+","Paramount+","Peacock","YouTube","Crunchyroll","Other"],k={NFL:["Arizona Cardinals","Atlanta Falcons","Baltimore Ravens","Buffalo Bills","Carolina Panthers","Chicago Bears","Cincinnati Bengals","Cleveland Browns","Dallas Cowboys","Denver Broncos","Detroit Lions","Green Bay Packers","Houston Texans","Indianapolis Colts","Jacksonville Jaguars","Kansas City Chiefs","Las Vegas Raiders","Los Angeles Chargers","Los Angeles Rams","Miami Dolphins","Minnesota Vikings","New England Patriots","New Orleans Saints","New York Giants","New York Jets","Philadelphia Eagles","Pittsburgh Steelers","San Francisco 49ers","Seattle Seahawks","Tampa Bay Buccaneers","Tennessee Titans","Washington Commanders"],NBA:["Atlanta Hawks","Boston Celtics","Brooklyn Nets","Charlotte Hornets","Chicago Bulls","Cleveland Cavaliers","Dallas Mavericks","Denver Nuggets","Detroit Pistons","Golden State Warriors","Houston Rockets","Indiana Pacers","Los Angeles Clippers","Los Angeles Lakers","Memphis Grizzlies","Miami Heat","Milwaukee Bucks","Minnesota Timberwolves","New Orleans Pelicans","New York Knicks","Oklahoma City Thunder","Orlando Magic","Philadelphia 76ers","Phoenix Suns","Portland Trail Blazers","Sacramento Kings","San Antonio Spurs","Toronto Raptors","Utah Jazz","Washington Wizards"],MLB:["Arizona Diamondbacks","Atlanta Braves","Baltimore Orioles","Boston Red Sox","Chicago Cubs","Chicago White Sox","Cincinnati Reds","Cleveland Guardians","Colorado Rockies","Detroit Tigers","Houston Astros","Kansas City Royals","Los Angeles Angels","Los Angeles Dodgers","Miami Marlins","Milwaukee Brewers","Minnesota Twins","New York Mets","New York Yankees","Oakland Athletics","Philadelphia Phillies","Pittsburgh Pirates","San Diego Padres","San Francisco Giants","Seattle Mariners","St. Louis Cardinals","Tampa Bay Rays","Texas Rangers","Toronto Blue Jays","Washington Nationals"],NHL:["Anaheim Ducks","Arizona Coyotes","Boston Bruins","Buffalo Sabres","Calgary Flames","Carolina Hurricanes","Chicago Blackhawks","Colorado Avalanche","Columbus Blue Jackets","Dallas Stars","Detroit Red Wings","Edmonton Oilers","Florida Panthers","Los Angeles Kings","Minnesota Wild","Montreal Canadiens","Nashville Predators","New Jersey Devils","New York Islanders","New York Rangers","Ottawa Senators","Philadelphia Flyers","Pittsburgh Penguins","San Jose Sharks","Seattle Kraken","St. Louis Blues","Tampa Bay Lightning","Toronto Maple Leafs","Vancouver Canucks","Vegas Golden Knights","Washington Capitals","Winnipeg Jets"]},j=[{value:"dark",name:"Dark Mode",description:"Easy on the eyes for late-night binges",icon:Or,gradient:"bg-gradient-to-br from-slate-700 to-slate-900"},{value:"light",name:"Light Mode",description:"Clean and bright for daytime viewing",icon:Nt,gradient:"bg-gradient-to-br from-blue-400 to-cyan-400"},{value:"cinema",name:"Cinema Mode",description:"Immersive dark theme for the full movie experience",icon:kt,gradient:"bg-gradient-to-br from-red-600 to-red-800"},{value:"neon",name:"Neon Nights",description:"Vibrant colors for a modern streaming experience",icon:is,gradient:"bg-gradient-to-br from-purple-500 to-pink-500"}],N=()=>h.favoriteGenres.includes("Sports"),b=()=>N()?14:13,C=(E,R)=>{m(z=>({...z,[R]:z[R].includes(E)?z[R].filter(G=>G!==E):[...z[R],E]}))};if(y.useEffect(()=>{n?(console.log(" OnboardingModal: userData received:",n),m(E=>{const R={...E,userProfile:{...E.userProfile,firstName:n.firstName||E.userProfile.firstName,lastName:n.lastName||E.userProfile.lastName,email:n.email||E.userProfile.email}};return console.log(" OnboardingModal: Form data updated from:",E.userProfile,"to:",R.userProfile),R})):console.log(" OnboardingModal: No userData available for auto-population")},[n]),!t)return console.log(" Premium onboarding not showing because isOpen is:",t),null;const _=()=>{switch(a){case 1:return i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"relative mx-auto space-y-8",children:[i.jsxs("div",{className:"relative mx-auto mb-6",children:[i.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 rounded-full blur-xl opacity-30 animate-pulse"}),i.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl flex items-center justify-center shadow-2xl border border-slate-600",children:i.jsxs("div",{className:"w-12 h-10 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-sm flex items-center justify-center",children:i.jsx("div",{className:"text-lg font-black text-white tracking-tight",children:"B"})}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-white/20 to-transparent rounded-sm"})]})})]}),i.jsxs("div",{className:"space-y-6 relative z-10",children:[i.jsxs("h1",{className:"text-5xl font-bold text-white leading-tight",children:["Welcome to"," ",i.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"BingeBoard"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{className:"text-2xl text-gray-200 font-medium",children:["Hi ",r,"!"]}),i.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Let's customize your entertainment experience and get you started."})]})]})]})});case 2:return console.log(" Step 2 rendering with formData.userProfile:",h.userProfile,"and userData:",n),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(Kh,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:"Tell us about yourself "}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Help us personalize your BingeBoard experience"}),n&&i.jsx("div",{className:"text-center",children:i.jsxs(ze,{variant:"secondary",className:"text-sm px-3 py-1",children:[n.provider==="google"?" Google Account":n.provider==="facebook"?" Facebook Account":" Email Account"," - Some fields pre-filled"]})})]}),i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsx(Ct,{children:i.jsx(It,{className:"text-xl text-white",children:"Profile Information"})}),i.jsxs(Xe,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-white",children:"First Name *"}),i.jsx("input",{type:"text",value:h.userProfile.firstName,onChange:E=>m(R=>({...R,userProfile:{...R.userProfile,firstName:E.target.value}})),className:`w-full px-4 py-3 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.userProfile.firstName?"bg-blue-500/10 border-blue-500/40":"bg-slate-800/50 border-slate-600"}`,placeholder:"Enter your first name"}),h.userProfile.firstName&&i.jsx("p",{className:"text-xs text-blue-400",children:" Auto-filled from your account"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-white",children:"Last Name *"}),i.jsx("input",{type:"text",value:h.userProfile.lastName,onChange:E=>m(R=>({...R,userProfile:{...R.userProfile,lastName:E.target.value}})),className:`w-full px-4 py-3 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.userProfile.lastName?"bg-blue-500/10 border-blue-500/40":"bg-slate-800/50 border-slate-600"}`,placeholder:"Enter your last name"}),h.userProfile.lastName&&i.jsx("p",{className:"text-xs text-blue-400",children:" Auto-filled from your account"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(Xu,{className:"h-4 w-4"}),"Email Address *"]}),i.jsx("input",{type:"email",value:h.userProfile.email,onChange:E=>m(R=>({...R,userProfile:{...R.userProfile,email:E.target.value}})),className:`w-full px-4 py-3 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.userProfile.email?"bg-blue-500/10 border-blue-500/40":"bg-slate-800/50 border-slate-600"}`,placeholder:"Enter your email address"}),h.userProfile.email&&i.jsx("p",{className:"text-xs text-blue-400",children:" Auto-filled from your account"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(jO,{className:"h-4 w-4"}),"Mobile Phone *"]}),i.jsx("input",{type:"tel",value:h.userProfile.phone,onChange:E=>m(R=>({...R,userProfile:{...R.userProfile,phone:E.target.value}})),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your mobile phone number"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Required for password recovery via SMS"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(sO,{className:"h-4 w-4"}),"Birthday *"]}),i.jsx("input",{type:"date",value:h.userProfile.birthday,onChange:E=>m(R=>({...R,userProfile:{...R.userProfile,birthday:E.target.value}})),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Helps us recommend age-appropriate content"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(xO,{className:"h-4 w-4"}),"Location (Optional)"]}),i.jsx("input",{type:"text",value:h.userProfile.location,onChange:E=>m(R=>({...R,userProfile:{...R.userProfile,location:E.target.value}})),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"City, State/Country"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Helps us show local content and streaming availability"})]}),i.jsx("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:i.jsxs("p",{className:"text-sm text-blue-300",children:[i.jsx(ro,{className:"h-4 w-4 inline mr-2"}),"Your information is secure and will only be used to personalize your experience and provide better recommendations."]})})]})]})]});case 3:return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(ts,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:"What genres do you love?"}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Select your favorite genres (choose at least 3)"})]}),i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsx(Ct,{className:"text-center pb-4",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:" Scroll to explore all genres "})}),i.jsxs(Xe,{children:[i.jsx("div",{className:"max-h-80 overflow-y-auto scroll-container pr-2",children:i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(E=>i.jsx(ie,{variant:h.favoriteGenres.includes(E)?"default":"outline",onClick:()=>C(E,"favoriteGenres"),className:`h-14 text-base font-medium transition-all duration-300 ${h.favoriteGenres.includes(E)?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg":"glass-effect hover:bg-white/10 hover:border-teal-400/40"}`,children:E},E))})}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs(ze,{variant:"secondary",className:"text-sm px-4 py-2",children:["Selected: ",h.favoriteGenres.length," / ",f.length," genres"]})})]})]})]});case 4:return N()?i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(gO,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:"Choose Your Sports Teams! "}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Select your favorite teams to get sports content recommendations"})]}),i.jsxs("div",{className:"space-y-6",children:[Object.entries(k).map(([E,R])=>i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsx(Ct,{children:i.jsx(It,{className:"text-xl text-white",children:E})}),i.jsx(Xe,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 max-h-64 overflow-y-auto",children:R.map(z=>i.jsx(ie,{variant:h.favoriteTeams.includes(z)?"default":"outline",onClick:()=>C(z,"favoriteTeams"),className:`h-12 text-sm font-medium transition-all duration-300 ${h.favoriteTeams.includes(z)?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg":"glass-effect hover:bg-white/10 hover:border-green-400/40"}`,children:z},z))})})]},E)),i.jsx("div",{className:"text-center",children:i.jsxs(ze,{variant:"secondary",className:"text-sm px-4 py-2",children:["Selected: ",h.favoriteTeams.length," teams"]})})]})]}):null;case 5:return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(kt,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:"Which platforms do you use? "}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Select your streaming services"})]}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(E=>i.jsx(ie,{variant:h.streamingPlatforms.includes(E)?"default":"outline",onClick:()=>C(E,"streamingPlatforms"),className:`h-16 text-base font-medium transition-all duration-300 ${h.streamingPlatforms.includes(E)?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg":"glass-effect hover:bg-white/10 hover:border-blue-400/40"}`,children:E},E))})]});case 6:return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-pink-500 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(_n,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:"What type of content do you love? "}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Select all that you enjoy watching"})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:g.map(E=>i.jsx(ie,{variant:h.contentTypes.includes(E)?"default":"outline",onClick:()=>C(E,"contentTypes"),className:`h-16 text-base font-medium transition-all duration-300 ${h.contentTypes.includes(E)?"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-lg scale-105":"glass-effect hover:bg-white/10 hover:border-red-400/40 hover:scale-105"}`,children:E},E))}),i.jsx("div",{className:"text-center",children:i.jsxs(ze,{variant:"secondary",className:"text-sm px-4 py-2",children:["Selected: ",h.contentTypes.length," content types"]})})]});case 7:return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(ec,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:"Notification Preferences "}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Choose what you'd like to be notified about"})]}),i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsx(Ct,{children:i.jsx(It,{className:"text-xl text-white",children:"Notification Settings"})}),i.jsx(Xe,{className:"space-y-6",children:[{key:"newEpisodes",label:"New episodes available",desc:"When shows you're watching release new episodes",icon:kt},{key:"friendActivity",label:"Friend activity",desc:"When friends finish shows or add new ones",icon:Ir},{key:"recommendations",label:"Personalized recommendations",desc:"Show and movie suggestions tailored for you",icon:kg},{key:"weeklyRecap",label:"Weekly recap",desc:"Summary of your watching activity each week",icon:wc},{key:"trendingContent",label:"Trending content",desc:"Popular shows and movies everyone's talking about",icon:Nn}].map(E=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(E.icon,{className:"h-5 w-5 text-orange-400"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:E.label}),i.jsx("p",{className:"text-sm text-muted-foreground",children:E.desc})]})]}),i.jsx(Tr,{checked:h.notifications[E.key],onCheckedChange:R=>m(z=>({...z,notifications:{...z.notifications,[E.key]:R}}))})]},E.key))})]})]});case 8:return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(d1,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:"Import Your Viewing History "}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Upload your watch history files or connect your streaming accounts"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsx(Ct,{children:i.jsx(It,{className:"text-xl text-white",children:"Import Options"})}),i.jsx(Xe,{className:"space-y-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(d1,{className:"h-5 w-5 text-blue-400"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Import my viewing history"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload files or connect streaming accounts"})]})]}),i.jsx(Tr,{checked:h.importHistory,onCheckedChange:E=>m(R=>({...R,importHistory:E}))})]})})]}),h.importHistory&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsxs(Ct,{children:[i.jsxs(It,{className:"text-lg text-white flex items-center gap-2",children:[i.jsx(h1,{className:"h-5 w-5"}),"Upload History Files"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload CSV or JSON files from your streaming platforms"})]}),i.jsxs(Xe,{className:"space-y-4",children:[i.jsx("div",{className:"border-2 border-dashed border-slate-600 rounded-lg p-8 text-center hover:border-blue-400 transition-colors duration-300",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(h1,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-medium",children:"Drop your files here or click to browse"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Supports: CSV, JSON, TXT files (max 10MB each)"})]}),i.jsx(ie,{variant:"outline",className:"bg-transparent border-blue-400 text-blue-400 hover:bg-blue-400/10",children:"Choose Files"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-center",children:[i.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[i.jsx("div",{className:"text-blue-400 font-medium",children:"CSV"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Comma-separated"})]}),i.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[i.jsx("div",{className:"text-purple-400 font-medium",children:"JSON"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Data export"})]}),i.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[i.jsx("div",{className:"text-green-400 font-medium",children:"TXT"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Plain text lists"})]})]})]})]}),i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsxs(Ct,{children:[i.jsxs(It,{className:"text-lg text-white flex items-center gap-2",children:[i.jsx(Or,{className:"h-5 w-5"}),"How to Export from Popular Platforms"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Step-by-step guides for exporting your viewing history"})]}),i.jsx(Xe,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 bg-red-600 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"N"})}),i.jsx("h4",{className:"text-white font-semibold",children:"Netflix"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[i.jsxs("p",{children:["1. Go to ",i.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"netflix.com/account"})]}),i.jsx("p",{children:'2. Scroll to "Profile & Parental Controls"'}),i.jsx("p",{children:'3. Click "Download your information"'}),i.jsx("p",{children:'4. Select "Viewing Activity" and download CSV'}),i.jsxs("div",{className:"mt-2 p-2 bg-red-500/10 border border-red-500/20 rounded text-red-300 text-xs",children:[i.jsx("strong",{children:"Format:"})," CSV with titles, dates, and duration"]})]})]}),i.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"D+"})}),i.jsx("h4",{className:"text-white font-semibold",children:"Disney+"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[i.jsxs("p",{children:["1. Visit ",i.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"disneyplus.com/account"})]}),i.jsx("p",{children:'2. Go to "Privacy Settings"'}),i.jsx("p",{children:'3. Click "Download My Data"'}),i.jsx("p",{children:"4. Request viewing history export (JSON format)"}),i.jsxs("div",{className:"mt-2 p-2 bg-blue-500/10 border border-blue-500/20 rounded text-blue-300 text-xs",children:[i.jsx("strong",{children:"Note:"})," May take 24-48 hours to receive download link"]})]})]}),i.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 bg-orange-600 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"P"})}),i.jsx("h4",{className:"text-white font-semibold",children:"Amazon Prime Video"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[i.jsxs("p",{children:["1. Go to ",i.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"amazon.com/gp/privacyprefs"})]}),i.jsx("p",{children:'2. Click "Request My Data"'}),i.jsx("p",{children:'3. Select "Prime Video Watch History"'}),i.jsx("p",{children:"4. Choose CSV format and submit request"}),i.jsxs("div",{className:"mt-2 p-2 bg-orange-500/10 border border-orange-500/20 rounded text-orange-300 text-xs",children:[i.jsx("strong",{children:"Processing:"})," Usually takes 1-2 business days"]})]})]}),i.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"H"})}),i.jsx("h4",{className:"text-white font-semibold",children:"HBO Max"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[i.jsxs("p",{children:["1. Visit ",i.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"hbomax.com/account"})]}),i.jsx("p",{children:'2. Go to "Privacy" section'}),i.jsx("p",{children:'3. Click "Download Your Information"'}),i.jsx("p",{children:"4. Select viewing history and download JSON"}),i.jsxs("div",{className:"mt-2 p-2 bg-purple-500/10 border border-purple-500/20 rounded text-purple-300 text-xs",children:[i.jsx("strong",{children:"Alternative:"})," Use browser history or manually create list"]})]})]}),i.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 bg-green-600 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"H"})}),i.jsx("h4",{className:"text-white font-semibold",children:"Hulu"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[i.jsxs("p",{children:["1. Go to ",i.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"hulu.com/account"})]}),i.jsx("p",{children:'2. Click "Manage Your Data"'}),i.jsx("p",{children:'3. Request "Viewing History Export"'}),i.jsx("p",{children:"4. Download CSV file when ready"}),i.jsxs("div",{className:"mt-2 p-2 bg-green-500/10 border border-green-500/20 rounded text-green-300 text-xs",children:[i.jsx("strong",{children:"Tip:"}),' Also check "Keep Watching" section for recent items']})]})]}),i.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"TV"})}),i.jsx("h4",{className:"text-white font-semibold",children:"Apple TV+"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[i.jsxs("p",{children:["1. Visit ",i.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"privacy.apple.com"})]}),i.jsx("p",{children:'2. Sign in and click "Request a copy of your data"'}),i.jsx("p",{children:'3. Select "Apple TV & Apple Music"'}),i.jsx("p",{children:"4. Download when processing is complete"}),i.jsxs("div",{className:"mt-2 p-2 bg-gray-500/10 border border-gray-500/20 rounded text-gray-300 text-xs",children:[i.jsx("strong",{children:"Format:"})," JSON file with detailed viewing data"]})]})]})]})})]}),i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsxs(Ct,{children:[i.jsxs(It,{className:"text-lg text-white flex items-center gap-2",children:[i.jsx(wO,{className:"h-5 w-5"}),"Manual Entry"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Can't export? Tell us your favorite shows and we'll help you get started"})]}),i.jsx(Xe,{children:i.jsxs(ie,{variant:"outline",className:"w-full h-12 border-dashed border-gray-500 text-gray-300 hover:bg-white/5",onClick:()=>{console.log("Open manual entry modal")},children:[i.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Add Shows & Movies Manually"]})})]}),i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsxs(Ct,{children:[i.jsxs(It,{className:"text-lg text-white flex items-center gap-2",children:[i.jsx(vO,{className:"h-5 w-5"}),"Connect Accounts",i.jsx(ze,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white text-xs",children:"Premium"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct platform integration for automatic sync"})]}),i.jsxs(Xe,{children:[i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:x.slice(0,6).map(E=>i.jsxs(ie,{variant:"outline",disabled:!0,className:"h-12 opacity-50 cursor-not-allowed relative",children:[E,i.jsx(Nt,{className:"h-3 w-3 text-yellow-400 absolute top-1 right-1"})]},E))}),i.jsx("div",{className:"mt-4 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-300",children:[" ",i.jsx("strong",{children:"Coming Soon:"})," Direct account connections for automatic history sync. For now, please use the file upload method above."]})})]})]})]})]})]});case 9:return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(Or,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:"Content Discovery "}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Customize how you discover new content"})]}),i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsx(Ct,{children:i.jsx(It,{className:"text-xl text-white",children:"Discovery Preferences"})}),i.jsxs(Xe,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(kg,{className:"h-5 w-5 text-green-400"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Show personalized recommendations"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Content suggestions based on your preferences"})]})]}),i.jsx(Tr,{checked:h.discoveryPreferences.showRecommendations,onCheckedChange:E=>m(R=>({...R,discoveryPreferences:{...R.discoveryPreferences,showRecommendations:E}}))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Nn,{className:"h-5 w-5 text-green-400"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Include popular content"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Show trending and most-watched content"})]})]}),i.jsx(Tr,{checked:h.discoveryPreferences.includePopular,onCheckedChange:E=>m(R=>({...R,discoveryPreferences:{...R.discoveryPreferences,includePopular:E}}))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Vv,{className:"h-5 w-5 text-green-400"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Include critics' choice"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Show critically acclaimed content"})]})]}),i.jsx(Tr,{checked:h.discoveryPreferences.includeCriticsChoice,onCheckedChange:E=>m(R=>({...R,discoveryPreferences:{...R.discoveryPreferences,includeCriticsChoice:E}}))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ts,{className:"h-5 w-5 text-green-400"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Include hidden gems"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Discover lesser-known quality content"})]})]}),i.jsx(Tr,{checked:h.discoveryPreferences.includeHidden,onCheckedChange:E=>m(R=>({...R,discoveryPreferences:{...R.discoveryPreferences,includeHidden:E}}))})]})]})]})]});case 10:return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-emerald-500 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(Ir,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:"Social & Privacy "}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Control how you interact with others on BingeBoard"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsx(Ct,{children:i.jsx(It,{className:"text-xl text-white",children:"Profile Visibility"})}),i.jsx(Xe,{className:"space-y-4",children:[{value:"public",label:"Public",desc:"Anyone can see my activity",icon:Hh},{value:"friends",label:"Friends only",desc:"Only friends can see my activity",icon:Ir},{value:"private",label:"Private",desc:"Keep my activity to myself",icon:ro}].map(E=>i.jsxs(ie,{variant:h.privacy===E.value?"default":"outline",onClick:()=>m(R=>({...R,privacy:E.value})),className:`w-full h-16 justify-start text-left transition-all duration-300 ${h.privacy===E.value?"bg-gradient-to-r from-teal-500 to-emerald-500 text-white shadow-lg":"glass-effect hover:bg-white/10"}`,children:[i.jsx(E.icon,{className:"h-5 w-5 mr-3"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:E.label}),i.jsx("div",{className:"text-sm opacity-80",children:E.desc})]})]},E.value))})]}),i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsx(Ct,{children:i.jsx(It,{className:"text-xl text-white",children:"Social Features"})}),i.jsxs(Xe,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx($S,{className:"h-5 w-5 text-teal-400"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Share my watching activity"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Let friends see what you're watching"})]})]}),i.jsx(Tr,{checked:h.shareActivity,onCheckedChange:E=>m(R=>({...R,shareActivity:E}))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Wv,{className:"h-5 w-5 text-teal-400"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Find friends with similar tastes"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Get friend suggestions based on preferences"})]})]}),i.jsx(Tr,{checked:h.findFriends,onCheckedChange:E=>m(R=>({...R,findFriends:E}))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Nn,{className:"h-5 w-5 text-teal-400"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Allow personalized recommendations"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use my data to suggest better content"})]})]}),i.jsx(Tr,{checked:h.allowRecommendations,onCheckedChange:E=>m(R=>({...R,allowRecommendations:E}))})]})]})]})]})]});case 11:return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-500 to-purple-500 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(u1,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:"Choose Your Theme "}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Select a theme that matches your style"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j.map(E=>i.jsx(Qe,{className:`cursor-pointer transition-all duration-300 ${h.theme===E.value?"ring-2 ring-violet-500 bg-gradient-to-br from-violet-500/20 to-purple-500/20":"glass-effect hover:bg-white/10"}`,onClick:()=>m(R=>({...R,theme:E.value})),children:i.jsxs(Xe,{className:"p-6 text-center space-y-4",children:[i.jsx("div",{className:`w-16 h-16 rounded-xl flex items-center justify-center mx-auto ${E.gradient}`,children:i.jsx(E.icon,{className:"h-8 w-8 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-white",children:E.name}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:E.description})]})]})},E.value))}),i.jsx("div",{className:"text-center",children:i.jsx(Qe,{className:"glass-effect border-yellow-500/30 bg-gradient-to-r from-yellow-500/10 to-orange-500/10",children:i.jsx(Xe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(Nt,{className:"h-4 w-4 text-yellow-400"}),i.jsx("span",{className:"text-yellow-300 text-sm font-medium",children:"Premium includes 12+ additional themes and a custom theme builder"})]})})})})]});case 12:return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-500 to-indigo-500 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(wn,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:"Content Filters "}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Customize your content preferences and safety settings"})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsx(Ct,{children:i.jsx(It,{className:"text-xl text-white",children:"Content Safety"})}),i.jsxs(Xe,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(wn,{className:"h-5 w-5 text-violet-400"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Hide adult content"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Filter out mature content from recommendations"})]})]}),i.jsx(Tr,{checked:h.contentFilters.hideAdult,onCheckedChange:E=>m(R=>({...R,contentFilters:{...R.contentFilters,hideAdult:E}}))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(wn,{className:"h-5 w-5 text-violet-400"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Hide violent content"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduce violent content in recommendations"})]})]}),i.jsx(Tr,{checked:h.contentFilters.hideViolence,onCheckedChange:E=>m(R=>({...R,contentFilters:{...R.contentFilters,hideViolence:E}}))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"text-white font-medium",children:"Maximum content rating"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Set the highest content rating you want to see"}),i.jsx("div",{className:"grid grid-cols-5 gap-2",children:["G","PG","PG-13","R","NC-17"].map(E=>i.jsx(ie,{variant:h.contentFilters.maxRating===E?"default":"outline",onClick:()=>m(R=>({...R,contentFilters:{...R.contentFilters,maxRating:E}})),className:`h-10 transition-all duration-300 ${h.contentFilters.maxRating===E?"bg-gradient-to-r from-violet-500 to-indigo-500 text-white":"glass-effect hover:bg-white/10"}`,children:E},E))}),i.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[i.jsx("strong",{children:"G:"})," General audiences  ",i.jsx("strong",{children:"PG:"})," Parental guidance  ",i.jsx("strong",{children:"PG-13:"})," Parents strongly cautioned  ",i.jsx("strong",{children:"R:"})," Restricted  ",i.jsx("strong",{children:"NC-17:"})," Adults only"]})]})]})]})})]});case 13:return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(Nt,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:"Unlock Premium Features "}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Get the most out of your BingeBoard experience"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[i.jsxs(Ct,{children:[i.jsxs(It,{className:"text-xl text-white flex items-center gap-2",children:[i.jsx(Gu,{className:"h-5 w-5 text-green-400"}),"Free Plan"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Perfect for getting started"})]}),i.jsxs(Xe,{className:"space-y-4",children:[i.jsx("div",{className:"space-y-3",children:["Basic recommendations","Track up to 50 shows/movies","Standard themes (4 options)","Basic notifications","Public profile sharing","Manual viewing history import"].map((E,R)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Bh,{className:"h-4 w-4 text-green-400"}),i.jsx("span",{className:"text-gray-300 text-sm",children:E})]},R))}),i.jsx(ie,{variant:"outline",className:"w-full mt-6 border-gray-600 text-gray-300",onClick:()=>m(E=>({...E,selectedPlan:"free"})),children:"Continue with Free"})]})]}),i.jsxs(Qe,{className:"glass-effect border-yellow-500/50 bg-gradient-to-br from-yellow-500/10 to-orange-500/10",children:[i.jsxs(Ct,{children:[i.jsxs(It,{className:"text-xl text-white flex items-center gap-2",children:[i.jsx(Nt,{className:"h-5 w-5 text-yellow-400"}),"Premium Plan",i.jsx(ze,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white ml-2",children:"Recommended"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Everything you need for the ultimate experience"})]}),i.jsxs(Xe,{className:"space-y-4",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsxs("div",{className:"text-3xl font-bold text-white",children:["$4.99",i.jsx("span",{className:"text-lg text-gray-400",children:"/month"})]}),i.jsx("p",{className:"text-sm text-yellow-400",children:"First month free!"})]}),i.jsx("div",{className:"space-y-3",children:["AI-powered recommendations","Unlimited show/movie tracking","Premium themes + custom theme builder","Advanced notifications & insights","Private groups & watch parties","Automatic platform sync","Detailed viewing analytics","Priority customer support","Early access to new features"].map((E,R)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Nt,{className:"h-4 w-4 text-yellow-400"}),i.jsx("span",{className:"text-white text-sm font-medium",children:E})]},R))}),i.jsx(ie,{className:"w-full mt-6 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-semibold",onClick:()=>m(E=>({...E,selectedPlan:"premium"})),children:"Start Free Trial"}),i.jsx("p",{className:"text-xs text-center text-gray-400 mt-2",children:"Cancel anytime. No commitment."})]})]})]}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-sm text-gray-400",children:"You can always upgrade later from your account settings"})})]});case 14:return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-6",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto shadow-2xl",children:i.jsx(Gu,{className:"h-10 w-10 text-white"})}),i.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-green-400 to-emerald-400 bg-clip-text text-transparent",children:"Welcome to BingeBoard! "}),i.jsxs("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:["Hi ",r,"! Let's customize your entertainment experience and get you started."]})]}),i.jsx(Qe,{className:"glass-effect border-green-500/20 p-8",children:i.jsxs(Xe,{className:"space-y-6",children:[i.jsx("h3",{className:"text-2xl font-bold text-white text-center mb-6",children:"Your Profile Summary"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ts,{className:"h-5 w-5 text-teal-400"}),i.jsx("span",{className:"text-white font-medium",children:"Favorite Genres:"}),i.jsxs(ze,{variant:"secondary",children:[h.favoriteGenres.length," selected"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(is,{className:"h-5 w-5 text-purple-400"}),i.jsx("span",{className:"text-white font-medium",children:"Content Types:"}),i.jsxs(ze,{variant:"secondary",children:[h.contentTypes.length," selected"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(kt,{className:"h-5 w-5 text-blue-400"}),i.jsx("span",{className:"text-white font-medium",children:"Platforms:"}),i.jsxs(ze,{variant:"secondary",children:[h.streamingPlatforms.length," selected"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Xs,{className:"h-5 w-5 text-indigo-400"}),i.jsx("span",{className:"text-white font-medium",children:"Viewing Time:"}),i.jsx(ze,{variant:"secondary",className:"capitalize",children:h.viewingHabits.preferredTime})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ir,{className:"h-5 w-5 text-teal-400"}),i.jsx("span",{className:"text-white font-medium",children:"Privacy:"}),i.jsx(ze,{variant:"secondary",className:"capitalize",children:h.privacy})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(u1,{className:"h-5 w-5 text-violet-400"}),i.jsx("span",{className:"text-white font-medium",children:"Theme:"}),i.jsx(ze,{variant:"secondary",className:"capitalize",children:h.theme})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ec,{className:"h-5 w-5 text-orange-400"}),i.jsx("span",{className:"text-white font-medium",children:"Notifications:"}),i.jsx(ze,{variant:"secondary",children:"Configured"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qh,{className:"h-5 w-5 text-violet-400"}),i.jsx("span",{className:"text-white font-medium",children:"Preferences:"}),i.jsx(ze,{variant:"secondary",children:"Customized"})]})]})]}),i.jsx("div",{className:"mt-8 p-6 bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-xl",children:i.jsxs("div",{className:"text-center space-y-3",children:[i.jsx("h4",{className:"text-lg font-semibold text-white",children:"You're all set!"}),i.jsx("p",{className:"text-green-300",children:"Your personalized BingeBoard experience is ready. Start discovering, tracking, and enjoying your favorite content!"})]})})]})}),i.jsx("div",{className:"text-center space-y-6",children:i.jsx(ie,{onClick:I,disabled:c,className:"bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 hover:from-green-700 hover:via-emerald-700 hover:to-teal-700 text-white px-12 py-6 text-xl font-semibold rounded-xl shadow-2xl transition-all duration-300 hover:scale-105",children:c?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin mr-3"}),"Completing Setup..."]}):i.jsx(i.Fragment,{children:"Complete Setup & Enter BingeBoard "})})})]});default:return null}},T=a/b()*100,P=()=>{if(a<b()){let E=a+1;E===4&&!N()&&(console.log(" Skipping Sports Teams step (4) because Sports genre not selected"),E=5),console.log(` Navigation: Step ${a}  Step ${E}`),l(E)}},A=()=>{if(a>1){let E=a-1;E===4&&!N()&&(console.log(" Skipping Sports Teams step (4) in reverse because Sports genre not selected"),E=3),console.log(` Navigation: Step ${a}  Step ${E}`),l(E)}},L=()=>{a<b()&&l(a+1)},I=async()=>{u(!0);try{console.log(" ONBOARDING COMPLETED! Here's what we collected:"),console.log(" Complete Form Data:",{userProfile:h.userProfile,favoriteGenres:h.favoriteGenres,favoriteTeams:h.favoriteTeams,streamingPlatforms:h.streamingPlatforms,contentTypes:h.contentTypes,notifications:h.notifications,importHistory:h.importHistory,discoveryPreferences:h.discoveryPreferences,privacy:h.privacy,shareActivity:h.shareActivity,findFriends:h.findFriends,allowRecommendations:h.allowRecommendations,theme:h.theme,selectedPlan:h.selectedPlan,contentFilters:h.contentFilters}),console.log(" Summary:"),console.log(` User: ${h.userProfile.firstName} ${h.userProfile.lastName}`),console.log(` Email: ${h.userProfile.email}`),console.log(` Favorite Genres: ${h.favoriteGenres.join(", ")}`),console.log(` Streaming Platforms: ${h.streamingPlatforms.join(", ")}`),console.log(` Sports Teams: ${h.favoriteTeams.join(", ")}`),console.log(` Theme: ${h.theme}`),console.log(` Plan: ${h.selectedPlan}`),console.log(" Saving onboarding data to database...");const E=await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({firstName:h.userProfile.firstName,lastName:h.userProfile.lastName,phoneNumber:h.userProfile.phone,location:h.userProfile.location,birthday:h.userProfile.birthday})});E.ok?console.log(" Profile saved successfully"):console.error("Failed to save profile:",await E.text());const R=await fetch("/api/user/preferences",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({preferredGenres:h.favoriteGenres,preferredNetworks:h.streamingPlatforms,contentRating:h.contentFilters.maxRating,languagePreferences:["English"],aiPersonality:"balanced",notificationFrequency:"weekly",favoriteSports:h.favoriteTeams.length>0?["Sports"]:[],favoriteTeams:h.favoriteTeams,sportsNotifications:h.notifications.trendingContent,watchingHabits:JSON.stringify({theme:h.theme,privacy:h.privacy,preferredTime:h.viewingHabits.preferredTime,bingeDuration:h.viewingHabits.bingeDuration,weeklyGoal:h.viewingHabits.weeklyGoal})})});R.ok?console.log(" Preferences saved successfully"):console.error("Failed to save preferences:",await R.text());const z=await fetch("/api/notifications/preferences",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({newEpisodes:h.notifications.newEpisodes,friendActivity:h.notifications.friendActivity,recommendations:h.notifications.recommendations,weeklyRecap:h.notifications.weeklyRecap,trendingContent:h.notifications.trendingContent})});z.ok?console.log(" Notifications saved successfully"):console.error("Failed to save notifications:",await z.text());const G=await fetch("/api/user/onboarding/complete",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({onboardingData:{profile:h.userProfile,preferences:{genres:h.favoriteGenres,platforms:h.streamingPlatforms,teams:h.favoriteTeams,contentTypes:h.contentTypes,theme:h.theme,plan:h.selectedPlan},settings:{notifications:h.notifications,privacy:h.privacy,discoveryPreferences:h.discoveryPreferences,contentFilters:h.contentFilters}}})});G.ok?console.log(" Onboarding marked as complete"):console.error("Failed to complete onboarding:",await G.text()),console.log(" All onboarding data saved successfully to the database!"),setTimeout(()=>{u(!1),e()},1e3)}catch(E){console.error(" Error saving onboarding data:",E),u(!1),e()}console.log(` Email: ${h.userProfile.email}`),console.log(` Phone: ${h.userProfile.phone}`),console.log(` Genres: ${h.favoriteGenres.join(", ")}`),console.log(` Sports Teams: ${h.favoriteTeams.join(", ")}`),console.log(` Platforms: ${h.streamingPlatforms.join(", ")}`),console.log(` Content Types: ${h.contentTypes.join(", ")}`),console.log(` Privacy: ${h.privacy}`),console.log(` Theme: ${h.theme}`),console.log(` Plan: ${h.selectedPlan}`);try{await zg.updatePreferences({favoriteGenres:h.favoriteGenres,watchingGoals:"entertainment",experience:"casual"}),console.log(" Onboarding data saved to user manager successfully"),(await fetch("/api/user/preferences/sync-onboarding",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({onboardingData:{favoriteGenres:h.favoriteGenres,streamingPlatforms:h.streamingPlatforms,contentTypes:h.contentTypes,favoriteTeams:h.favoriteTeams,viewingHabits:{preferredTime:"evening",bingeDuration:"2-3 hours",weeklyGoal:"5-10 hours"},theme:h.theme,userProfile:h.userProfile,privacy:h.privacy}})})).ok?console.log(" Onboarding data synced to server successfully"):console.warn(" Failed to sync onboarding data to server, but continuing"),setTimeout(()=>{e()},1e3)}catch(E){console.error(" Error saving onboarding data:",E),e()}finally{u(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-xl z-50 flex items-center justify-center p-6",children:i.jsxs("div",{className:"w-full max-w-4xl max-h-[95vh] bg-slate-900/95 backdrop-blur-xl border border-slate-700/50 rounded-2xl shadow-2xl flex flex-col",children:[i.jsx("div",{className:"flex-shrink-0 p-4 border-b border-slate-700/50 bg-gradient-to-r from-slate-900/80 to-slate-800/80 rounded-t-2xl",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-white",children:"Welcome to BingeBoard"}),i.jsxs("p",{className:"text-xs text-gray-400",children:["Hi ",r,"! Let's customize your entertainment experience and get you started."]})]}),i.jsx(ie,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-400 hover:text-white hover:bg-slate-800/50 rounded-lg p-1.5",title:"Close onboarding",children:i.jsx(In,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[i.jsxs("span",{children:["Step ",a," of ",b()]}),i.jsxs("span",{children:[Math.round(T),"% complete"]})]}),i.jsx("div",{className:"w-full bg-slate-800 rounded-full h-1.5 overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 via-cyan-500 to-blue-500 transition-all duration-500 ease-out",style:{width:`${T}%`}})})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:_()}),i.jsx("div",{className:"flex-shrink-0 p-4 border-t border-slate-700/50 bg-slate-900/50",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(ie,{variant:"outline",onClick:A,disabled:a===1,className:"border-slate-600 text-gray-300 hover:bg-slate-700/50 px-6 py-3 rounded-xl transition-all duration-300 disabled:opacity-50",children:[i.jsx(rO,{className:"h-4 w-4 mr-2"}),"Previous"]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[a>=5&&a<=10&&i.jsx(ie,{variant:"ghost",onClick:L,className:"text-gray-400 hover:text-white px-4 py-3",children:"Skip"}),a<b()?i.jsxs(ie,{onClick:P,className:"bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 hover:from-teal-700 hover:via-cyan-700 hover:to-blue-700 text-white px-8 py-3 text-base font-semibold shadow-lg transition-all duration-300 hover:scale-105 rounded-xl",disabled:a===2&&(!h.userProfile.firstName.trim()||!h.userProfile.lastName.trim()||!h.userProfile.email.trim()||!h.userProfile.phone.trim()||!h.userProfile.birthday)||a===3&&h.favoriteGenres.length<3||a===5&&h.streamingPlatforms.length===0||a===6&&h.contentTypes.length===0,children:["Next Step ",i.jsx(IS,{className:"h-4 w-4 ml-2"})]}):null]})]})})]})})}function hz(){const[t]=nn(),e=[{path:"/",label:"Home"},{path:"/discover",label:"Discover"},{path:"/upcoming",label:"Upcoming"},{path:"/friends",label:"Binge Friends"}];return i.jsx("nav",{className:"sticky top-0 z-50 bg-binge-charcoal/95 backdrop-blur-md border-b border-binge-gray",children:i.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Et,{href:"/",className:"flex items-center space-x-3 group",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-teal-500/25 transition-all duration-300 group-hover:scale-105",children:i.jsx("span",{className:"text-white font-black text-lg tracking-tight",children:"B"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-xl font-black tracking-tight bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:["Binge",i.jsx("span",{className:"font-light",children:"Board"})]}),i.jsx("div",{className:"text-[10px] text-teal-400 font-medium tracking-widest uppercase opacity-75 -mt-1",children:"Entertainment Hub"})]})]}),i.jsx("div",{className:"hidden md:flex space-x-6",children:e.map(r=>i.jsx(Et,{href:r.path,className:`transition-colors ${t===r.path?"text-binge-purple":"text-muted-foreground hover:text-binge-purple"}`,children:r.label},r.path))})]})})})}function pz({onAccept:t,onDecline:e}){const[r,n]=y.useState(!1);y.useEffect(()=>{localStorage.getItem("bingeboard-consent")||n(!0)},[]);const a=()=>{localStorage.setItem("bingeboard-consent","accepted"),localStorage.setItem("bingeboard-consent-date",new Date().toISOString()),n(!1),t()},l=()=>{localStorage.setItem("bingeboard-consent","declined"),localStorage.setItem("bingeboard-consent-date",new Date().toISOString()),n(!1),e()},c=()=>{n(!1)};return r?i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[60] p-4 bg-black/95 backdrop-blur-sm border-t border-gray-700",children:i.jsx(Qe,{className:"max-w-4xl mx-auto bg-gray-900 border-gray-700",children:i.jsxs(Xe,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-teal-500/20 rounded-lg flex items-center justify-center flex-shrink-0 mt-1",children:i.jsx(wn,{className:"h-5 w-5 text-teal-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Privacy & Data Consent"}),i.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"We value your privacy and are committed to protecting your personal data. By using BingeBoard, you consent to our collection and use of information as described in our Privacy Policy."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(dO,{className:"h-4 w-4 text-teal-400"}),i.jsx("span",{className:"text-sm text-gray-300",children:"Essential cookies for functionality"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Or,{className:"h-4 w-4 text-teal-400"}),i.jsx("span",{className:"text-sm text-gray-300",children:"Analytics to improve our service"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(wn,{className:"h-4 w-4 text-teal-400"}),i.jsx("span",{className:"text-sm text-gray-300",children:"Secure data encryption"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[i.jsx(Et,{href:"/privacy-policy",className:"text-teal-400 hover:text-teal-300 underline",children:"Privacy Policy"}),i.jsx("span",{className:"text-gray-500",children:""}),i.jsx(Et,{href:"/terms-of-service",className:"text-teal-400 hover:text-teal-300 underline",children:"Terms of Service"}),i.jsx("span",{className:"text-gray-500",children:""}),i.jsx(Et,{href:"/eula",className:"text-teal-400 hover:text-teal-300 underline",children:"EULA"})]})]})]}),i.jsx(ie,{variant:"ghost",size:"sm",onClick:c,className:"text-gray-400 hover:text-white flex-shrink-0",children:i.jsx(In,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[i.jsx(ie,{variant:"outline",onClick:l,className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Decline"}),i.jsx(ie,{onClick:a,className:"bg-teal-600 hover:bg-teal-700 text-white",children:"Accept & Continue"})]})]})})}):null}class mz extends Ke.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Error caught by boundary:",e,r)}render(){if(this.state.hasError){const e=this.props.fallback||fz;return i.jsx(e,{error:this.state.error})}return this.props.children}}function fz({error:t}){return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"text-red-400 text-xl",children:"Something went wrong"}),i.jsx("div",{className:"text-gray-400 text-sm",children:t.message||"An unexpected error occurred"}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded",children:"Reload Page"})]})})}function zf({component:t,lazy:e=!1,requireAuth:r=!1,fallback:n=i.jsx("div",{className:"p-6 text-gray-400",children:"Loading"})}){const{isAuthenticated:a,isLoading:l}=Fr();return l?i.jsx("div",{className:"p-6 text-gray-400",children:" Loading..."}):r&&!a?(console.log(" Redirecting unauthenticated user to /login"),i.jsx(ku,{to:"/login"})):e?i.jsx(y.Suspense,{fallback:n,children:i.jsx(t,{})}):i.jsx(t,{})}const gz=({isOpen:t,onClose:e,title:r,embedUrl:n,thumbnail:a})=>{const[l,c]=y.useState(!0);if(y.useEffect(()=>(t?(document.body.style.overflow="hidden",c(!0)):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const u=m=>{m.target===m.currentTarget&&e()},h=()=>{c(!1)};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 p-4",onClick:u,children:i.jsxs("div",{className:"relative w-full max-w-4xl bg-slate-900 rounded-lg overflow-hidden shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800 border-b border-slate-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-white truncate pr-4",children:r}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-700 rounded-full transition-colors","aria-label":"Close modal",children:i.jsx(In,{className:"w-5 h-5 text-gray-400"})})]}),i.jsxs("div",{className:"relative aspect-video bg-black",children:[l&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-800",children:i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),i.jsx("p",{className:"text-gray-400",children:"Loading trailer..."})]})}),i.jsx("iframe",{src:n,title:r,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:h})]}),i.jsx("div",{className:"p-4 bg-slate-800 border-t border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-gray-400",children:["Press ",i.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded text-xs",children:"ESC"})," to close"]}),i.jsx("button",{onClick:e,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded transition-colors",children:"Close"})]})})]})})};let Li=null;const vz=({children:t})=>{const[e,r]=y.useState(null);return y.useEffect(()=>{Li={open:l=>{r({...l,isOpen:!0,onClose:()=>r(null)})},close:()=>r(null)};const n=l=>{Li==null||Li.open(l.detail)};window.addEventListener("openTrailerModal",n);const a=l=>{l.key==="Escape"&&e!=null&&e.isOpen&&(Li==null||Li.close())};return document.addEventListener("keydown",a),()=>{window.removeEventListener("openTrailerModal",n),document.removeEventListener("keydown",a),Li=null}},[e==null?void 0:e.isOpen]),i.jsxs(i.Fragment,{children:[t,e&&i.jsx(gz,{...e})]})};var DE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rN=Ke.createContext&&Ke.createContext(DE),yz=["attr","size","title"];function xz(t,e){if(t==null)return{};var r=bz(t,e),n,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ch.apply(this,arguments)}function nN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(r),!0).forEach(function(n){wz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wz(t,e,r){return e=Nz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nz(t){var e=kz(t,"string");return typeof e=="symbol"?e:e+""}function kz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LE(t){return t&&t.map((e,r)=>Ke.createElement(e.tag,dh({key:r},e.attr),LE(e.child)))}function ME(t){return e=>Ke.createElement(jz,ch({attr:dh({},t.attr)},e),LE(t.child))}function jz(t){var e=r=>{var{attr:n,size:a,title:l}=t,c=xz(t,yz),u=a||r.size||"1em",h;return r.className&&(h=r.className),t.className&&(h=(h?h+" ":"")+t.className),Ke.createElement("svg",ch({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,c,{className:h,style:dh(dh({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"https://www.w3.org/2000/svg"}),l&&Ke.createElement("title",null,l),t.children)};return rN!==void 0?Ke.createElement(rN.Consumer,null,r=>e(r)):e(DE)}function g0(t){return ME({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(t)}function v0(t){return ME({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}const cu={Netflix:"/logos/icons8-netflix (1).svg","Prime Video":"/logos/icons8-amazon-prime-video (1).svg","Disney+":"/logos/icons8-disney-plus.svg",Max:"/logos/icons8-hbo-max.svg","Apple TV+":"/logos/Apple-tv-plus-official.svg",Peacock:"/logos/icons8-peacock-tv.svg","Paramount+":"/logos/icons8-paramount-plus.svg",Crunchyroll:"/logos/icons8-crunchyroll.svg",Starz:"/logos/Starz--Streamline-Simple-Icons.svg",Showtime:"/logos/Showtime--Streamline-Simple-Icons.svg",Hulu:"/logos/hulu-official.svg","YouTube TV":"/logos/icons8-youtube-tv.svg","Discovery+":"/logos/icons8-discovery-plus.svg",ESPN:"/logos/icons8-espn.svg",netflix:"/logos/icons8-netflix (1).svg","prime video":"/logos/icons8-amazon-prime-video (1).svg","disney+":"/logos/icons8-disney-plus.svg",max:"/logos/icons8-hbo-max.svg","apple tv+":"/logos/Apple-tv-plus-official.svg",peacock:"/logos/icons8-peacock-tv.svg","paramount+":"/logos/icons8-paramount-plus.svg",crunchyroll:"/logos/icons8-crunchyroll.svg",starz:"/logos/Starz--Streamline-Simple-Icons.svg",showtime:"/logos/Showtime--Streamline-Simple-Icons.svg",hulu:"/logos/hulu-official.svg","youtube tv":"/logos/icons8-youtube-tv.svg","discovery+":"/logos/icons8-discovery-plus.svg",espn:"/logos/icons8-espn.svg"},Sz={"amazon prime video":"Prime Video","amazon prime video with ads":"Prime Video","prime video":"Prime Video","amazon video":"Prime Video","amazon prime":"Prime Video",prime:"Prime Video",netflix:"Netflix","netflix standard with ads":"Netflix","disney plus":"Disney+","disney+":"Disney+",disney:"Disney+","hbo max":"Max",max:"Max","hbo max amazon channel":"Max","hbo max  amazon channel":"Max","apple tv":"Apple TV+","apple tv+":"Apple TV+","apple tv plus":"Apple TV+","paramount+":"Paramount+","paramount plus":"Paramount+",paramount:"Paramount+","paramount plus apple tv channel":"Paramount+","paramount+ amazon channel":"Paramount+","paramount+ roku premium channel":"Paramount+","paramount+ originals amazon channel":"Paramount+","paramount+ mtv amazon channel":"Paramount+",hulu:"Hulu",crunchyroll:"Crunchyroll","crunchyroll amazon channel":"Crunchyroll",peacock:"Peacock","peacock premium":"Peacock",starz:"Starz","starz amazon channel":"Starz",showtime:"Showtime","showtime amazon channel":"Showtime","discovery+":"Discovery+","discovery plus":"Discovery+",espn:"ESPN","espn+":"ESPN","espn plus":"ESPN","adult swim":"Adult Swim",tbs:"TBS",tnt:"TNT","youtube premium":"YouTube Premium","youtube tv":"YouTube TV","fandango at home":"Vudu","google play movies":"Google Play","spectrum on demand":"Spectrum",fubotv:"fuboTV","amc+":"AMC+","amc plus":"AMC+"};function Cz(t){if(!t||typeof t!="string")return"Unknown";const e=t.toLowerCase().trim();return Sz[e]||t}const cc=t=>{const e=typeof t=="string"?t:(t==null?void 0:t.name)||(t==null?void 0:t.provider_name),r=e?Cz(e):"Unknown";if(t&&typeof t=="object"&&t.logo_path){const a=t.logo_path;return a.startsWith("http")?a:a.startsWith("/")?`https://image.tmdb.org/t/p/w92${a}`:cu[r]||cu[r.toLowerCase()]||sN(r)}return cu[r]||cu[r.toLowerCase()]||sN(r)};function sN(t){const e=["#E50914","#113CCF","#002BE7","#00A8E1","#1CE783","#000000","#0064FF","#FA6B00","#FF6600","#FF0000","#0077C8"],r=t.toLowerCase().trim().split("").reduce((c,u)=>c+u.charCodeAt(0),0)%e.length,n=e[r],a=t.charAt(0).toUpperCase(),l=`<svg width="32" height="24" xmlns="https://www.w3.org/2000/svg">
    <rect width="32" height="24" fill="${n}" rx="4"/>
    <text x="16" y="16" font-family="Arial, sans-serif" font-size="12" font-weight="bold" 
          text-anchor="middle" fill="white">${a}</text>
  </svg>`;return`data:image/svg+xml;base64,${btoa(l)}`}const Ez=({platforms:t,maxVisible:e=1,size:r="sm",className:n})=>{if(!t||t.length===0)return null;const a=t.slice(0,e),l=t.length-a.length,c=r==="xs"?"h-5 w-5 text-[10px]":"h-6 w-6 text-xs",u=h=>{const m=h.provider_name||"",f=cc(m);return f&&!f.includes("default.svg")?f:h.logo_path?h.logo_path.startsWith("http")?h.logo_path:`https://image.tmdb.org/t/p/w45${h.logo_path}`:f};return i.jsx(hS,{children:i.jsxs("div",{className:"flex items-center gap-1 flex-wrap "+(n||""),children:[a.map(h=>{const m=h.provider_name||"Unknown",f=u(h);return i.jsxs(s1,{children:[i.jsx(a1,{asChild:!0,children:i.jsx("img",{src:f,alt:m,className:`rounded-sm object-contain bg-white/10 p-0.5 ${c}`,loading:"lazy",onError:g=>{const x=g.target;x.src.includes("default.svg")||(x.src="/logos/default.svg")}})}),i.jsx(xg,{children:m})]},h.provider_id||m)}),l>0&&i.jsxs(s1,{children:[i.jsx(a1,{asChild:!0,children:i.jsxs(ze,{variant:"outline",className:"cursor-default",children:["+",l]})}),i.jsx(xg,{className:"max-w-xs",children:i.jsx("div",{className:"text-xs space-y-1",children:t.slice(e).map(h=>i.jsx("div",{children:h.provider_name},h.provider_id||h.provider_name))})})]})]})})};var y0="Progress",x0=100,[Tz]=lr(y0),[_z,Pz]=Tz(y0),FE=y.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:l=Rz,...c}=t;(a||a===0)&&!aN(a)&&console.error(Az(`${a}`,"Progress"));const u=aN(a)?a:x0;n!==null&&!iN(n,u)&&console.error(Iz(`${n}`,"Progress"));const h=iN(n,u)?n:null,m=uh(h)?l(h,u):void 0;return i.jsx(_z,{scope:r,value:h,max:u,children:i.jsx(Ae.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":uh(h)?h:void 0,"aria-valuetext":m,role:"progressbar","data-state":$E(h,u),"data-value":h??void 0,"data-max":u,...c,ref:e})})});FE.displayName=y0;var zE="ProgressIndicator",UE=y.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,a=Pz(zE,r);return i.jsx(Ae.div,{"data-state":$E(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:e})});UE.displayName=zE;function Rz(t,e){return`${Math.round(t/e*100)}%`}function $E(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function uh(t){return typeof t=="number"}function aN(t){return uh(t)&&!isNaN(t)&&t>0}function iN(t,e){return uh(t)&&!isNaN(t)&&t<=e&&t>=0}function Az(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${x0}\`.`}function Iz(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${x0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var VE=FE,Oz=UE;const WE=y.forwardRef(({className:t,value:e,...r},n)=>i.jsx(VE,{ref:n,className:_e("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:i.jsx(Oz,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));WE.displayName=VE.displayName;const hh=[{id:"streammax",name:"StreamMax",weight:30,active:!0,commissionRate:.08},{id:"cinemahub",name:"CinemaHub",weight:25,active:!0,commissionRate:.06},{id:"techvision",name:"TechVision",weight:20,active:!0,commissionRate:.05},{id:"snacktime",name:"SnackTime",weight:15,active:!0,commissionRate:.04},{id:"gamezone",name:"GameZone",weight:10,active:!0,commissionRate:.07}],Ug=[{id:"ad_streaming_001",partnerId:"streammax",title:"Stream Unlimited Movies & Shows",description:"Get access to thousands of movies and TV shows with StreamMax Premium",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",clickUrl:"https://streammax.example.com/signup?ref=bingeboard",advertiser:"StreamMax",duration:15,skipAfter:5,category:"streaming",targetAudience:["movie-lovers","tv-fans"],active:!0},{id:"ad_tech_001",partnerId:"techvision",title:"Upgrade Your Home Theater",description:"Experience cinema-quality sound and picture with TechVision Smart TVs",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",clickUrl:"https://techvision.example.com/smart-tv?ref=bingeboard",advertiser:"TechVision",duration:20,skipAfter:8,category:"tech",targetAudience:["tech-enthusiasts","home-theater"],active:!0},{id:"ad_food_001",partnerId:"snacktime",title:"Perfect Movie Night Snacks",description:"Gourmet popcorn and snacks delivered to your door",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",clickUrl:"https://snacktime.example.com/movie-snacks?ref=bingeboard",advertiser:"SnackTime",duration:10,skipAfter:3,category:"food",targetAudience:["snack-lovers","movie-fans"],active:!0},{id:"ad_cinema_001",partnerId:"cinemahub",title:"Local Cinema Experience",description:"Book premium movie tickets at your local CinemaHub theater",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",clickUrl:"https://cinemahub.example.com/tickets?ref=bingeboard",advertiser:"CinemaHub",duration:12,skipAfter:4,category:"entertainment",targetAudience:["cinema-goers","date-night"],active:!0},{id:"ad_gaming_001",partnerId:"gamezone",title:"Level Up Your Gaming",description:"Discover the latest games and gaming gear at GameZone",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4",clickUrl:"https://gamezone.example.com/latest?ref=bingeboard",advertiser:"GameZone",duration:18,skipAfter:6,category:"entertainment",targetAudience:["gamers","tech-enthusiasts"],active:!0}];class Dz{static getActivePartners(){return hh.filter(e=>e.active)}static getActiveAds(){const e=this.getActivePartners().map(r=>r.id);return Ug.filter(r=>r.active&&e.includes(r.partnerId))}static selectAd(e){const r=this.getActiveAds();if(r.length===0)return null;if(e&&e.length>0){const n=r.filter(a=>{var l;return(l=a.targetAudience)==null?void 0:l.some(c=>e.includes(c))});if(n.length>0)return this.weightedRandomSelection(n)}return this.weightedRandomSelection(r)}static weightedRandomSelection(e){const r=e.map(l=>{const c=hh.find(u=>u.id===l.partnerId);return{ad:l,weight:(c==null?void 0:c.weight)||1}}),n=r.reduce((l,c)=>l+c.weight,0);let a=Math.random()*n;for(const l of r)if(a-=l.weight,a<=0)return l.ad;return e[0]}static selectMultipleAds(e=3,r){const n=this.getActiveAds(),a=[],l=new Set;for(let c=0;c<e&&c<n.length&&n.filter(u=>!l.has(u.partnerId)&&!a.includes(u)).length!==0;c++){const u=this.selectAd(r);u&&!a.includes(u)&&(a.push(u),l.add(u.partnerId))}return a}}class du{static async trackAdView(e,r,n){try{await fetch("/api/analytics/ad-view",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adId:e,userId:r,context:n,timestamp:new Date().toISOString()})})}catch(a){console.error("Failed to track ad view:",a)}}static async trackAdClick(e,r,n){try{await fetch("/api/analytics/ad-click",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adId:e,userId:r,clickUrl:n,timestamp:new Date().toISOString()})})}catch(a){console.error("Failed to track ad click:",a)}}static async trackAdCompletion(e,r,n){try{await fetch("/api/analytics/ad-completion",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adId:e,userId:r,watchTime:n,timestamp:new Date().toISOString()})})}catch(a){console.error("Failed to track ad completion:",a)}}}class oN{static calculateAdRevenue(e,r=!1){const n=Ug.find(h=>h.id===e);if(!n)return 0;const a=hh.find(h=>h.id===n.partnerId);if(!a)return 0;const l=.002,c=r?1.5:.7,u=a.commissionRate||.05;return l*c*(1+u)}static calculateClickRevenue(e){const r=Ug.find(c=>c.id===e);if(!r)return 0;const n=hh.find(c=>c.id===r.partnerId);if(!n)return 0;const a=.05,l=n.commissionRate||.05;return a*(1+l*2)}}function Lz({onAdComplete:t,onSkip:e,skipAfter:r=5,duration:n=15,className:a="",userPreferences:l=[]}){const[c,u]=y.useState(null),[h,m]=y.useState(n),[f,g]=y.useState(!1),[x,k]=y.useState(!1),[j,N]=y.useState(!1),[b,C]=y.useState(!1),[_,T]=y.useState(0),P=y.useRef(null),{toast:A}=jo(),{user:L}=Fr();y.useEffect(()=>{const W=Dz.selectAd(l);W&&(u(W),m(W.duration),L&&du.trackAdView(W.id,L.id||L.uid,"trailer-monetization"))},[l,L]),y.useEffect(()=>{if(!c||!j)return;const W=setInterval(()=>{m(D=>{if(D<=1){if(L&&c){const Q=Date.now()-_;du.trackAdCompletion(c.id,L.id||L.uid,Q)}return t(),0}return D-1})},1e3),ee=setTimeout(()=>{g(!0)},(c.skipAfter||r)*1e3);return()=>{clearInterval(W),clearTimeout(ee)}},[c,t,r,j,L,_]);const I=()=>{var W;N(!0),T(Date.now()),(W=P.current)==null||W.play()},E=()=>{if(f&&e){if(L&&c){const W=Date.now()-_;du.trackAdCompletion(c.id,L.id||L.uid,W)}e()}},R=()=>{c!=null&&c.clickUrl&&L&&(du.trackAdClick(c.id,L.id||L.uid,c.clickUrl),console.log(" Ad clicked - Estimated revenue:",oN.calculateClickRevenue(c.id)),window.open(c.clickUrl,"_blank"),A({title:"Opening advertiser page",description:"You'll continue to your trailer after the ad"}))},z=()=>{k(!x),P.current&&(P.current.muted=!x)},G=c?(c.duration-h)/c.duration*100:0;return c?i.jsxs(Qe,{className:`relative overflow-hidden bg-black ${a}`,children:[i.jsxs("div",{className:"relative aspect-video bg-black",children:[j?i.jsxs(i.Fragment,{children:[i.jsx("video",{ref:P,src:c.videoUrl,className:"w-full h-full object-cover",autoPlay:!0,muted:x,onEnded:t,onClick:()=>C(!0)}),b&&c.clickUrl&&i.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center cursor-pointer",onClick:R,onMouseLeave:()=>C(!1),children:i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-4 text-center",children:[i.jsx($l,{className:"w-6 h-6 mx-auto mb-2"}),i.jsx("div",{className:"font-medium",children:"Visit Advertiser"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:c.advertiser})]})})]}):i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-purple-900/50 to-blue-900/50",children:i.jsxs("div",{className:"text-center text-white space-y-4",children:[i.jsx("div",{className:"text-sm opacity-75",children:"Advertisement"}),i.jsx("h3",{className:"text-xl font-bold",children:c.title}),i.jsx("p",{className:"text-sm opacity-90",children:c.description}),i.jsxs(ie,{onClick:I,size:"lg",className:"gap-2",children:[i.jsx(kt,{className:"w-5 h-5"}),"Play Ad (",c.duration,"s)"]}),i.jsxs("div",{className:"text-xs opacity-75",children:["by ",c.advertiser]})]})}),j&&i.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-black/30",children:[i.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-white text-sm",children:[i.jsxs("div",{className:"bg-red-600 px-2 py-1 rounded text-xs font-medium flex items-center gap-1",children:["AD",i.jsx(hO,{className:"w-3 h-3"})]}),i.jsx("span",{children:c.advertiser}),i.jsxs(ze,{variant:"outline",className:"border-green-500 text-green-400 text-xs",children:["Revenue: $",oN.calculateAdRevenue(c.id,!1).toFixed(3)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ie,{variant:"ghost",size:"sm",onClick:z,className:"text-white hover:bg-white/20",children:x?i.jsx(AO,{className:"w-4 h-4"}):i.jsx(RO,{className:"w-4 h-4"})}),f&&i.jsxs(ie,{variant:"secondary",size:"sm",onClick:E,className:"gap-1",children:[i.jsx(In,{className:"w-3 h-3"}),"Skip"]})]})]}),i.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-2",children:[i.jsx(WE,{value:G,className:"h-1"}),i.jsxs("div",{className:"flex items-center justify-between text-white text-sm",children:[i.jsx("div",{className:"flex items-center gap-2",children:c.clickUrl&&i.jsxs(ie,{variant:"outline",size:"sm",onClick:R,className:"gap-1 text-white border-white/30 hover:bg-white/20",children:[i.jsx($l,{className:"w-3 h-3"}),"Learn More"]})}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xs opacity-75",children:"Ad ends in"}),i.jsxs("div",{className:"font-medium",children:[h,"s"]})]})]})]}),!f&&i.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-1 rounded text-sm",children:["Skip in ",Math.max(0,(c.skipAfter||r)-(c.duration-h)),"s"]})]})]}),i.jsx("div",{className:"p-3 bg-muted/50 border-t",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:c.title}),i.jsx("div",{className:"text-muted-foreground",children:c.description})]}),i.jsxs("div",{className:"text-right text-muted-foreground",children:[i.jsx("div",{children:"Sponsored by"}),i.jsx("div",{className:"font-medium",children:c.advertiser})]})]})})]}):i.jsx("div",{className:"flex items-center justify-center h-64 bg-black/50 rounded-lg",children:i.jsx("div",{className:"text-white",children:"Loading advertisement..."})})}function Mz({trailerUrl:t,showTitle:e,children:r}){const[n,a]=y.useState(!0),[l,c]=y.useState(!1),u=()=>{a(!1),c(!0)},h=()=>{a(!1),c(!0)};return n?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:['Watch a short ad to continue to "',e,'" trailer']})}),i.jsx(Lz,{onAdComplete:u,onSkip:h})]}):i.jsxs("div",{className:"space-y-4",children:[l&&i.jsx("div",{className:"text-center text-sm text-green-600 mb-2",children:"Ad completed! Enjoy your trailer."}),r]})}function b0(t,e,r){return Gs({queryKey:["trailer",e,t],enabled:!!t&&(e==="movie"||e==="tv"),queryFn:async()=>{const n=await Wt(`/api/multi-api/trailer/${e}/${t}?title=${encodeURIComponent(r||"")}`);if(!n.ok)throw new Error("Failed to load trailer");return n.json()},staleTime:1e3*60*30})}function ph({show:t,variant:e="outline",size:r="sm",className:n="",showLabel:a=!0}){var l;const[c,u]=y.useState(!1);Fr();const{data:h,isLoading:m,error:f}=b0(t.tmdbId||t.id,"tv",t.title),g=()=>{h!=null&&h.primaryTrailer&&u(!0)},x=k=>{var j;return k.includes("youtube.com/watch")?`https://www.youtube.com/embed/${(j=k.split("v=")[1])==null?void 0:j.split("&")[0]}?autoplay=1&rel=0`:k};return i.jsxs(i.Fragment,{children:[i.jsxs(ie,{variant:e,size:r,className:`${n} ${m?"opacity-75":""} bg-red-600 hover:bg-red-700 text-white border-red-500`,onClick:g,disabled:m||!(h!=null&&h.primaryTrailer),children:[i.jsx(kt,{className:"h-3 w-3 mr-1"}),a?m?"Loading...":"Trailer":""]}),c&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"fixed inset-0 bg-black/80",onClick:()=>u(!1)}),i.jsxs("div",{className:"relative bg-slate-900 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-auto mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jg,{className:"h-5 w-5"}),i.jsxs("h2",{className:"text-lg font-semibold",children:[t.title," - Trailer"]})]}),i.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-white",children:""})]}),i.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Watch this trailer after a brief ad"}),f||!(h!=null&&h.primaryTrailer)?i.jsx("div",{className:"aspect-video bg-black rounded-lg flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx(jg,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No trailer available for this show"})]})}):i.jsx(Mz,{trailerUrl:x(h.primaryTrailer.url),showTitle:t.title,children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Source: ",h.primaryTrailer.source,"  ",((l=h.stats)==null?void 0:l.total)||0," trailers found"]}),i.jsx("div",{className:"aspect-video bg-black rounded-lg",children:i.jsx("iframe",{width:"100%",height:"100%",src:x(h.primaryTrailer.url),title:`${t.title} Trailer`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-lg"})})]})})]})]})]})}function lN(t){var e,r;return((e=t==null?void 0:t.message)==null?void 0:e.includes("401"))||((r=t==null?void 0:t.message)==null?void 0:r.includes("Unauthorized"))||(t==null?void 0:t.status)===401}function Fz(t={}){const{toast:e}=jo(),r=bo(),n=Wu({mutationFn:async l=>{const c=await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...l,status:l.status||"want_to_watch"})});if(!c.ok)throw c.status===401?new Error("401: Unauthorized"):new Error("Failed to add to watchlist");return c.json()},onSuccess:()=>{var l;r.invalidateQueries({queryKey:["/api/watchlist"]}),e({title:"Success",description:"Added to your watchlist!"}),(l=t.onSuccess)==null||l.call(t,"addToWatchlist")},onError:l=>{var c;if(lN(l)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}e({title:"Error",description:"Failed to add to watchlist",variant:"destructive"}),(c=t.onError)==null||c.call(t,l,"addToWatchlist")}}),a=Wu({mutationFn:async l=>{const c=await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...l,status:"watched"})});if(!c.ok)throw c.status===401?new Error("401: Unauthorized"):new Error("Failed to mark as seen");return c.json()},onSuccess:()=>{var l;r.invalidateQueries({queryKey:["/api/watchlist"]}),e({title:"Success",description:"Marked as seen!"}),(l=t.onSuccess)==null||l.call(t,"markAsSeen")},onError:l=>{var c;if(lN(l)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}e({title:"Error",description:"Failed to mark as seen",variant:"destructive"}),(c=t.onError)==null||c.call(t,l,"markAsSeen")}});return{addToWatchlist:l=>n.mutate({tmdbId:l}),markAsSeen:l=>a.mutate({tmdbId:l}),share:async l=>{var c,u;try{const h=`${window.location.origin}/show/${l}`;navigator.share?await navigator.share({title:"Check out this show!",url:h}):(await navigator.clipboard.writeText(h),e({title:"Success",description:"Link copied to clipboard!"})),(c=t.onSuccess)==null||c.call(t,"share")}catch(h){e({title:"Error",description:"Failed to share",variant:"destructive"}),(u=t.onError)==null||u.call(t,h,"share")}},playTrailer:l=>{var c,u;try{window.open(l,"_blank"),(c=t.onSuccess)==null||c.call(t,"playTrailer")}catch(h){e({title:"Error",description:"Failed to open trailer",variant:"destructive"}),(u=t.onError)==null||u.call(t,h,"playTrailer")}},isLoading:{addToWatchlist:n.isPending,markAsSeen:a.isPending}}}const zz=y.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:_e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));zz.displayName="Textarea";const Uz=Wh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$z=y.forwardRef(({className:t,...e},r)=>i.jsx("label",{ref:r,className:_e(Uz(),t),...e}));$z.displayName="Label";var w0="Radio",[Vz,BE]=lr(w0),[Wz,Bz]=Vz(w0),HE=y.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:l,disabled:c,value:u="on",onCheck:h,form:m,...f}=t,[g,x]=y.useState(null),k=Ze(e,b=>x(b)),j=y.useRef(!1),N=g?m||!!g.closest("form"):!0;return i.jsxs(Wz,{scope:r,checked:a,disabled:c,children:[i.jsx(Ae.button,{type:"button",role:"radio","aria-checked":a,"data-state":ZE(a),"data-disabled":c?"":void 0,disabled:c,value:u,...f,ref:k,onClick:me(t.onClick,b=>{a||h==null||h(),N&&(j.current=b.isPropagationStopped(),j.current||b.stopPropagation())})}),N&&i.jsx(GE,{control:g,bubbles:!j.current,name:n,value:u,checked:a,required:l,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});HE.displayName=w0;var qE="RadioIndicator",KE=y.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...a}=t,l=Bz(qE,r);return i.jsx(sn,{present:n||l.checked,children:i.jsx(Ae.span,{"data-state":ZE(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:e})})});KE.displayName=qE;var Hz="RadioBubbleInput",GE=y.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...a},l)=>{const c=y.useRef(null),u=Ze(c,l),h=f0(r),m=Oh(e);return y.useEffect(()=>{const f=c.current;if(!f)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==r&&x){const k=new Event("click",{bubbles:n});x.call(f,r),f.dispatchEvent(k)}},[h,r,n]),i.jsx(Ae.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:u,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});GE.displayName=Hz;function ZE(t){return t?"checked":"unchecked"}var qz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],lp="RadioGroup",[Kz]=lr(lp,[rp,BE]),QE=rp(),XE=BE(),[Gz,Zz]=Kz(lp),YE=y.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:l,required:c=!1,disabled:u=!1,orientation:h,dir:m,loop:f=!0,onValueChange:g,...x}=t,k=QE(r),j=tp(m),[N,b]=ra({prop:l,defaultProp:a??null,onChange:g,caller:lp});return i.jsx(Gz,{scope:r,name:n,required:c,disabled:u,value:N,onValueChange:b,children:i.jsx(wC,{asChild:!0,...k,orientation:h,dir:j,loop:f,children:i.jsx(Ae.div,{role:"radiogroup","aria-required":c,"aria-orientation":h,"data-disabled":u?"":void 0,dir:j,...x,ref:e})})})});YE.displayName=lp;var JE="RadioGroupItem",eT=y.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,l=Zz(JE,r),c=l.disabled||n,u=QE(r),h=XE(r),m=y.useRef(null),f=Ze(e,m),g=l.value===a.value,x=y.useRef(!1);return y.useEffect(()=>{const k=N=>{qz.includes(N.key)&&(x.current=!0)},j=()=>x.current=!1;return document.addEventListener("keydown",k),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",k),document.removeEventListener("keyup",j)}},[]),i.jsx(NC,{asChild:!0,...u,focusable:!c,active:g,children:i.jsx(HE,{disabled:c,required:l.required,checked:g,...h,...a,name:l.name,ref:f,onCheck:()=>l.onValueChange(a.value),onKeyDown:me(k=>{k.key==="Enter"&&k.preventDefault()}),onFocus:me(a.onFocus,()=>{var k;x.current&&((k=m.current)==null||k.click())})})})});eT.displayName=JE;var Qz="RadioGroupIndicator",tT=y.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,a=XE(r);return i.jsx(KE,{...a,...n,ref:e})});tT.displayName=Qz;var rT=YE,nT=eT,Xz=tT;const Yz=y.forwardRef(({className:t,...e},r)=>i.jsx(rT,{className:_e("grid gap-2",t),...e,ref:r}));Yz.displayName=rT.displayName;const Jz=y.forwardRef(({className:t,...e},r)=>i.jsx(nT,{ref:r,className:_e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(Xz,{className:"flex items-center justify-center",children:i.jsx(MS,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Jz.displayName=nT.displayName;function sT(t,[e,r]){return Math.min(r,Math.max(e,t))}var aT=["PageUp","PageDown"],iT=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],oT={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},So="Slider",[$g,e7,t7]=$h(So),[lT]=lr(So,[t7]),[r7,cp]=lT(So),cT=y.forwardRef((t,e)=>{const{name:r,min:n=0,max:a=100,step:l=1,orientation:c="horizontal",disabled:u=!1,minStepsBetweenThumbs:h=0,defaultValue:m=[n],value:f,onValueChange:g=()=>{},onValueCommit:x=()=>{},inverted:k=!1,form:j,...N}=t,b=y.useRef(new Set),C=y.useRef(0),_=c==="horizontal"?n7:s7,[T=[],P]=ra({prop:f,defaultProp:m,onChange:z=>{var G;(G=[...b.current][C.current])==null||G.focus(),g(z)}}),A=y.useRef(T);function L(z){const G=c7(T,z);R(z,G)}function I(z){R(z,C.current)}function E(){const z=A.current[C.current];T[C.current]!==z&&x(T)}function R(z,G,{commit:W}={commit:!1}){const ee=p7(l),D=m7(Math.round((z-n)/l)*l+n,ee),Q=sT(D,[n,a]);P((ae=[])=>{const oe=o7(ae,Q,G);if(h7(oe,h*l)){C.current=oe.indexOf(Q);const H=String(oe)!==String(ae);return H&&W&&x(oe),H?oe:ae}else return ae})}return i.jsx(r7,{scope:t.__scopeSlider,name:r,disabled:u,min:n,max:a,valueIndexToChangeRef:C,thumbs:b.current,values:T,orientation:c,form:j,children:i.jsx($g.Provider,{scope:t.__scopeSlider,children:i.jsx($g.Slot,{scope:t.__scopeSlider,children:i.jsx(_,{"aria-disabled":u,"data-disabled":u?"":void 0,...N,ref:e,onPointerDown:me(N.onPointerDown,()=>{u||(A.current=T)}),min:n,max:a,inverted:k,onSlideStart:u?void 0:L,onSlideMove:u?void 0:I,onSlideEnd:u?void 0:E,onHomeKeyDown:()=>!u&&R(n,0,{commit:!0}),onEndKeyDown:()=>!u&&R(a,T.length-1,{commit:!0}),onStepKeyDown:({event:z,direction:G})=>{if(!u){const W=aT.includes(z.key)||z.shiftKey&&iT.includes(z.key)?10:1,ee=C.current,D=T[ee],Q=l*W*G;R(D+Q,ee,{commit:!0})}}})})})})});cT.displayName=So;var[dT,uT]=lT(So,{startEdge:"left",endEdge:"right",size:"width",direction:1}),n7=y.forwardRef((t,e)=>{const{min:r,max:n,dir:a,inverted:l,onSlideStart:c,onSlideMove:u,onSlideEnd:h,onStepKeyDown:m,...f}=t,[g,x]=y.useState(null),k=Ze(e,T=>x(T)),j=y.useRef(void 0),N=tp(a),b=N==="ltr",C=b&&!l||!b&&l;function _(T){const P=j.current||g.getBoundingClientRect(),A=[0,P.width],L=N0(A,C?[r,n]:[n,r]);return j.current=P,L(T-P.left)}return i.jsx(dT,{scope:t.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:i.jsx(hT,{dir:N,"data-orientation":"horizontal",...f,ref:k,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const P=_(T.clientX);c==null||c(P)},onSlideMove:T=>{const P=_(T.clientX);u==null||u(P)},onSlideEnd:()=>{j.current=void 0,h==null||h()},onStepKeyDown:T=>{const P=oT[C?"from-left":"from-right"].includes(T.key);m==null||m({event:T,direction:P?-1:1})}})})}),s7=y.forwardRef((t,e)=>{const{min:r,max:n,inverted:a,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:h,...m}=t,f=y.useRef(null),g=Ze(e,f),x=y.useRef(void 0),k=!a;function j(N){const b=x.current||f.current.getBoundingClientRect(),C=[0,b.height],_=N0(C,k?[n,r]:[r,n]);return x.current=b,_(N-b.top)}return i.jsx(dT,{scope:t.__scopeSlider,startEdge:k?"bottom":"top",endEdge:k?"top":"bottom",size:"height",direction:k?1:-1,children:i.jsx(hT,{"data-orientation":"vertical",...m,ref:g,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:N=>{const b=j(N.clientY);l==null||l(b)},onSlideMove:N=>{const b=j(N.clientY);c==null||c(b)},onSlideEnd:()=>{x.current=void 0,u==null||u()},onStepKeyDown:N=>{const b=oT[k?"from-bottom":"from-top"].includes(N.key);h==null||h({event:N,direction:b?-1:1})}})})}),hT=y.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:u,onStepKeyDown:h,...m}=t,f=cp(So,r);return i.jsx(Ae.span,{...m,ref:e,onKeyDown:me(t.onKeyDown,g=>{g.key==="Home"?(c(g),g.preventDefault()):g.key==="End"?(u(g),g.preventDefault()):aT.concat(iT).includes(g.key)&&(h(g),g.preventDefault())}),onPointerDown:me(t.onPointerDown,g=>{const x=g.target;x.setPointerCapture(g.pointerId),g.preventDefault(),f.thumbs.has(x)?x.focus():n(g)}),onPointerMove:me(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&a(g)}),onPointerUp:me(t.onPointerUp,g=>{const x=g.target;x.hasPointerCapture(g.pointerId)&&(x.releasePointerCapture(g.pointerId),l(g))})})}),pT="SliderTrack",mT=y.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=cp(pT,r);return i.jsx(Ae.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:e})});mT.displayName=pT;var Vg="SliderRange",fT=y.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=cp(Vg,r),l=uT(Vg,r),c=y.useRef(null),u=Ze(e,c),h=a.values.length,m=a.values.map(x=>yT(x,a.min,a.max)),f=h>1?Math.min(...m):0,g=100-Math.max(...m);return i.jsx(Ae.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:u,style:{...t.style,[l.startEdge]:f+"%",[l.endEdge]:g+"%"}})});fT.displayName=Vg;var Wg="SliderThumb",gT=y.forwardRef((t,e)=>{const r=e7(t.__scopeSlider),[n,a]=y.useState(null),l=Ze(e,u=>a(u)),c=y.useMemo(()=>n?r().findIndex(u=>u.ref.current===n):-1,[r,n]);return i.jsx(a7,{...t,ref:l,index:c})}),a7=y.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:a,...l}=t,c=cp(Wg,r),u=uT(Wg,r),[h,m]=y.useState(null),f=Ze(e,_=>m(_)),g=h?c.form||!!h.closest("form"):!0,x=Oh(h),k=c.values[n],j=k===void 0?0:yT(k,c.min,c.max),N=l7(n,c.values.length),b=x==null?void 0:x[u.size],C=b?d7(b,j,u.direction):0;return y.useEffect(()=>{if(h)return c.thumbs.add(h),()=>{c.thumbs.delete(h)}},[h,c.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${j}% + ${C}px)`},children:[i.jsx($g.ItemSlot,{scope:t.__scopeSlider,children:i.jsx(Ae.span,{role:"slider","aria-label":t["aria-label"]||N,"aria-valuemin":c.min,"aria-valuenow":k,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:f,style:k===void 0?{display:"none"}:t.style,onFocus:me(t.onFocus,()=>{c.valueIndexToChangeRef.current=n})})}),g&&i.jsx(vT,{name:a??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:k},n)]})});gT.displayName=Wg;var i7="RadioBubbleInput",vT=y.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const a=y.useRef(null),l=Ze(a,n),c=f0(e);return y.useEffect(()=>{const u=a.current;if(!u)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&m){const f=new Event("input",{bubbles:!0});m.call(u,e),u.dispatchEvent(f)}},[c,e]),i.jsx(Ae.input,{style:{display:"none"},...r,ref:l,defaultValue:e})});vT.displayName=i7;function o7(t=[],e,r){const n=[...t];return n[r]=e,n.sort((a,l)=>a-l)}function yT(t,e,r){const n=100/(r-e)*(t-e);return sT(n,[0,100])}function l7(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function c7(t,e){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-e)),n=Math.min(...r);return r.indexOf(n)}function d7(t,e,r){const n=t/2,a=N0([0,50],[0,n]);return(n-a(e)*r)*r}function u7(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function h7(t,e){if(e>0){const r=u7(t);return Math.min(...r)>=e}return!0}function N0(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function p7(t){return(String(t).split(".")[1]||"").length}function m7(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var xT=cT,f7=mT,g7=fT,v7=gT;const y7=y.forwardRef(({className:t,...e},r)=>i.jsxs(xT,{ref:r,className:_e("relative flex w-full touch-none select-none items-center",t),...e,children:[i.jsx(f7,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(g7,{className:"absolute h-full bg-primary"})}),i.jsx(v7,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));y7.displayName=xT.displayName;function x7(){const{toast:t}=jo(),e=bo(),r=Wu({mutationFn:async({contentId:n,contentType:a,feedbackType:l,rating:c=7})=>{const u=await fetch("/api/user-feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:"user-id",content_id:n,content_type:a,rating:c,feedback_type:l,watch_status:"want_to_watch",tags:[]})});if(!u.ok)throw new Error("Failed to submit feedback");return u.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/user-feedback"]}),t({title:"Feedback Submitted",description:"Thank you for your feedback!",duration:2e3})}});return{submitQuickFeedback:r.mutate,isSubmitting:r.isPending}}function b7({show:t,isInWatchlist:e=!1,isSeen:r=!1,customActions:n,variant:a="default",onInteraction:l}){const[c,u]=y.useState(!1),[h,m]=y.useState(!1),f=Fz({onSuccess:P=>l==null?void 0:l(P,t.tmdbId)}),{submitQuickFeedback:g,isSubmitting:x}=x7(),k=()=>{n!=null&&n.onAddToWatchlist?n.onAddToWatchlist(t.tmdbId):f.addToWatchlist(t.tmdbId)},j=()=>{n!=null&&n.onMarkAsSeen?n.onMarkAsSeen(t.tmdbId):f.markAsSeen(t.tmdbId)},N=()=>{n!=null&&n.onShare?n.onShare(t.tmdbId):f.share(t.tmdbId)},b=P=>{g({contentId:t.tmdbId,contentType:"movie",feedbackType:P,rating:P==="love"?9:P==="like"?7:P==="recommend"?8:3}),l==null||l(P,t.tmdbId)},C=()=>{window.location.href=`/show/${t.tmdbId}`,l==null||l("navigate",t.tmdbId)},_=()=>{const P="recommendation-card glass-effect border-white/10 flex-shrink-0 transition-all duration-300 hover:scale-105 cursor-pointer group";switch(a){case"compact":return`${P} w-36 md:w-40`;case"large":return`${P} w-52 md:w-56`;default:return`${P} w-44 md:w-48`}},T=()=>{switch(a){case"compact":return"h-48";case"large":return"h-80";default:return"h-64"}};return i.jsx(Qe,{className:_(),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),tabIndex:0,onFocus:()=>u(!0),onBlur:()=>u(!1),children:i.jsxs(Xe,{className:"p-0",children:[i.jsxs("div",{className:"relative",onClick:C,role:"button",tabIndex:-1,children:[t.posterPath?i.jsx("img",{src:t.posterPath,alt:`${t.title} poster`,className:`w-full ${T()} object-cover rounded-t-lg`}):i.jsx("div",{className:`w-full ${T()} bg-binge-gray rounded-t-lg flex items-center justify-center`,children:i.jsx(kt,{className:"w-12 h-12 text-gray-400"})}),i.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center gap-2 bg-black/60 rounded-t-lg transition-opacity duration-200 ${c?"opacity-100":"opacity-0 pointer-events-none md:group-hover:opacity-100 md:pointer-events-auto"}`,onClick:P=>P.stopPropagation(),children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ie,{size:"icon",variant:e?"secondary":"outline",className:"rounded-full",title:e?"In Watchlist":"Add to Watchlist",onClick:k,disabled:e||f.isLoading.addToWatchlist,children:e?i.jsx(Bh,{className:"w-5 h-5"}):i.jsx(Pn,{className:"w-5 h-5"})}),i.jsx(ph,{show:{id:t.tmdbId,tmdbId:t.tmdbId,title:t.title},variant:"outline",size:"sm",showLabel:!1,className:"rounded-full w-10 h-10 p-0"}),i.jsx(ie,{size:"icon",variant:r?"secondary":"outline",className:"rounded-full",title:r?"Seen":"Mark as Seen",onClick:j,disabled:r||f.isLoading.markAsSeen,children:i.jsx(Or,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(ie,{size:"icon",variant:"outline",className:"rounded-full h-8 w-8 text-pink-500 hover:bg-pink-500/20",title:"Love It",onClick:()=>b("love"),disabled:x,children:i.jsx(_n,{className:"w-4 h-4"})}),i.jsx(ie,{size:"icon",variant:"outline",className:"rounded-full h-8 w-8 text-green-500 hover:bg-green-500/20",title:"Like It",onClick:()=>b("like"),disabled:x,children:i.jsx(_O,{className:"w-4 h-4"})}),i.jsx(ie,{size:"icon",variant:"outline",className:"rounded-full h-8 w-8 text-yellow-500 hover:bg-yellow-500/20",title:"Recommend",onClick:()=>b("recommend"),disabled:x,children:i.jsx(Nt,{className:"w-4 h-4"})}),i.jsx(ie,{size:"icon",variant:"outline",className:"rounded-full h-8 w-8",title:"Share",onClick:N,children:i.jsx(SO,{className:"w-4 h-4"})})]})]})]}),i.jsxs("div",{className:"p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsx("h3",{className:"font-semibold text-sm leading-tight line-clamp-2 cursor-pointer hover:text-binge-purple transition-colors",onClick:C,children:t.title}),t.rating&&i.jsxs("span",{className:"flex items-center text-[10px] font-medium text-yellow-400",children:[i.jsx(Nt,{className:"w-3 h-3 mr-0.5"}),t.rating]})]}),t.streamingPlatforms&&t.streamingPlatforms.length>0&&i.jsx(Ez,{platforms:t.streamingPlatforms,maxVisible:4,size:"xs"}),t.overview&&i.jsx("p",{className:"text-[11px] text-gray-400 line-clamp-3",children:t.overview})]})]})})}const Uf=[{name:"Netflix",color:"#E50914"},{name:"Disney+",color:"#113CCF"},{name:"Max",color:"#002BE7"},{name:"Prime Video",color:"#00A8E1"},{name:"Hulu",color:"#1CE783"},{name:"Apple TV+",color:"#FFFFFF"},{name:"Paramount+",color:"#0064FF"},{name:"Peacock",color:"#FA6B00"},{name:"Crunchyroll",color:"#FF6600"},{name:"Showtime",color:"#FF0000"},{name:"Starz",color:"#FFFFFF"}];function w7(){const t=[...Uf,...Uf,...Uf];return i.jsxs("section",{className:"py-16 bg-gradient-to-r from-slate-950 via-slate-900 to-slate-950 overflow-hidden relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-teal-600/5"}),i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-transparent via-slate-900/50 to-transparent"}),i.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:["Watch from ",i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-blue-500",children:"Everywhere"})]}),i.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"BingeBoard aggregates content from all major streaming platforms, so you never miss what's worth watching."})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-0 top-0 w-32 h-full bg-gradient-to-r from-slate-950 via-slate-950/80 to-transparent z-20 pointer-events-none"}),i.jsx("div",{className:"absolute right-0 top-0 w-32 h-full bg-gradient-to-l from-slate-950 via-slate-950/80 to-transparent z-20 pointer-events-none"}),i.jsx("div",{className:"flex overflow-hidden",children:i.jsx("div",{className:"flex animate-marquee-left space-x-16 py-8",children:t.map((e,r)=>i.jsx("div",{className:"flex-shrink-0 group cursor-pointer flex flex-col items-center",children:i.jsxs("div",{className:"w-20 h-20 flex items-center justify-center relative group-hover:scale-110 transition-all duration-300",children:[i.jsx("img",{src:cc(e.name),alt:e.name,className:`max-w-full max-h-full object-contain group-hover:brightness-125 transition-all duration-300 drop-shadow-2xl ${e.name==="Apple TV+"||e.name==="Starz"||e.name==="Showtime"||e.name==="Max"||e.name==="Peacock"||e.color==="#FFFFFF"?"filter invert brightness-100":"filter brightness-110"}`,style:{maxWidth:"64px",maxHeight:"48px"}}),i.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-30 transition-opacity duration-300 blur-xl scale-150",style:{backgroundColor:e.color}})]})},`${e.name}-${r}`))})})]}),i.jsxs("div",{className:"text-center mt-12",children:[i.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Track, discover, and organize content from all major streaming platforms"}),i.jsx("div",{className:"flex flex-wrap justify-center gap-3"})]})]})]})}function Mi({icon:t,title:e,description:r,highlight:n}){return i.jsx(Qe,{className:"glass-effect border-teal-500/20 h-full group hover:border-teal-400/40 transition-all duration-300",children:i.jsxs(Xe,{className:"p-8",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-blue-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:i.jsx(t,{className:"h-8 w-8 text-white"})}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:e}),n&&i.jsx(ze,{className:"mb-3 bg-red-500/20 text-red-300 border-red-400/30",children:n}),i.jsx("p",{className:"text-gray-400 leading-relaxed",children:r})]})})}function bT(){var t;const[e,r]=nn(),{toast:n}=jo(),[a,l]=y.useState(!1),{refreshSession:c,isAuthenticated:u,user:h}=Fr();console.log(" LANDING COMPONENT RENDERED - isAuthenticated:",u,"user:",(h==null?void 0:h.email)||"null");const[m,f]=y.useState(null);y.useEffect(()=>{(async()=>{try{const{getRedirectResult:b}=await ct(async()=>{const{getRedirectResult:T}=await Promise.resolve().then(()=>$s);return{getRedirectResult:T}},void 0),C=await g(),_=await b(C);if(_!=null&&_.user){console.log(" Redirect login successful:",_.user.email),console.log(" Starting backend session creation...");const T=await x(_.user);console.log(" Backend session created:",T),console.log(" REDIRECT - FORCING AUTH STATE REFRESH - Attempt 1"),await c(),console.log(" REDIRECT - Waiting for state propagation..."),await new Promise(P=>setTimeout(P,200)),console.log(" REDIRECT - FORCING AUTH STATE REFRESH - Attempt 2"),await c(),console.log(" REDIRECT - Final wait before navigation..."),await new Promise(P=>setTimeout(P,300)),console.log(" REDIRECT - Navigating to dashboard..."),r("/")}}catch(b){console.error(" Redirect login failed:",b),b.code!=="auth/null-user"&&n({title:"Sign-in Failed",description:b.message,variant:"destructive"})}})()},[]);const g=async()=>{const{auth:b}=await ct(async()=>{const{auth:C}=await Promise.resolve().then(()=>sC);return{auth:C}},void 0);return b},x=async b=>{try{console.log(" Creating backend session for:",b.email);const C=await b.getIdToken();console.log(" Firebase ID token obtained");const _={firebaseToken:C,user:{uid:b.uid,email:b.email,displayName:b.displayName,photoURL:b.photoURL}};console.log(" Sending session request to backend...");const T=await Wt("/api/auth/firebase-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},credentials:"include",body:JSON.stringify(_)});if(console.log(" Backend response status:",T.status),!T.ok){const A=await T.text();throw console.error(" Backend session creation failed:",A),new Error(`Failed to create backend session: ${T.status} ${A}`)}const P=await T.json();return console.log(" Backend session created successfully:",P),P}catch(C){throw console.error(" Backend session creation failed:",C),C}},k=async()=>{var b,C;console.log(" Google login button clicked!"),l(!0);try{console.log(" Starting Google login process..."),console.log(" Current URL:",window.location.href),console.log(" Firebase config check:"),console.log("  - API Key:"," Set"),console.log("  - Auth Domain:","your-project-id.firebaseapp.com"),console.log("  - Project ID:","your-project-id");const{GoogleAuthProvider:_,signInWithPopup:T}=await ct(async()=>{const{GoogleAuthProvider:R,signInWithPopup:z}=await Promise.resolve().then(()=>$s);return{GoogleAuthProvider:R,signInWithPopup:z}},void 0);console.log(" Firebase auth imports loaded");const P=await g();console.log(" Firebase auth instance obtained:",(C=(b=P==null?void 0:P.app)==null?void 0:b.options)==null?void 0:C.projectId);const A=new _;console.log(" Google provider created"),A.addScope("email"),A.addScope("profile"),A.setCustomParameters({prompt:"select_account"}),console.log(" Current origin:",window.location.origin),console.log(" Development mode:",!1);const L=window.open("","_blank","width=1,height=1");if(!L||L.closed||typeof L.closed>"u"){console.warn(" Popup might be blocked by browser"),n({title:"Popup Blocked",description:"Please allow popups for this site and try again.",variant:"destructive"});return}else L.close(),console.log(" Popup test passed");console.log(" Attempting Google popup sign-in...");const I=await T(P,A);console.log(" Google popup login successful:"),console.log("  - User ID:",I.user.uid),console.log("  - Email:",I.user.email),console.log("  - Display Name:",I.user.displayName),console.log("  - Photo URL:",I.user.photoURL),console.log(" Starting backend session creation...");const E=await x(I.user);console.log(" Backend session created:",E),console.log(" FORCING AUTH STATE REFRESH - Attempt 1"),await c(),console.log(" Waiting for state propagation..."),await new Promise(R=>setTimeout(R,200)),console.log(" FORCING AUTH STATE REFRESH - Attempt 2"),await c(),console.log(" Final wait before navigation..."),await new Promise(R=>setTimeout(R,300)),console.log(" Navigating to dashboard..."),r("/")}catch(_){console.error(" Google login error:",_),console.error("Error code:",_.code),console.error("Error message:",_.message),console.error("Error stack:",_.stack);let T=_.message;_.code==="auth/popup-blocked"?T="Popup was blocked by browser. Please allow popups and try again.":_.code==="auth/popup-closed-by-user"?T="Sign-in was cancelled.":_.code==="auth/operation-not-allowed"?T="Google sign-in is not enabled in Firebase Console.":_.code==="auth/configuration-not-found"?T="Firebase configuration error. Please check the setup.":_.code==="auth/unauthorized-domain"?T="This domain is not authorized for OAuth operations in Firebase Console.":_.code==="auth/network-request-failed"&&(T="Network error. Please check your internet connection."),n({title:"Sign-in Failed",description:T,variant:"destructive"})}finally{console.log(" Setting loading to false"),l(!1)}},j=async()=>{var b,C;console.log(" Facebook login button clicked!"),l(!0);try{console.log(" Starting Facebook login process..."),console.log(" Current URL:",window.location.href),console.log(" Firebase config check:"),console.log("  - API Key:"," Set"),console.log("  - Auth Domain:","your-project-id.firebaseapp.com"),console.log("  - Project ID:","your-project-id");const{FacebookAuthProvider:_,signInWithPopup:T}=await ct(async()=>{const{FacebookAuthProvider:R,signInWithPopup:z}=await Promise.resolve().then(()=>$s);return{FacebookAuthProvider:R,signInWithPopup:z}},void 0);console.log(" Firebase auth imports loaded");const P=await g();console.log(" Firebase auth instance obtained:",(C=(b=P==null?void 0:P.app)==null?void 0:b.options)==null?void 0:C.projectId);const A=new _;console.log(" Facebook provider created"),A.addScope("email"),A.setCustomParameters({display:"popup"}),console.log(" Current origin:",window.location.origin),console.log(" Development mode:",!1);const L=window.open("","_blank","width=1,height=1");if(!L||L.closed||typeof L.closed>"u"){console.warn(" Popup might be blocked by browser"),n({title:"Popup Blocked",description:"Please allow popups for this site and try again.",variant:"destructive"});return}else L.close(),console.log(" Popup test passed");console.log(" Attempting Facebook popup sign-in...");const I=await T(P,A);console.log(" Facebook popup login successful:"),console.log("  - User ID:",I.user.uid),console.log("  - Email:",I.user.email),console.log("  - Display Name:",I.user.displayName),console.log("  - Photo URL:",I.user.photoURL),console.log(" Starting backend session creation...");const E=await x(I.user);console.log(" Backend session created:",E),console.log(" FORCING AUTH STATE REFRESH - Attempt 1"),await c(),console.log(" Waiting for state propagation..."),await new Promise(R=>setTimeout(R,200)),console.log(" FORCING AUTH STATE REFRESH - Attempt 2"),await c(),console.log(" Final wait before navigation..."),await new Promise(R=>setTimeout(R,300)),console.log(" Navigating to dashboard..."),r("/")}catch(_){console.error(" Facebook login error:",_),console.error("Error code:",_.code),console.error("Error message:",_.message),console.error("Error stack:",_.stack);let T=_.message;_.code==="auth/popup-blocked"?T="Popup was blocked by browser. Please allow popups and try again.":_.code==="auth/popup-closed-by-user"?T="Sign-in was cancelled.":_.code==="auth/operation-not-allowed"?T="Facebook sign-in is not enabled in Firebase Console.":_.code==="auth/configuration-not-found"?T="Firebase configuration error. Please check the setup.":_.code==="auth/unauthorized-domain"?T="This domain is not authorized for OAuth operations in Firebase Console.":_.code==="auth/network-request-failed"&&(T="Network error. Please check your internet connection."),n({title:"Sign-in Failed",description:T,variant:"destructive"})}finally{console.log(" Setting loading to false"),l(!1)}},N=async b=>{try{console.log(` Fetching: ${b}`);const C=await Wt(b);if(console.log(` Response status: ${C.status} ${C.statusText}`),console.log(` Content-Type: ${C.headers.get("content-type")}`),C.ok){const _=C.headers.get("content-type");if(_&&_.includes("application/json")){const T=await C.json();return console.log(" JSON data received:",T),T}else{const T=await C.text();return console.error(" Expected JSON but got HTML/text:",T.substring(0,200)+"..."),console.warn("Response is not JSON, likely HTML error page"),null}}else{const _=await C.text();return console.error(` HTTP ${C.status}: ${_.substring(0,200)}...`),null}}catch(C){return console.error(" Fetch failed:",C),null}};return y.useEffect(()=>{(async()=>{console.log(" Loading trending shows...");const b=await N("/api/trending/tv/day?includeStreaming=true");console.log(" Trending shows data:",b),f(b)})()},[]),i.jsxs("div",{className:"min-h-screen bg-black text-white",children:[i.jsxs("div",{className:"hero-section relative overflow-hidden bg-gradient-to-br from-black via-slate-900 to-black",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('/grid.svg?v=2')] bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"}),i.jsx("div",{className:"relative container mx-auto px-4 py-12 min-h-screen flex flex-col justify-center",children:i.jsxs("div",{className:"text-center space-y-8 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col items-center space-y-4 mb-8",children:[i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"w-16 h-12 md:w-20 md:h-16 bg-gradient-to-br from-slate-700 to-slate-900 rounded-xl shadow-2xl border-2 border-slate-600 relative",children:[i.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-lg flex items-center justify-center",children:i.jsx("div",{className:"text-2xl md:text-3xl font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 8px rgba(0,0,0,0.8), 0 0 4px rgba(255,255,255,0.3)"},children:"B"})}),i.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-4 h-1.5 bg-slate-700 rounded-sm"}),i.jsx("div",{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-6 h-1.5 bg-slate-600 rounded-sm"})]})}),i.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black leading-tight",children:[i.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Binge"}),i.jsx("span",{className:"text-white font-light",children:"Board"})]})]}),i.jsxs("p",{className:"text-lg md:text-xl lg:text-2xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:["Your ",i.jsx("span",{className:"text-teal-400 font-semibold",children:"ultimate entertainment hub"})," for tracking shows, movies, and sports"]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-sm",children:[i.jsxs(ze,{className:"bg-teal-500/20 text-teal-300 border-teal-400/30 px-4 py-2",children:[i.jsx(ts,{className:"w-4 h-4 mr-2"}),"AI Recommendations"]}),i.jsxs(ze,{className:"bg-blue-500/20 text-blue-300 border-blue-400/30 px-4 py-2",children:[i.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Social Features"]}),i.jsxs(ze,{className:"bg-purple-500/20 text-purple-300 border-purple-400/30 px-4 py-2",children:[i.jsx(wn,{className:"w-4 h-4 mr-2"}),"Privacy First"]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center items-center pt-8",children:[i.jsxs(ie,{onClick:k,disabled:a,className:"group relative bg-white/5 backdrop-blur-sm hover:bg-white/10 border border-white/10 hover:border-red-400/50 text-white font-medium px-6 py-3 text-sm inline-flex items-center gap-2 transition-all duration-300 hover:scale-[1.02] rounded-lg w-full sm:w-auto",children:[i.jsx(v0,{className:"w-4 h-4 text-red-400"}),i.jsx("span",{children:a?"Signing in...":"Join with Google"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"})]}),i.jsxs(ie,{onClick:j,disabled:a,className:"group relative bg-white/5 backdrop-blur-sm hover:bg-white/10 border border-white/10 hover:border-blue-400/50 text-white font-medium px-6 py-3 text-sm inline-flex items-center gap-2 transition-all duration-300 hover:scale-[1.02] rounded-lg w-full sm:w-auto",children:[i.jsx(g0,{className:"w-4 h-4 text-blue-400"}),i.jsx("span",{children:a?"Signing in...":"Join with Facebook"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"})]}),i.jsxs("a",{href:"/signup",className:"group relative bg-white/5 backdrop-blur-sm hover:bg-white/10 border border-white/10 hover:border-teal-400/50 text-white font-medium px-6 py-3 text-sm inline-flex items-center gap-2 transition-all duration-300 hover:scale-[1.02] rounded-lg w-full sm:w-auto",children:[i.jsx(IS,{className:"w-4 h-4 text-teal-400"}),i.jsx("span",{children:"Create Account"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"})]})]}),i.jsx("div",{className:"text-center space-y-3",children:i.jsxs("div",{className:"pt-4 text-base text-gray-300",children:[i.jsx("span",{children:"Already have an account? "}),i.jsx("a",{href:"/login",className:"text-teal-400 hover:text-teal-300 underline font-semibold text-lg",children:"Sign in"})]})})]})})]}),i.jsx(w7,{}),i.jsx("div",{className:"py-24 bg-gradient-to-b from-black to-slate-900",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Everything You Need in One Place"}),i.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Powerful features designed for modern entertainment enthusiasts"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[i.jsx(Mi,{icon:kt,title:"Smart Tracking",description:"Automatically track your viewing progress across all platforms with intelligent episode detection and seamless syncing."}),i.jsx(Mi,{icon:Ir,title:"Social Discovery",description:"Connect with friends, share recommendations, and discover trending content through our vibrant community."}),i.jsx(Mi,{icon:is,title:"AI Recommendations",description:"Get personalized suggestions powered by advanced AI that learns from your viewing habits and preferences.",highlight:"AI Powered"}),i.jsx(Mi,{icon:Nn,title:"Real-time Stats",description:"Track your viewing statistics, discover patterns, and see how your taste evolves over time."}),i.jsx(Mi,{icon:Hh,title:"Multi-Platform",description:"Works seamlessly across web, mobile, and tablet with real-time synchronization of all your data."}),i.jsx(Mi,{icon:wn,title:"Privacy First",description:"Your data stays secure with end-to-end encryption and transparent privacy controls you can trust."})]})]})}),m&&i.jsx("div",{className:"py-16 bg-black",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white",children:"Trending Now"}),i.jsx(ze,{className:"bg-red-500/20 text-red-300 border-red-400/30",children:"Live Data"})]}),i.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",children:(t=m.results)==null?void 0:t.filter(b=>b&&b.vote_average!=null).slice(0,8).map(b=>{var C;return i.jsx(b7,{show:{tmdbId:b.id,title:b.name||b.title||"Unknown Title",posterPath:b.poster_path?`https://image.tmdb.org/t/p/w300${b.poster_path}`:void 0,rating:((C=b.vote_average)==null?void 0:C.toFixed(1))||"N/A",streamingPlatforms:b.streamingPlatforms},variant:"compact",onInteraction:(_,T)=>{console.log(`Landing page trending interaction: ${_} on ${T}`)}},b.id)})})]})}),i.jsx("footer",{className:"bg-slate-900 py-12 border-t border-slate-800",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[i.jsxs("div",{className:"flex flex-col items-center md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-3 mb-4 md:mb-0",children:[i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"w-12 h-10 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[i.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:i.jsx("div",{className:"text-lg font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),i.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),i.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),i.jsxs("span",{className:"text-xl select-none text-center md:text-left",children:[i.jsx("span",{className:"font-black bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Binge"}),i.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]})]}),i.jsxs("div",{className:"flex space-x-6 text-gray-400",children:[i.jsx(Et,{href:"/terms",className:"hover:text-white transition-colors",children:"Terms"}),i.jsx(Et,{href:"/privacy",className:"hover:text-white transition-colors",children:"Privacy"}),i.jsx(Et,{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})]})]}),i.jsx("div",{className:"mt-8 pt-8 border-t border-slate-800 text-center text-gray-400",children:i.jsx("p",{children:" 2024 BingeBoard. All rights reserved."})})]})})]})}async function uu(t){return(await Wt("/api/auth/firebase-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebaseToken:t})})).ok}function cN(){const t=navigator.userAgent;return/iPhone|iPad|iPod/i.test(t)&&/Safari/i.test(t)&&!/CriOS|FxiOS|EdgiOS/i.test(t)}function N7(){const[,t]=nn(),{toast:e}=jo(),{isAuthenticated:r,user:n,isLoading:a,refreshSession:l}=Fr(),[c,u]=y.useState(!0),[h,m]=y.useState(!1),[f,g]=y.useState(!1),[x,k]=y.useState(!1),[j,N]=y.useState(!1),[b,C]=y.useState({email:"",password:"",firstName:"",lastName:""});y.useEffect(()=>{r&&n&&!a&&(console.log(" User already authenticated, redirecting to dashboard:",n.email),t("/"))},[r,n,a,t]),y.useEffect(()=>{},[]);const _=async E=>{if(E.preventDefault(),!h){if(!b.email.includes("@")||b.password.length<6){e({title:"Invalid input",description:"Please provide a valid email and password (min 6 characters).",variant:"destructive"});return}m(!0);try{if(c){console.log(" Firebase email/password login attempt for:",b.email.trim());const R=(await Yv(Be,b.email.trim(),b.password.trim())).user;console.log(" Firebase email/password login successful:",R.email);const z=await R.getIdToken();await uu(z)?(console.log(" Backend session created successfully"),j?(localStorage.setItem("rememberLogin","true"),localStorage.setItem("userEmail",b.email)):(localStorage.removeItem("rememberLogin"),localStorage.removeItem("userEmail")),await l(),t("/")):(console.error(" Failed to create backend session"),await Be.signOut(),e({title:"Login failed",description:"Failed to complete authentication. Please try again.",variant:"destructive"}))}else{console.log(" Firebase email/password registration attempt for:",b.email.trim());const R=(await Xv(Be,b.email.trim(),b.password.trim())).user;console.log(" Firebase email/password registration successful:",R.email);const z=await R.getIdToken();(await Wt("/api/auth/firebase-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebaseToken:z,user:{firstName:b.firstName.trim(),lastName:b.lastName.trim(),email:b.email.trim()}})})).ok?(console.log(" Backend session created successfully"),await l(),t("/")):(console.error(" Failed to create backend session"),await Be.signOut(),e({title:"Registration failed",description:"Failed to complete registration. Please try again.",variant:"destructive"}))}}catch(R){console.error("Authentication error:",R);let z="Authentication failed. Please try again.",G="Error";if(R.code)switch(R.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":G="Login Failed",z="Invalid email or password. Please check your credentials and try again.";break;case"auth/email-already-in-use":G="Account Exists",z="An account with this email already exists. Try logging in instead.";break;case"auth/weak-password":G="Weak Password",z="Password should be at least 6 characters long.";break;case"auth/invalid-email":G="Invalid Email",z="Please enter a valid email address.";break;case"auth/network-request-failed":G="Network Error",z="Unable to connect. Please check your internet connection and try again.";break;case"auth/too-many-requests":G="Too Many Attempts",z="Too many failed attempts. Please try again later.";break;default:G="Authentication Error",z=R.message||"Failed to authenticate. Please try again."}else G="Network Error",z="Unable to connect to server. Please check your connection and try again.";e({title:G,description:z,variant:"destructive"})}finally{m(!1)}}},T=async()=>{if(!b.email){e({title:"Email required",description:"Please enter your email address first.",variant:"destructive"});return}m(!0);try{const E=await Wt("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b.email})}),R=await E.json();E.ok?(e({title:"Password reset email sent",description:"Check your email for password reset instructions."}),k(!1)):e({title:"Error",description:R.message||"Failed to send password reset email",variant:"destructive"})}catch{e({title:"Error",description:"Network error. Please try again.",variant:"destructive"})}finally{m(!1)}};y.useEffect(()=>{(async()=>{try{console.log(" Checking for OAuth redirect result on login page...");const E=await Y2(Be);if(E&&E.user){console.log(" OAuth redirect result found:",E.user.email),m(!0);const R=await E.user.getIdToken();await uu(R)?(console.log(" Backend session created successfully"),await l(),t("/")):(console.error(" Failed to create backend session"),await Be.signOut(),e({title:"Login failed",description:"Failed to complete authentication. Please try again.",variant:"destructive"}),m(!1))}else console.log(" No OAuth redirect result found")}catch(E){console.error(" OAuth redirect error:",E),E.message.includes("popup-closed-by-user")||e({title:"Authentication error",description:E.message||"Failed to complete authentication",variant:"destructive"}),m(!1)}})()},[e]);const P=E=>{C({...b,[E.target.name]:E.target.value})},A=E=>{N(E),E||(localStorage.removeItem("rememberLogin"),localStorage.removeItem("userEmail"),console.log(" Cleared remembered credentials"))},L=async()=>{try{if(console.log(" Starting Google authentication..."),m(!0),cN()){console.log(" Mobile Safari detected, using redirect flow"),await Ig(Be,oo);return}console.log(" Using popup flow for Google auth"),m(!0);const E=await ac(Be,oo);if(E.user){console.log(" Google popup authentication successful:",E.user.email);const R=await E.user.getIdToken();await uu(R)?(console.log(" Backend session created successfully"),j&&E.user.email&&(localStorage.setItem("rememberLogin","true"),localStorage.setItem("userEmail",E.user.email)),await l(),t("/")):(console.error(" Failed to create backend session"),await Be.signOut(),e({title:"Login failed",description:"Failed to complete authentication. Please try again.",variant:"destructive"}))}}catch(E){console.error(" Google authentication error:",E),E.code==="auth/popup-closed-by-user"?e({title:"Authentication cancelled",description:"Google login was cancelled",variant:"default"}):E.code==="auth/popup-blocked"?e({title:"Popup blocked",description:"Please allow popups for this site and try again",variant:"destructive"}):e({title:"Authentication Error",description:E.message||"Failed to authenticate with Google",variant:"destructive"})}finally{m(!1)}},I=async()=>{try{if(console.log(" Starting Facebook authentication..."),m(!0),cN()){console.log(" Mobile Safari detected, using redirect flow"),await Ig(Be,ic);return}console.log(" Using popup flow for Facebook auth"),m(!0);const E=await ac(Be,ic);if(E.user){console.log(" Facebook popup authentication successful:",E.user.email);const R=await E.user.getIdToken();await uu(R)?(console.log(" Backend session created successfully"),j&&E.user.email&&(localStorage.setItem("rememberLogin","true"),localStorage.setItem("userEmail",E.user.email)),await l(),t("/")):(console.error(" Failed to create backend session"),await Be.signOut(),e({title:"Login failed",description:"Failed to complete authentication. Please try again.",variant:"destructive"}))}}catch(E){console.error(" Facebook authentication error:",E),E.code==="auth/popup-closed-by-user"?e({title:"Authentication cancelled",description:"Facebook login was cancelled",variant:"default"}):E.code==="auth/popup-blocked"?e({title:"Popup blocked",description:"Please allow popups for this site and try again",variant:"destructive"}):e({title:"Authentication Error",description:E.message||"Failed to authenticate with Facebook",variant:"destructive"})}finally{m(!1)}};return i.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:i.jsx(Qe,{className:"w-full max-w-md glass-effect border-slate-700/50",children:i.jsxs(Xe,{className:"pt-8",children:[i.jsx("div",{className:"flex items-center justify-center mb-8",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"w-12 h-10 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[i.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:i.jsx("div",{className:"text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),i.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),i.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),i.jsxs("div",{className:"block",children:[i.jsxs("span",{className:"text-xl sm:text-2xl select-none",children:[i.jsx("span",{className:"font-black bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Binge"}),i.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]}),i.jsx("div",{className:"text-xs text-teal-400 font-medium tracking-widest uppercase opacity-75 hidden sm:block",children:"Entertainment Hub"})]})]})}),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&i.jsx("div",{className:"mb-6 p-3 bg-amber-900/20 border border-amber-500/30 rounded-lg",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full flex-shrink-0"}),i.jsx("p",{className:"text-amber-200 text-xs",children:"Mobile authentication optimized for better compatibility."})]})}),x?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("p",{className:"text-gray-400 text-sm",children:"Reset your password"}),i.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"Enter your email address and we'll send you a password reset link."})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Xu,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Zt,{type:"email",name:"email",placeholder:"Email address",value:b.email,onChange:P,className:"bg-gray-800/50 border-slate-600/50 text-white pl-10 focus:border-teal-500/50 focus:ring-teal-500/20",required:!0})]}),i.jsx(ie,{onClick:T,disabled:h,className:"w-full bg-gradient-to-r from-teal-600 to-blue-600 hover:from-teal-700 hover:to-blue-700 text-white font-semibold",children:h?"Sending...":"Send Reset Link"}),i.jsx(ie,{variant:"link",onClick:()=>k(!1),className:"w-full text-teal-400 hover:text-teal-300",children:"Back to Login"})]}):i.jsxs("div",{children:[i.jsx("div",{className:"text-center mb-6",children:i.jsx("p",{className:"text-gray-400 text-sm",children:c?"Welcome back to your entertainment hub":"Join the ultimate entertainment hub"})}),i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Xu,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Zt,{type:"email",name:"email",placeholder:"Email address",value:b.email,onChange:P,className:"bg-gray-800/50 border-slate-600/50 text-white pl-10 focus:border-teal-500/50 focus:ring-teal-500/20",required:!0})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ro,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Zt,{type:f?"text":"password",name:"password",placeholder:"Password",value:b.password,onChange:P,className:"bg-gray-800/50 border-slate-600/50 text-white pl-10 pr-10 focus:border-teal-500/50 focus:ring-teal-500/20",required:!0}),i.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-300","aria-label":f?"Hide password":"Show password",children:f?i.jsx(Zu,{className:"h-4 w-4"}):i.jsx(Or,{className:"h-4 w-4"})})]}),!c&&i.jsx("div",{className:"relative",children:i.jsx(Zt,{type:"text",name:"firstName",placeholder:"First Name",value:b.firstName,onChange:P,className:"bg-gray-800/50 border-slate-600/50 text-white focus:border-teal-500/50 focus:ring-teal-500/20",required:!0})}),!c&&i.jsx("div",{className:"relative",children:i.jsx(Zt,{type:"text",name:"lastName",placeholder:"Last Name",value:b.lastName,onChange:P,className:"bg-gray-800/50 border-slate-600/50 text-white focus:border-teal-500/50 focus:ring-teal-500/20",required:!0})}),c&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"remember",checked:j,onChange:E=>A(E.target.checked),className:"h-4 w-4 rounded border-slate-600/50 bg-gray-800/50 text-teal-600 focus:ring-teal-500/20"}),i.jsx("label",{htmlFor:"remember",className:"text-sm text-gray-300 cursor-pointer",children:"Remember me"})]}),i.jsx(ie,{type:"button",variant:"link",onClick:()=>k(!0),className:"text-teal-400 hover:text-teal-300 p-0 h-auto",children:"Forgot password?"})]}),i.jsx(ie,{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-teal-600 to-blue-600 hover:from-teal-700 hover:to-blue-700 text-white font-semibold",children:h?"Please wait...":c?"Log In":"Create Account"}),i.jsx(ie,{type:"button",onClick:()=>{console.log(" Demo login activated"),window.location.href="/dashboard?demo=true"},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold",children:" Demo Login (Skip Firebase)"}),i.jsx("div",{className:"text-center",children:i.jsx(ie,{type:"button",variant:"link",onClick:()=>u(!c),className:"text-teal-400 hover:text-teal-300",children:c?"Need an account? Sign up":"Already have an account? Log in"})}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t border-slate-600/50"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-black px-2 text-gray-400",children:"Or continue with"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(ie,{type:"button",variant:"outline",onClick:L,disabled:h,className:"bg-gray-800/50 border-slate-600/50 text-white hover:bg-gray-700/50",children:[i.jsx(v0,{className:"h-4 w-4 mr-2"}),"Google"]}),i.jsxs(ie,{type:"button",variant:"outline",onClick:I,disabled:h,className:"bg-gray-800/50 border-slate-600/50 text-white hover:bg-gray-700/50",children:[i.jsx(g0,{className:"h-4 w-4 mr-2"}),"Facebook"]})]})]})]})]})})})}const k0=new Xr,wT=new Qr;k0.addScope("email");k0.addScope("profile");wT.addScope("email");const j0=t=>({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL}),k7=async()=>{try{console.log("Starting Google sign-in...");const t=(await ac(Be,k0)).user;return console.log("Google sign-in successful:",t.email),j0(t)}catch(t){throw console.error("Google sign-in error:",t),t.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled"):t.code==="auth/popup-blocked"?new Error("Pop-up was blocked by browser. Please allow pop-ups for this site."):t.code==="auth/cancelled-popup-request"?new Error("Sign-in was cancelled"):new Error(t.message||"Google sign-in failed")}},j7=async()=>{try{console.log("Starting Facebook sign-in...");const t=(await ac(Be,wT)).user;return console.log("Facebook sign-in successful:",t.email),j0(t)}catch(t){throw console.error("Facebook sign-in error:",t),t.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled"):t.code==="auth/popup-blocked"?new Error("Pop-up was blocked by browser. Please allow pop-ups for this site."):t.code==="auth/account-exists-with-different-credential"?new Error("An account already exists with the same email address but different sign-in credentials."):new Error(t.message||"Facebook sign-in failed")}},S7=async(t,e,r)=>{try{if(console.log(" Starting email sign-up for:",t),console.log(" Password length:",e.length),console.log(" Display name:",r),!t||!e)throw new Error("Email and password are required");if(!t.includes("@"))throw new Error("Please enter a valid email address");if(e.length<6)throw new Error("Password must be at least 6 characters");const n=await Xv(Be,t,e);return console.log(" Email sign-up successful:",n.user.email),j0(n.user)}catch(n){if(console.error(" Email sign-up error:",n),console.error(" Error code:",n.code),console.error(" Error message:",n.message),n.code==="auth/email-already-in-use"){try{const a=await Jv(Be,t);if(a.length>0){const l=a.map(c=>c.includes("google")?"Google":c.includes("facebook")?"Facebook":c==="password"?"Email/Password":c).join(", ");throw new Error(`This email is already registered with ${l}. Please use that sign-in method instead.`)}}catch(a){console.warn("Could not check existing sign-in methods:",a)}throw new Error("An account already exists with this email address. Please sign in instead.")}else{if(n.code==="auth/invalid-email")throw new Error("Invalid email address");if(n.code==="auth/operation-not-allowed")throw new Error("Email/password accounts are not enabled for this project");if(n.code==="auth/weak-password")throw new Error("Password should be at least 6 characters")}throw new Error(n.message||"Sign-up failed")}},C7=`
To enable proper Firebase token verification in production:

1. Install Firebase Admin SDK:
   npm install firebase-admin

2. Set environment variables:
   FIREBASE_PROJECT_ID=your-project-id
   FIREBASE_CLIENT_EMAIL=your-service-account-email
   FIREBASE_PRIVATE_KEY=your-private-key

3. Uncomment the Firebase Admin code in getAuthUser function

4. Use requireAuth middleware on protected routes:
   app.get('/api/protected', requireAuth, (req, res) => {
     // req.user will contain the authenticated user
   });

5. Use authenticatedFetch on the client:
   const response = await authenticatedFetch('/api/protected');
`;console.log(" Auth module loaded. For production Firebase setup:");console.log(C7);function E7(){const[,t]=nn(),[e,r]=y.useState(1),[n,a]=y.useState(!1),[l,c]=y.useState(!1),[u,h]=y.useState(null),[m,f]=y.useState(null),[g,x]=y.useState({email:"",password:"",firstName:"",lastName:"",favoriteGenres:[],watchingGoals:"",experience:""}),[k,j]=y.useState(!1),N=I=>{h(I),f(null),setTimeout(()=>h(null),6e3)},b=I=>{f(I),h(null),console.log("",I)},C=async()=>{c(!0),h(null),j(!0);try{console.log(" Starting Google signup...");const I=await k7();b(`Welcome ${I.displayName||I.email}! `),setTimeout(()=>{console.log(" Moving to onboarding after Google signup..."),r(2),j(!1)},1e3)}catch(I){console.error(" Google signup error:",I),N(I.message),j(!1)}finally{c(!1)}},_=async()=>{c(!0),h(null),j(!0);try{console.log(" Starting Facebook signup...");const I=await j7();b(`Welcome ${I.displayName||I.email}! `),setTimeout(()=>{console.log(" Moving to onboarding after Facebook signup..."),r(2),j(!1)},1e3)}catch(I){console.error(" Facebook signup error:",I),N(I.message),j(!1)}finally{c(!1)}},T=async I=>{I.preventDefault(),c(!0),h(null),j(!0);try{console.log(" Starting email signup process...");const E=`${g.firstName} ${g.lastName}`.trim(),R=await S7(g.email,g.password,E||void 0);console.log(" Signup successful, showing onboarding..."),b(`Account created for ${R.email}! Welcome to BingeBoard! `),setTimeout(()=>{console.log(" Moving to onboarding step..."),r(2),j(!1)},1e3)}catch(E){if(console.error(" Signup error:",E),j(!1),E.message.includes("already registered")||E.message.includes("already exists"))try{const R=await Jv(Be,g.email);if(R.length>0){const z=R.some(W=>W.includes("google")),G=R.some(W=>W.includes("facebook"));if(z||G){const W=[];z&&W.push("Google"),G&&W.push("Facebook"),N(`This email is already registered with ${W.join(" and ")}. Please use the "${W[0]} Sign-in" button above instead.`)}else N("This email is already registered. Please use the login page instead.")}else N(E.message)}catch{N(E.message)}else N(E.message)}finally{c(!1)}},P=async I=>{I.preventDefault(),c(!0);try{await zg.initialize();const E=await zg.updatePreferences({favoriteGenres:g.favoriteGenres,watchingGoals:g.watchingGoals,experience:g.experience});try{(await fetch("/api/user/preferences/sync-onboarding",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({onboardingData:{favoriteGenres:g.favoriteGenres,watchingGoals:[g.watchingGoals],experience:g.experience,streamingPlatforms:[],contentTypes:["Movies","TV Series"],viewingHabits:{preferredTime:"evening",bingeDuration:"2-3 hours",weeklyGoal:"5-10 hours"},theme:"dark"}})})).ok&&console.log(" Onboarding data synced to server successfully")}catch(R){console.warn(" Failed to sync onboarding data to server:",R)}E?(console.log(" Saved onboarding data to user profile"),b("Profile setup complete! Welcome to BingeBoard! "),setTimeout(()=>{console.log(" Navigating to dashboard..."),t("/")},1500)):(console.warn(" Failed to save preferences, but continuing to dashboard"),b("Welcome to BingeBoard! "),setTimeout(()=>t("/"),1500))}catch(E){console.error(" Error saving onboarding data:",E),b("Welcome to BingeBoard! "),setTimeout(()=>t("/"),1500)}finally{c(!1)}},A=["Action","Adventure","Comedy","Drama","Horror","Sci-Fi","Fantasy","Romance","Thriller","Documentary","Animation","Crime"],L=I=>{x(E=>({...E,favoriteGenres:E.favoriteGenres.includes(I)?E.favoriteGenres.filter(R=>R!==I):[...E.favoriteGenres,I]}))};return e===2?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute top-4 left-4",children:i.jsx(Et,{href:"/",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-6 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:i.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-sm flex items-center justify-center",children:i.jsx("div",{className:"text-xs font-black text-white",children:"B"})})}),i.jsxs("span",{className:"text-lg font-bold text-white",children:[i.jsx("span",{className:"font-black",children:"Binge"}),i.jsx("span",{className:"bg-gradient-to-r from-teal-400 to-cyan-400 bg-clip-text text-transparent font-light",children:"Board"})]})]})})}),i.jsxs(Qe,{className:"w-full max-w-2xl glass-effect border-slate-700/50",children:[i.jsxs(Ct,{className:"text-center",children:[i.jsx(It,{className:"text-3xl font-bold text-white mb-2",children:"Welcome to BingeBoard! "}),i.jsx("p",{className:"text-gray-400",children:"Let's personalize your experience"})]}),i.jsx(Xe,{children:i.jsxs("form",{onSubmit:P,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"What genres do you love? (Select all that apply)"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:A.map(I=>i.jsx(ie,{type:"button",variant:g.favoriteGenres.includes(I)?"default":"outline",className:`text-sm ${g.favoriteGenres.includes(I)?"bg-gradient-to-r from-teal-600 to-blue-600 text-white":"border-slate-700 text-gray-300 hover:text-white"}`,onClick:()=>L(I),children:I},I))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"What's your main goal?"}),i.jsx("div",{className:"space-y-2",children:["Discover new shows and movies","Keep track of what I'm watching","Get recommendations from friends","Organize my watchlist","Just for fun!"].map(I=>i.jsxs(ie,{type:"button",variant:g.watchingGoals===I?"default":"outline",className:`w-full justify-start text-left ${g.watchingGoals===I?"bg-gradient-to-r from-teal-600 to-blue-600 text-white":"border-slate-700 text-gray-300 hover:text-white"}`,onClick:()=>x(E=>({...E,watchingGoals:I})),children:[g.watchingGoals===I&&i.jsx(Gu,{className:"h-4 w-4 mr-2"}),I]},I))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"How would you describe yourself?"}),i.jsx("div",{className:"space-y-2",children:["Casual viewer - I watch occasionally","Regular watcher - I always have something on","Binge expert - I finish series in one sitting","Completionist - I track everything I watch"].map(I=>i.jsxs(ie,{type:"button",variant:g.experience===I?"default":"outline",className:`w-full justify-start text-left ${g.experience===I?"bg-gradient-to-r from-teal-600 to-blue-600 text-white":"border-slate-700 text-gray-300 hover:text-white"}`,onClick:()=>x(E=>({...E,experience:I})),children:[g.experience===I&&i.jsx(Gu,{className:"h-4 w-4 mr-2"}),I]},I))})]}),i.jsx(ie,{type:"submit",className:"w-full bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 hover:from-teal-700 hover:via-cyan-700 hover:to-blue-700",size:"lg",children:"Complete Setup & Start Exploring"})]})})]})]}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute top-4 left-4",children:i.jsx(Et,{href:"/",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-6 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:i.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-sm flex items-center justify-center",children:i.jsx("div",{className:"text-xs font-black text-white",children:"B"})})}),i.jsxs("span",{className:"text-lg font-bold text-white",children:[i.jsx("span",{className:"font-black",children:"Binge"}),i.jsx("span",{className:"bg-gradient-to-r from-teal-400 to-cyan-400 bg-clip-text text-transparent font-light",children:"Board"})]})]})})}),i.jsxs(Qe,{className:"w-full max-w-md glass-effect border-slate-700/50",children:[i.jsxs(Ct,{className:"text-center",children:[i.jsx(It,{className:"text-2xl font-bold text-white",children:"Join BingeBoard"}),i.jsx("p",{className:"text-gray-400",children:"Start tracking your entertainment journey"})]}),i.jsxs(Xe,{className:"space-y-6",children:[u&&i.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-300 text-sm backdrop-blur-sm animate-slide-down",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"}),i.jsx("span",{className:"font-medium",children:u})]})}),m&&i.jsx("div",{className:"p-4 rounded-xl bg-green-500/10 border border-green-500/20 text-green-300 text-sm backdrop-blur-sm animate-slide-down",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ts,{className:"h-4 w-4 text-green-400 animate-pulse"}),i.jsx("span",{className:"font-medium",children:m})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ie,{variant:"outline",className:"w-full border-slate-700 bg-white/5 hover:bg-white/10 text-white transition-all duration-200 hover:scale-105 hover:shadow-lg group",onClick:C,disabled:l,children:[l?i.jsx(Eu,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(v0,{className:"h-4 w-4 mr-2 group-hover:scale-110 transition-transform"}),"Sign up with Google"]}),i.jsxs(ie,{variant:"outline",className:"w-full border-slate-700 bg-blue-600/10 hover:bg-blue-600/20 text-white transition-all duration-200 hover:scale-105 hover:shadow-lg group",onClick:_,disabled:l,children:[l?i.jsx(Eu,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(g0,{className:"h-4 w-4 mr-2 group-hover:scale-110 transition-transform"}),"Sign up with Facebook"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t border-slate-700"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-slate-950 px-2 text-slate-400",children:"Or"})})]}),i.jsxs("form",{onSubmit:T,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Kh,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Zt,{type:"text",placeholder:"First name",value:g.firstName,onChange:I=>x({...g,firstName:I.target.value}),className:"pl-10 bg-slate-800/50 border-slate-700 text-white placeholder:text-gray-400",required:!0})]}),i.jsx("div",{children:i.jsx(Zt,{type:"text",placeholder:"Last name",value:g.lastName,onChange:I=>x({...g,lastName:I.target.value}),className:"bg-slate-800/50 border-slate-700 text-white placeholder:text-gray-400",required:!0})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Xu,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Zt,{type:"email",placeholder:"Email address",value:g.email,onChange:I=>x({...g,email:I.target.value}),className:"pl-10 bg-slate-800/50 border-slate-700 text-white placeholder:text-gray-400",required:!0})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ro,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Zt,{type:n?"text":"password",placeholder:"Password (min 6 characters)",value:g.password,onChange:I=>x({...g,password:I.target.value}),className:"pl-10 pr-10 bg-slate-800/50 border-slate-700 text-white placeholder:text-gray-400",required:!0,minLength:6}),i.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:n?i.jsx(Zu,{className:"h-4 w-4"}):i.jsx(Or,{className:"h-4 w-4"})})]}),i.jsx(ie,{type:"submit",className:"w-full bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 hover:from-teal-700 hover:via-cyan-700 hover:to-blue-700",disabled:l,children:l?i.jsxs(i.Fragment,{children:[i.jsx(Eu,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Account..."]}):"Create Account"})]}),i.jsx("div",{className:"text-center",children:i.jsx(Et,{href:"/login",children:i.jsx("button",{className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Already have an account? Sign in"})})}),i.jsx("div",{className:"text-center",children:i.jsx(Et,{href:"/",children:i.jsx("button",{className:"text-sm text-teal-400 hover:text-teal-300 transition-colors",children:" Back to Home"})})})]})]})]})}function T7(){const[,t]=nn(),[e,r]=y.useState(""),[n,a]=y.useState(""),[l,c]=y.useState(!1),[u,h]=y.useState(!1),[m,f]=y.useState(""),[g,x]=y.useState(!1),[k,j]=y.useState("");y.useEffect(()=>{const b=new URLSearchParams(window.location.search).get("token");b?f(b):j("Invalid or missing reset token")},[]);const N=async b=>{if(b.preventDefault(),x(!0),j(""),e!==n){j("Passwords do not match"),x(!1);return}if(e.length<6){j("Password must be at least 6 characters long"),x(!1);return}try{const C=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:m,password:e})}),_=await C.json();C.ok?(j("Password reset successful! Redirecting to login..."),setTimeout(()=>{t("/login")},2e3)):j(_.message||"Password reset failed")}catch{j("Network error. Please try again.")}finally{x(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[hsl(228,25%,3%)] via-[hsl(226,22%,6%)] to-[hsl(224,20%,8%)] flex items-center justify-center p-4",children:i.jsxs(Qe,{className:"w-full max-w-md bg-gray-900/50 border-gray-700 backdrop-blur-sm",children:[i.jsxs(Ct,{className:"space-y-1 pb-4 text-center",children:[i.jsxs(It,{className:"text-2xl text-white flex items-center justify-center",children:[i.jsx(wn,{className:"w-6 h-6 mr-2 text-teal-400"}),"Reset Password"]}),i.jsx(TE,{className:"text-gray-400",children:"Enter your new password below"})]}),i.jsxs(Xe,{className:"space-y-6",children:[m?i.jsxs("form",{onSubmit:N,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-300",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(ro,{className:"h-5 w-5 text-gray-400"})}),i.jsx(Zt,{type:l?"text":"password",placeholder:"Enter new password",value:e,onChange:b=>r(b.target.value),className:"pl-10 pr-10 bg-gray-800/50 border-gray-600 text-white placeholder-gray-400 focus:border-teal-400 focus:ring-teal-400",required:!0}),i.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?i.jsx(Zu,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):i.jsx(Or,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Confirm Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(ro,{className:"h-5 w-5 text-gray-400"})}),i.jsx(Zt,{type:u?"text":"password",placeholder:"Confirm new password",value:n,onChange:b=>a(b.target.value),className:"pl-10 pr-10 bg-gray-800/50 border-gray-600 text-white placeholder-gray-400 focus:border-teal-400 focus:ring-teal-400",required:!0}),i.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?i.jsx(Zu,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):i.jsx(Or,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]})]}),i.jsx(ie,{type:"submit",disabled:g,className:"w-full bg-teal-600 hover:bg-teal-700",children:g?"Resetting...":"Reset Password"})]}):i.jsxs("div",{className:"text-center text-gray-400",children:[i.jsx("p",{children:"Invalid or missing reset token. Please request a new password reset."}),i.jsx(ie,{variant:"outline",onClick:()=>t("/login"),className:"mt-4",children:"Back to Login"})]}),k&&i.jsx("div",{className:`text-center text-sm ${k.includes("successful")?"text-green-400":"text-red-400"}`,children:k})]})]})})}const S0=y.createContext({});function C0(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const dp=y.createContext(null),E0=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class _7 extends y.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function P7({children:t,isPresent:e}){const r=y.useId(),n=y.useRef(null),a=y.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=y.useContext(E0);return y.useInsertionEffect(()=>{const{width:c,height:u,top:h,left:m}=a.current;if(e||!n.current||!c||!u)return;n.current.dataset.motionPopId=r;const f=document.createElement("style");return l&&(f.nonce=l),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            top: ${h}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),i.jsx(_7,{isPresent:e,childRef:n,sizeRef:a,children:y.cloneElement(t,{ref:n})})}const R7=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:l,mode:c})=>{const u=C0(A7),h=y.useId(),m=y.useCallback(g=>{u.set(g,!0);for(const x of u.values())if(!x)return;n&&n()},[u,n]),f=y.useMemo(()=>({id:h,initial:e,isPresent:r,custom:a,onExitComplete:m,register:g=>(u.set(g,!1),()=>u.delete(g))}),l?[Math.random(),m]:[r,m]);return y.useMemo(()=>{u.forEach((g,x)=>u.set(x,!1))},[r]),y.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),c==="popLayout"&&(t=i.jsx(P7,{isPresent:r,children:t})),i.jsx(dp.Provider,{value:f,children:t})};function A7(){return new Map}function NT(t=!0){const e=y.useContext(dp);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,l=y.useId();y.useEffect(()=>{t&&a(l)},[t]);const c=y.useCallback(()=>t&&n&&n(l),[l,n,t]);return!r&&n?[!1,c]:[!0]}const hu=t=>t.key||"";function dN(t){const e=[];return y.Children.forEach(t,r=>{y.isValidElement(r)&&e.push(r)}),e}const T0=typeof window<"u",kT=T0?y.useLayoutEffect:y.useEffect,lo=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1})=>{const[u,h]=NT(c),m=y.useMemo(()=>dN(t),[t]),f=c&&!u?[]:m.map(hu),g=y.useRef(!0),x=y.useRef(m),k=C0(()=>new Map),[j,N]=y.useState(m),[b,C]=y.useState(m);kT(()=>{g.current=!1,x.current=m;for(let P=0;P<b.length;P++){const A=hu(b[P]);f.includes(A)?k.delete(A):k.get(A)!==!0&&k.set(A,!1)}},[b,f.length,f.join("-")]);const _=[];if(m!==j){let P=[...m];for(let A=0;A<b.length;A++){const L=b[A],I=hu(L);f.includes(I)||(P.splice(A,0,L),_.push(L))}l==="wait"&&_.length&&(P=_),C(dN(P)),N(m);return}const{forceRender:T}=y.useContext(S0);return i.jsx(i.Fragment,{children:b.map(P=>{const A=hu(P),L=c&&!u?!1:m===b||f.includes(A),I=()=>{if(k.has(A))k.set(A,!0);else return;let E=!0;k.forEach(R=>{R||(E=!1)}),E&&(T==null||T(),C(x.current),c&&(h==null||h()),n&&n())};return i.jsx(R7,{isPresent:L,initial:!g.current||r?void 0:!1,custom:L?void 0:e,presenceAffectsLayout:a,mode:l,onExitComplete:L?void 0:I,children:P},A)})})},xr=t=>t;let jT=xr;function _0(t){let e;return()=>(e===void 0&&(e=t()),e)}const co=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},rs=t=>t*1e3,ns=t=>t/1e3,I7={useManualTiming:!1};function O7(t){let e=new Set,r=new Set,n=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(m){l.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,f=!1,g=!1)=>{const x=g&&n?e:r;return f&&l.add(m),x.has(m)||x.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,n){a=!0;return}n=!0,[e,r]=[r,e],e.forEach(u),e.clear(),n=!1,a&&(a=!1,h.process(m))}};return h}const pu=["read","resolveKeyframes","update","preRender","render","postRender"],D7=40;function ST(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=pu.reduce((N,b)=>(N[b]=O7(l),N),{}),{read:u,resolveKeyframes:h,update:m,preRender:f,render:g,postRender:x}=c,k=()=>{const N=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(N-a.timestamp,D7),1),a.timestamp=N,a.isProcessing=!0,u.process(a),h.process(a),m.process(a),f.process(a),g.process(a),x.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(k))},j=()=>{r=!0,n=!0,a.isProcessing||t(k)};return{schedule:pu.reduce((N,b)=>{const C=c[b];return N[b]=(_,T=!1,P=!1)=>(r||j(),C.schedule(_,T,P)),N},{}),cancel:N=>{for(let b=0;b<pu.length;b++)c[pu[b]].cancel(N)},state:a,steps:c}}const{schedule:st,cancel:Js,state:Lt,steps:$f}=ST(typeof requestAnimationFrame<"u"?requestAnimationFrame:xr,!0),CT=y.createContext({strict:!1}),uN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},uo={};for(const t in uN)uo[t]={isEnabled:e=>uN[t].some(r=>!!e[r])};function L7(t){for(const e in t)uo[e]={...uo[e],...t[e]}}const M7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||M7.has(t)}let ET=t=>!mh(t);function F7(t){t&&(ET=e=>e.startsWith("on")?!mh(e):t(e))}try{F7(require("@emotion/is-prop-valid").default)}catch{}function z7(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(ET(a)||r===!0&&mh(a)||!e&&!mh(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}function U7(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const up=y.createContext({});function dc(t){return typeof t=="string"||Array.isArray(t)}function hp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const P0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],R0=["initial",...P0];function pp(t){return hp(t.animate)||R0.some(e=>dc(t[e]))}function TT(t){return!!(pp(t)||t.variants)}function $7(t,e){if(pp(t)){const{initial:r,animate:n}=t;return{initial:r===!1||dc(r)?r:void 0,animate:dc(n)?n:void 0}}return t.inherit!==!1?e:{}}function V7(t){const{initial:e,animate:r}=$7(t,y.useContext(up));return y.useMemo(()=>({initial:e,animate:r}),[hN(e),hN(r)])}function hN(t){return Array.isArray(t)?t.join(" "):t}const W7=Symbol.for("motionComponentSymbol");function Ui(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function B7(t,e,r){return y.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Ui(r)&&(r.current=n))},[e])}const A0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),H7="framerAppearId",_T="data-"+A0(H7),{schedule:I0}=ST(queueMicrotask,!1),PT=y.createContext({});function q7(t,e,r,n,a){var l,c;const{visualElement:u}=y.useContext(up),h=y.useContext(CT),m=y.useContext(dp),f=y.useContext(E0).reducedMotion,g=y.useRef(null);n=n||h.renderer,!g.current&&n&&(g.current=n(t,{visualState:e,parent:u,props:r,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:f}));const x=g.current,k=y.useContext(PT);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&K7(g.current,r,a,k);const j=y.useRef(!1);y.useInsertionEffect(()=>{x&&j.current&&x.update(r,m)});const N=r[_T],b=y.useRef(!!N&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,N))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,N)));return kT(()=>{x&&(j.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),I0.render(x.render),b.current&&x.animationState&&x.animationState.animateChanges())}),y.useEffect(()=>{x&&(!b.current&&x.animationState&&x.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,N)}),b.current=!1))}),x}function K7(t,e,r,n){const{layoutId:a,layout:l,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:m}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:RT(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||u&&Ui(u),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,layoutScroll:h,layoutRoot:m})}function RT(t){if(t)return t.options.allowProjection!==!1?t.projection:RT(t.parent)}function G7({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:a}){var l,c;t&&L7(t);function u(m,f){let g;const x={...y.useContext(E0),...m,layoutId:Z7(m)},{isStatic:k}=x,j=V7(m),N=n(m,k);if(!k&&T0){Q7();const b=X7(x);g=b.MeasureLayout,j.visualElement=q7(a,N,x,e,b.ProjectionNode)}return i.jsxs(up.Provider,{value:j,children:[g&&j.visualElement?i.jsx(g,{visualElement:j.visualElement,...x}):null,r(a,m,B7(N,j.visualElement,f),N,k,j.visualElement)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${(c=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&c!==void 0?c:""})`}`;const h=y.forwardRef(u);return h[W7]=a,h}function Z7({layoutId:t}){const e=y.useContext(S0).id;return e&&t!==void 0?e+"-"+t:t}function Q7(t,e){y.useContext(CT).strict}function X7(t){const{drag:e,layout:r}=uo;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Y7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function O0(t){return typeof t!="string"||t.includes("-")?!1:!!(Y7.indexOf(t)>-1||/[A-Z]/u.test(t))}function pN(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function D0(t,e,r,n){if(typeof e=="function"){const[a,l]=pN(n);e=e(r!==void 0?r:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=pN(n);e=e(r!==void 0?r:t.custom,a,l)}return e}const Bg=t=>Array.isArray(t),J7=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),e9=t=>Bg(t)?t[t.length-1]||0:t,Vt=t=>!!(t&&t.getVelocity);function Ou(t){const e=Vt(t)?t.get():t;return J7(e)?e.toValue():e}function t9({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},n,a,l){const c={latestValues:r9(n,a,l,t),renderState:e()};return r&&(c.onMount=u=>r({props:n,current:u,...c}),c.onUpdate=u=>r(u)),c}const AT=t=>(e,r)=>{const n=y.useContext(up),a=y.useContext(dp),l=()=>t9(t,e,n,a);return r?l():C0(l)};function r9(t,e,r,n){const a={},l=n(t,{});for(const x in l)a[x]=Ou(l[x]);let{initial:c,animate:u}=t;const h=pp(t),m=TT(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let f=r?r.initial===!1:!1;f=f||c===!1;const g=f?u:c;if(g&&typeof g!="boolean"&&!hp(g)){const x=Array.isArray(g)?g:[g];for(let k=0;k<x.length;k++){const j=D0(t,x[k]);if(j){const{transitionEnd:N,transition:b,...C}=j;for(const _ in C){let T=C[_];if(Array.isArray(T)){const P=f?T.length-1:0;T=T[P]}T!==null&&(a[_]=T)}for(const _ in N)a[_]=N[_]}}}return a}const Co=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xa=new Set(Co),IT=t=>e=>typeof e=="string"&&e.startsWith(t),OT=IT("--"),n9=IT("var(--"),L0=t=>n9(t)?s9.test(t.split("/*")[0].trim()):!1,s9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,DT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,cs=(t,e,r)=>r>e?e:r<t?t:r,Eo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},uc={...Eo,transform:t=>cs(0,1,t)},mu={...Eo,default:1},Ac=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zs=Ac("deg"),Sn=Ac("%"),Ce=Ac("px"),a9=Ac("vh"),i9=Ac("vw"),mN={...Sn,parse:t=>Sn.parse(t)/100,transform:t=>Sn.transform(t*100)},o9={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},l9={rotate:zs,rotateX:zs,rotateY:zs,rotateZ:zs,scale:mu,scaleX:mu,scaleY:mu,scaleZ:mu,skew:zs,skewX:zs,skewY:zs,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:uc,originX:mN,originY:mN,originZ:Ce},fN={...Eo,transform:Math.round},M0={...o9,...l9,zIndex:fN,size:Ce,fillOpacity:uc,strokeOpacity:uc,numOctaves:fN},c9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d9=Co.length;function u9(t,e,r){let n="",a=!0;for(let l=0;l<d9;l++){const c=Co[l],u=t[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||r){const m=DT(u,M0[c]);if(!h){a=!1;const f=c9[c]||c;n+=`${f}(${m}) `}r&&(e[c]=m)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function F0(t,e,r){const{style:n,vars:a,transformOrigin:l}=t;let c=!1,u=!1;for(const h in e){const m=e[h];if(Xa.has(h)){c=!0;continue}else if(OT(h)){a[h]=m;continue}else{const f=DT(m,M0[h]);h.startsWith("origin")?(u=!0,l[h]=f):n[h]=f}}if(e.transform||(c||r?n.transform=u9(e,t.transform,r):n.transform&&(n.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:f=0}=l;n.transformOrigin=`${h} ${m} ${f}`}}const h9={offset:"stroke-dashoffset",array:"stroke-dasharray"},p9={offset:"strokeDashoffset",array:"strokeDasharray"};function m9(t,e,r=1,n=0,a=!0){t.pathLength=1;const l=a?h9:p9;t[l.offset]=Ce.transform(-n);const c=Ce.transform(e),u=Ce.transform(r);t[l.array]=`${c} ${u}`}function gN(t,e,r){return typeof t=="string"?t:Ce.transform(e+r*t)}function f9(t,e,r){const n=gN(e,t.x,t.width),a=gN(r,t.y,t.height);return`${n} ${a}`}function z0(t,{attrX:e,attrY:r,attrScale:n,originX:a,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0,...m},f,g){if(F0(t,m,g),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:k,dimensions:j}=t;x.transform&&(j&&(k.transform=x.transform),delete x.transform),j&&(a!==void 0||l!==void 0||k.transform)&&(k.transformOrigin=f9(j,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(x.x=e),r!==void 0&&(x.y=r),n!==void 0&&(x.scale=n),c!==void 0&&m9(x,c,u,h,!1)}const U0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),LT=()=>({...U0(),attrs:{}}),$0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function MT(t,{style:e,vars:r},n,a){Object.assign(t.style,e,a&&a.getProjectionStyles(n));for(const l in r)t.style.setProperty(l,r[l])}const FT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zT(t,e,r,n){MT(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(FT.has(a)?a:A0(a),e.attrs[a])}const fh={};function g9(t){Object.assign(fh,t)}function UT(t,{layout:e,layoutId:r}){return Xa.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!fh[t]||t==="opacity")}function V0(t,e,r){var n;const{style:a}=t,l={};for(const c in a)(Vt(a[c])||e.style&&Vt(e.style[c])||UT(c,t)||((n=r==null?void 0:r.getValue(c))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(l[c]=a[c]);return l}function $T(t,e,r){const n=V0(t,e,r);for(const a in t)if(Vt(t[a])||Vt(e[a])){const l=Co.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[l]=t[a]}return n}function v9(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const vN=["x","y","width","height","cx","cy","r"],y9={useVisualState:AT({scrapeMotionValuesFromProps:$T,createRenderState:LT,onUpdate:({props:t,prevProps:e,current:r,renderState:n,latestValues:a})=>{if(!r)return;let l=!!t.drag;if(!l){for(const u in a)if(Xa.has(u)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let u=0;u<vN.length;u++){const h=vN[u];t[h]!==e[h]&&(c=!0)}c&&st.read(()=>{v9(r,n),st.render(()=>{z0(n,a,$0(r.tagName),t.transformTemplate),zT(r,n)})})}})},x9={useVisualState:AT({scrapeMotionValuesFromProps:V0,createRenderState:U0})};function VT(t,e,r){for(const n in e)!Vt(e[n])&&!UT(n,r)&&(t[n]=e[n])}function b9({transformTemplate:t},e){return y.useMemo(()=>{const r=U0();return F0(r,e,t),Object.assign({},r.vars,r.style)},[e])}function w9(t,e){const r=t.style||{},n={};return VT(n,r,t),Object.assign(n,b9(t,e)),n}function N9(t,e){const r={},n=w9(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}function k9(t,e,r,n){const a=y.useMemo(()=>{const l=LT();return z0(l,e,$0(n),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};VT(l,t.style,t),a.style={...l,...a.style}}return a}function j9(t=!1){return(e,r,n,{latestValues:a},l)=>{const c=(O0(e)?k9:N9)(r,a,l,e),u=z7(r,typeof e=="string",t),h=e!==y.Fragment?{...u,...c,ref:n}:{},{children:m}=r,f=y.useMemo(()=>Vt(m)?m.get():m,[m]);return y.createElement(e,{...h,children:f})}}function S9(t,e){return function(r,{forwardMotionProps:n}={forwardMotionProps:!1}){const a={...O0(r)?y9:x9,preloadedFeatures:t,useRender:j9(n),createVisualElement:e,Component:r};return G7(a)}}function WT(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function mp(t,e,r){const n=t.getProps();return D0(n,e,r!==void 0?r:n.custom,t)}const C9=_0(()=>window.ScrollTimeline!==void 0);class E9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(a=>{if(C9()&&a.attachTimeline)return a.attachTimeline(e);if(typeof r=="function")return r(a)});return()=>{n.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class T9 extends E9{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function W0(t,e){return t?t[e]||t.default||t:void 0}const Hg=2e4;function BT(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Hg;)e+=r,n=t.next(e);return e>=Hg?1/0:e}function B0(t){return typeof t=="function"}function yN(t,e){t.timeline=e,t.onfinish=null}const H0=t=>Array.isArray(t)&&typeof t[0]=="number",_9={linearEasing:void 0};function P9(t,e){const r=_0(t);return()=>{var n;return(n=_9[e])!==null&&n!==void 0?n:r()}}const gh=P9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),HT=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let l=0;l<a;l++)n+=t(co(0,a-1,l))+", ";return`linear(${n.substring(0,n.length-2)})`};function qT(t){return!!(typeof t=="function"&&gh()||!t||typeof t=="string"&&(t in qg||gh())||H0(t)||Array.isArray(t)&&t.every(qT))}const Ll=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,qg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ll([0,.65,.55,1]),circOut:Ll([.55,0,1,.45]),backIn:Ll([.31,.01,.66,-.59]),backOut:Ll([.33,1.53,.69,.99])};function KT(t,e){if(t)return typeof t=="function"&&gh()?HT(t,e):H0(t)?Ll(t):Array.isArray(t)?t.map(r=>KT(r,e)||qg.easeOut):qg[t]}const Zr={x:!1,y:!1};function GT(){return Zr.x||Zr.y}function R9(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const l=(n=void 0)!==null&&n!==void 0?n:a.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function ZT(t,e){const r=R9(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function xN(t){return e=>{e.pointerType==="touch"||GT()||t(e)}}function A9(t,e,r={}){const[n,a,l]=ZT(t,r),c=xN(u=>{const{target:h}=u,m=e(u);if(typeof m!="function"||!h)return;const f=xN(g=>{m(g),h.removeEventListener("pointerleave",f)});h.addEventListener("pointerleave",f,a)});return n.forEach(u=>{u.addEventListener("pointerenter",c,a)}),l}const QT=(t,e)=>e?t===e?!0:QT(t,e.parentElement):!1,q0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,I9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function O9(t){return I9.has(t.tagName)||t.tabIndex!==-1}const Ml=new WeakSet;function bN(t){return e=>{e.key==="Enter"&&t(e)}}function Vf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const D9=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=bN(()=>{if(Ml.has(r))return;Vf(r,"down");const a=bN(()=>{Vf(r,"up")}),l=()=>Vf(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function wN(t){return q0(t)&&!GT()}function L9(t,e,r={}){const[n,a,l]=ZT(t,r),c=u=>{const h=u.currentTarget;if(!wN(u)||Ml.has(h))return;Ml.add(h);const m=e(u),f=(k,j)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),!(!wN(k)||!Ml.has(h))&&(Ml.delete(h),typeof m=="function"&&m(k,{success:j}))},g=k=>{f(k,r.useGlobalTarget||QT(h,k.target))},x=k=>{f(k,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",x,a)};return n.forEach(u=>{!O9(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(r.useGlobalTarget?window:u).addEventListener("pointerdown",c,a),u.addEventListener("focus",h=>D9(h,a),a)}),l}function M9(t){return t==="x"||t==="y"?Zr[t]?null:(Zr[t]=!0,()=>{Zr[t]=!1}):Zr.x||Zr.y?null:(Zr.x=Zr.y=!0,()=>{Zr.x=Zr.y=!1})}const XT=new Set(["width","height","top","left","right","bottom",...Co]);let Du;function F9(){Du=void 0}const Cn={now:()=>(Du===void 0&&Cn.set(Lt.isProcessing||I7.useManualTiming?Lt.timestamp:performance.now()),Du),set:t=>{Du=t,queueMicrotask(F9)}};function K0(t,e){t.indexOf(e)===-1&&t.push(e)}function G0(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class Z0{constructor(){this.subscriptions=[]}add(e){return K0(this.subscriptions,e),()=>G0(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function YT(t,e){return e?t*(1e3/e):0}const NN=30,z9=t=>!isNaN(parseFloat(t));class U9{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const l=Cn.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=z9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Z0);const n=this.events[e].add(r);return e==="change"?()=>{n(),st.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>NN)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,NN);return YT(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hc(t,e){return new U9(t,e)}function $9(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,hc(r))}function V9(t,e){const r=mp(t,e);let{transitionEnd:n={},transition:a={},...l}=r||{};l={...l,...n};for(const c in l){const u=e9(l[c]);$9(t,c,u)}}function W9(t){return!!(Vt(t)&&t.add)}function Kg(t,e){const r=t.getValue("willChange");if(W9(r))return r.add(e)}function JT(t){return t.props[_T]}const e_=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,B9=1e-7,H9=12;function q9(t,e,r,n,a){let l,c,u=0;do c=e+(r-e)/2,l=e_(c,n,a)-t,l>0?r=c:e=c;while(Math.abs(l)>B9&&++u<H9);return c}function Ic(t,e,r,n){if(t===e&&r===n)return xr;const a=l=>q9(l,0,1,t,r);return l=>l===0||l===1?l:e_(a(l),e,n)}const t_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,r_=t=>e=>1-t(1-e),n_=Ic(.33,1.53,.69,.99),Q0=r_(n_),s_=t_(Q0),a_=t=>(t*=2)<1?.5*Q0(t):.5*(2-Math.pow(2,-10*(t-1))),X0=t=>1-Math.sin(Math.acos(t)),i_=r_(X0),o_=t_(X0),l_=t=>/^0[^.\s]+$/u.test(t);function K9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||l_(t):!0}const Bl=t=>Math.round(t*1e5)/1e5,Y0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G9(t){return t==null}const Z9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,J0=(t,e)=>r=>!!(typeof r=="string"&&Z9.test(r)&&r.startsWith(t)||e&&!G9(r)&&Object.prototype.hasOwnProperty.call(r,e)),c_=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,l,c,u]=n.match(Y0);return{[t]:parseFloat(a),[e]:parseFloat(l),[r]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},Q9=t=>cs(0,255,t),Wf={...Eo,transform:t=>Math.round(Q9(t))},Da={test:J0("rgb","red"),parse:c_("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Wf.transform(t)+", "+Wf.transform(e)+", "+Wf.transform(r)+", "+Bl(uc.transform(n))+")"};function X9(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Gg={test:J0("#"),parse:X9,transform:Da.transform},$i={test:J0("hsl","hue"),parse:c_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Sn.transform(Bl(e))+", "+Sn.transform(Bl(r))+", "+Bl(uc.transform(n))+")"},$t={test:t=>Da.test(t)||Gg.test(t)||$i.test(t),parse:t=>Da.test(t)?Da.parse(t):$i.test(t)?$i.parse(t):Gg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Da.transform(t):$i.transform(t)},Y9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function J9(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Y0))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Y9))===null||r===void 0?void 0:r.length)||0)>0}const d_="number",u_="color",eU="var",tU="var(",kN="${}",rU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pc(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let l=0;const c=e.replace(rU,u=>($t.test(u)?(n.color.push(l),a.push(u_),r.push($t.parse(u))):u.startsWith(tU)?(n.var.push(l),a.push(eU),r.push(u)):(n.number.push(l),a.push(d_),r.push(parseFloat(u))),++l,kN)).split(kN);return{values:r,split:c,indexes:n,types:a}}function h_(t){return pc(t).values}function p_(t){const{split:e,types:r}=pc(t),n=e.length;return a=>{let l="";for(let c=0;c<n;c++)if(l+=e[c],a[c]!==void 0){const u=r[c];u===d_?l+=Bl(a[c]):u===u_?l+=$t.transform(a[c]):l+=a[c]}return l}}const nU=t=>typeof t=="number"?0:t;function sU(t){const e=h_(t);return p_(t)(e.map(nU))}const ea={test:J9,parse:h_,createTransformer:p_,getAnimatableNone:sU},aU=new Set(["brightness","contrast","saturate","opacity"]);function iU(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Y0)||[];if(!n)return t;const a=r.replace(n,"");let l=aU.has(e)?1:0;return n!==r&&(l*=100),e+"("+l+a+")"}const oU=/\b([a-z-]*)\(.*?\)/gu,Zg={...ea,getAnimatableNone:t=>{const e=t.match(oU);return e?e.map(iU).join(" "):t}},lU={...M0,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:Zg,WebkitFilter:Zg},ey=t=>lU[t];function m_(t,e){let r=ey(t);return r!==Zg&&(r=ea),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const cU=new Set(["auto","none","0"]);function dU(t,e,r){let n=0,a;for(;n<t.length&&!a;){const l=t[n];typeof l=="string"&&!cU.has(l)&&pc(l).values.length&&(a=t[n]),n++}if(a&&r)for(const l of e)t[l]=m_(r,a)}const jN=t=>t===Eo||t===Ce,SN=(t,e)=>parseFloat(t.split(", ")[e]),CN=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return SN(a[1],e);{const l=n.match(/^matrix\((.+)\)$/u);return l?SN(l[1],t):0}},uU=new Set(["x","y","z"]),hU=Co.filter(t=>!uU.has(t));function pU(t){const e=[];return hU.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const ho={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:CN(4,13),y:CN(5,14)};ho.translateX=ho.x;ho.translateY=ho.y;const Ma=new Set;let Qg=!1,Xg=!1;function f_(){if(Xg){const t=Array.from(Ma).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=pU(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([l,c])=>{var u;(u=n.getValue(l))===null||u===void 0||u.set(c)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Xg=!1,Qg=!1,Ma.forEach(t=>t.complete()),Ma.clear()}function g_(){Ma.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xg=!0)})}function mU(){g_(),f_()}class ty{constructor(e,r,n,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ma.add(this),Qg||(Qg=!0,st.read(g_),st.resolveKeyframes(f_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=a==null?void 0:a.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(n&&r){const h=n.readValue(r,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&c===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ma.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ma.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const v_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),fU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gU(t){const e=fU.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function y_(t,e,r=1){const[n,a]=gU(t);if(!n)return;const l=window.getComputedStyle(e).getPropertyValue(n);if(l){const c=l.trim();return v_(c)?parseFloat(c):c}return L0(a)?y_(a,e,r+1):a}const x_=t=>e=>e.test(t),vU={test:t=>t==="auto",parse:t=>t},b_=[Eo,Ce,Sn,zs,i9,a9,vU],EN=t=>b_.find(x_(t));class w_ extends ty{constructor(e,r,n,a,l){super(e,r,n,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),L0(m))){const f=y_(m,r.current);f!==void 0&&(e[h]=f),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!XT.has(n)||e.length!==2)return;const[a,l]=e,c=EN(a),u=EN(l);if(c!==u)if(jN(c)&&jN(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)K9(e[a])&&n.push(a);n.length&&dU(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ho[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const l=r.getValue(n);l&&l.jump(this.measuredOrigin,!1);const c=a.length-1,u=a[c];a[c]=ho[n](r.measureViewportBox(),window.getComputedStyle(r.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,m])=>{r.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const TN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ea.test(t)||t==="0")&&!t.startsWith("url("));function yU(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function xU(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=TN(a,e),u=TN(l,e);return!c||!u?!1:yU(t)||(r==="spring"||B0(r))&&n}const bU=t=>t!==null;function fp(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter(bU),l=e&&r!=="loop"&&e%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const wU=40;class N_{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Cn.now(),this.options={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:l,repeatType:c,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>wU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&mU(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Cn.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:l,delay:c,onComplete:u,onUpdate:h,isGenerator:m}=this.options;if(!m&&!xU(e,n,a,l))if(c)this.options.duration=0;else{h&&h(fp(e,this.options,r)),u&&u(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,r);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...f},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const dt=(t,e,r)=>t+(e-t)*r;function Bf(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function NU({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,l=0,c=0;if(!e)a=l=c=r;else{const u=r<.5?r*(1+e):r+e-r*e,h=2*r-u;a=Bf(h,u,t+1/3),l=Bf(h,u,t),c=Bf(h,u,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}function vh(t,e){return r=>r>0?e:t}const Hf=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},kU=[Gg,Da,$i],jU=t=>kU.find(e=>e.test(t));function _N(t){const e=jU(t);if(!e)return!1;let r=e.parse(t);return e===$i&&(r=NU(r)),r}const PN=(t,e)=>{const r=_N(t),n=_N(e);if(!r||!n)return vh(t,e);const a={...r};return l=>(a.red=Hf(r.red,n.red,l),a.green=Hf(r.green,n.green,l),a.blue=Hf(r.blue,n.blue,l),a.alpha=dt(r.alpha,n.alpha,l),Da.transform(a))},SU=(t,e)=>r=>e(t(r)),Oc=(...t)=>t.reduce(SU),Yg=new Set(["none","hidden"]);function CU(t,e){return Yg.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function EU(t,e){return r=>dt(t,e,r)}function ry(t){return typeof t=="number"?EU:typeof t=="string"?L0(t)?vh:$t.test(t)?PN:PU:Array.isArray(t)?k_:typeof t=="object"?$t.test(t)?PN:TU:vh}function k_(t,e){const r=[...t],n=r.length,a=t.map((l,c)=>ry(l)(l,e[c]));return l=>{for(let c=0;c<n;c++)r[c]=a[c](l);return r}}function TU(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=ry(t[a])(t[a],e[a]));return a=>{for(const l in n)r[l]=n[l](a);return r}}function _U(t,e){var r;const n=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],u=t.indexes[c][a[c]],h=(r=t.values[u])!==null&&r!==void 0?r:0;n[l]=h,a[c]++}return n}const PU=(t,e)=>{const r=ea.createTransformer(e),n=pc(t),a=pc(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?Yg.has(t)&&!a.values.length||Yg.has(e)&&!n.values.length?CU(t,e):Oc(k_(_U(n,a),a.values),r):vh(t,e)};function j_(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?dt(t,e,r):ry(t)(t,e)}const RU=5;function S_(t,e,r){const n=Math.max(e-RU,0);return YT(r-t(n),e-n)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qf=.001;function AU({duration:t=ht.duration,bounce:e=ht.bounce,velocity:r=ht.velocity,mass:n=ht.mass}){let a,l,c=1-e;c=cs(ht.minDamping,ht.maxDamping,c),t=cs(ht.minDuration,ht.maxDuration,ns(t)),c<1?(a=m=>{const f=m*c,g=f*t,x=f-r,k=Jg(m,c),j=Math.exp(-g);return qf-x/k*j},l=m=>{const f=m*c*t,g=f*r+r,x=Math.pow(c,2)*Math.pow(m,2)*t,k=Math.exp(-f),j=Jg(Math.pow(m,2),c);return(-a(m)+qf>0?-1:1)*((g-x)*k)/j}):(a=m=>{const f=Math.exp(-m*t),g=(m-r)*t+1;return-qf+f*g},l=m=>{const f=Math.exp(-m*t),g=(r-m)*(t*t);return f*g});const u=5/t,h=OU(a,l,u);if(t=rs(t),isNaN(h))return{stiffness:ht.stiffness,damping:ht.damping,duration:t};{const m=Math.pow(h,2)*n;return{stiffness:m,damping:c*2*Math.sqrt(n*m),duration:t}}}const IU=12;function OU(t,e,r){let n=r;for(let a=1;a<IU;a++)n=n-t(n)/e(n);return n}function Jg(t,e){return t*Math.sqrt(1-e*e)}const DU=["duration","bounce"],LU=["stiffness","damping","mass"];function RN(t,e){return e.some(r=>t[r]!==void 0)}function MU(t){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...t};if(!RN(t,LU)&&RN(t,DU))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,l=2*cs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:ht.mass,stiffness:a,damping:l}}else{const r=AU(t);e={...e,...r,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function C_(t=ht.visualDuration,e=ht.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],u={done:!1,value:l},{stiffness:h,damping:m,mass:f,duration:g,velocity:x,isResolvedFromDuration:k}=MU({...r,velocity:-ns(r.velocity||0)}),j=x||0,N=m/(2*Math.sqrt(h*f)),b=c-l,C=ns(Math.sqrt(h/f)),_=Math.abs(b)<5;n||(n=_?ht.restSpeed.granular:ht.restSpeed.default),a||(a=_?ht.restDelta.granular:ht.restDelta.default);let T;if(N<1){const A=Jg(C,N);T=L=>{const I=Math.exp(-N*C*L);return c-I*((j+N*C*b)/A*Math.sin(A*L)+b*Math.cos(A*L))}}else if(N===1)T=A=>c-Math.exp(-C*A)*(b+(j+C*b)*A);else{const A=C*Math.sqrt(N*N-1);T=L=>{const I=Math.exp(-N*C*L),E=Math.min(A*L,300);return c-I*((j+N*C*b)*Math.sinh(E)+A*b*Math.cosh(E))/A}}const P={calculatedDuration:k&&g||null,next:A=>{const L=T(A);if(k)u.done=A>=g;else{let I=0;N<1&&(I=A===0?rs(j):S_(T,A,L));const E=Math.abs(I)<=n,R=Math.abs(c-L)<=a;u.done=E&&R}return u.value=u.done?c:L,u},toString:()=>{const A=Math.min(BT(P),Hg),L=HT(I=>P.next(A*I).value,A,30);return A+"ms "+L}};return P}function AN({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:h,restDelta:m=.5,restSpeed:f}){const g=t[0],x={done:!1,value:g},k=E=>u!==void 0&&E<u||h!==void 0&&E>h,j=E=>u===void 0?h:h===void 0||Math.abs(u-E)<Math.abs(h-E)?u:h;let N=r*e;const b=g+N,C=c===void 0?b:c(b);C!==b&&(N=C-g);const _=E=>-N*Math.exp(-E/n),T=E=>C+_(E),P=E=>{const R=_(E),z=T(E);x.done=Math.abs(R)<=m,x.value=x.done?C:z};let A,L;const I=E=>{k(x.value)&&(A=E,L=C_({keyframes:[x.value,j(x.value)],velocity:S_(T,E,x.value),damping:a,stiffness:l,restDelta:m,restSpeed:f}))};return I(0),{calculatedDuration:null,next:E=>{let R=!1;return!L&&A===void 0&&(R=!0,P(E),I(E)),A!==void 0&&E>=A?L.next(E-A):(!R&&P(E),x)}}}const FU=Ic(.42,0,1,1),zU=Ic(0,0,.58,1),E_=Ic(.42,0,.58,1),UU=t=>Array.isArray(t)&&typeof t[0]!="number",$U={linear:xr,easeIn:FU,easeInOut:E_,easeOut:zU,circIn:X0,circInOut:o_,circOut:i_,backIn:Q0,backInOut:s_,backOut:n_,anticipate:a_},IN=t=>{if(H0(t)){jT(t.length===4);const[e,r,n,a]=t;return Ic(e,r,n,a)}else if(typeof t=="string")return $U[t];return t};function VU(t,e,r){const n=[],a=r||j_,l=t.length-1;for(let c=0;c<l;c++){let u=a(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||xr:e;u=Oc(h,u)}n.push(u)}return n}function WU(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const l=t.length;if(jT(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=VU(e,n,a),h=u.length,m=f=>{if(c&&f<t[0])return e[0];let g=0;if(h>1)for(;g<t.length-2&&!(f<t[g+1]);g++);const x=co(t[g],t[g+1],f);return u[g](x)};return r?f=>m(cs(t[0],t[l-1],f)):m}function BU(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=co(0,e,n);t.push(dt(r,1,a))}}function HU(t){const e=[0];return BU(e,t.length-1),e}function qU(t,e){return t.map(r=>r*e)}function KU(t,e){return t.map(()=>e||E_).splice(0,t.length-1)}function yh({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=UU(n)?n.map(IN):IN(n),l={done:!1,value:e[0]},c=qU(r&&r.length===e.length?r:HU(e),t),u=WU(c,e,{ease:Array.isArray(a)?a:KU(e,a)});return{calculatedDuration:t,next:h=>(l.value=u(h),l.done=h>=t,l)}}const GU=t=>{const e=({timestamp:r})=>t(r);return{start:()=>st.update(e,!0),stop:()=>Js(e),now:()=>Lt.isProcessing?Lt.timestamp:Cn.now()}},ZU={decay:AN,inertia:AN,tween:yh,keyframes:yh,spring:C_},QU=t=>t/100;class ny extends N_{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:r,motionValue:n,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||ty,u=(h,m)=>this.onKeyframesResolved(h,m);this.resolver=new c(l,u,r,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,u=B0(r)?r:ZU[r]||yh;let h,m;u!==yh&&typeof e[0]!="number"&&(h=Oc(QU,j_(e[0],e[1])),e=[0,100]);const f=u({...this.options,keyframes:e});l==="mirror"&&(m=u({...this.options,keyframes:[...e].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=BT(f));const{calculatedDuration:g}=f,x=g+a,k=x*(n+1)-a;return{generator:f,mirroredGenerator:m,mapPercentToKeyframes:h,calculatedDuration:g,resolvedDuration:x,totalDuration:k}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:m,totalDuration:f,resolvedDuration:g}=n;if(this.startTime===null)return l.next(0);const{delay:x,repeat:k,repeatType:j,repeatDelay:N,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const C=this.currentTime-x*(this.speed>=0?1:-1),_=this.speed>=0?C<0:C>f;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let T=this.currentTime,P=l;if(k){const E=Math.min(this.currentTime,f)/g;let R=Math.floor(E),z=E%1;!z&&E>=1&&(z=1),z===1&&R--,R=Math.min(R,k+1),R%2&&(j==="reverse"?(z=1-z,N&&(z-=N/g)):j==="mirror"&&(P=c)),T=cs(0,1,z)*g}const A=_?{done:!1,value:h[0]}:P.next(T);u&&(A.value=u(A.value));let{done:L}=A;!_&&m!==null&&(L=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return I&&a!==void 0&&(A.value=fp(h,this.options,a)),b&&b(A.value),I&&this.finish(),A}get duration(){const{resolved:e}=this;return e?ns(e.calculatedDuration):0}get time(){return ns(this.currentTime)}set time(e){e=rs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ns(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=GU,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const XU=new Set(["opacity","clipPath","filter","transform"]);function YU(t,e,r,{delay:n=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:u="easeInOut",times:h}={}){const m={[e]:r};h&&(m.offset=h);const f=KT(u,a);return Array.isArray(f)&&(m.easing=f),t.animate(m,{delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const JU=_0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xh=10,e$=2e4;function t$(t){return B0(t.type)||t.type==="spring"||!qT(t.ease)}function r$(t,e){const r=new ny({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const a=[];let l=0;for(;!n.done&&l<e$;)n=r.sample(l),a.push(n.value),l+=xh;return{times:void 0,keyframes:a,duration:l-xh,ease:"linear"}}const T_={anticipate:a_,backInOut:s_,circInOut:o_};function n$(t){return t in T_}class ON extends N_{constructor(e){super(e);const{name:r,motionValue:n,element:a,keyframes:l}=this.options;this.resolver=new w_(l,(c,u)=>this.onKeyframesResolved(c,u),r,n,a),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:n=300,times:a,ease:l,type:c,motionValue:u,name:h,startTime:m}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof l=="string"&&gh()&&n$(l)&&(l=T_[l]),t$(this.options)){const{onComplete:g,onUpdate:x,motionValue:k,element:j,...N}=this.options,b=r$(e,N);e=b.keyframes,e.length===1&&(e[1]=e[0]),n=b.duration,a=b.times,l=b.ease,c="keyframes"}const f=YU(u.owner.current,h,e,{...this.options,duration:n,times:a,ease:l});return f.startTime=m??this.calcStartTime(),this.pendingTimeline?(yN(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:g}=this.options;u.set(fp(e,this.options,r)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:n,times:a,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return ns(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return ns(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=rs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return xr;const{animation:n}=r;yN(n,e)}return xr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:a,type:l,ease:c,times:u}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:f,onComplete:g,element:x,...k}=this.options,j=new ny({...k,keyframes:n,duration:a,type:l,ease:c,times:u,isGenerator:!0}),N=rs(this.time);m.setWithVelocity(j.sample(N-xh).value,j.sample(N).value,xh)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:a,repeatType:l,damping:c,type:u}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=r.owner.getProps();return JU()&&n&&XU.has(n)&&!h&&!m&&!a&&l!=="mirror"&&c!==0&&u!=="inertia"}}const s$={type:"spring",stiffness:500,damping:25,restSpeed:10},a$=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),i$={type:"keyframes",duration:.8},o$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},l$=(t,{keyframes:e})=>e.length>2?i$:Xa.has(t)?t.startsWith("scale")?a$(e[1]):s$:o$;function c$({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:u,from:h,elapsed:m,...f}){return!!Object.keys(f).length}const sy=(t,e,r,n={},a,l)=>c=>{const u=W0(n,t)||{},h=u.delay||n.delay||0;let{elapsed:m=0}=n;m=m-rs(h);let f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:l?void 0:a};c$(u)||(f={...f,...l$(t,f)}),f.duration&&(f.duration=rs(f.duration)),f.repeatDelay&&(f.repeatDelay=rs(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(g=!0)),g&&!l&&e.get()!==void 0){const x=fp(f.keyframes,u);if(x!==void 0)return st.update(()=>{f.onUpdate(x),f.onComplete()}),new T9([])}return!l&&ON.supports(f)?new ON(f):new ny(f)};function d$({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function __(t,e,{delay:r=0,transitionOverride:n,type:a}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:u,...h}=e;n&&(c=n);const m=[],f=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const x=t.getValue(g,(l=t.latestValues[g])!==null&&l!==void 0?l:null),k=h[g];if(k===void 0||f&&d$(f,g))continue;const j={delay:r,...W0(c||{},g)};let N=!1;if(window.MotionHandoffAnimation){const C=JT(t);if(C){const _=window.MotionHandoffAnimation(C,g,st);_!==null&&(j.startTime=_,N=!0)}}Kg(t,g),x.start(sy(g,x,k,t.shouldReduceMotion&&XT.has(g)?{type:!1}:j,t,N));const b=x.animation;b&&m.push(b)}return u&&Promise.all(m).then(()=>{st.update(()=>{u&&V9(t,u)})}),m}function ev(t,e,r={}){var n;const a=mp(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(l=r.transitionOverride);const c=a?()=>Promise.all(__(t,a,r)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:x}=l;return u$(t,e,f+m,g,x,r)}:()=>Promise.resolve(),{when:h}=l;if(h){const[m,f]=h==="beforeChildren"?[c,u]:[u,c];return m().then(()=>f())}else return Promise.all([c(),u(r.delay)])}function u$(t,e,r=0,n=0,a=1,l){const c=[],u=(t.variantChildren.size-1)*n,h=a===1?(m=0)=>m*n:(m=0)=>u-m*n;return Array.from(t.variantChildren).sort(h$).forEach((m,f)=>{m.notify("AnimationStart",e),c.push(ev(m,e,{...l,delay:r+h(f)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function h$(t,e){return t.sortNodePosition(e)}function p$(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(l=>ev(t,l,r));n=Promise.all(a)}else if(typeof e=="string")n=ev(t,e,r);else{const a=typeof e=="function"?mp(t,e,r.custom):e;n=Promise.all(__(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const m$=R0.length;function P_(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?P_(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<m$;r++){const n=R0[r],a=t.props[n];(dc(a)||a===!1)&&(e[n]=a)}return e}const f$=[...P0].reverse(),g$=P0.length;function v$(t){return e=>Promise.all(e.map(({animation:r,options:n})=>p$(t,r,n)))}function y$(t){let e=v$(t),r=DN(),n=!0;const a=h=>(m,f)=>{var g;const x=mp(t,f,h==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(x){const{transition:k,transitionEnd:j,...N}=x;m={...m,...N,...j}}return m};function l(h){e=h(t)}function c(h){const{props:m}=t,f=P_(t.parent)||{},g=[],x=new Set;let k={},j=1/0;for(let b=0;b<g$;b++){const C=f$[b],_=r[C],T=m[C]!==void 0?m[C]:f[C],P=dc(T),A=C===h?_.isActive:null;A===!1&&(j=b);let L=T===f[C]&&T!==m[C]&&P;if(L&&n&&t.manuallyAnimateOnMount&&(L=!1),_.protectedKeys={...k},!_.isActive&&A===null||!T&&!_.prevProp||hp(T)||typeof T=="boolean")continue;const I=x$(_.prevProp,T);let E=I||C===h&&_.isActive&&!L&&P||b>j&&P,R=!1;const z=Array.isArray(T)?T:[T];let G=z.reduce(a(C),{});A===!1&&(G={});const{prevResolvedValues:W={}}=_,ee={...W,...G},D=Q=>{E=!0,x.has(Q)&&(R=!0,x.delete(Q)),_.needsAnimating[Q]=!0;const ae=t.getValue(Q);ae&&(ae.liveStyle=!1)};for(const Q in ee){const ae=G[Q],oe=W[Q];if(k.hasOwnProperty(Q))continue;let H=!1;Bg(ae)&&Bg(oe)?H=!WT(ae,oe):H=ae!==oe,H?ae!=null?D(Q):x.add(Q):ae!==void 0&&x.has(Q)?D(Q):_.protectedKeys[Q]=!0}_.prevProp=T,_.prevResolvedValues=G,_.isActive&&(k={...k,...G}),n&&t.blockInitialAnimation&&(E=!1),E&&(!(L&&I)||R)&&g.push(...z.map(Q=>({animation:Q,options:{type:C}})))}if(x.size){const b={};x.forEach(C=>{const _=t.getBaseTarget(C),T=t.getValue(C);T&&(T.liveStyle=!0),b[C]=_??null}),g.push({animation:b})}let N=!!g.length;return n&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(N=!1),n=!1,N?e(g):Promise.resolve()}function u(h,m){var f;if(r[h].isActive===m)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(x=>{var k;return(k=x.animationState)===null||k===void 0?void 0:k.setActive(h,m)}),r[h].isActive=m;const g=c(h);for(const x in r)r[x].protectedKeys={};return g}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>r,reset:()=>{r=DN(),n=!0}}}function x$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!WT(e,t):!1}function Pa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DN(){return{animate:Pa(!0),whileInView:Pa(),whileHover:Pa(),whileTap:Pa(),whileDrag:Pa(),whileFocus:Pa(),exit:Pa()}}class sa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class b$ extends sa{constructor(e){super(e),e.animationState||(e.animationState=y$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let w$=0;class N$ extends sa{constructor(){super(...arguments),this.id=w$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const k$={animation:{Feature:b$},exit:{Feature:N$}};function mc(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Dc(t){return{point:{x:t.pageX,y:t.pageY}}}const j$=t=>e=>q0(e)&&t(e,Dc(e));function Hl(t,e,r,n){return mc(t,e,j$(r),n)}const LN=(t,e)=>Math.abs(t-e);function S$(t,e){const r=LN(t.x,e.x),n=LN(t.y,e.y);return Math.sqrt(r**2+n**2)}class R_{constructor(e,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Gf(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,k=S$(g.offset,{x:0,y:0})>=3;if(!x&&!k)return;const{point:j}=g,{timestamp:N}=Lt;this.history.push({...j,timestamp:N});const{onStart:b,onMove:C}=this.handlers;x||(b&&b(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Kf(x,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:k,onSessionEnd:j,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Gf(g.type==="pointercancel"?this.lastMoveEventInfo:Kf(x,this.transformPagePoint),this.history);this.startEvent&&k&&k(g,b),j&&j(g,b)},!q0(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const c=Dc(e),u=Kf(c,this.transformPagePoint),{point:h}=u,{timestamp:m}=Lt;this.history=[{...h,timestamp:m}];const{onSessionStart:f}=r;f&&f(e,Gf(u,this.history)),this.removeListeners=Oc(Hl(this.contextWindow,"pointermove",this.handlePointerMove),Hl(this.contextWindow,"pointerup",this.handlePointerUp),Hl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Js(this.updatePoint)}}function Kf(t,e){return e?{point:e(t.point)}:t}function MN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Gf({point:t},e){return{point:t,delta:MN(t,A_(e)),offset:MN(t,C$(e)),velocity:E$(e,.1)}}function C$(t){return t[0]}function A_(t){return t[t.length-1]}function E$(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=A_(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>rs(e)));)r--;if(!n)return{x:0,y:0};const l=ns(a.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-n.x)/l,y:(a.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const I_=1e-4,T$=1-I_,_$=1+I_,O_=.01,P$=0-O_,R$=0+O_;function br(t){return t.max-t.min}function A$(t,e,r){return Math.abs(t-e)<=r}function FN(t,e,r,n=.5){t.origin=n,t.originPoint=dt(e.min,e.max,t.origin),t.scale=br(r)/br(e),t.translate=dt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=T$&&t.scale<=_$||isNaN(t.scale))&&(t.scale=1),(t.translate>=P$&&t.translate<=R$||isNaN(t.translate))&&(t.translate=0)}function ql(t,e,r,n){FN(t.x,e.x,r.x,n?n.originX:void 0),FN(t.y,e.y,r.y,n?n.originY:void 0)}function zN(t,e,r){t.min=r.min+e.min,t.max=t.min+br(e)}function I$(t,e,r){zN(t.x,e.x,r.x),zN(t.y,e.y,r.y)}function UN(t,e,r){t.min=e.min-r.min,t.max=t.min+br(e)}function Kl(t,e,r){UN(t.x,e.x,r.x),UN(t.y,e.y,r.y)}function O$(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?dt(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?dt(r,t,n.max):Math.min(t,r)),t}function $N(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function D$(t,{top:e,left:r,bottom:n,right:a}){return{x:$N(t.x,r,a),y:$N(t.y,e,n)}}function VN(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function L$(t,e){return{x:VN(t.x,e.x),y:VN(t.y,e.y)}}function M$(t,e){let r=.5;const n=br(t),a=br(e);return a>n?r=co(e.min,e.max-n,t.min):n>a&&(r=co(t.min,t.max-a,e.min)),cs(0,1,r)}function F$(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const tv=.35;function z$(t=tv){return t===!1?t=0:t===!0&&(t=tv),{x:WN(t,"left","right"),y:WN(t,"top","bottom")}}function WN(t,e,r){return{min:BN(t,e),max:BN(t,r)}}function BN(t,e){return typeof t=="number"?t:t[e]||0}const HN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vi=()=>({x:HN(),y:HN()}),qN=()=>({min:0,max:0}),vt=()=>({x:qN(),y:qN()});function _r(t){return[t("x"),t("y")]}function D_({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function U$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $$(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Zf(t){return t===void 0||t===1}function rv({scale:t,scaleX:e,scaleY:r}){return!Zf(t)||!Zf(e)||!Zf(r)}function Aa(t){return rv(t)||L_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function L_(t){return KN(t.x)||KN(t.y)}function KN(t){return t&&t!=="0%"}function bh(t,e,r){const n=t-r,a=e*n;return r+a}function GN(t,e,r,n,a){return a!==void 0&&(t=bh(t,a,n)),bh(t,r,n)+e}function nv(t,e=0,r=1,n,a){t.min=GN(t.min,e,r,n,a),t.max=GN(t.max,e,r,n,a)}function M_(t,{x:e,y:r}){nv(t.x,e.translate,e.scale,e.originPoint),nv(t.y,r.translate,r.scale,r.originPoint)}const ZN=.999999999999,QN=1.0000000000001;function V$(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let l,c;for(let u=0;u<a;u++){l=r[u],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Bi(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,M_(t,c)),n&&Aa(l.latestValues)&&Bi(t,l.latestValues))}e.x<QN&&e.x>ZN&&(e.x=1),e.y<QN&&e.y>ZN&&(e.y=1)}function Wi(t,e){t.min=t.min+e,t.max=t.max+e}function XN(t,e,r,n,a=.5){const l=dt(t.min,t.max,a);nv(t,e,r,l,n)}function Bi(t,e){XN(t.x,e.x,e.scaleX,e.scale,e.originX),XN(t.y,e.y,e.scaleY,e.scale,e.originY)}function F_(t,e){return D_($$(t.getBoundingClientRect(),e))}function W$(t,e,r){const n=F_(t,r),{scroll:a}=e;return a&&(Wi(n.x,a.offset.x),Wi(n.y,a.offset.y)),n}const z_=({current:t})=>t?t.ownerDocument.defaultView:null,B$=new WeakMap;class H${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Dc(f).point)},l=(f,g)=>{const{drag:x,dragPropagation:k,onDragStart:j}=this.getProps();if(x&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=M9(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_r(b=>{let C=this.getAxisMotionValue(b).get()||0;if(Sn.test(C)){const{projection:_}=this.visualElement;if(_&&_.layout){const T=_.layout.layoutBox[b];T&&(C=br(T)*(parseFloat(C)/100))}}this.originPoint[b]=C}),j&&st.postRender(()=>j(f,g)),Kg(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(f,g)=>{const{dragPropagation:x,dragDirectionLock:k,onDirectionLock:j,onDrag:N}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:b}=g;if(k&&this.currentDirection===null){this.currentDirection=q$(b),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,b),this.updateAxis("y",g.point,b),this.visualElement.render(),N&&N(f,g)},u=(f,g)=>this.stop(f,g),h=()=>_r(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new R_(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:z_(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&st.postRender(()=>l(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!fu(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(c=O$(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;r&&Ui(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=D$(a.layoutBox,r):this.constraints=!1,this.elastic=z$(n),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&_r(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=F$(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ui(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=W$(n,a.root,this.visualElement.getTransformPagePoint());let c=L$(a.layout.layoutBox,l);if(r){const u=r(U$(c));this.hasMutatedConstraints=!!u,u&&(c=D_(u))}return c}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=_r(f=>{if(!fu(f,r,this.currentDirection))return;let g=h&&h[f]||{};c&&(g={min:0,max:0});const x=a?200:1e6,k=a?40:1e7,j={type:"inertia",velocity:n?e[f]:0,bounceStiffness:x,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(f,j)});return Promise.all(m).then(u)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Kg(this.visualElement,e),n.start(sy(e,n,0,r,this.visualElement,!1))}stopAnimation(){_r(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_r(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[r]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){_r(r=>{const{drag:n}=this.getProps();if(!fu(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(r);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[r];l.set(e[r]-dt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ui(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};_r(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();a[c]=M$({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),_r(c=>{if(!fu(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];u.set(dt(h,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;B$.set(this.visualElement,this);const e=this.visualElement.current,r=Hl(e,"pointerdown",h=>{const{drag:m,dragListener:f=!0}=this.getProps();m&&f&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();Ui(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),st.read(n);const c=mc(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(_r(f=>{const g=this.getAxisMotionValue(f);g&&(this.originPoint[f]+=h[f].translate,g.set(g.get()+h[f].translate))}),this.visualElement.render())}));return()=>{c(),r(),l(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=tv,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function fu(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function q$(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class K$ extends sa{constructor(e){super(e),this.removeGroupControls=xr,this.removeListeners=xr,this.controls=new H$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xr}unmount(){this.removeGroupControls(),this.removeListeners()}}const YN=t=>(e,r)=>{t&&st.postRender(()=>t(e,r))};class G$ extends sa{constructor(){super(...arguments),this.removePointerDownListener=xr}onPointerDown(e){this.session=new R_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:z_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:YN(e),onStart:YN(r),onMove:n,onEnd:(l,c)=>{delete this.session,a&&st.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Hl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function JN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Rl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const r=JN(t,e.target.x),n=JN(t,e.target.y);return`${r}% ${n}%`}},Z$={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=ea.parse(t);if(a.length>5)return n;const l=ea.createTransformer(t),c=typeof a[0]!="number"?1:0,u=r.x.scale*e.x,h=r.y.scale*e.y;a[0+c]/=u,a[1+c]/=h;const m=dt(u,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}};class Q$ extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:l}=e;g9(X$),l&&(r.group&&r.group.add(l),n&&n.register&&a&&n.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Lu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:l}=this.props,c=n.projection;return c&&(c.isPresent=l,a||e.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||st.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),I0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function U_(t){const[e,r]=NT(),n=y.useContext(S0);return i.jsx(Q$,{...t,layoutGroup:n,switchLayoutGroup:y.useContext(PT),isPresent:e,safeToRemove:r})}const X$={borderRadius:{...Rl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rl,borderTopRightRadius:Rl,borderBottomLeftRadius:Rl,borderBottomRightRadius:Rl,boxShadow:Z$};function Y$(t,e,r){const n=Vt(t)?t:hc(t);return n.start(sy("",n,e,r)),n.animation}function J$(t){return t instanceof SVGElement&&t.tagName!=="svg"}const eV=(t,e)=>t.depth-e.depth;class tV{constructor(){this.children=[],this.isDirty=!1}add(e){K0(this.children,e),this.isDirty=!0}remove(e){G0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eV),this.isDirty=!1,this.children.forEach(e)}}function rV(t,e){const r=Cn.now(),n=({timestamp:a})=>{const l=a-r;l>=e&&(Js(n),t(l-e))};return st.read(n,!0),()=>Js(n)}const $_=["TopLeft","TopRight","BottomLeft","BottomRight"],nV=$_.length,ek=t=>typeof t=="string"?parseFloat(t):t,tk=t=>typeof t=="number"||Ce.test(t);function sV(t,e,r,n,a,l){a?(t.opacity=dt(0,r.opacity!==void 0?r.opacity:1,aV(n)),t.opacityExit=dt(e.opacity!==void 0?e.opacity:1,0,iV(n))):l&&(t.opacity=dt(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let c=0;c<nV;c++){const u=`border${$_[c]}Radius`;let h=rk(e,u),m=rk(r,u);h===void 0&&m===void 0||(h||(h=0),m||(m=0),h===0||m===0||tk(h)===tk(m)?(t[u]=Math.max(dt(ek(h),ek(m),n),0),(Sn.test(m)||Sn.test(h))&&(t[u]+="%")):t[u]=m)}(e.rotate||r.rotate)&&(t.rotate=dt(e.rotate||0,r.rotate||0,n))}function rk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const aV=V_(0,.5,i_),iV=V_(.5,.95,xr);function V_(t,e,r){return n=>n<t?0:n>e?1:r(co(t,e,n))}function nk(t,e){t.min=e.min,t.max=e.max}function Er(t,e){nk(t.x,e.x),nk(t.y,e.y)}function sk(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ak(t,e,r,n,a){return t-=e,t=bh(t,1/r,n),a!==void 0&&(t=bh(t,1/a,n)),t}function oV(t,e=0,r=1,n=.5,a,l=t,c=t){if(Sn.test(e)&&(e=parseFloat(e),e=dt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=dt(l.min,l.max,n);t===l&&(u-=e),t.min=ak(t.min,e,r,u,a),t.max=ak(t.max,e,r,u,a)}function ik(t,e,[r,n,a],l,c){oV(t,e[r],e[n],e[a],e.scale,l,c)}const lV=["x","scaleX","originX"],cV=["y","scaleY","originY"];function ok(t,e,r,n){ik(t.x,e,lV,r?r.x:void 0,n?n.x:void 0),ik(t.y,e,cV,r?r.y:void 0,n?n.y:void 0)}function lk(t){return t.translate===0&&t.scale===1}function W_(t){return lk(t.x)&&lk(t.y)}function ck(t,e){return t.min===e.min&&t.max===e.max}function dV(t,e){return ck(t.x,e.x)&&ck(t.y,e.y)}function dk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function B_(t,e){return dk(t.x,e.x)&&dk(t.y,e.y)}function uk(t){return br(t.x)/br(t.y)}function hk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uV{constructor(){this.members=[]}add(e){K0(this.members,e),e.scheduleRender()}remove(e){if(G0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hV(t,e,r){let n="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(r==null?void 0:r.z)||0;if((a||l||c)&&(n=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:m,rotate:f,rotateX:g,rotateY:x,skewX:k,skewY:j}=r;m&&(n=`perspective(${m}px) ${n}`),f&&(n+=`rotate(${f}deg) `),g&&(n+=`rotateX(${g}deg) `),x&&(n+=`rotateY(${x}deg) `),k&&(n+=`skewX(${k}deg) `),j&&(n+=`skewY(${j}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(n+=`scale(${u}, ${h})`),n||"none"}const Ia={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Fl=typeof window<"u"&&window.MotionDebug!==void 0,Qf=["","X","Y","Z"],pV={visibility:"hidden"},pk=1e3;let mV=0;function Xf(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function H_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=JT(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",st,!(a||l))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&H_(n)}function q_({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(l={},c=e==null?void 0:e()){this.id=mV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fl&&(Ia.totalNodes=Ia.resolvedTargetDeltas=Ia.recalculatedProjection=0),this.nodes.forEach(vV),this.nodes.forEach(NV),this.nodes.forEach(kV),this.nodes.forEach(yV),Fl&&window.MotionDebug.record(Ia)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new tV)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Z0),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=J$(l),this.instance=l;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||u)&&(this.isLayoutDirty=!0),t){let f;const g=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=rV(g,250),Lu.hasAnimatedSinceResize&&(Lu.hasAnimatedSinceResize=!1,this.nodes.forEach(fk))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeTargetChanged:x,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||m.getDefaultTransition()||TV,{onLayoutAnimationStart:N,onLayoutAnimationComplete:b}=m.getProps(),C=!this.targetLayout||!B_(this.targetLayout,k)||x,_=!g&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const T={...W0(j,"layout"),onPlay:N,onComplete:b};(m.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else g||fk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jV),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&H_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const f=this.path[m];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mk);return}this.isUpdating||this.nodes.forEach(bV),this.isUpdating=!1,this.nodes.forEach(wV),this.nodes.forEach(fV),this.nodes.forEach(gV),this.clearAllSnapshots();const l=Cn.now();Lt.delta=cs(0,1e3/60,l-Lt.timestamp),Lt.timestamp=l,Lt.isProcessing=!0,$f.update.process(Lt),$f.preRender.process(Lt),$f.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,I0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xV),this.sharedNodes.forEach(SV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!W_(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&(c||Aa(this.latestValues)||m)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),_V(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return vt();const u=c.measureViewportBox();if(!(!((l=this.scroll)===null||l===void 0)&&l.wasRoot||this.path.some(PV))){const{scroll:h}=this.root;h&&(Wi(u.x,h.offset.x),Wi(u.y,h.offset.y))}return u}removeElementScroll(l){var c;const u=vt();if(Er(u,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return u;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:f,options:g}=m;m!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&Er(u,l),Wi(u.x,f.offset.x),Wi(u.y,f.offset.y))}return u}applyTransform(l,c=!1){const u=vt();Er(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Bi(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Aa(m.latestValues)&&Bi(u,m.latestValues)}return Aa(this.latestValues)&&Bi(u,this.latestValues),u}removeTransform(l){const c=vt();Er(c,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Aa(h.latestValues))continue;rv(h.latestValues)&&h.updateSnapshot();const m=vt(),f=h.measurePageBox();Er(m,f),ok(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Aa(this.latestValues)&&ok(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:f}=this.options;if(!(!this.layout||!(m||f))){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Kl(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Er(this.target,this.layout.layoutBox),M_(this.target,this.targetDelta)):Er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Kl(this.relativeTargetOrigin,this.target,g.target),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fl&&Ia.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rv(this.parent.latestValues)||L_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(h=!1),h)return;const{layout:m,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||f))return;Er(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;V$(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=vt());const{target:k}=c;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sk(this.prevProjectionDelta.x,this.projectionDelta.x),sk(this.prevProjectionDelta.y,this.projectionDelta.y)),ql(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!hk(this.projectionDelta.x,this.prevProjectionDelta.x)||!hk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),Fl&&Ia.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vi(),this.projectionDelta=Vi(),this.projectionDeltaWithTransform=Vi()}setAnimationOrigin(l,c=!1){const u=this.snapshot,h=u?u.latestValues:{},m={...this.latestValues},f=Vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=vt(),x=u?u.source:void 0,k=this.layout?this.layout.source:void 0,j=x!==k,N=this.getStack(),b=!N||N.members.length<=1,C=!!(j&&!b&&this.options.crossfade===!0&&!this.path.some(EV));this.animationProgress=0;let _;this.mixTargetDelta=T=>{const P=T/1e3;gk(f.x,l.x,P),gk(f.y,l.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kl(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CV(this.relativeTarget,this.relativeTargetOrigin,g,P),_&&dV(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=vt()),Er(_,this.relativeTarget)),j&&(this.animationValues=m,sV(m,h,this.latestValues,P,C,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Lu.hasAnimatedSinceResize=!0,this.currentAnimation=Y$(0,pk,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:m}=l;if(!(!c||!u||!h)){if(this!==l&&this.layout&&h&&K_(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||vt();const f=br(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+f;const g=br(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+g}Er(c,u),Bi(c,m),ql(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new uV),this.sharedNodes.get(l).add(c);const u=c.options.initialPromotionConfig;c.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&Xf("z",l,h,this.animationValues);for(let m=0;m<Qf.length;m++)Xf(`rotate${Qf[m]}`,l,h,this.animationValues),Xf(`skew${Qf[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}getProjectionStyles(l){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pV;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Ou(l==null?void 0:l.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=Ou(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Aa(this.latestValues)&&(j.transform=m?m({},""):"none",this.hasProjected=!1),j}const g=f.animationValues||f.latestValues;this.applyTransformsToTarget(),h.transform=hV(this.projectionDeltaWithTransform,this.treeScale,g),m&&(h.transform=m(g,h.transform));const{x,y:k}=this.projectionDelta;h.transformOrigin=`${x.origin*100}% ${k.origin*100}% 0`,f.animationValues?h.opacity=f===this?(u=(c=g.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const j in fh){if(g[j]===void 0)continue;const{correct:N,applyTo:b}=fh[j],C=h.transform==="none"?g[j]:N(g[j],f);if(b){const _=b.length;for(let T=0;T<_;T++)h[b[T]]=C}else h[j]=C}return this.options.layoutId&&(h.pointerEvents=f===this?Ou(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(mk),this.root.sharedNodes.clear()}}}function fV(t){t.updateLayout()}function gV(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:l}=t.options,c=r.source!==t.layout.source;l==="size"?_r(g=>{const x=c?r.measuredBox[g]:r.layoutBox[g],k=br(x);x.min=n[g].min,x.max=x.min+k}):K_(l,r.layoutBox,n)&&_r(g=>{const x=c?r.measuredBox[g]:r.layoutBox[g],k=br(n[g]);x.max=x.min+k,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+k)});const u=Vi();ql(u,n,r.layoutBox);const h=Vi();c?ql(h,t.applyTransform(a,!0),r.measuredBox):ql(h,n,r.layoutBox);const m=!W_(u);let f=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:k}=g;if(x&&k){const j=vt();Kl(j,r.layoutBox,x.layoutBox);const N=vt();Kl(N,n,k.layoutBox),B_(j,N)||(f=!0),g.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=j,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function vV(t){Fl&&Ia.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xV(t){t.clearSnapshot()}function mk(t){t.clearMeasurements()}function bV(t){t.isLayoutDirty=!1}function wV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function NV(t){t.resolveTargetDelta()}function kV(t){t.calcProjection()}function jV(t){t.resetSkewAndRotation()}function SV(t){t.removeLeadSnapshot()}function gk(t,e,r){t.translate=dt(e.translate,0,r),t.scale=dt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function vk(t,e,r,n){t.min=dt(e.min,r.min,n),t.max=dt(e.max,r.max,n)}function CV(t,e,r,n){vk(t.x,e.x,r.x,n),vk(t.y,e.y,r.y,n)}function EV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const TV={duration:.45,ease:[.4,0,.1,1]},yk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xk=yk("applewebkit/")&&!yk("chrome/")?Math.round:xr;function bk(t){t.min=xk(t.min),t.max=xk(t.max)}function _V(t){bk(t.x),bk(t.y)}function K_(t,e,r){return t==="position"||t==="preserve-aspect"&&!A$(uk(e),uk(r),.2)}function PV(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const RV=q_({attachResizeListener:(t,e)=>mc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yf={current:void 0},G_=q_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yf.current){const t=new RV({});t.mount(window),t.setOptions({layoutScroll:!0}),Yf.current=t}return Yf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),AV={pan:{Feature:G$},drag:{Feature:K$,ProjectionNode:G_,MeasureLayout:U_}};function wk(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,l=n[a];l&&st.postRender(()=>l(e,Dc(e)))}class IV extends sa{mount(){const{current:e}=this.node;e&&(this.unmount=A9(e,r=>(wk(this.node,r,"Start"),n=>wk(this.node,n,"End"))))}unmount(){}}class OV extends sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oc(mc(this.node.current,"focus",()=>this.onFocus()),mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Nk(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),l=n[a];l&&st.postRender(()=>l(e,Dc(e)))}class DV extends sa{mount(){const{current:e}=this.node;e&&(this.unmount=L9(e,r=>(Nk(this.node,r,"Start"),(n,{success:a})=>Nk(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sv=new WeakMap,Jf=new WeakMap,LV=t=>{const e=sv.get(t.target);e&&e(t)},MV=t=>{t.forEach(LV)};function FV({root:t,...e}){const r=t||document;Jf.has(r)||Jf.set(r,{});const n=Jf.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(MV,{root:t,...e})),n[a]}function zV(t,e,r){const n=FV(e);return sv.set(t,r),n.observe(t),()=>{sv.delete(t),n.unobserve(t)}}const UV={some:0,all:1};class $V extends sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:l}=e,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:UV[a]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),x=m?f:g;x&&x(h)};return zV(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(VV(e,r))&&this.startObserver()}unmount(){}}function VV({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const WV={inView:{Feature:$V},tap:{Feature:DV},focus:{Feature:OV},hover:{Feature:IV}},BV={layout:{ProjectionNode:G_,MeasureLayout:U_}},av={current:null},Z_={current:!1};function HV(){if(Z_.current=!0,!!T0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>av.current=t.matches;t.addListener(e),e()}else av.current=!1}const qV=[...b_,$t,ea],KV=t=>qV.find(x_(t)),kk=new WeakMap;function GV(t,e,r){for(const n in e){const a=e[n],l=r[n];if(Vt(a))t.addValue(n,a);else if(Vt(l))t.addValue(n,hc(a,{owner:t}));else if(l!==a)if(t.hasValue(n)){const c=t.getValue(n);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(n);t.addValue(n,hc(c!==void 0?c:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const jk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZV{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ty,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const k=Cn.now();this.renderScheduledAt<k&&(this.renderScheduledAt=k,st.render(this.render,!1,!0))};const{latestValues:h,renderState:m,onUpdate:f}=c;this.onUpdate=f,this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=pp(r),this.isVariantNode=TT(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(r,{},this);for(const k in x){const j=x[k];h[k]!==void 0&&Vt(j)&&j.set(h[k],!1)}}mount(e){this.current=e,kk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Z_.current||HV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:av.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kk.delete(this.current),this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Xa.has(e),a=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&st.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in uo){const r=uo[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<jk.length;n++){const a=jk[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=GV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=hc(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(v_(a)||l_(a))?a=parseFloat(a):!KV(a)&&ea.test(r)&&(a=m_(e,r)),this.setBaseTarget(e,Vt(a)?a.get():a)),Vt(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const c=D0(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);c&&(a=c[e])}if(n&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Vt(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Z0),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class Q_ extends ZV{constructor(){super(...arguments),this.KeyframeResolver=w_}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function QV(t){return window.getComputedStyle(t)}class XV extends Q_{constructor(){super(...arguments),this.type="html",this.renderInstance=MT}readValueFromInstance(e,r){if(Xa.has(r)){const n=ey(r);return n&&n.default||0}else{const n=QV(e),a=(OT(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return F_(e,r)}build(e,r,n){F0(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return V0(e,r,n)}}class YV extends Q_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Xa.has(r)){const n=ey(r);return n&&n.default||0}return r=FT.has(r)?r:A0(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return $T(e,r,n)}build(e,r,n){z0(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,a){zT(e,r,n,a)}mount(e){this.isSVGTag=$0(e.tagName),super.mount(e)}}const JV=(t,e)=>O0(t)?new YV(e):new XV(e,{allowProjection:t!==y.Fragment}),eW=S9({...k$,...WV,...AV,...BV},JV),we=U7(eW);function tW(t,e=300){const[r,n]=y.useState(t);return y.useEffect(()=>{const a=setTimeout(()=>n(t),e);return()=>clearTimeout(a)},[t,e]),r}var Ge;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const l={};for(const c of a)l[c]=c;return l},t.getValidEnumValues=a=>{const l=t.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),c={};for(const u of l)c[u]=a[u];return t.objectValues(c)},t.objectValues=a=>t.objectKeys(a).map(function(l){return a[l]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&l.push(c);return l},t.find=(a,l)=>{for(const c of a)if(l(c))return c},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,l=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}t.joinValues=n,t.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(Ge||(Ge={}));var Sk;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Sk||(Sk={}));const ge=Ge.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Us=t=>{switch(typeof t){case"undefined":return ge.undefined;case"string":return ge.string;case"number":return Number.isNaN(t)?ge.nan:ge.number;case"boolean":return ge.boolean;case"function":return ge.function;case"bigint":return ge.bigint;case"symbol":return ge.symbol;case"object":return Array.isArray(t)?ge.array:t===null?ge.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ge.promise:typeof Map<"u"&&t instanceof Map?ge.map:typeof Set<"u"&&t instanceof Set?ge.set:typeof Date<"u"&&t instanceof Date?ge.date:ge.object;default:return ge.unknown}},re=Ge.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ds extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(l){return l.message},n={_errors:[]},a=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(a);else if(c.code==="invalid_return_type")a(c.returnTypeError);else if(c.code==="invalid_arguments")a(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let u=n,h=0;for(;h<c.path.length;){const m=c.path[h];h===c.path.length-1?(u[m]=u[m]||{_errors:[]},u[m]._errors.push(r(c))):u[m]=u[m]||{_errors:[]},u=u[m],h++}}};return a(this),n}static assert(e){if(!(e instanceof ds))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ge.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const l=a.path[0];r[l]=r[l]||[],r[l].push(e(a))}else n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ds.create=t=>new ds(t);const iv=(t,e)=>{let r;switch(t.code){case re.invalid_type:t.received===ge.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ge.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ge.joinValues(t.keys,", ")}`;break;case re.invalid_union:r="Invalid input";break;case re.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ge.joinValues(t.options)}`;break;case re.invalid_enum_value:r=`Invalid enum value. Expected ${Ge.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:r="Invalid function arguments";break;case re.invalid_return_type:r="Invalid function return type";break;case re.invalid_date:r="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ge.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case re.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case re.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case re.custom:r="Invalid input";break;case re.invalid_intersection_types:r="Intersection results could not be merged";break;case re.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ge.assertNever(t)}return{message:r}};let rW=iv;function nW(){return rW}const sW=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,l=[...r,...a.path||[]],c={...a,path:l};if(a.message!==void 0)return{...a,path:l,message:a.message};let u="";const h=n.filter(m=>!!m).slice().reverse();for(const m of h)u=m(c,{data:e,defaultError:u}).message;return{...a,path:l,message:u}};function ce(t,e){const r=nW(),n=sW({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===iv?void 0:iv].filter(a=>!!a)});t.common.issues.push(n)}class Xt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return Re;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const l=await a.key,c=await a.value;n.push({key:l,value:c})}return Xt.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:l,value:c}=a;if(l.status==="aborted"||c.status==="aborted")return Re;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||a.alwaysSet)&&(n[l.value]=c.value)}return{status:e.value,value:n}}}const Re=Object.freeze({status:"aborted"}),ov=t=>({status:"dirty",value:t}),zr=t=>({status:"valid",value:t}),Ck=t=>t.status==="aborted",Ek=t=>t.status==="dirty",po=t=>t.status==="valid",wh=t=>typeof Promise<"u"&&t instanceof Promise;var ye;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ye||(ye={}));class Rn{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Tk=(t,e)=>{if(po(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ds(t.common.issues);return this._error=r,this._error}}};function Oe(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(l,c)=>{const{message:u}=t;return l.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??n??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:u??r??c.defaultError}},description:a}}class Ue{get description(){return this._def.description}_getType(e){return Us(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Us(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xt,ctx:{common:e.parent.common,data:e.data,parsedType:Us(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(wh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Us(e)},a=this._parseSync({data:e,path:n.path,parent:n});return Tk(n,a)}"~validate"(e){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Us(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:a});return po(l)?{value:l.value}:{issues:a.common.issues}}catch(l){(n=(r=l==null?void 0:l.message)==null?void 0:r.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(l=>po(l)?{value:l.value}:{issues:a.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Us(e)},a=this._parse({data:e,path:n.path,parent:n}),l=await(wh(a)?a:Promise.resolve(a));return Tk(n,l)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,l)=>{const c=e(a),u=()=>l.addIssue({code:re.custom,...n(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new go({schema:this,typeName:Pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ks.create(this,this._def)}nullable(){return vo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return En.create(this)}promise(){return Ch.create(this,this._def)}or(e){return kh.create([this,e],this._def)}and(e){return jh.create(this,e,this._def)}transform(e){return new go({...Oe(this._def),schema:this,typeName:Pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new uv({...Oe(this._def),innerType:this,defaultValue:r,typeName:Pe.ZodDefault})}brand(){return new EW({typeName:Pe.ZodBranded,type:this,...Oe(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new hv({...Oe(this._def),innerType:this,catchValue:r,typeName:Pe.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ay.create(this,e)}readonly(){return pv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const aW=/^c[^\s-]{8,}$/i,iW=/^[0-9a-z]+$/,oW=/^[0-9A-HJKMNP-TV-Z]{26}$/i,lW=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cW=/^[a-z0-9_-]{21}$/i,dW=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,hW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let eg;const mW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,gW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xW=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,X_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bW=new RegExp(`^${X_}$`);function Y_(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function wW(t){return new RegExp(`^${Y_(t)}$`)}function NW(t){let e=`${X_}T${Y_(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function kW(t,e){return!!((e==="v4"||!e)&&mW.test(t)||(e==="v6"||!e)&&gW.test(t))}function jW(t,e){if(!dW.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function SW(t,e){return!!((e==="v4"||!e)&&fW.test(t)||(e==="v6"||!e)&&vW.test(t))}class es extends Ue{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ge.string){const a=this._getOrReturnCtx(e);return ce(a,{code:re.invalid_type,expected:ge.string,received:a.parsedType}),Re}const r=new Xt;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),ce(n,{code:re.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),ce(n,{code:re.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,c=e.data.length<a.value;(l||c)&&(n=this._getOrReturnCtx(e,n),l?ce(n,{code:re.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&ce(n,{code:re.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")hW.test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"email",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")eg||(eg=new RegExp(pW,"u")),eg.test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"emoji",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")lW.test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"uuid",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")cW.test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"nanoid",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")aW.test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"cuid",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")iW.test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"cuid2",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")oW.test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"ulid",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),ce(n,{validation:"url",code:re.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"regex",code:re.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),ce(n,{code:re.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),ce(n,{code:re.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),ce(n,{code:re.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?NW(a).test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{code:re.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?bW.test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{code:re.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?wW(a).test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{code:re.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?uW.test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"duration",code:re.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?kW(e.data,a.version)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"ip",code:re.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?jW(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"jwt",code:re.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?SW(e.data,a.version)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"cidr",code:re.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?yW.test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"base64",code:re.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?xW.test(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{validation:"base64url",code:re.invalid_string,message:a.message}),r.dirty()):Ge.assertNever(a);return{status:r.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:re.invalid_string,...ye.errToObj(n)})}_addCheck(e){return new es({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ye.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ye.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ye.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ye.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ye.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ye.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ye.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ye.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ye.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ye.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ye.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ye.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ye.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ye.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ye.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ye.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ye.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ye.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ye.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ye.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ye.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ye.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ye.errToObj(r)})}nonempty(e){return this.min(1,ye.errToObj(e))}trim(){return new es({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new es({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new es({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}es.create=t=>new es({checks:[],typeName:Pe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Oe(t)});function CW(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,l=Number.parseInt(t.toFixed(a).replace(".","")),c=Number.parseInt(e.toFixed(a).replace(".",""));return l%c/10**a}class mo extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ge.number){const a=this._getOrReturnCtx(e);return ce(a,{code:re.invalid_type,expected:ge.number,received:a.parsedType}),Re}let r;const n=new Xt;for(const a of this._def.checks)a.kind==="int"?Ge.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:re.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?CW(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:re.not_finite,message:a.message}),n.dirty()):Ge.assertNever(a);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ye.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ye.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ye.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ye.toString(r))}setLimit(e,r,n,a){return new mo({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ye.toString(a)}]})}_addCheck(e){return new mo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ye.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ye.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ye.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ye.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ye.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ge.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}mo.create=t=>new mo({checks:[],typeName:Pe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Oe(t)});class fc extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ge.bigint)return this._getInvalidInput(e);let r;const n=new Xt;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):Ge.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.bigint,received:r.parsedType}),Re}gte(e,r){return this.setLimit("min",e,!0,ye.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ye.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ye.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ye.toString(r))}setLimit(e,r,n,a){return new fc({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ye.toString(a)}]})}_addCheck(e){return new fc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}fc.create=t=>new fc({checks:[],typeName:Pe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Oe(t)});class lv extends Ue{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ge.boolean){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.boolean,received:r.parsedType}),Re}return zr(e.data)}}lv.create=t=>new lv({typeName:Pe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Oe(t)});class Nh extends Ue{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ge.date){const a=this._getOrReturnCtx(e);return ce(a,{code:re.invalid_type,expected:ge.date,received:a.parsedType}),Re}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ce(a,{code:re.invalid_date}),Re}const r=new Xt;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),ce(n,{code:re.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),ce(n,{code:re.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Ge.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Nh({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ye.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ye.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Nh.create=t=>new Nh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Pe.ZodDate,...Oe(t)});class _k extends Ue{_parse(e){if(this._getType(e)!==ge.symbol){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.symbol,received:r.parsedType}),Re}return zr(e.data)}}_k.create=t=>new _k({typeName:Pe.ZodSymbol,...Oe(t)});class Pk extends Ue{_parse(e){if(this._getType(e)!==ge.undefined){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.undefined,received:r.parsedType}),Re}return zr(e.data)}}Pk.create=t=>new Pk({typeName:Pe.ZodUndefined,...Oe(t)});class Rk extends Ue{_parse(e){if(this._getType(e)!==ge.null){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.null,received:r.parsedType}),Re}return zr(e.data)}}Rk.create=t=>new Rk({typeName:Pe.ZodNull,...Oe(t)});class cv extends Ue{constructor(){super(...arguments),this._any=!0}_parse(e){return zr(e.data)}}cv.create=t=>new cv({typeName:Pe.ZodAny,...Oe(t)});class Ak extends Ue{constructor(){super(...arguments),this._unknown=!0}_parse(e){return zr(e.data)}}Ak.create=t=>new Ak({typeName:Pe.ZodUnknown,...Oe(t)});class ta extends Ue{_parse(e){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.never,received:r.parsedType}),Re}}ta.create=t=>new ta({typeName:Pe.ZodNever,...Oe(t)});class Ik extends Ue{_parse(e){if(this._getType(e)!==ge.undefined){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.void,received:r.parsedType}),Re}return zr(e.data)}}Ik.create=t=>new Ik({typeName:Pe.ZodVoid,...Oe(t)});class En extends Ue{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==ge.array)return ce(r,{code:re.invalid_type,expected:ge.array,received:r.parsedType}),Re;if(a.exactLength!==null){const c=r.data.length>a.exactLength.value,u=r.data.length<a.exactLength.value;(c||u)&&(ce(r,{code:c?re.too_big:re.too_small,minimum:u?a.exactLength.value:void 0,maximum:c?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ce(r,{code:re.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ce(r,{code:re.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,u)=>a.type._parseAsync(new Rn(r,c,r.path,u)))).then(c=>Xt.mergeArray(n,c));const l=[...r.data].map((c,u)=>a.type._parseSync(new Rn(r,c,r.path,u)));return Xt.mergeArray(n,l)}get element(){return this._def.type}min(e,r){return new En({...this._def,minLength:{value:e,message:ye.toString(r)}})}max(e,r){return new En({...this._def,maxLength:{value:e,message:ye.toString(r)}})}length(e,r){return new En({...this._def,exactLength:{value:e,message:ye.toString(r)}})}nonempty(e){return this.min(1,e)}}En.create=(t,e)=>new En({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Pe.ZodArray,...Oe(e)});function Fi(t){if(t instanceof wt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Ks.create(Fi(n))}return new wt({...t._def,shape:()=>e})}else return t instanceof En?new En({...t._def,type:Fi(t.element)}):t instanceof Ks?Ks.create(Fi(t.unwrap())):t instanceof vo?vo.create(Fi(t.unwrap())):t instanceof Wa?Wa.create(t.items.map(e=>Fi(e))):t}class wt extends Ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ge.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==ge.object){const h=this._getOrReturnCtx(e);return ce(h,{code:re.invalid_type,expected:ge.object,received:h.parsedType}),Re}const{status:r,ctx:n}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof ta&&this._def.unknownKeys==="strip"))for(const h in n.data)l.includes(h)||c.push(h);const u=[];for(const h of l){const m=a[h],f=n.data[h];u.push({key:{status:"valid",value:h},value:m._parse(new Rn(n,f,n.path,h)),alwaysSet:h in n.data})}if(this._def.catchall instanceof ta){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of c)u.push({key:{status:"valid",value:m},value:{status:"valid",value:n.data[m]}});else if(h==="strict")c.length>0&&(ce(n,{code:re.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of c){const f=n.data[m];u.push({key:{status:"valid",value:m},value:h._parse(new Rn(n,f,n.path,m)),alwaysSet:m in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of u){const f=await m.key,g=await m.value;h.push({key:f,value:g,alwaysSet:m.alwaysSet})}return h}).then(h=>Xt.mergeObjectSync(r,h)):Xt.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return ye.errToObj,new wt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,l;const c=((l=(a=this._def).errorMap)==null?void 0:l.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ye.errToObj(e).message??c}:{message:c}}}:{}})}strip(){return new wt({...this._def,unknownKeys:"strip"})}passthrough(){return new wt({...this._def,unknownKeys:"passthrough"})}extend(e){return new wt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new wt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Pe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new wt({...this._def,catchall:e})}pick(e){const r={};for(const n of Ge.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new wt({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Ge.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new wt({...this._def,shape:()=>r})}deepPartial(){return Fi(this)}partial(e){const r={};for(const n of Ge.objectKeys(this.shape)){const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}return new wt({...this._def,shape:()=>r})}required(e){const r={};for(const n of Ge.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ks;)a=a._def.innerType;r[n]=a}return new wt({...this._def,shape:()=>r})}keyof(){return J_(Ge.objectKeys(this.shape))}}wt.create=(t,e)=>new wt({shape:()=>t,unknownKeys:"strip",catchall:ta.create(),typeName:Pe.ZodObject,...Oe(e)});wt.strictCreate=(t,e)=>new wt({shape:()=>t,unknownKeys:"strict",catchall:ta.create(),typeName:Pe.ZodObject,...Oe(e)});wt.lazycreate=(t,e)=>new wt({shape:t,unknownKeys:"strip",catchall:ta.create(),typeName:Pe.ZodObject,...Oe(e)});class kh extends Ue{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(l){for(const u of l)if(u.result.status==="valid")return u.result;for(const u of l)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const c=l.map(u=>new ds(u.ctx.common.issues));return ce(r,{code:re.invalid_union,unionErrors:c}),Re}if(r.common.async)return Promise.all(n.map(async l=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await l._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(a);{let l;const c=[];for(const h of n){const m={...r,common:{...r.common,issues:[]},parent:null},f=h._parseSync({data:r.data,path:r.path,parent:m});if(f.status==="valid")return f;f.status==="dirty"&&!l&&(l={result:f,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(l)return r.common.issues.push(...l.ctx.common.issues),l.result;const u=c.map(h=>new ds(h));return ce(r,{code:re.invalid_union,unionErrors:u}),Re}}get options(){return this._def.options}}kh.create=(t,e)=>new kh({options:t,typeName:Pe.ZodUnion,...Oe(e)});function dv(t,e){const r=Us(t),n=Us(e);if(t===e)return{valid:!0,data:t};if(r===ge.object&&n===ge.object){const a=Ge.objectKeys(e),l=Ge.objectKeys(t).filter(u=>a.indexOf(u)!==-1),c={...t,...e};for(const u of l){const h=dv(t[u],e[u]);if(!h.valid)return{valid:!1};c[u]=h.data}return{valid:!0,data:c}}else if(r===ge.array&&n===ge.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let l=0;l<t.length;l++){const c=t[l],u=e[l],h=dv(c,u);if(!h.valid)return{valid:!1};a.push(h.data)}return{valid:!0,data:a}}else return r===ge.date&&n===ge.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class jh extends Ue{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(l,c)=>{if(Ck(l)||Ck(c))return Re;const u=dv(l.value,c.value);return u.valid?((Ek(l)||Ek(c))&&r.dirty(),{status:r.value,value:u.data}):(ce(n,{code:re.invalid_intersection_types}),Re)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([l,c])=>a(l,c)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}jh.create=(t,e,r)=>new jh({left:t,right:e,typeName:Pe.ZodIntersection,...Oe(r)});class Wa extends Ue{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.array)return ce(n,{code:re.invalid_type,expected:ge.array,received:n.parsedType}),Re;if(n.data.length<this._def.items.length)return ce(n,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Re;!this._def.rest&&n.data.length>this._def.items.length&&(ce(n,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((l,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new Rn(n,l,n.path,c)):null}).filter(l=>!!l);return n.common.async?Promise.all(a).then(l=>Xt.mergeArray(r,l)):Xt.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Wa({...this._def,rest:e})}}Wa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wa({items:t,typeName:Pe.ZodTuple,rest:null,...Oe(e)})};class Sh extends Ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.object)return ce(n,{code:re.invalid_type,expected:ge.object,received:n.parsedType}),Re;const a=[],l=this._def.keyType,c=this._def.valueType;for(const u in n.data)a.push({key:l._parse(new Rn(n,u,n.path,u)),value:c._parse(new Rn(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?Xt.mergeObjectAsync(r,a):Xt.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Ue?new Sh({keyType:e,valueType:r,typeName:Pe.ZodRecord,...Oe(n)}):new Sh({keyType:es.create(),valueType:e,typeName:Pe.ZodRecord,...Oe(r)})}}class Ok extends Ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.map)return ce(n,{code:re.invalid_type,expected:ge.map,received:n.parsedType}),Re;const a=this._def.keyType,l=this._def.valueType,c=[...n.data.entries()].map(([u,h],m)=>({key:a._parse(new Rn(n,u,n.path,[m,"key"])),value:l._parse(new Rn(n,h,n.path,[m,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const h of c){const m=await h.key,f=await h.value;if(m.status==="aborted"||f.status==="aborted")return Re;(m.status==="dirty"||f.status==="dirty")&&r.dirty(),u.set(m.value,f.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const h of c){const m=h.key,f=h.value;if(m.status==="aborted"||f.status==="aborted")return Re;(m.status==="dirty"||f.status==="dirty")&&r.dirty(),u.set(m.value,f.value)}return{status:r.value,value:u}}}}Ok.create=(t,e,r)=>new Ok({valueType:e,keyType:t,typeName:Pe.ZodMap,...Oe(r)});class gc extends Ue{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.set)return ce(n,{code:re.invalid_type,expected:ge.set,received:n.parsedType}),Re;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(ce(n,{code:re.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(ce(n,{code:re.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const l=this._def.valueType;function c(h){const m=new Set;for(const f of h){if(f.status==="aborted")return Re;f.status==="dirty"&&r.dirty(),m.add(f.value)}return{status:r.value,value:m}}const u=[...n.data.values()].map((h,m)=>l._parse(new Rn(n,h,n.path,m)));return n.common.async?Promise.all(u).then(h=>c(h)):c(u)}min(e,r){return new gc({...this._def,minSize:{value:e,message:ye.toString(r)}})}max(e,r){return new gc({...this._def,maxSize:{value:e,message:ye.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}gc.create=(t,e)=>new gc({valueType:t,minSize:null,maxSize:null,typeName:Pe.ZodSet,...Oe(e)});class Dk extends Ue{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Dk.create=(t,e)=>new Dk({getter:t,typeName:Pe.ZodLazy,...Oe(e)});class Lk extends Ue{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return ce(r,{received:r.data,code:re.invalid_literal,expected:this._def.value}),Re}return{status:"valid",value:e.data}}get value(){return this._def.value}}Lk.create=(t,e)=>new Lk({value:t,typeName:Pe.ZodLiteral,...Oe(e)});function J_(t,e){return new fo({values:t,typeName:Pe.ZodEnum,...Oe(e)})}class fo extends Ue{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return ce(r,{expected:Ge.joinValues(n),received:r.parsedType,code:re.invalid_type}),Re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return ce(r,{received:r.data,code:re.invalid_enum_value,options:n}),Re}return zr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return fo.create(e,{...this._def,...r})}exclude(e,r=this._def){return fo.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}fo.create=J_;class Mk extends Ue{_parse(e){const r=Ge.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ge.string&&n.parsedType!==ge.number){const a=Ge.objectValues(r);return ce(n,{expected:Ge.joinValues(a),received:n.parsedType,code:re.invalid_type}),Re}if(this._cache||(this._cache=new Set(Ge.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Ge.objectValues(r);return ce(n,{received:n.data,code:re.invalid_enum_value,options:a}),Re}return zr(e.data)}get enum(){return this._def.values}}Mk.create=(t,e)=>new Mk({values:t,typeName:Pe.ZodNativeEnum,...Oe(e)});class Ch extends Ue{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.promise&&r.common.async===!1)return ce(r,{code:re.invalid_type,expected:ge.promise,received:r.parsedType}),Re;const n=r.parsedType===ge.promise?r.data:Promise.resolve(r.data);return zr(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ch.create=(t,e)=>new Ch({type:t,typeName:Pe.ZodPromise,...Oe(e)});class go extends Ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,l={addIssue:c=>{ce(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(l.addIssue=l.addIssue.bind(l),a.type==="preprocess"){const c=a.transform(n.data,l);if(n.common.async)return Promise.resolve(c).then(async u=>{if(r.value==="aborted")return Re;const h=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return h.status==="aborted"?Re:h.status==="dirty"||r.value==="dirty"?ov(h.value):h});{if(r.value==="aborted")return Re;const u=this._def.schema._parseSync({data:c,path:n.path,parent:n});return u.status==="aborted"?Re:u.status==="dirty"||r.value==="dirty"?ov(u.value):u}}if(a.type==="refinement"){const c=u=>{const h=a.refinement(u,l);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Re:(u.status==="dirty"&&r.dirty(),c(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Re:(u.status==="dirty"&&r.dirty(),c(u.value).then(()=>({status:r.value,value:u.value}))))}if(a.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!po(c))return Re;const u=a.transform(c.value,l);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>po(c)?Promise.resolve(a.transform(c.value,l)).then(u=>({status:r.value,value:u})):Re);Ge.assertNever(a)}}go.create=(t,e,r)=>new go({schema:t,typeName:Pe.ZodEffects,effect:e,...Oe(r)});go.createWithPreprocess=(t,e,r)=>new go({schema:e,effect:{type:"preprocess",transform:t},typeName:Pe.ZodEffects,...Oe(r)});class Ks extends Ue{_parse(e){return this._getType(e)===ge.undefined?zr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ks.create=(t,e)=>new Ks({innerType:t,typeName:Pe.ZodOptional,...Oe(e)});class vo extends Ue{_parse(e){return this._getType(e)===ge.null?zr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vo.create=(t,e)=>new vo({innerType:t,typeName:Pe.ZodNullable,...Oe(e)});class uv extends Ue{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ge.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}uv.create=(t,e)=>new uv({innerType:t,typeName:Pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Oe(e)});class hv extends Ue{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return wh(a)?a.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new ds(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ds(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}hv.create=(t,e)=>new hv({innerType:t,typeName:Pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Oe(e)});class Fk extends Ue{_parse(e){if(this._getType(e)!==ge.nan){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.nan,received:r.parsedType}),Re}return{status:"valid",value:e.data}}}Fk.create=t=>new Fk({typeName:Pe.ZodNaN,...Oe(t)});class EW extends Ue{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ay extends Ue{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Re:a.status==="dirty"?(r.dirty(),ov(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Re:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new ay({in:e,out:r,typeName:Pe.ZodPipeline})}}class pv extends Ue{_parse(e){const r=this._def.innerType._parse(e),n=a=>(po(a)&&(a.value=Object.freeze(a.value)),a);return wh(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}pv.create=(t,e)=>new pv({innerType:t,typeName:Pe.ZodReadonly,...Oe(e)});var Pe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Pe||(Pe={}));const lt=es.create,yt=mo.create,eP=lv.create,Hi=cv.create;ta.create;const vn=En.create,Yr=wt.create;kh.create;jh.create;Wa.create;const tP=Sh.create;fo.create;Ch.create;Ks.create;vo.create;const TW=Yr({id:yt(),title:lt().optional(),name:lt().optional(),poster_path:lt().nullable().optional(),backdrop_path:lt().nullable().optional(),release_date:lt().optional(),first_air_date:lt().optional(),genre_ids:vn(yt()).optional(),media_type:lt().optional(),overview:lt().optional(),vote_average:yt().optional(),popularity:yt().optional(),adult:eP().optional()}).strip(),_W=Yr({results:vn(TW).optional()}).strip(),PW=Yr({id:yt(),title:lt().optional(),name:lt().optional(),poster_path:lt().nullable().optional(),backdrop_path:lt().nullable().optional(),release_date:lt().optional(),first_air_date:lt().optional(),overview:lt().nullable().optional(),genres:vn(Yr({id:yt().optional(),name:lt().optional()})).optional(),vote_average:yt().optional(),popularity:yt().optional(),adult:eP().optional(),runtime:yt().nullable().optional(),episode_run_time:vn(yt()).optional(),status:lt().optional(),videos:Yr({results:vn(Hi()).optional()}).optional(),external_ids:Yr({imdb_id:lt().nullable().optional()}).optional(),homepage:lt().nullable().optional(),tagline:lt().nullable().optional(),production_companies:vn(Hi()).optional(),credits:Yr({cast:vn(Hi()).optional(),crew:vn(Hi()).optional()}).optional()}).strip(),RW=Yr({provider_id:yt().optional(),provider_name:lt().optional(),logo_path:lt().nullable().optional(),display_priority:yt().optional(),monetization_type:lt().optional()}).strip();Yr({platforms:vn(RW).optional(),totalPlatforms:yt().optional(),affiliatePlatforms:yt().optional(),premiumPlatforms:yt().optional(),freePlatforms:yt().optional(),sources:tP(Hi()).optional()}).strip();Yr({results:tP(Hi()).default({}),order:vn(yt()).optional(),stats:Yr({requested:yt().optional(),processed:yt().optional(),returned:yt().optional(),durationMs:yt().optional()}).optional()}).strip();function AW(t,e){return t.ok?t.data:e}function IW(t){return t.ok?t.data:void 0}function OW(t){return{id:t.id.toString(),title:t.title||t.name||"Untitled",poster:t.poster_path?`https://image.tmdb.org/t/p/w300${t.poster_path}`:null,year:(t.release_date||t.first_air_date||"").split("-")[0]||"",genres:t.genre_ids||[],type:t.media_type==="tv"||!t.title&&t.name?"tv":"movie",synopsis:t.overview||"",vote_average:t.vote_average||0,popularity:t.popularity||0,adult:t.adult||!1}}async function rP(t){if(!t.ok){const e=await t.text().catch(()=>"");throw new Error(`HTTP ${t.status} ${t.statusText} ${e}`)}return t.json()}function nP(t,e,r){const n=t.safeParse(e);if(!n.success)throw new Error(`Validation failed for ${r}: ${n.error.issues.map(a=>a.path.join(".")+" "+a.message).slice(0,5).join("; ")}`);return n.data}async function sP(t){try{if(!t||t.trim().length<2)return{ok:!0,data:[]};const e=await fetch(`/api/streaming/enhanced-search?query=${encodeURIComponent(t)}&type=multi`),r=await rP(e);return{ok:!0,data:(nP(_W,r,"searchShowsApi results").results||[]).map(n=>OW(n))}}catch(e){return{ok:!1,error:e}}}async function DW(t,e="movie"){var r,n,a,l,c,u,h,m,f,g,x,k;try{if(!t)throw new Error("Missing id");const j=await fetch(`/api/tmdb/${e}/${t}`),N=await rP(j),b=nP(PW,N,"fetchShowDetailsApi TMDB details");let C=null;try{const _=await fetch(`/api/streaming/comprehensive/${e}/${t}?title=${encodeURIComponent(b.title||b.name||"")}&imdbId=${((r=b.external_ids)==null?void 0:r.imdb_id)||""}`);_.ok&&(C=await _.json())}catch(_){console.warn("Failed to fetch streaming data:",_)}return{ok:!0,data:{id:b.id.toString(),title:b.title||b.name||"Untitled",poster:b.poster_path?`https://image.tmdb.org/t/p/w500${b.poster_path}`:null,backdrop:b.backdrop_path?`https://image.tmdb.org/t/p/w1280${b.backdrop_path}`:null,year:(b.release_date||b.first_air_date||"").split("-")[0]||"",genres:((n=b.genres)==null?void 0:n.map(_=>_.name))||[],vote_average:b.vote_average||0,synopsis:b.overview||"",popularity:b.popularity||0,adult:b.adult||!1,runtime:b.runtime||((a=b.episode_run_time)==null?void 0:a[0])||null,status:b.status||"",type:e,streaming:(C==null?void 0:C.platforms)||[],streamingStats:C?{totalPlatforms:C.totalPlatforms,affiliatePlatforms:C.affiliatePlatforms,premiumPlatforms:C.premiumPlatforms,freePlatforms:C.freePlatforms,sources:C.sources}:null,trailer:((u=(c=(l=b.videos)==null?void 0:l.results)==null?void 0:c.find(_=>_.type==="Trailer"&&_.site==="YouTube"))==null?void 0:u.key)||null,imdbId:((h=b.external_ids)==null?void 0:h.imdb_id)||null,homepage:b.homepage||null,tagline:b.tagline||null,productionCompanies:b.production_companies||[],cast:((f=(m=b.credits)==null?void 0:m.cast)==null?void 0:f.slice(0,10))||[],crew:((k=(x=(g=b.credits)==null?void 0:g.crew)==null?void 0:x.filter(_=>["Director","Producer","Executive Producer"].includes(_.job)))==null?void 0:k.slice(0,5))||[]}}}catch(j){return{ok:!1,error:j}}}function LW(t){const e=tW(t,300);return Gs({queryKey:["search-shows",e],queryFn:async()=>AW(await sP(e),[]),enabled:!!e&&e.length>=2,staleTime:1e3*60*5,gcTime:1e3*60*10})}const se={primary:"#FF4F64",primaryLight:"#FF6B7D",secondaryLight:"#2A2A2A",accent:"#FFD369",background:"#0F0F0F",backgroundCard:"#1A1A1A",backgroundOverlay:"rgba(0, 0, 0, 0.6)",text:"#FFFFFF",textSecondary:"#B3B3B3",textMuted:"#666666",textDark:"#000000",success:"#4ADE80",info:"#3B82F6",focus:"rgba(255, 79, 100, 0.2)",border:"rgba(255, 255, 255, 0.1)",borderLight:"rgba(255, 255, 255, 0.2)"},zl={primary:"linear-gradient(135deg, #FF4F64 0%, #E63946 100%)",accent:"linear-gradient(135deg, #FFD369 0%, #FFB627 100%)"},bt={sm:"4px",md:"8px",lg:"12px",xl:"16px","2xl":"20px"},zi={"2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",glow:"0 0 20px rgba(255, 79, 100, 0.3)",glowAccent:"0 0 20px rgba(255, 211, 105, 0.3)"},MW=y.forwardRef(function({results:t,loading:e,highlightedIndex:r,onHoverIndex:n,onChoose:a,onWatchTrailer:l,onAddToWatchlist:c,listboxId:u,optionIdForIndex:h},m){const f=y.useRef(null);y.useEffect(()=>(t.length>0||e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t.length,e]);const g=k=>{k.key==="ArrowDown"?(k.preventDefault(),n(Math.min(t.length-1,r+1))):k.key==="ArrowUp"?(k.preventDefault(),n(Math.max(0,r-1))):k.key==="Enter"?(k.preventDefault(),t[r]&&a(t[r])):k.key==="Escape"&&k.preventDefault()},x=()=>i.jsxs("div",{className:"p-4 space-y-4","data-testid":"loading-skeleton",role:"status","aria-live":"polite",children:[i.jsx("div",{className:"text-center text-sm font-medium",style:{color:se.textSecondary},children:"Searching BingeBoard..."}),[...Array(4)].map((k,j)=>i.jsxs("div",{className:"flex gap-4 animate-pulse",children:[i.jsx("div",{className:"rounded-md",style:{width:56,height:80,backgroundColor:se.secondaryLight}}),i.jsxs("div",{className:"flex flex-col flex-1 space-y-2",children:[i.jsx("div",{className:"h-5 rounded w-3/4",style:{backgroundColor:se.secondaryLight}}),i.jsx("div",{className:"h-3 rounded w-1/4",style:{backgroundColor:se.secondaryLight}}),i.jsx("div",{className:"h-3 rounded w-full max-w-sm",style:{backgroundColor:se.secondaryLight}})]})]},j))]});return i.jsx(lo,{children:(e||t.length>0)&&i.jsxs(we.div,{ref:k=>{f.current=k,typeof m=="function"?m(k):m&&typeof m=="object"&&(m.current=k)},tabIndex:0,role:"listbox",id:u,"aria-label":"Search Results","aria-activedescendant":h?h(r):`result-${r}`,onKeyDown:g,initial:{opacity:0,y:-8,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 mt-3 w-full max-w-xl overflow-hidden max-h-[26rem] md:max-h-[30rem]",style:{background:`${se.backgroundCard}dd`,backdropFilter:"blur(20px)",border:`1px solid ${se.borderLight}`,borderRadius:bt["2xl"],boxShadow:zi["2xl"],outline:"none",WebkitOverflowScrolling:"touch"},children:[e&&i.jsx(x,{}),!e&&t.length===0&&i.jsxs("div",{className:"p-8 text-center text-sm font-medium",role:"alert","aria-live":"polite",style:{color:se.textMuted},children:[i.jsx("div",{className:"mb-3",children:i.jsx("div",{className:"w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-4",style:{backgroundColor:se.secondaryLight},children:i.jsx(kt,{className:"w-8 h-8",style:{color:se.textMuted}})})}),i.jsx("p",{style:{color:se.textSecondary},children:"No results found"}),i.jsx("p",{className:"text-xs mt-1",style:{color:se.textMuted},children:"Try searching for a different show or movie"})]}),i.jsx("div",{className:"max-h-[22rem] overflow-y-auto",style:{scrollBehavior:"smooth"},children:t.map((k,j)=>{const N=j===r;return i.jsxs(we.div,{id:h?h(j):`result-${j}`,role:"option","aria-selected":N,tabIndex:N?0:-1,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:j*.05,duration:.3},onMouseEnter:()=>n(j),onFocus:()=>n(j),onClick:()=>a(k),className:"w-full cursor-pointer text-left flex gap-4 items-start p-4 transition-all duration-300 group relative overflow-hidden",style:{background:N?`linear-gradient(135deg, ${se.primary}20 0%, ${se.primaryLight}10 100%)`:"transparent",borderLeft:N?`4px solid ${se.primary}`:"4px solid transparent",outline:"none"},onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),a(k))},children:[N&&i.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 opacity-30",style:{background:zl.primary,filter:"blur(20px)",zIndex:0},"aria-hidden":"true"}),i.jsxs("div",{className:"relative flex-shrink-0 overflow-hidden shadow-lg",children:[i.jsx("img",{src:k.poster||"/placeholder.png",alt:k.title,className:"w-14 h-20 object-cover transition-transform duration-300 group-hover:scale-105",style:{borderRadius:bt.md},onError:b=>{b.currentTarget.src="/placeholder.png"}}),i.jsx(we.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute inset-0 flex items-center justify-center",style:{background:se.backgroundOverlay,borderRadius:bt.md},"aria-hidden":"true",children:i.jsx(kt,{className:"w-6 h-6",style:{color:se.primary},fill:"currentColor"})})]}),i.jsxs("div",{className:"flex-1 min-w-0 relative z-10 select-none",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[i.jsx("h4",{className:"font-semibold text-base leading-tight truncate transition-colors duration-200",style:{color:se.text,textShadow:N?`0 0 10px ${se.primary}40`:"none"},children:k.title}),k.type&&i.jsx("span",{className:"px-2 py-1 text-xs font-medium uppercase tracking-wide flex-shrink-0",style:{backgroundColor:k.type==="movie"?se.accent:se.info,color:se.textDark,borderRadius:bt.sm},children:k.type})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs mb-2",style:{color:se.textSecondary},children:[k.year&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(wc,{className:"w-3 h-3"}),k.year]}),k.vote_average&&k.vote_average>0&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Nt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400","aria-label":`Rating: ${k.vote_average.toFixed(1)}`}),k.vote_average.toFixed(1)]})]}),k.synopsis&&i.jsx("p",{className:"text-xs line-clamp-2 leading-relaxed transition-colors duration-200 mb-3",style:{color:N?se.textSecondary:se.textMuted},children:k.synopsis.length>120?`${k.synopsis.slice(0,120)}...`:k.synopsis}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{type:"button",onClick:b=>{b.stopPropagation(),l(k)},className:"flex items-center gap-1 text-xs font-semibold px-2 py-1 rounded transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-pink-500",style:{color:se.primary,backgroundColor:`${se.primary}15`,border:`1px solid ${se.primary}30`},"aria-label":`Watch trailer for ${k.title}`,children:[i.jsx(jg,{className:"w-3 h-3"}),"Trailer"]}),i.jsxs("button",{type:"button",onClick:b=>{b.stopPropagation(),c(k)},className:"flex items-center gap-1 text-xs font-semibold px-2 py-1 rounded transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-yellow-400",style:{color:se.accent,backgroundColor:`${se.accent}15`,border:`1px solid ${se.accent}30`},"aria-label":`Add ${k.title} to watchlist`,children:[i.jsx(Pn,{className:"w-3 h-3"}),"Watchlist"]})]})]}),i.jsx(we.div,{initial:{scale:0},animate:{scale:N?1:0},className:"absolute right-4 top-1/2 transform -translate-y-1/2 rounded-full",style:{backgroundColor:se.primary,width:8,height:8},"aria-hidden":"true"})]},k.id)})}),t.length>0&&i.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"px-4 py-3 text-xs border-t select-none",style:{color:se.textMuted,borderColor:se.border,background:`${se.backgroundCard}80`},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Use  to navigate"}),i.jsx("span",{children:"Press Enter to select"})]})})]})})});var gp="Dialog",[aP]=lr(gp),[FW,on]=aP(gp),iP=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:l,modal:c=!0}=t,u=y.useRef(null),h=y.useRef(null),[m,f]=ra({prop:n,defaultProp:a??!1,onChange:l,caller:gp});return i.jsx(FW,{scope:e,triggerRef:u,contentRef:h,contentId:La(),titleId:La(),descriptionId:La(),open:m,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(g=>!g),[f]),modal:c,children:r})};iP.displayName=gp;var oP="DialogTrigger",zW=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=on(oP,r),l=Ze(e,a.triggerRef);return i.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ly(a.open),...n,ref:l,onClick:me(t.onClick,a.onOpenToggle)})});zW.displayName=oP;var iy="DialogPortal",[UW,lP]=aP(iy,{forceMount:void 0}),cP=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,l=on(iy,e);return i.jsx(UW,{scope:e,forceMount:r,children:y.Children.map(n,c=>i.jsx(sn,{present:r||l.open,children:i.jsx(Lh,{asChild:!0,container:a,children:c})}))})};cP.displayName=iy;var Eh="DialogOverlay",dP=y.forwardRef((t,e)=>{const r=lP(Eh,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,l=on(Eh,t.__scopeDialog);return l.modal?i.jsx(sn,{present:n||l.open,children:i.jsx(VW,{...a,ref:e})}):null});dP.displayName=Eh;var $W=Ji("DialogOverlay.RemoveScroll"),VW=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=on(Eh,r);return i.jsx(i0,{as:$W,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Ae.div,{"data-state":ly(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ba="DialogContent",uP=y.forwardRef((t,e)=>{const r=lP(Ba,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,l=on(Ba,t.__scopeDialog);return i.jsx(sn,{present:n||l.open,children:l.modal?i.jsx(WW,{...a,ref:e}):i.jsx(BW,{...a,ref:e})})});uP.displayName=Ba;var WW=y.forwardRef((t,e)=>{const r=on(Ba,t.__scopeDialog),n=y.useRef(null),a=Ze(e,r.contentRef,n);return y.useEffect(()=>{const l=n.current;if(l)return jC(l)},[]),i.jsx(hP,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:me(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:me(t.onFocusOutside,l=>l.preventDefault())})}),BW=y.forwardRef((t,e)=>{const r=on(Ba,t.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return i.jsx(hP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),l.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:l=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const h=l.target;(u=r.triggerRef.current)!=null&&u.contains(h)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),hP=y.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:l,...c}=t,u=on(Ba,r),h=y.useRef(null),m=Ze(e,h);return mC(),i.jsxs(i.Fragment,{children:[i.jsx(a0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:l,children:i.jsx(yc,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":ly(u.open),...c,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(HW,{titleId:u.titleId}),i.jsx(KW,{contentRef:h,descriptionId:u.descriptionId})]})]})}),oy="DialogTitle",pP=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=on(oy,r);return i.jsx(Ae.h2,{id:a.titleId,...n,ref:e})});pP.displayName=oy;var mP="DialogDescription",fP=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=on(mP,r);return i.jsx(Ae.p,{id:a.descriptionId,...n,ref:e})});fP.displayName=mP;var gP="DialogClose",vP=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=on(gP,r);return i.jsx(Ae.button,{type:"button",...n,ref:e,onClick:me(t.onClick,()=>a.onOpenChange(!1))})});vP.displayName=gP;function ly(t){return t?"open":"closed"}var yP="DialogTitleWarning",[TH,xP]=FR(yP,{contentName:Ba,titleName:oy,docsSlug:"dialog"}),HW=({titleId:t})=>{const e=xP(yP),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},qW="DialogDescriptionWarning",KW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xP(qW).contentName}}.`;return y.useEffect(()=>{var n;const a=(n=t.current)==null?void 0:n.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},GW=iP,ZW=cP,bP=dP,wP=uP,NP=pP,kP=fP,QW=vP;const zk=GW,XW=ZW,jP=y.forwardRef(({className:t,...e},r)=>i.jsx(bP,{ref:r,className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));jP.displayName=bP.displayName;const mv=y.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(XW,{children:[i.jsx(jP,{}),i.jsxs(wP,{ref:n,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,i.jsxs(QW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(In,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mv.displayName=wP.displayName;const Mu=({className:t,...e})=>i.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Mu.displayName="DialogHeader";const Fu=y.forwardRef(({className:t,...e},r)=>i.jsx(NP,{ref:r,className:_e("text-lg font-semibold leading-none tracking-tight",t),...e}));Fu.displayName=NP.displayName;const YW=y.forwardRef(({className:t,...e},r)=>i.jsx(kP,{ref:r,className:_e("text-sm text-muted-foreground",t),...e}));YW.displayName=kP.displayName;const SP=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,Uk=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,$k=/\.(m3u8)($|\?)/i,JW=/\.(mpd)($|\?)/i,eB=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,tB=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,rB=/vimeo\.com\/(?!progressive_redirect).+/,nB=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,sB=/open\.spotify\.com\/(\w+)\/(\w+)/i,aB=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,iB=/tiktok\.com\/(?:@[^/]+\/video\/)?(\d+)(?:\/([\w-]+))?/,Gl=(t,e)=>{if(Array.isArray(t)){for(const r of t)if(typeof r=="string"&&Gl(r,e)||Gl(r.src,e))return!0;return!1}return e(t)},gn={html:t=>Gl(t,e=>SP.test(e)||Uk.test(e)),hls:t=>Gl(t,e=>$k.test(e)),dash:t=>Gl(t,e=>JW.test(e)),mux:t=>eB.test(t),youtube:t=>tB.test(t),vimeo:t=>rB.test(t)&&!Uk.test(t)&&!$k.test(t),wistia:t=>nB.test(t),spotify:t=>sB.test(t),twitch:t=>aB.test(t),tiktok:t=>iB.test(t)},oB=Ke.forwardRef((t,e)=>{const r=SP.test(`${t.src}`)?"audio":"video";return Ke.createElement(r,{...t,ref:e},t.children)});var lB=oB;const cB=[{key:"hls",name:"hls.js",canPlay:gn.hls,canEnablePIP:()=>!0,player:y.lazy(()=>ct(()=>fr(()=>import("./react-vk-CPTWl-DTGhmZYb.js"),__vite__mapDeps([0,1,2])),Nu([0,1,2])))},{key:"dash",name:"dash.js",canPlay:gn.dash,canEnablePIP:()=>!0,player:y.lazy(()=>ct(()=>fr(()=>import("./react-BoeU2g4Z-B9wiM3n_.js"),__vite__mapDeps([3,1])),Nu([3,1])))},{key:"mux",name:"Mux",canPlay:gn.mux,canEnablePIP:()=>!0,player:y.lazy(()=>ct(()=>fr(()=>import("./index-BRKyTy26-iU_Y9IMC.js"),__vite__mapDeps([4,2,1])),Nu([4,2,1])))},{key:"youtube",name:"YouTube",canPlay:gn.youtube,player:y.lazy(()=>ct(()=>fr(()=>import("./react-MAJ9T-fO-D3V5Ko7k.js"),[]),[]))},{key:"vimeo",name:"Vimeo",canPlay:gn.vimeo,player:y.lazy(()=>ct(()=>fr(()=>import("./react-CTIyGcFl-CtctUmA2.js"),[]),[]))},{key:"wistia",name:"Wistia",canPlay:gn.wistia,canEnablePIP:()=>!0,player:y.lazy(()=>ct(()=>fr(()=>import("./react-GXJbOPeC-BekoDG9G.js"),[]),[]))},{key:"spotify",name:"Spotify",canPlay:gn.spotify,canEnablePIP:()=>!1,player:y.lazy(()=>ct(()=>fr(()=>import("./react-Cz3xRVsK-ns80kf7U.js"),[]),[]))},{key:"twitch",name:"Twitch",canPlay:gn.twitch,canEnablePIP:()=>!1,player:y.lazy(()=>ct(()=>fr(()=>import("./react-Cmedsg-7-CAkHiAi3.js"),[]),[]))},{key:"tiktok",name:"TikTok",canPlay:gn.tiktok,canEnablePIP:()=>!1,player:y.lazy(()=>ct(()=>fr(()=>import("./react-DyVXW65x-DnMQp1At.js"),[]),[]))},{key:"html",name:"html",canPlay:gn.html,canEnablePIP:()=>!0,player:lB}];var fv=cB;const dB={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},CP=Ke.forwardRef((t,e)=>{const{playing:r,pip:n}=t,a=t.activePlayer,l=y.useRef(null),c=y.useRef(!0);y.useEffect(()=>{var f,g;l.current&&(l.current.paused&&r===!0&&l.current.play(),!l.current.paused&&r===!1&&l.current.pause(),l.current.playbackRate=(f=t.playbackRate)!=null?f:1,l.current.volume=(g=t.volume)!=null?g:1)}),y.useEffect(()=>{var f,g,x,k,j;if(!(!l.current||!globalThis.document)){if(n&&!document.pictureInPictureElement)try{(g=(f=l.current).requestPictureInPicture)==null||g.call(f)}catch{}if(!n&&document.pictureInPictureElement)try{(k=(x=l.current).exitPictureInPicture)==null||k.call(x),(j=document.exitPictureInPicture)==null||j.call(document)}catch{}}},[n]);const u=f=>{var g,x;c.current=!0,(g=t.onReady)==null||g.call(t),(x=t.onLoadStart)==null||x.call(t,f)},h=f=>{var g,x;c.current&&(c.current=!1,(g=t.onStart)==null||g.call(t,f)),(x=t.onPlay)==null||x.call(t,f)};if(!a)return null;const m={};for(const f in t)f.startsWith("on")&&(m[f]=t[f]);return Ke.createElement(a,{...m,style:t.style,className:t.className,slot:t.slot,ref:y.useCallback(f=>{l.current=f,typeof e=="function"?e(f):e!==null&&(e.current=f)},[e]),src:t.src,crossOrigin:t.crossOrigin,preload:t.preload,controls:t.controls,muted:t.muted,autoPlay:t.autoPlay,loop:t.loop,playsInline:t.playsInline,config:t.config,onLoadStart:u,onPlay:h},t.children)});CP.displayName="Player";var uB=CP;const hB=y.lazy(()=>ct(()=>fr(()=>import("./Preview-BB04n_2O-D6aEWLKe.js"),[]),[])),Al=[],pB=(t,e)=>{const r=a=>{for(const l of[...Al,...t])if(a&&l.canPlay(a))return l;return e||null},n=Ke.forwardRef((a,l)=>{const c={...dB,...a},{src:u,slot:h,className:m,style:f,width:g,height:x,fallback:k,wrapper:j}=c,[N,b]=y.useState(!!c.light);y.useEffect(()=>{c.light?b(!0):b(!1)},[c.light]);const C=L=>{var I;b(!1),(I=c.onClickPreview)==null||I.call(c,L)},_=L=>{if(!L)return null;const{light:I,playIcon:E,previewTabIndex:R,oEmbedUrl:z,previewAriaLabel:G}=c;return Ke.createElement(hB,{src:L,light:I,playIcon:E,previewTabIndex:R,previewAriaLabel:G,oEmbedUrl:z,onClickPreview:C})},T=L=>{var I,E;const R=r(L);if(!R)return null;const{style:z,width:G,height:W,wrapper:ee}=c,D=(I=c.config)==null?void 0:I[R.key];return Ke.createElement(uB,{...c,ref:l,activePlayer:(E=R.player)!=null?E:R,slot:ee?void 0:h,className:ee?void 0:m,style:ee?{display:"block",width:"100%",height:"100%"}:{display:"block",width:G,height:W,...z},config:D})},P=j??Vk,A=k===!1?Vk:y.Suspense;return Ke.createElement(P,{slot:h,className:m,style:{width:g,height:x,...f}},Ke.createElement(A,{fallback:k},N?_(u):T(u)))});return n.displayName="ReactPlayer",n.addCustomPlayer=a=>{Al.push(a)},n.removeCustomPlayers=()=>{Al.length=0},n.canPlay=a=>{if(a){for(const l of[...Al,...t])if(l.canPlay(a))return!0}return!1},n.canEnablePIP=a=>{var l;if(a){for(const c of[...Al,...t])if(c.canPlay(a)&&(l=c.canEnablePIP)!=null&&l.call(c))return!0}return!1},n},Vk=({children:t})=>t,mB=fv[fv.length-1];var fB=pB(fv,mB);function gB(t,e="movie"){return Gs({queryKey:["show-details",t,e],queryFn:async()=>IW(await DW(t,e)),enabled:!!t,staleTime:1e3*60*10,gcTime:1e3*60*30})}const EP=({platforms:t,compact:e=!1,className:r})=>{if(!t||t.length===0)return null;const n=e?t.slice(0,3):t;return i.jsxs("div",{className:`streaming-platforms ${r||""}`.trim(),children:[n.map(a=>i.jsxs("div",{className:"platform-badge",children:[i.jsx("span",{className:"platform-name",children:a.provider_name}),a.affiliate_supported&&i.jsx("span",{className:"affiliate-badge",title:"Affiliate supported",children:""})]},a.provider_id)),e&&t.length>3&&i.jsxs("span",{className:"more-platforms",children:["+",t.length-3," more"]})]})};function vB({showId:t,showType:e="movie",open:r,onClose:n,onAddToWatchlist:a,onWatchNow:l}){var c;const[u,h]=y.useState(!1),[m,f]=y.useState(!1),g=bo(),{data:x,isLoading:k}=gB(t,e),j=Wu({mutationFn:async A=>{f(!0);const L=await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({showId:A})});if(!L.ok)throw new Error("Failed to add to watchlist");return L.json()},onMutate:async A=>{await g.cancelQueries({queryKey:["watchlist"]});const L=g.getQueryData(["watchlist"]);return g.setQueryData(["watchlist"],I=>[...I||[],{id:A,pending:!0,title:x==null?void 0:x.title}]),{previousWatchlist:L}},onError:(A,L,I)=>{g.setQueryData(["watchlist"],I==null?void 0:I.previousWatchlist)},onSettled:()=>{f(!1),g.invalidateQueries({queryKey:["watchlist"]})}}),N=()=>{x&&(j.mutate(parseInt(x.id)),a==null||a(parseInt(x.id)))},{data:b,isLoading:C}=b0(x?x.id:null,e,x==null?void 0:x.title),_=()=>{h(!0)},T=()=>{x&&(l==null||l(x))},P=t?`show-${t}-description`:"show-generic-description";return i.jsx(zk,{open:r,onOpenChange:()=>n(),children:i.jsxs(mv,{className:"max-w-6xl p-0 border-0 overflow-hidden",style:{backgroundColor:se.background,borderRadius:bt["2xl"],boxShadow:zi["2xl"]},"aria-describedby":P,children:[i.jsx(lo,{children:k||!x?i.jsxs(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-12 text-center",children:[i.jsx(Mu,{children:i.jsx(Fu,{className:"sr-only",children:"Loading show details"})}),i.jsx("div",{className:"animate-spin w-12 h-12 border-4 rounded-full mx-auto mb-6",style:{borderColor:se.primary,borderTopColor:"transparent"}}),i.jsx("p",{style:{color:se.textSecondary},children:"Loading show details..."})]}):i.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.4,ease:"easeOut"},children:[x.backdrop&&i.jsxs("div",{className:"relative h-80 bg-cover bg-center",style:{backgroundImage:`url(${x.backdrop})`,borderRadius:`${bt["2xl"]} ${bt["2xl"]} 0 0`},children:[i.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(to bottom, transparent 0%, ${se.background}40 50%, ${se.background} 100%)`,borderRadius:`${bt["2xl"]} ${bt["2xl"]} 0 0`}}),i.jsx(we.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2},onClick:n,className:"absolute top-6 right-6 p-2 rounded-full transition-all duration-200 z-10",style:{backgroundColor:`${se.background}80`,backdropFilter:"blur(10px)",border:`1px solid ${se.border}`},children:i.jsx(In,{className:"w-6 h-6",style:{color:se.text}})}),i.jsxs(we.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"absolute bottom-8 left-8 right-8",children:[i.jsxs(Mu,{children:[i.jsxs(Fu,{className:"text-4xl font-bold mb-4",style:{color:se.text,textShadow:`0 2px 10px ${se.background}80`},children:[x.title,x.year&&i.jsxs("span",{className:"text-2xl font-normal ml-3",style:{color:se.textSecondary},children:["(",x.year,")"]})]}),i.jsx("p",{id:P,className:"sr-only",children:x.synopsis||"Show details dialog"})]}),i.jsxs("div",{className:"flex items-center gap-6 text-lg",children:[x.vote_average>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Nt,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),i.jsx("span",{style:{color:se.text,fontWeight:600},children:x.vote_average.toFixed(1)})]}),x.runtime&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xs,{className:"w-5 h-5",style:{color:se.textSecondary}}),i.jsxs("span",{style:{color:se.textSecondary},children:[x.runtime," min"]})]}),x.year&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wc,{className:"w-5 h-5",style:{color:se.textSecondary}}),i.jsx("span",{style:{color:se.textSecondary},children:x.year})]})]})]})]}),i.jsx("div",{className:"p-8",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[!x.backdrop&&i.jsx(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.3},className:"lg:col-span-1",children:i.jsx("img",{src:x.poster||"/placeholder.png",alt:x.title,className:"w-full h-auto object-cover shadow-2xl",style:{borderRadius:bt.xl},onError:A=>{A.currentTarget.src="/placeholder.png"}})}),i.jsxs("div",{className:`${x.backdrop?"lg:col-span-3":"lg:col-span-2"} space-y-6`,children:[!x.backdrop&&i.jsx(Mu,{children:i.jsxs(Fu,{className:"text-3xl font-bold",style:{color:se.text},children:[x.title,x.year&&i.jsxs("span",{className:"text-xl font-normal ml-3",style:{color:se.textSecondary},children:["(",x.year,")"]})]})}),i.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:i.jsx("p",{className:"text-lg leading-relaxed",style:{color:se.textSecondary},children:x.synopsis})}),Array.isArray(x.genres)&&x.genres.length>0&&i.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},className:"flex flex-wrap gap-3",children:x.genres.map(A=>i.jsx(ze,{variant:"secondary",className:"px-3 py-1 text-sm font-medium",style:{backgroundColor:se.secondaryLight,color:se.text,border:`1px solid ${se.border}`,borderRadius:bt.lg},children:A},A))}),i.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.3},className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs(ie,{size:"lg",className:"gap-3 text-lg font-semibold px-8 py-4 transition-all duration-200 hover:scale-105",style:{background:zl.primary,color:se.text,borderRadius:bt.xl,boxShadow:zi.glow},onClick:_,children:[i.jsx(kt,{className:"w-5 h-5",fill:"currentColor"}),"Watch Trailer"]}),i.jsxs(ie,{size:"lg",variant:"secondary",className:"gap-3 text-lg font-semibold px-8 py-4 transition-all duration-200 hover:scale-105",style:{backgroundColor:se.backgroundCard,color:se.text,border:`1px solid ${se.border}`,borderRadius:bt.xl},onClick:N,disabled:m,children:[m?i.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):i.jsx(_n,{className:"w-5 h-5"}),m?"Adding...":"Add to Watchlist"]}),i.jsxs(ie,{size:"lg",variant:"outline",className:"gap-3 text-lg font-semibold px-8 py-4 transition-all duration-200 hover:scale-105",style:{borderColor:se.border,color:se.textSecondary,borderRadius:bt.xl},onClick:T,children:[i.jsx($l,{className:"w-5 h-5"}),"Watch Now"]})]}),x.streaming&&x.streaming.length>0&&i.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.3},className:"pt-6 border-t",style:{borderColor:se.border},children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold",style:{color:se.text},children:"Available on"}),x.streamingStats&&i.jsxs("div",{className:"flex gap-2 text-xs",children:[i.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:se.success+"20",color:se.success},children:[x.streamingStats.freePlatforms," Free"]}),i.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:se.accent+"20",color:se.accent},children:[x.streamingStats.affiliatePlatforms," Affiliate"]})]})]}),i.jsx(EP,{platforms:x.streaming}),((c=x.streamingStats)==null?void 0:c.sources)&&i.jsx("div",{className:"mt-3 text-xs text-center",children:i.jsxs("span",{style:{color:se.textMuted},children:["Data from: ",Object.entries(x.streamingStats.sources).filter(([A,L])=>L).map(([A])=>A.toUpperCase()).join(", ")]})})]})]})]})})]})}),i.jsx(zk,{open:u,onOpenChange:h,children:i.jsx(mv,{className:"max-w-4xl p-0 border-0",style:{backgroundColor:se.background,borderRadius:bt.xl},children:i.jsxs(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative aspect-video",children:[C&&i.jsx("div",{className:"flex items-center justify-center h-full",style:{backgroundColor:se.backgroundCard},children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-current border-t-transparent rounded-full animate-spin mx-auto mb-4",style:{color:se.primary}}),i.jsx("p",{style:{color:se.textSecondary},children:"Loading trailer..."})]})}),!C&&b!=null&&b.primaryTrailer?Ke.createElement(fB,{url:b.primaryTrailer.url,playing:!0,controls:!0,width:"100%",height:"100%",style:{borderRadius:bt.xl},config:{youtube:{playerVars:{modestbranding:1,rel:0}}}}):!C&&i.jsx("div",{className:"flex items-center justify-center h-full",style:{backgroundColor:se.backgroundCard},children:i.jsxs("div",{className:"text-center",children:[i.jsx(kt,{className:"w-16 h-16 mx-auto mb-4",style:{color:se.textMuted}}),i.jsx("p",{style:{color:se.textSecondary},children:"No trailer available for this title"})]})}),i.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"absolute bottom-4 left-4 right-4",children:x!=null&&x.streaming&&x.streaming.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:x.streaming.slice(0,2).map((A,L)=>i.jsxs(ie,{size:"lg",className:"gap-3 text-base font-semibold py-3",style:{background:L===0?zl.accent:zl.primary,color:se.textDark,borderRadius:bt.xl,boxShadow:L===0?zi.glowAccent:zi.glow},onClick:()=>{A.web_url?window.open(A.web_url,"_blank"):T()},children:[A.logo_path?i.jsx("img",{src:A.logo_path.startsWith("http")?A.logo_path:`https://image.tmdb.org/t/p/w92${A.logo_path}`,alt:A.provider_name,className:"w-5 h-5 object-contain"}):i.jsx($l,{className:"w-5 h-5"}),"Watch on ",A.provider_name,A.affiliate_supported&&i.jsx("span",{className:"text-xs opacity-75",children:"(Earn rewards)"})]},A.provider_id||L))}):i.jsxs(ie,{size:"lg",className:"w-full gap-3 text-lg font-semibold py-4",style:{background:zl.accent,color:se.textDark,borderRadius:bt.xl,boxShadow:zi.glowAccent},onClick:T,children:[i.jsx($l,{className:"w-5 h-5"}),"Find Where to Watch"]})})]})})})]})})}function Wk({placeholder:t="Search shows, movies, people...",className:e="",onAddToWatchlist:r,onWatchNow:n}){const[a,l]=y.useState(""),[c,u]=y.useState(!1),[h,m]=y.useState(0),[f,g]=y.useState(null),[x,k]=y.useState("movie"),[j,N]=y.useState(!1),[b,C]=y.useState(!1),_=y.useRef(null),T=y.useRef(null),P=bo(),A=y.useId(),L=`${A}-search-results`,I=`${A}-search-input`,E=`${A}-search-status`,R=`${A}-search-instructions`,z=q=>`${L}-option-${q}`,[G,W]=y.useState(""),{data:ee=[],isFetching:D}=LW(a);y.useEffect(()=>{m(0),ee.length>0?W(`${ee.length} result${ee.length===1?"":"s"} available. Use up and down arrow keys to navigate.`):a.trim().length>=2?W("No results."):W("")},[ee,a]),y.useEffect(()=>{const q=ue=>{T.current&&!T.current.contains(ue.target)&&(u(!1),C(!1))};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);function Q(q){var ue;if(q.key==="Escape"){u(!1),C(!1),(ue=_.current)==null||ue.blur();return}if(!(!ee||ee.length===0))switch(q.key){case"ArrowDown":q.preventDefault(),m(Ee=>Math.min(Ee+1,ee.length-1)),u(!0);break;case"ArrowUp":q.preventDefault(),m(Ee=>Math.max(Ee-1,0)),u(!0);break;case"Home":q.preventDefault(),m(0);break;case"End":q.preventDefault(),m(ee.length-1);break;case"PageDown":q.preventDefault(),m(Ee=>Math.min(Ee+5,ee.length-1));break;case"PageUp":q.preventDefault(),m(Ee=>Math.max(Ee-5,0));break;case"Enter":q.preventDefault();const be=ee[h];be?ae(be.id,be.type||"movie"):a.trim()&&(window.location.href=`/search?query=${encodeURIComponent(a.trim())}`,u(!1));break}}function ae(q,ue="movie"){g(q),k(ue),N(!0),u(!1),P.prefetchQuery({queryKey:["show-details",q,ue],queryFn:()=>fetch(`/api/tmdb/${ue}/${q}`).then(be=>be.json()),staleTime:1e3*60*10})}function oe(q){const ue=q.target.value;l(ue),u(!!ue.trim())}function H(){C(!0),a.trim()&&u(!0)}const Z=q=>{ae(q.id,q.type||"movie")},X=q=>{r&&q.id&&r(q.id)};function U(q){ae(q.id,q.type||"movie"),l("")}return i.jsxs("div",{ref:T,className:`relative w-full max-w-xl ${e}`,children:[i.jsxs(we.div,{className:"relative",animate:{scale:b?1.02:1},transition:{duration:.2,ease:"easeOut"},children:[i.jsx(no,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 z-10",size:18}),i.jsxs(we.div,{className:"relative",style:{background:b?`linear-gradient(135deg, ${se.backgroundCard} 0%, ${se.secondaryLight} 100%)`:se.backgroundCard,borderRadius:bt.xl,border:`1px solid ${b?se.primary:se.border}`,boxShadow:b?`0 0 20px ${se.focus}`:"none",transition:"all 0.3s ease"},children:[i.jsx(Zt,{ref:_,value:a,onChange:oe,onKeyDown:Q,onFocus:H,onBlur:()=>C(!1),placeholder:t,className:"pl-12 pr-4 py-3 bg-transparent border-0 text-white placeholder-slate-400 focus:ring-0 focus:outline-none",style:{borderRadius:bt.xl,fontSize:"16px"},autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-controls":L,"aria-expanded":c,"aria-activedescendant":c&&ee.length>0?z(h):void 0,"aria-describedby":`${R} ${E}`,id:I}),D&&i.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"w-4 h-4 border-2 rounded-full animate-spin",style:{borderColor:se.primary,borderTopColor:"transparent"}})})]})]}),c&&i.jsx(MW,{results:ee,loading:D,highlightedIndex:h,listboxId:L,optionIdForIndex:z,onHoverIndex:q=>m(q),onChoose:U,onWatchTrailer:Z,onAddToWatchlist:X}),i.jsx(vB,{showId:f,showType:x,open:j,onClose:()=>N(!1),onAddToWatchlist:r,onWatchNow:n}),f&&i.jsx("div",{className:"mt-4",children:(()=>{const q=ee.find(ue=>ue.id===f);return!q||!("streaming_platforms"in q)?null:i.jsx(EP,{platforms:q.streaming_platforms,compact:!0})})()}),i.jsx("div",{id:R,className:"sr-only",children:"Type to search. Results will update as you type."}),i.jsx("div",{id:E,className:"sr-only",role:"status","aria-live":"polite",children:G})]})}function Fa(){var t,e;const[r,n]=nn(),{user:a,logout:l}=Fr(),[c,u]=y.useState(""),[h,m]=y.useState(!1);y.useEffect(()=>{m(!1)},[r]);const f=async()=>{try{console.log(" Navigation logout clicked"),await l(),console.log(" Redirecting to landing page immediately after logout"),n("/")}catch(N){console.error(" Navigation logout error:",N),n("/")}},g=()=>{n("/notifications")},x=async N=>{try{(await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({showId:N,status:"want_to_watch",tmdbId:N})})).ok&&console.log("Added to watchlist successfully")}catch(b){console.error("Failed to add to watchlist:",b)}},k=async N=>{const{getShowTitle:b,getStreamingPlatforms:C}=await ct(async()=>{const{getShowTitle:A,getStreamingPlatforms:L}=await fr(()=>import("./show-utils-Bz6NAtuJ-BqpnnFyt.js"),[]);return{getShowTitle:A,getStreamingPlatforms:L}},[]),_=b(N),T=C(N),P=(A,L)=>{const I=encodeURIComponent(L);return{Netflix:`https://www.netflix.com/search?q=${I}`,"Disney+":`https://www.disneyplus.com/search?q=${I}`,Hulu:`https://www.hulu.com/search?q=${I}`,"Amazon Prime Video":`https://www.amazon.com/gp/video/search?phrase=${I}`,"HBO Max":`https://play.max.com/search?q=${I}`,"Apple TV+":`https://tv.apple.com/search?term=${I}`,"Paramount+":`https://www.paramountplus.com/search/?query=${I}`,Peacock:`https://www.peacocktv.com/search?q=${I}`}[A]||`https://www.netflix.com/search?q=${I}`};if(T&&T.length>0){const A=T[0],L=A.name||A.provider_name,I=P(L,_);window.open(I,"_blank")}else{const A=P("Netflix",_);window.open(A,"_blank")}},j=[{path:"/",label:"Dashboard",active:r==="/"},{path:"/discover",label:"Discover",active:r==="/discover"||r==="/upcoming"},{path:"/lists",label:"Lists",active:r==="/lists"},{path:"/friends",label:"Binge with Friends",active:r==="/friends"}];return i.jsx("nav",{className:"bg-black/95 backdrop-blur-lg border-b border-white/10 sticky top-0 z-50",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{className:"flex items-center space-x-8",children:[i.jsxs("button",{onClick:()=>n("/"),className:"flex items-center space-x-3 hover:scale-105 transition-transform",children:[i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"w-8 h-6 md:w-10 md:h-8 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[i.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:i.jsx("div",{className:"text-xs md:text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),i.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 md:w-3 h-1 bg-slate-700 rounded-sm"}),i.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-3 md:w-5 h-1 bg-slate-600 rounded-sm"})]})}),i.jsxs("span",{className:"text-lg md:text-xl font-bold",children:[i.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent font-black",children:"Binge"}),i.jsx("span",{className:"text-white font-light ml-1",children:"Board"})]})]}),i.jsx("div",{className:"hidden md:flex space-x-1",children:j.map(N=>i.jsx("button",{onClick:()=>n(N.path),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${N.active?"bg-teal-500/20 text-teal-400 border border-teal-500/30":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:N.label},N.path))})]}),i.jsx("div",{className:"hidden sm:block flex-1 max-w-md mx-8",children:i.jsx(Wk,{placeholder:"Search shows, movies...",onAddToWatchlist:x,onWatchNow:k})}),i.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[i.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>n("/discover"),className:"sm:hidden text-gray-300 hover:text-white hover:bg-white/5 p-2",children:i.jsx(no,{className:"h-5 w-5"})}),i.jsx(ie,{variant:"ghost",size:"sm",onClick:g,className:"text-gray-300 hover:text-white hover:bg-white/5 p-2",children:i.jsx(ec,{className:"h-5 w-5"})}),i.jsxs(SE,{children:[i.jsx(CE,{asChild:!0,children:i.jsx(ie,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:i.jsxs(qa,{className:"h-8 w-8",children:[i.jsx(Ka,{src:void 0,alt:(a==null?void 0:a.displayName)||"User"}),i.jsx(Ga,{className:"bg-gradient-to-br from-teal-500 to-blue-500 text-white text-sm",children:((t=a==null?void 0:a.displayName)==null?void 0:t[0])||((e=a==null?void 0:a.email)==null?void 0:e[0])||"U"})]})})}),i.jsxs(m0,{align:"end",className:"glass-effect border-white/20 bg-slate-900/95 text-white",children:[i.jsxs(Vs,{onClick:()=>n("/profile"),className:"text-white hover:bg-white/10 focus:bg-white/10",children:[i.jsx(Kh,{className:"mr-2 h-4 w-4"}),"Profile"]}),i.jsxs(Vs,{onClick:()=>n("/streaming"),className:"text-white hover:bg-white/10 focus:bg-white/10",children:[i.jsx(qh,{className:"mr-2 h-4 w-4"}),"Settings"]}),i.jsxs(Vs,{onClick:f,className:"text-white hover:bg-white/10 focus:bg-white/10",children:[i.jsx(FS,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),i.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>m(!h),className:"md:hidden text-gray-300 hover:text-white hover:bg-white/5 p-2",children:h?i.jsx(In,{className:"h-5 w-5"}):i.jsx(bO,{className:"h-5 w-5"})})]})]}),h&&i.jsxs("div",{className:"md:hidden border-t border-white/10 py-4",children:[i.jsx("div",{className:"mb-4",children:i.jsx(Wk,{placeholder:"Search shows, movies...",onAddToWatchlist:x,onWatchNow:k})}),i.jsx("div",{className:"space-y-2",children:j.map(N=>i.jsx("button",{onClick:()=>{n(N.path),m(!1)},className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors ${N.active?"bg-teal-500/20 text-teal-400 border border-teal-500/30":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:N.label},N.path))})]})]})})}const yB=t=>({Netflix:"/logos/netflix.png","Prime Video":"/logos/prime-video.png","Disney+":"/logos/disney-plus.png","HBO Max":"/logos/hbo-max.png",Hulu:"/logos/hulu.png","FX on Hulu":"/logos/hulu.png","Paramount+":"/logos/paramount-plus.png",Peacock:"/logos/peacock.png","Apple TV+":"/logos/apple-tv.png",Showtime:"/logos/showtime.png",Starz:"/logos/starz.png","Discovery+":"/logos/discovery-plus.png"})[t]||"/logos/netflix.png",gu=[{id:"1",title:"The Bear",description:"A young chef from the fine dining world comes home to Chicago to run his deceased brother's Italian beef sandwich shop. A world of blue-collar cooking, grief, and chaos awaits.",shortDescription:"Critically acclaimed kitchen drama with heart",backdropImage:"https://image.tmdb.org/t/p/w780/9XkScd3aKhkUgcCzwTdFPtJrPCQ.jpg",posterImage:"https://image.tmdb.org/t/p/w342/rtnBpKMjMqVTiKR7VBFWmnhITJg.jpg",rating:9.1,year:2022,runtime:28,genre:["Drama","Comedy"],network:"Hulu",type:"tv",matchPercentage:97,totalViewers:"2.4M",mood:"Intense but Rewarding",intensity:"medium",criticsScore:95,audienceScore:89,releaseStatus:"trending",reasons:[{icon:i.jsx(Vv,{className:"w-4 h-4"}),text:"11 Emmy wins including Best Comedy",type:"critical"},{icon:i.jsx(Nn,{className:"w-4 h-4"}),text:"Most talked about show this week",type:"trending"},{icon:i.jsx(_n,{className:"w-4 h-4"}),text:"Perfect for fans of workplace dramedies",type:"personal"},{icon:i.jsx(ts,{className:"w-4 h-4"}),text:"Authentic portrayal of kitchen culture",type:"mood"}]},{id:"2",title:"Avatar: The Way of Water",description:"Set more than a decade after the events of the first film, Avatar: The Way of Water begins to tell the story of the Sully family, the trouble that follows them, and the lengths they go to keep each other safe.",shortDescription:"Visually stunning underwater epic",backdropImage:"https://image.tmdb.org/t/p/w1280/s16H6tpK2utvwDtzZ8Qy4qm5Emw.jpg",posterImage:"https://image.tmdb.org/t/p/w500/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg",rating:7.8,year:2022,runtime:192,genre:["Sci-Fi","Adventure","Family"],network:"Disney+",type:"movie",matchPercentage:89,totalViewers:"15.2M",mood:"Epic Adventure",intensity:"medium",criticsScore:76,audienceScore:92,releaseStatus:"released",reasons:[{icon:i.jsx(Or,{className:"w-4 h-4"}),text:"Groundbreaking visual effects",type:"critical"},{icon:i.jsx(Hh,{className:"w-4 h-4"}),text:"Immersive world-building experience",type:"mood"},{icon:i.jsx(Ir,{className:"w-4 h-4"}),text:"92% audience loved the underwater scenes",type:"personal"},{icon:i.jsx(Nt,{className:"w-4 h-4"}),text:"Perfect weekend family viewing",type:"seasonal"}]},{id:"3",title:"House of the Dragon",description:"The Targaryen civil war, known as the Dance of the Dragons, comes to the small screen in this Game of Thrones prequel series.",shortDescription:"Epic fantasy returning to Westeros",backdropImage:"https://image.tmdb.org/t/p/w1280/7ZQJWbKEHdyBpH7G5hWhJ3V3LIC.jpg",posterImage:"https://image.tmdb.org/t/p/w500/7QMsOTMUswlwxJP0rTTZfmz2tX2.jpg",rating:8.4,year:2022,runtime:68,genre:["Fantasy","Drama","Action"],network:"HBO Max",type:"tv",matchPercentage:94,totalViewers:"29.1M",mood:"Dark & Political",intensity:"intense",criticsScore:84,audienceScore:86,releaseStatus:"trending",reasons:[{icon:i.jsx(Nn,{className:"w-4 h-4"}),text:"HBO's biggest premiere ever",type:"trending"},{icon:i.jsx(is,{className:"w-4 h-4"}),text:"Redeems the Game of Thrones universe",type:"critical"},{icon:i.jsx(_n,{className:"w-4 h-4"}),text:"For fans craving epic fantasy",type:"personal"},{icon:i.jsx(wc,{className:"w-4 h-4"}),text:"New episodes weekly",type:"seasonal"}]}],xB=({onWatchNow:t,onAddToWatchlist:e,onShowInfo:r})=>{const[n,a]=y.useState(0),[l,c]=y.useState(!0),[u,h]=y.useState(!1),[m,f]=y.useState({}),g=gu[n];y.useEffect(()=>{gu.forEach(k=>{const j=new Image;j.onload=()=>{f(b=>({...b,[k.backdropImage]:!0}))},j.src=k.backdropImage;const N=new Image;N.onload=()=>{f(b=>({...b,[k.posterImage]:!0}))},N.src=k.posterImage})},[]),y.useEffect(()=>{h(m[g.backdropImage]||!1)},[g.backdropImage,m]),y.useEffect(()=>{if(!l)return;const k=setInterval(()=>{a(j=>(j+1)%gu.length)},15e3);return()=>clearInterval(k)},[l]);const x=k=>{switch(k){case"light":return"bg-green-500/20 text-green-300 border-green-400/30";case"medium":return"bg-yellow-500/20 text-yellow-300 border-yellow-400/30";case"intense":return"bg-red-500/20 text-red-300 border-red-400/30";default:return"bg-gray-500/20 text-gray-300 border-gray-400/30"}};return i.jsxs("div",{className:"relative h-[90vh] w-full overflow-hidden rounded-3xl bg-slate-900",children:[!u&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-30",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full animate-spin"}),i.jsx("p",{className:"text-white/60 text-lg",children:"Loading your personalized recommendations..."})]})}),i.jsx(lo,{mode:"wait",children:i.jsxs(we.div,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:u?1:0},exit:{scale:.95,opacity:0},transition:{duration:1.2,ease:"easeInOut"},className:"absolute inset-0",children:[i.jsx("img",{src:g.backdropImage,alt:g.title,className:"w-full h-full object-cover",loading:"eager"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/90 via-black/60 to-black/30"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-black/20"})]},g.id)}),i.jsx("div",{className:"relative z-10 h-full flex items-center",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 w-full",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[i.jsxs(we.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[i.jsxs(ze,{variant:"secondary",className:"bg-blue-600/20 text-blue-300 border-blue-500/30 px-3 py-1",children:[i.jsx(ts,{className:"w-3 h-3 mr-1"}),g.matchPercentage,"% Match"]}),i.jsx(ze,{variant:"secondary",className:x(g.intensity),children:g.mood}),i.jsxs(ze,{variant:"secondary",className:"bg-purple-600/20 text-purple-300 border-purple-500/30",children:[i.jsx(Nn,{className:"w-3 h-3 mr-1"}),g.totalViewers," watching"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(we.h1,{className:"text-5xl lg:text-7xl font-bold text-white leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:g.title}),i.jsxs("div",{className:"flex items-center gap-4 text-slate-300 flex-wrap",children:[i.jsx("span",{className:"text-xl font-medium",children:g.year}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Nt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),i.jsx("span",{className:"font-medium",children:g.rating})]}),i.jsxs("span",{children:[g.runtime,"min"]}),i.jsx("span",{className:"capitalize",children:g.type}),i.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-lg px-3 py-1 border border-white/20",children:[i.jsx("img",{src:yB(g.network),alt:g.network,className:"w-5 h-5 object-contain",onError:k=>{k.target.style.display="none"}}),i.jsx("span",{className:"text-sm font-medium",children:g.network})]})]})]}),i.jsx("p",{className:"text-lg text-slate-200 leading-relaxed max-w-xl",children:g.shortDescription}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[i.jsx(is,{className:"w-5 h-5 text-blue-400"}),"Why we picked this for you"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:g.reasons.map((k,j)=>i.jsxs(we.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6+j*.1},className:"flex items-center gap-3 bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:[i.jsx("div",{className:"text-blue-400 flex-shrink-0",children:k.icon}),i.jsx("span",{className:"text-sm text-slate-200",children:k.text})]},j))})]}),i.jsxs(we.div,{className:"flex flex-wrap gap-4 pt-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:[i.jsxs(ie,{size:"lg",className:"bg-white text-black hover:bg-gray-100 font-semibold px-8 py-3 text-lg",onClick:()=>t==null?void 0:t(g),children:[i.jsx(kt,{className:"w-5 h-5 mr-2 fill-current"}),"Watch Now"]}),i.jsxs(ie,{size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 px-6 py-3",onClick:()=>e==null?void 0:e(g),children:[i.jsx(Pn,{className:"w-5 h-5 mr-2"}),"My List"]}),i.jsxs(ie,{size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 px-6 py-3",onClick:()=>r==null?void 0:r(g),children:[i.jsx(Qu,{className:"w-5 h-5 mr-2"}),"More Info"]})]})]},`content-${g.id}`),i.jsx(we.div,{initial:{opacity:0,scale:.8,rotateY:15},animate:{opacity:1,scale:1,rotateY:0},transition:{duration:1,delay:.3},className:"hidden lg:flex justify-center",children:i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"relative transform transition-transform duration-700 hover:scale-105 hover:rotate-1",children:[i.jsx("img",{src:g.posterImage,alt:g.title,className:"w-80 h-[480px] object-cover rounded-2xl shadow-2xl border border-white/10"}),i.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-tr from-blue-500/20 to-purple-500/20 opacity-0 hover:opacity-100 transition-opacity duration-500"})]}),i.jsx(we.div,{className:"absolute -top-4 -right-4 bg-black/80 backdrop-blur-md rounded-xl p-4 border border-white/20",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1},children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[g.criticsScore,"%"]}),i.jsx("div",{className:"text-xs text-slate-400",children:"Critics"})]})}),i.jsx(we.div,{className:"absolute -bottom-4 -left-4 bg-black/80 backdrop-blur-md rounded-xl p-4 border border-white/20",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1.2},children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[g.audienceScore,"%"]}),i.jsx("div",{className:"text-xs text-slate-400",children:"Audience"})]})})]})},`poster-${g.id}`)]})})}),i.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex gap-3 z-20",children:gu.map((k,j)=>i.jsx("button",{onClick:()=>{a(j),c(!1),setTimeout(()=>c(!0),5e3)},className:`w-3 h-3 rounded-full transition-all duration-300 ${j===n?"bg-white scale-125":"bg-white/40 hover:bg-white/60"}`},j))}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-white/20 z-20",children:i.jsx(we.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500",initial:{width:"0%"},animate:{width:l?"100%":"0%"},transition:{duration:12,ease:"linear"}},n)})]})},tg=({children:t,onClick:e,className:r="",variant:n="vertical"})=>{const a={vertical:"group cursor-pointer rounded-2xl bg-gradient-to-br from-slate-800/90 to-slate-900/90 border border-slate-700/50 hover:border-slate-500/50 shadow-xl hover:shadow-2xl transition-all duration-500 hover:scale-[1.02] overflow-visible",horizontal:"group cursor-pointer rounded-2xl bg-gradient-to-r from-slate-800/90 to-slate-900/90 border border-slate-700/50 hover:border-slate-500/50 shadow-xl hover:shadow-2xl transition-all duration-500 hover:scale-[1.01] overflow-visible",spotlight:"group cursor-pointer rounded-3xl bg-gradient-to-br from-slate-900/95 to-black/95 border border-slate-600/30 hover:border-slate-400/50 shadow-2xl hover:shadow-3xl transition-all duration-700 hover:scale-[1.01] overflow-hidden",compact:"group cursor-pointer rounded-xl bg-gradient-to-r from-slate-800/60 to-slate-900/60 border border-slate-700/30 hover:border-slate-500/50 shadow-lg hover:shadow-xl transition-all duration-400 hover:scale-[1.01] overflow-visible","spotlight-polished":"group cursor-pointer rounded-3xl bg-gradient-to-br from-slate-900/95 to-black/95 border border-slate-600/30 hover:border-slate-400/50 shadow-2xl hover:shadow-3xl transition-all duration-700 hover:scale-[1.01] overflow-hidden","vertical-polished":"group cursor-pointer rounded-2xl bg-gradient-to-br from-slate-800/90 to-slate-900/90 border border-slate-700/50 hover:border-slate-500/50 shadow-xl hover:shadow-2xl transition-all duration-500 hover:scale-[1.02] overflow-visible","spotlight-poster-backdrop":"group cursor-pointer rounded-3xl transition-all duration-700 hover:scale-[1.01] overflow-hidden"};return i.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onClick:e,className:`${a[n]} ${r}`,children:t})},Ar=({children:t,onClick:e,variant:r="secondary",size:n="md",className:a=""})=>{const l="transition-all duration-300 font-medium flex items-center justify-center gap-2 shadow-lg backdrop-blur-sm",c={primary:"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 hover:shadow-xl hover:scale-105 border border-blue-500/30",secondary:"bg-gradient-to-r from-slate-800/90 to-slate-700/90 text-white hover:from-slate-700/90 hover:to-slate-600/90 hover:shadow-xl hover:scale-105 border border-slate-500/30",floating:"bg-gradient-to-r from-black/80 to-slate-900/80 text-white hover:from-black/90 hover:to-slate-800/90 hover:shadow-2xl hover:scale-110 border border-white/10 backdrop-blur-md"},u={sm:"px-3 py-2 text-xs rounded-lg",md:"px-4 py-2.5 text-sm rounded-xl",lg:"px-6 py-3 text-base rounded-xl"};return i.jsx(we.button,{whileHover:{scale:r==="floating"?1.1:1.05},whileTap:{scale:.95},onClick:e,className:`${l} ${c[r]} ${u[n]} ${a}`,children:t})},gv=({rating:t,className:e=""})=>i.jsxs(we.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:`inline-flex items-center px-2 py-1 rounded-full bg-gradient-to-r from-yellow-400/90 to-amber-500/90 backdrop-blur-sm shadow-lg border border-yellow-300/30 ${e}`,children:[i.jsx(Nt,{className:"w-3 h-3 mr-1 fill-yellow-900 text-yellow-900"}),i.jsx("span",{className:"text-xs font-semibold text-yellow-900",children:t})]}),bB=({posterUrl:t,backdropUrl:e,showRating:r=!0,rating:n,actions:a={watchNow:!0,trailer:!0,addToList:!0},onWatchNow:l,onAddToWatchlist:c,onWatchTrailer:u,firstStreamingLogo:h,showStreamingLogoInButton:m=!1,moveButtonsToBottom:f=!1,className:g="",variant:x="vertical"})=>{const k=x==null?void 0:x.includes("spotlight"),j=k?e:t,N=i.jsx(lO,{className:"w-12 h-12 text-slate-400"});return i.jsxs("div",{className:`relative w-full flex-shrink-0 ${g}`,children:[j?i.jsx(we.img,{src:j,alt:"Media poster",className:"w-full h-full object-cover object-center rounded-t-2xl transition-transform duration-700 group-hover:scale-110",style:{aspectRatio:k?"16/9":"2/3",objectPosition:"center top"},loading:"lazy",whileHover:{scale:1.1},transition:{duration:.7}}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-700 to-slate-800 flex items-center justify-center rounded-t-2xl",style:{aspectRatio:k?"16/9":"2/3"},children:N}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-500 rounded-t-2xl"}),r&&n&&i.jsx("div",{className:"absolute top-3 left-3",children:i.jsx(gv,{rating:n})}),h&&!m&&i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg p-1.5 shadow-lg border border-white/20",children:i.jsx("img",{src:h,alt:"Available on streaming platform",className:"w-6 h-6 rounded-sm object-contain"})})}),!f&&(a.watchNow||a.addToList||a.trailer)&&i.jsx(we.div,{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 rounded-t-2xl",initial:{opacity:0},whileHover:{opacity:1},children:i.jsxs("div",{className:"flex gap-3 items-center justify-center",children:[a.watchNow&&i.jsxs(Ar,{variant:"floating",size:"md",onClick:b=>{b==null||b.stopPropagation(),l==null||l()},children:[i.jsx(kt,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Watch"})]}),a.addToList&&i.jsxs(Ar,{variant:"floating",size:"md",onClick:b=>{b==null||b.stopPropagation(),c==null||c()},children:[i.jsx(Pn,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Add"})]}),a.trailer&&i.jsxs(Ar,{variant:"floating",size:"md",onClick:b=>{b==null||b.stopPropagation(),u==null||u()},children:[i.jsx(LS,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Trailer"})]})]})})]})},wB=({title:t,year:e,genres:r=[],showReleaseDate:n=!1,showGenres:a=!1,showDescription:l=!1,description:c,config:u,className:h=""})=>i.jsx("div",{className:`${u.padding} flex-grow flex flex-col justify-between min-h-0 ${h}`,children:i.jsxs("div",{className:"space-y-2 flex-grow",children:[i.jsx("h3",{className:`${u.titleSize} font-bold text-white leading-tight line-clamp-2 group-hover:text-blue-300 transition-colors duration-300`,children:t}),n&&e&&i.jsx("p",{className:`${u.textSize} text-slate-400`,children:e}),a&&r.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1",children:r.map((m,f)=>i.jsx("span",{className:"px-2 py-1 bg-slate-700/70 text-slate-300 text-xs rounded-md backdrop-blur-sm",children:m},f))}),l&&c&&i.jsx("p",{className:`${u.textSize} text-slate-300 line-clamp-3 leading-relaxed`,children:c})]})}),NB=({actions:t={watchNow:!0,trailer:!0,addToList:!0},firstStreamingLogo:e,showStreamingLogoInButton:r=!1,onWatchNow:n,onAddToWatchlist:a,onWatchTrailer:l,className:c="",media:u})=>!t.watchNow&&!t.trailer&&!t.addToList?null:[t.watchNow,t.trailer,t.addToList].filter(Boolean).length===3?i.jsx("div",{className:`mt-4 pt-4 border-t border-slate-700/50 ${c}`,children:i.jsxs("div",{className:"space-y-2",children:[t.watchNow&&i.jsxs(Ar,{size:"sm",variant:"primary",onClick:h=>{h==null||h.stopPropagation(),n==null||n()},className:"w-full flex items-center justify-center gap-2 px-3 py-2.5",children:[i.jsx(kt,{className:"w-3.5 h-3.5 flex-shrink-0"}),i.jsx("span",{className:"text-xs font-medium",children:"Watch Now"})]}),i.jsxs("div",{className:"flex gap-2",children:[t.trailer&&u&&i.jsx(ph,{show:{id:u.id,tmdbId:u.id,title:u.title||u.name||"Unknown"},variant:"secondary",size:"sm",showLabel:!0,className:"flex-1 text-xs"}),t.addToList&&i.jsxs(Ar,{size:"sm",variant:"secondary",onClick:h=>{h==null||h.stopPropagation(),a==null||a()},className:"flex-1 flex items-center justify-center gap-1.5 px-2 py-2 bg-slate-700 hover:bg-slate-600 border-slate-600 text-white",children:[i.jsx(Pn,{className:"w-3 h-3 flex-shrink-0"}),i.jsx("span",{className:"text-xs font-medium",children:"Add"})]})]})]})}):i.jsx("div",{className:`mt-4 pt-4 border-t border-slate-700/50 ${c}`,children:i.jsxs("div",{className:"flex gap-2 justify-center",children:[t.watchNow&&i.jsxs(Ar,{size:"sm",variant:"primary",onClick:h=>{h==null||h.stopPropagation(),n==null||n()},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 min-w-0",children:[i.jsx(kt,{className:"w-3.5 h-3.5 flex-shrink-0"}),i.jsx("span",{className:"truncate text-xs font-medium",children:"Watch"})]}),t.trailer&&u&&i.jsx(ph,{show:{id:u.id,tmdbId:u.id,title:u.title||u.name||"Unknown"},variant:"secondary",size:"sm",showLabel:!0,className:"flex-1 text-xs"}),t.addToList&&i.jsxs(Ar,{size:"sm",variant:"secondary",onClick:h=>{h==null||h.stopPropagation(),a==null||a()},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-slate-700 hover:bg-slate-600 border-slate-600 text-white min-w-0",children:[i.jsx(Pn,{className:"w-3 h-3 flex-shrink-0"}),i.jsx("span",{className:"truncate text-xs font-medium",children:"Add"})]})]})}),Bk={vertical:{width:"w-full",height:"min-h-80",padding:"p-3",titleSize:"text-base",textSize:"text-sm",moveButtonsToBottom:!1,showOverlayButtons:!0},"vertical-polished":{width:"w-full",height:"min-h-96",padding:"p-4",titleSize:"text-lg",textSize:"text-base",moveButtonsToBottom:!0,showOverlayButtons:!1},horizontal:{width:"w-full",height:"h-48",padding:"p-3",titleSize:"text-md",textSize:"text-xs",moveButtonsToBottom:!1,showOverlayButtons:!0,layout:"horizontal"},spotlight:{width:"w-full",height:"h-96",padding:"p-6",titleSize:"text-3xl md:text-5xl",textSize:"text-sm md:text-base",moveButtonsToBottom:!1,showOverlayButtons:!1,layout:"spotlight"},"spotlight-polished":{width:"w-full",height:"h-96",padding:"p-6",titleSize:"text-4xl lg:text-5xl",textSize:"text-base",moveButtonsToBottom:!1,showOverlayButtons:!1,layout:"spotlight"},"spotlight-poster-backdrop":{width:"w-full",height:"h-96",padding:"p-6",titleSize:"text-3xl md:text-4xl lg:text-5xl",textSize:"text-base",moveButtonsToBottom:!1,showOverlayButtons:!1,layout:"spotlight-backdrop"},compact:{width:"w-full",height:"h-24",padding:"p-3",titleSize:"text-sm",textSize:"text-xs",moveButtonsToBottom:!1,showOverlayButtons:!1,layout:"compact"}},kB={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western",10759:"Action & Adventure",10762:"Kids",10763:"News",10764:"Reality",10765:"Sci-Fi & Fantasy",10766:"Soap",10767:"Talk",10768:"War & Politics"},jB={Netflix:"bg-red-600","Disney Plus":"bg-blue-600","Amazon Prime Video":"bg-blue-500","HBO Max":"bg-purple-600",Hulu:"bg-green-500","Apple TV Plus":"bg-black","Paramount Plus":"bg-blue-700",Peacock:"bg-purple-500",YouTube:"bg-red-500",Crunchyroll:"bg-orange-500"};function vv({providers:t=[],size:e="md",maxDisplayed:r=1}){if(!t||t.length===0)return null;const n={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-10 h-10"},a={sm:"text-xs",md:"text-sm",lg:"text-base"},l={Netflix:10,"Disney+":9,"Disney Plus":9,"Amazon Prime Video":8,"Prime Video":8,"Amazon Video":8,"Amazon Prime":8,"Amazon Prime Video with Ads":8,"HBO Max":7,Max:7,"Apple TV+":6,"Apple TV Plus":6,"Apple TV":6,Hulu:5,"Paramount+":4,"Paramount Plus":4,Peacock:3,Crunchyroll:2,"Discovery+":1,"Discovery Plus":1},c=new Set,u=t.filter(g=>{if(!g||!g.provider_name)return!1;let x=g.provider_name.toLowerCase().trim().replace(/\s+(with\s+ads?|standard|premium|plus|4k|uhd|hd).*$/i,"").replace(/\s+/g,"");return x.includes("amazon")||x.includes("prime")?x="amazon":x.includes("disney")?x="disney":x.includes("hbo")||x.includes("max")?x="hbo":x.includes("apple")?x="apple":x.includes("paramount")?x="paramount":x.includes("netflix")?x="netflix":x.includes("hulu")?x="hulu":x.includes("peacock")?x="peacock":x.includes("crunchyroll")?x="crunchyroll":x.includes("discovery")&&(x="discovery"),c.has(x)?!1:(c.add(x),!0)}).slice().sort((g,x)=>{const k=g.provider_name||"",j=x.provider_name||"",N=l[k]||0;return(l[j]||0)-N}),h=u.slice(0,Math.max(1,r)),m=Math.max(0,u.length-h.length),f=m>0;return i.jsxs("div",{className:"flex items-center gap-2",children:[h.map((g,x)=>{const k=cc(g);return i.jsx("div",{className:`${n[e]} rounded-md overflow-hidden flex items-center justify-center bg-white/10 p-1`,title:g.provider_name,children:i.jsx("img",{src:k,alt:g.provider_name,className:`${n[e]} object-contain`,onError:j=>{const N=j.target,b=N.parentElement;g.logo_path&&!N.src.includes("/logos/")?N.src=cc(g):b&&N.src!=="/logos/default.svg"?N.src="/logos/default.svg":b&&(b.innerHTML=`
                    <div class="${n[e]} ${jB[g.provider_name]||"bg-gray-600"} rounded-md flex items-center justify-center">
                      <span class="${a[e]} font-bold text-white">${g.provider_name.charAt(0)}</span>
                    </div>
                  `)}})},`${g.provider_id||x}-${g.provider_name}`)}),f&&i.jsxs("span",{className:"text-xs text-gray-400",children:["+",m," more"]})]})}const SB=({media:t,variant:e="vertical",size:r="md",actions:n={watchNow:!0,trailer:!0,addToList:!0},showStreamingLogos:a=!0,showSecondaryPoster:l=!1,showStreamingLogoInButton:c=!1,hideStreamingLogos:u=!1,streamingLogoInWatchNow:h=!1,moveButtonsToBottom:m=!1,showRating:f=!0,showGenres:g=!1,showReleaseDate:x=!1,showDescription:k=!1,onAddToWatchlist:j,onWatchTrailer:N,onCardClick:b,onShareContent:C,onWatchNow:_,genreMap:T=kB,className:P=""})=>{var A;const L=t.title||t.name||"Unknown Title",I=t.release_date||t.first_air_date,E=I?new Date(I).getFullYear():null,R=t.vote_average?Number(t.vote_average).toFixed(1):null,z=t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:null,G=t.backdrop_path?`https://image.tmdb.org/t/p/w1280${t.backdrop_path}`:null,W=(t.streaming_platforms||t.streamingPlatforms||t.streaming||[]).map(H=>({provider_id:H.provider_id||0,provider_name:H.provider_name||H.name||"Unknown",logo_path:H.logo_path})).filter(H=>H.provider_id>0),ee=((A=t.genre_ids)==null?void 0:A.slice(0,3).map(H=>T[H]).filter(Boolean))||[],D=Bk[e]||Bk.vertical,Q=W.length>0&&W[0].logo_path?W[0].logo_path.startsWith("http")?W[0].logo_path:`https://image.tmdb.org/t/p/w200${W[0].logo_path}`:null,ae=m||D.moveButtonsToBottom,oe=()=>e==="spotlight-poster-backdrop"?i.jsxs(tg,{variant:e,className:`relative h-96 w-full ${P}`,onClick:()=>b==null?void 0:b(t),children:[G&&i.jsxs(we.div,{initial:{scale:1.05,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1,ease:"easeOut"},className:"absolute inset-0 overflow-hidden",children:[i.jsx("img",{src:G,alt:L,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-black/30"})]}),i.jsxs(we.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"relative z-10 h-full p-6 flex items-center gap-6",children:[z&&i.jsx(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.3},className:"flex-shrink-0",children:i.jsx("img",{src:z,alt:L,className:"w-32 md:w-40 lg:w-48 h-48 md:h-60 lg:h-72 object-cover rounded-2xl shadow-2xl border border-white/10"})}),i.jsxs("div",{className:"flex-1 space-y-4",children:[i.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white",children:L}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[x&&E&&i.jsx("p",{className:"text-gray-300",children:E}),g&&ee.length>0&&i.jsx("p",{className:"text-gray-300",children:ee.slice(0,3).join(", ")}),f&&R&&i.jsx(gv,{rating:R})]}),k&&t.overview&&i.jsx("p",{className:"text-gray-200 line-clamp-3 max-w-2xl",children:t.overview}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[n.watchNow&&i.jsx(Ar,{variant:"primary",size:"lg",onClick:H=>{H==null||H.stopPropagation(),_==null||_(t)},className:"bg-teal-600 hover:bg-teal-700 text-white font-semibold",children:i.jsxs("div",{className:"flex items-center gap-2",children:[Q&&i.jsx("img",{src:Q,alt:"Streaming platform",className:"w-5 h-5 object-contain rounded-sm bg-white p-0.5"}),i.jsx(kt,{className:"w-5 h-5"}),"Watch Now"]})}),n.trailer&&i.jsx(ph,{show:{id:t.id,tmdbId:t.id,title:L},variant:"secondary",size:"default",showLabel:!0,className:"min-w-24"}),n.addToList&&i.jsxs(Ar,{variant:"secondary",size:"lg",onClick:H=>{H==null||H.stopPropagation(),j==null||j(t)},children:[i.jsx(Pn,{className:"w-5 h-5"}),"Add to List"]})]})]})]})]}):i.jsxs(tg,{variant:e,className:`relative h-96 w-full ${P}`,onClick:()=>b==null?void 0:b(t),children:[G&&i.jsx("img",{src:G,alt:L,className:"absolute inset-0 w-full h-full object-cover rounded-3xl"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent rounded-3xl"}),i.jsxs("div",{className:"absolute inset-0 flex flex-col md:flex-row items-center md:items-end justify-between h-full p-8 space-y-6 md:space-y-0",children:[l&&z&&i.jsx("img",{src:z,alt:L,className:"w-24 md:w-32 rounded-xl shadow-2xl border border-slate-700 object-cover"}),i.jsxs("div",{className:"text-center md:text-left max-w-3xl md:ml-8 space-y-4",children:[f&&R&&i.jsx(gv,{rating:R}),i.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-4 leading-tight group-hover:text-blue-300 transition-colors duration-300",children:L}),i.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-4 text-sm text-slate-300",children:[x&&E&&i.jsx("span",{children:E}),g&&ee.length>0&&i.jsx("div",{className:"flex gap-2",children:ee.slice(0,3).map((H,Z)=>i.jsx("span",{className:"px-2 py-1 bg-slate-700/70 rounded-md backdrop-blur-sm",children:H},Z))})]}),k&&t.overview&&i.jsx("p",{className:"text-slate-200 leading-relaxed line-clamp-3 max-w-2xl text-sm md:text-base",children:t.overview}),i.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-3 mt-4",children:[n.watchNow&&i.jsxs(Ar,{variant:"primary",size:"lg",onClick:H=>{H==null||H.stopPropagation(),_==null||_(t)},className:"flex items-center gap-2",children:[i.jsx(kt,{className:"w-5 h-5"}),"Watch Now",Q&&c&&i.jsx("img",{src:Q,alt:"Streaming Logo",className:"w-5 h-5 rounded-sm bg-white p-0.5"})]}),n.trailer&&i.jsxs(Ar,{variant:"secondary",size:"lg",onClick:H=>{H==null||H.stopPropagation(),N==null||N(t)},children:[i.jsx(LS,{className:"w-5 h-5"}),"Trailer"]}),n.addToList&&i.jsxs(Ar,{variant:"secondary",size:"lg",onClick:H=>{H==null||H.stopPropagation(),j==null||j(t)},children:[i.jsx(Pn,{className:"w-5 h-5"}),"Add to List"]})]}),!u&&a&&!c&&W.length>0&&i.jsx("div",{className:"mt-4",children:i.jsx(vv,{providers:W,maxDisplayed:4,size:"md"})})]})]})]});return e!=null&&e.includes("spotlight")?oe():i.jsx(tg,{variant:e,className:`w-full min-h-fit ${P}`,onClick:()=>b==null?void 0:b(t),children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx(bB,{posterUrl:z,backdropUrl:G,showRating:f,rating:R,actions:n,onWatchNow:()=>_==null?void 0:_(t),onAddToWatchlist:()=>j==null?void 0:j(t),onWatchTrailer:()=>N==null?void 0:N(t),firstStreamingLogo:Q,showStreamingLogoInButton:c,moveButtonsToBottom:ae,className:"flex-shrink-0 aspect-[2/3] w-full",variant:e}),i.jsx(wB,{title:L,year:E,genres:ee,showReleaseDate:x,showGenres:g,showDescription:k,description:t.overview,config:D}),ae&&i.jsx(NB,{actions:n,firstStreamingLogo:Q,showStreamingLogoInButton:c,onWatchNow:()=>_==null?void 0:_(t),onAddToWatchlist:()=>j==null?void 0:j(t),onWatchTrailer:()=>N==null?void 0:N(t),media:t}),!u&&a&&!c&&!ae&&W.length>0&&i.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700/50 px-3",children:i.jsx(vv,{providers:W,maxDisplayed:3,size:"sm"})})]})})},Ws=Ke.memo(SB),CB=({media:t,matchPercentage:e,reasonForRecommendation:r,viewingInsight:n,contextualInfo:a,similarViewers:l,watchTimeEstimate:c,trendingRank:u,leavesSoon:h,friendsWatching:m,isUpcoming:f,releaseDate:g,onCardClick:x,onWatchNow:k,onAddToWatchlist:j,onWatchTrailer:N,onShowInfo:b,className:C=""})=>{const[_,T]=Ke.useState(!1),[P,A]=Ke.useState(!1),L=E=>E?E>=90?"text-green-400":E>=75?"text-blue-400":E>=60?"text-yellow-400":"text-orange-400":"text-gray-400",I=E=>E?E>=90?i.jsx(is,{className:"w-3 h-3"}):E>=75?i.jsx(kg,{className:"w-3 h-3"}):i.jsx(Nt,{className:"w-3 h-3"}):i.jsx(Nt,{className:"w-3 h-3"});return i.jsxs(we.div,{className:`relative group ${C}`,onHoverStart:()=>T(!0),onHoverEnd:()=>T(!1),whileHover:{y:-8},transition:{duration:.3,ease:"easeOut"},children:[i.jsx(we.div,{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur opacity-0 group-hover:opacity-100 transition duration-500",animate:{background:_?"linear-gradient(45deg, rgba(59, 130, 246, 0.3), rgba(147, 51, 234, 0.3))":"linear-gradient(45deg, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1))"}}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"absolute top-3 left-3 z-20 flex flex-col gap-2",children:[e&&i.jsx(we.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.3},children:i.jsxs(ze,{variant:"secondary",className:`${L(e)} bg-black/80 backdrop-blur-md border-white/20 px-2 py-1 text-xs font-semibold`,children:[I(e),i.jsxs("span",{className:"ml-1",children:[e,"% Match"]})]})}),u&&u<=10&&i.jsxs(ze,{variant:"secondary",className:"bg-red-600/80 text-white border-red-500/30 px-2 py-1 text-xs",children:[i.jsx(Nn,{className:"w-3 h-3 mr-1"}),"#",u," Trending"]}),h&&i.jsxs(ze,{variant:"secondary",className:"bg-orange-600/80 text-white border-orange-500/30 px-2 py-1 text-xs",children:[i.jsx(Xs,{className:"w-3 h-3 mr-1"}),"Leaving Soon"]})]}),m&&m>0&&i.jsx("div",{className:"absolute top-3 right-3 z-20",children:i.jsxs(ze,{variant:"secondary",className:"bg-indigo-600/80 text-white border-indigo-500/30 px-2 py-1 text-xs",children:[i.jsx(Ir,{className:"w-3 h-3 mr-1"}),m," friends"]})}),i.jsx(Ws,{media:t,variant:"vertical-polished",size:"md",className:"h-full transition-all duration-300 group-hover:shadow-2xl",showStreamingLogos:!0,showRating:!0,showGenres:!1,showReleaseDate:!0,showDescription:!1,moveButtonsToBottom:!0,showStreamingLogoInButton:!1,onCardClick:x,onWatchNow:k,onWatchTrailer:N,onAddToWatchlist:j}),i.jsx(lo,{children:_&&i.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/95 via-black/80 to-transparent rounded-b-2xl p-4 z-10",children:i.jsxs("div",{className:"space-y-2 text-white",children:[c&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-300",children:[i.jsx(Xs,{className:"w-3 h-3"}),i.jsxs("span",{children:[c," to complete"]})]}),l&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-300",children:[i.jsx(Or,{className:"w-3 h-3"}),i.jsx("span",{children:l})]}),n&&i.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-300",children:[i.jsx(ts,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"line-clamp-2",children:n})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsx(ie,{size:"sm",className:`${f?"bg-purple-600 hover:bg-purple-700":"bg-white/90 hover:bg-white"} text-${f?"white":"black"} text-xs px-3 py-1 h-7`,onClick:E=>{E.stopPropagation(),k==null||k(t)},children:f?i.jsxs(i.Fragment,{children:[i.jsx(ec,{className:"w-3 h-3 mr-1"}),"Remind Me"]}):i.jsxs(i.Fragment,{children:[i.jsx(kt,{className:"w-3 h-3 mr-1"}),"Watch"]})}),i.jsx(ie,{size:"sm",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 text-xs px-3 py-1 h-7",onClick:E=>{E.stopPropagation(),j==null||j(t)},children:i.jsx(Pn,{className:"w-3 h-3"})}),i.jsx(ie,{size:"sm",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 text-xs px-3 py-1 h-7",onClick:E=>{E.stopPropagation(),b==null||b(t)},children:i.jsx(Qu,{className:"w-3 h-3"})})]})]})})}),r&&i.jsxs("div",{className:"absolute top-1/2 right-2 z-30",onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),children:[i.jsx(ie,{size:"sm",variant:"outline",className:"w-8 h-8 p-0 bg-black/60 border-white/20 text-white hover:bg-black/80 rounded-full",children:i.jsx(Qu,{className:"w-3 h-3"})}),i.jsx(lo,{children:P&&i.jsxs(we.div,{initial:{opacity:0,scale:.8,x:10},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8,x:10},className:"absolute right-full mr-2 top-1/2 -translate-y-1/2 bg-black/90 backdrop-blur-md border border-white/20 rounded-xl p-3 max-w-xs z-50",children:[i.jsxs("div",{className:"text-xs text-white",children:[i.jsxs("div",{className:"font-semibold mb-1 flex items-center gap-1",children:[i.jsx(is,{className:"w-3 h-3 text-blue-400"}),"Why this?"]}),i.jsx("p",{className:"text-slate-300",children:r})]}),i.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 border-4 border-transparent border-l-black/90"})]})})]})]})]})},EB=(t,e)=>({matchPercentage:Math.floor(Math.random()*30)+70,viewingInsight:_B(e),similarViewers:`${Math.floor(Math.random()*80)+20}% of similar viewers loved this`,watchTimeEstimate:PB(t.media_type),reasonForRecommendation:RB(e),trendingRank:Math.random()>.7?Math.floor(Math.random()*10)+1:void 0,leavesSoon:Math.random()>.85,friendsWatching:Math.random()>.6?Math.floor(Math.random()*8)+1:0,isUpcoming:e==="upcoming-with-reminders",releaseDate:e==="upcoming-with-reminders"?TB():void 0}),TB=()=>{const t=["Oct 15, 2025","Nov 3, 2025","Dec 20, 2025","Jan 10, 2026","Feb 14, 2026"];return t[Math.floor(Math.random()*t.length)]},_B=t=>({"because-you-loved":"Similar themes and tone to your favorites","weekend-bingers":"Perfect cliffhangers for marathon viewing","award-season-winners":"Critics and awards panels loved this","quick-wins":"Satisfying complete story in one sitting","sports-live-events":"Live action you can't watch later","upcoming-with-reminders":"Highly anticipated by fans like you","friends-are-watching":"Your friends are talking about this","educational-entertaining":"Learn while being entertained","ai-curated-surprise":"Our AI found this gem for you","leaving-soon":"Available for limited time"})[t]||"Recommended for you",PB=t=>t==="movie"?`${Math.floor(Math.random()*60)+90} minutes`:`${Math.floor(Math.random()*8)+2} seasons`,RB=t=>({"because-you-loved":"Based on your 5-star rating of Succession and similar shows in your watchlist","weekend-bingers":"You tend to watch 3+ episodes in a session on weekends","award-season-winners":"Award-winning content aligns with your quality preferences","quick-wins":"Matches your preference for complete stories under 2 hours","sports-live-events":"Live content based on your sports interests and activity","upcoming-with-reminders":"Content matching your wishlisted genres and interests","friends-are-watching":"Multiple friends in your network are currently watching","educational-entertaining":"Balances learning with entertainment like your documentary history","ai-curated-surprise":"Advanced algorithm detected perfect match for your unique taste","leaving-soon":"High-quality content expiring from platforms soon"})[t]||"Personalized recommendation based on your viewing history",Hk=[{key:"because-you-loved",title:"Because You Loved Succession",subtitle:"Power dynamics & family drama",description:"Sharp writing, complex characters, and corporate intrigue that matches your taste",iconName:"heart",gradient:"from-rose-500 to-pink-600",textColor:"text-rose-300",borderColor:"border-rose-500/30",reasoning:"Based on your 5-star rating and 3 rewatches",priority:1,personalizedFor:"Drama lovers",moodContext:"When you want intelligent storytelling"},{key:"weekend-bingers",title:"Weekend Binge-Worthy",subtitle:"Perfect for your Saturday marathon",description:"Addictive series with multiple seasons ready to consume in one sitting",iconName:"coffee",gradient:"from-amber-500 to-orange-600",textColor:"text-amber-300",borderColor:"border-amber-500/30",reasoning:"Most binged shows this weekend",priority:2,timeContext:"Weekend viewing",moodContext:"When you have time to dive deep"},{key:"award-season-winners",title:"Award Season Winners",subtitle:vu().subtitle,description:vu().description,iconName:"award",gradient:"from-yellow-500 to-amber-600",textColor:"text-yellow-300",borderColor:"border-yellow-500/30",reasoning:vu().reasoning,priority:3,personalizedFor:"Quality seekers",timeContext:vu().timeContext},{key:"quick-wins",title:"Quick Wins (Under 90 mins)",subtitle:"Perfect for tonight",description:"Satisfying complete stories you can finish before bed",iconName:"clock",gradient:"from-green-500 to-emerald-600",textColor:"text-green-300",borderColor:"border-green-500/30",reasoning:"Matches your recent viewing patterns",priority:4,timeContext:"Evening viewing",moodContext:"When you want something complete"},{key:"sports-live-events",title:"Sports & Live Events",subtitle:"Don't miss the action",description:"Live sports, breaking news, and special events happening right now",iconName:"zap",gradient:"from-orange-500 to-red-600",textColor:"text-orange-300",borderColor:"border-orange-500/30",reasoning:"Live content you can't watch later",priority:5,timeContext:"Live now",moodContext:"Real-time excitement"},{key:"upcoming-with-reminders",title:"Coming Soon",subtitle:"Set your reminders now",description:"Highly anticipated shows and movies launching soon - get reminded when they drop",iconName:"calendar",gradient:"from-purple-500 to-indigo-600",textColor:"text-purple-300",borderColor:"border-purple-500/30",reasoning:"Based on your wishlisted content",priority:6,timeContext:"Future releases",moodContext:"Anticipation building"},{key:"friends-are-watching",title:"Your Friends Are Watching",subtitle:"Stay in the conversation",description:"Shows your connected friends are currently enjoying and discussing",iconName:"users",gradient:"from-indigo-500 to-purple-600",textColor:"text-indigo-300",borderColor:"border-indigo-500/30",reasoning:"From 12 friends' activity",priority:7,personalizedFor:"Social viewers"},{key:"educational-entertaining",title:"Learn Something New",subtitle:"Educational content that doesn't feel like school",description:"Documentaries and docuseries that entertain while they educate",iconName:"eye",gradient:"from-emerald-500 to-teal-600",textColor:"text-emerald-300",borderColor:"border-emerald-500/30",reasoning:"Expands your interests",priority:8,moodContext:"When you want to learn"},{key:"ai-curated-surprise",title:"AI Curated Surprise",subtitle:"Trust us on this one",description:"Our algorithm found something special that perfectly matches your unique taste",iconName:"star",gradient:"from-pink-500 to-rose-600",textColor:"text-pink-300",borderColor:"border-pink-500/30",reasoning:"Advanced matching algorithm",priority:9,personalizedFor:"Adventurous viewers"},{key:"leaving-soon",title:"Leaving Soon",subtitle:"Watch before they're gone",description:"Quality content that's about to expire from streaming platforms",iconName:"clock",gradient:"from-red-500 to-pink-600",textColor:"text-red-300",borderColor:"border-red-500/30",reasoning:"Expiring in the next 30 days",priority:10,timeContext:"Time-sensitive"}];function vu(){const t=new Date().getMonth()+1;return t>=1&&t<=3?{subtitle:"Oscar contenders & winners",description:"Films in the awards conversation and recent Academy Award winners",reasoning:"Oscar season is here - catch the buzz",timeContext:"Awards season"}:t>=9&&t<=10?{subtitle:"Emmy nominated series",description:"Outstanding television recognized by the Television Academy",reasoning:"Emmy season highlights the best of TV",timeContext:"Television awards season"}:t>=11&&t<=12?{subtitle:"Awards season contenders",description:"Shows and films generating early awards buzz and critical acclaim",reasoning:"Getting ahead of awards season",timeContext:"Pre-awards buzz"}:{subtitle:"Award-winning content",description:"Recent winners from major awards ceremonies and critical darlings",reasoning:"Celebrate excellence in entertainment",timeContext:"Celebrating the best"}}const AB={heart:_n,calendar:wc,award:Vv,clock:Xs,eye:Or,users:Ir,zap:is,coffee:cO,star:Nt},IB=({mediaData:t,onMediaClick:e,onWatchNow:r,onAddToWatchlist:n,onWatchTrailer:a,onShowInfo:l,onSetReminder:c,className:u=""})=>{const h=(()=>{const f={};return Hk.forEach(g=>{const x=[...t].sort(()=>.5-Math.random());f[g.key]=x.slice(0,Math.floor(Math.random()*3)+4)}),f})(),m=(f,g,x)=>{if(x==="upcoming-with-reminders"&&g==="watchNow"){c==null||c(f);return}switch(g){case"click":e==null||e(f);break;case"watchNow":r==null||r(f);break;case"watchlist":n==null||n(f);break;case"trailer":a==null||a(f);break;case"info":l==null||l(f);break}};return i.jsx("div",{className:`space-y-12 ${u}`,children:Hk.map((f,g)=>{const x=AB[f.iconName]||Nt,k=h[f.key]||[];return k.length===0?null:i.jsxs(we.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:g*.1,duration:.6},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${f.gradient} flex items-center justify-center`,children:i.jsx(x,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:f.title}),i.jsx("p",{className:"text-slate-400 text-sm max-w-2xl",children:f.reasoning})]})]}),f.priority>=8&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),i.jsx("span",{className:"text-yellow-400 font-medium",children:"Priority for you"})]})]}),i.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors",children:"View All"})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",children:[k.map((j,N)=>i.jsx(we.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:g*.1+N*.05,duration:.4},className:"flex-shrink-0 w-56",children:i.jsx(CB,{media:j,...EB(j,f.key),onCardClick:b=>m(b,"click",f.key),onWatchNow:b=>m(b,"watchNow",f.key),onAddToWatchlist:b=>m(b,"watchlist",f.key),onWatchTrailer:b=>m(b,"trailer",f.key),onShowInfo:b=>m(b,"info",f.key),className:"h-full"})},`${f.key}-${j.id}-${N}`)),i.jsx(we.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:g*.1+k.length*.05,duration:.4},className:"flex-shrink-0 w-56",children:i.jsxs("div",{className:"h-80 bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 flex flex-col items-center justify-center gap-4 hover:bg-slate-800/70 transition-all duration-300 cursor-pointer group",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(x,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-white font-medium",children:"See More"}),i.jsx("p",{className:"text-slate-400 text-sm",children:f.title})]})]})})]}),i.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-slate-950 to-transparent pointer-events-none z-10"}),i.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-slate-950 to-transparent pointer-events-none z-10"})]})]},f.key)})})},qk=[{id:"action",name:"Action",icon:is,color:"bg-red-500"},{id:"comedy",name:"Comedy",icon:_n,color:"bg-yellow-500"},{id:"drama",name:"Drama",icon:Ir,color:"bg-blue-500"},{id:"horror",name:"Horror",icon:wn,color:"bg-purple-500"},{id:"romance",name:"Romance",icon:_n,color:"bg-pink-500"},{id:"sci-fi",name:"Sci-Fi",icon:Hh,color:"bg-cyan-500"},{id:"fantasy",name:"Fantasy",icon:NO,color:"bg-indigo-500"},{id:"documentary",name:"Documentary",icon:nO,color:"bg-green-500"},{id:"thriller",name:"Thriller",icon:OS,color:"bg-gray-500"},{id:"music",name:"Music",icon:kO,color:"bg-emerald-500"}],Kk=[{id:"netflix",name:"Netflix",icon:"/logos/netflix.png",color:"bg-red-600"},{id:"disney",name:"Disney+",icon:"/logos/disney-plus.png",color:"bg-blue-600"},{id:"hbo",name:"HBO Max",icon:"/logos/hbo-max.png",color:"bg-purple-600"},{id:"prime",name:"Prime Video",icon:"/logos/prime-video.png",color:"bg-blue-500"},{id:"hulu",name:"Hulu",icon:"/logos/hulu.png",color:"bg-green-600"},{id:"paramount",name:"Paramount+",icon:"/logos/paramount-plus.png",color:"bg-blue-700"}],OB=({onGenreMix:t,onRandomDiscover:e,onTimeFilter:r,onPersonalityMatch:n,onStreamingFilter:a,className:l=""})=>{const[c,u]=y.useState([]),[h,m]=y.useState([]),[f,g]=y.useState(!1),x=N=>{const b=c.includes(N)?c.filter(C=>C!==N):[...c,N];u(b),t==null||t(b)},k=N=>{const b=h.includes(N)?h.filter(C=>C!==N):[...h,N];m(b),a==null||a(b)},j=async()=>{g(!0),await new Promise(N=>setTimeout(N,1500)),g(!1),e==null||e()};return i.jsxs("div",{className:`space-y-8 ${l}`,children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center justify-center gap-2",children:[i.jsx(ts,{className:"w-6 h-6 text-blue-400"}),"Discover Your Perfect Watch"]}),i.jsx("p",{className:"text-slate-400",children:"Filter by platform and genre to find exactly what you want"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[i.jsx(PO,{className:"w-5 h-5 text-purple-400"}),"Filter by Streaming Platform",h.length>0&&i.jsxs(ze,{variant:"secondary",className:"ml-2 bg-purple-500/20 text-purple-300",children:[h.length," selected"]})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:Kk.map(N=>{const b=h.includes(N.id);return i.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(N.id),className:`p-4 rounded-2xl border-2 transition-all duration-300 relative overflow-hidden group ${b?"border-white bg-white/10 shadow-lg":"border-slate-700 hover:border-slate-600 bg-slate-800/50 hover:bg-slate-800/70"}`,children:i.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[i.jsx("img",{src:N.icon,alt:N.name,className:"w-8 h-8 object-contain",onError:C=>{C.target.style.display="none"}}),i.jsx("span",{className:`text-sm font-medium ${b?"text-white":"text-slate-300"}`,children:N.name})]})},N.id)})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[i.jsx(EO,{className:"w-5 h-5 text-green-400"}),"Mix & Match Genres",c.length>0&&i.jsxs(ze,{variant:"secondary",className:"ml-2 bg-green-500/20 text-green-300",children:[c.length," selected"]})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:qk.map(N=>{const b=c.includes(N.id),C=N.icon;return i.jsxs(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(N.id),className:`px-4 py-2 rounded-full border-2 transition-all duration-300 flex items-center gap-2 ${b?`border-white ${N.color} text-white shadow-lg`:"border-slate-600 bg-slate-800/50 text-slate-300 hover:border-slate-500 hover:bg-slate-800/70"}`,children:[i.jsx(C,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:N.name})]},N.id)})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(we.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-purple-600/20 to-pink-600/20 border border-purple-500/30 rounded-2xl p-6 text-center space-y-3 cursor-pointer",onClick:j,children:[i.jsx(we.div,{animate:f?{rotate:360}:{rotate:0},transition:{duration:1.5,ease:"easeInOut",repeat:f?1/0:0},children:i.jsx(CO,{className:"w-8 h-8 text-purple-400 mx-auto"})}),i.jsx("h4",{className:"text-white font-semibold",children:"I'm Feeling Lucky"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Surprise me with something amazing"})]}),i.jsxs(we.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-blue-600/20 to-cyan-600/20 border border-blue-500/30 rounded-2xl p-6 text-center space-y-3 cursor-pointer",onClick:()=>r==null?void 0:r("quick"),children:[i.jsx(Xs,{className:"w-8 h-8 text-blue-400 mx-auto"}),i.jsx("h4",{className:"text-white font-semibold",children:"Quick Watch"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"30-90 minutes of great content"})]}),i.jsxs(we.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-green-600/20 to-emerald-600/20 border border-green-500/30 rounded-2xl p-6 text-center space-y-3 cursor-pointer",onClick:()=>n==null?void 0:n("quiz"),children:[i.jsx(OS,{className:"w-8 h-8 text-green-400 mx-auto"}),i.jsx("h4",{className:"text-white font-semibold",children:"Personality Match"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Find shows that match your vibe"})]})]}),i.jsx(lo,{children:(c.length>0||h.length>0)&&i.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fO,{className:"w-4 h-4 text-blue-400"}),i.jsx("span",{className:"text-white font-medium",children:"Active Filters:"})]}),i.jsxs(ie,{size:"sm",variant:"ghost",onClick:()=>{u([]),m([])},className:"text-slate-400 hover:text-white",children:[i.jsx(US,{className:"w-4 h-4 mr-1"}),"Clear All"]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[h.map(N=>{const b=Kk.find(C=>C.id===N);return i.jsx(ze,{variant:"secondary",className:"bg-purple-500/20 text-purple-300",children:b==null?void 0:b.name},N)}),c.map(N=>{const b=qk.find(C=>C.id===N);return i.jsx(ze,{variant:"secondary",className:"bg-green-500/20 text-green-300",children:b==null?void 0:b.name},N)})]})]})})]})};async function DB(t){const e=await t.text();if(!e)return null;try{return JSON.parse(e)}catch{return e}}async function yu(t,e={}){const r=await fetch(t,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers||{}},...e}),n=await DB(r);if(!r.ok)throw Object.assign(new Error(`API ${r.status}: ${r.statusText}`),{status:r.status,payload:n});return n}function xu(t){const e=Object.entries(t).filter(([n,a])=>a!=null&&a!=="");if(!e.length)return"";const r=new URLSearchParams;for(const[n,a]of e)r.append(n,String(a));return`?${r.toString()}`}const Kt={WATCHLIST:"bingeboard_watchlist",REMINDERS:"bingeboard_reminders",PREFERENCES:"bingeboard_preferences"},Ms={WATCHLIST:"/api/user/watchlist",REMINDERS:"/api/user/reminders",PREFERENCES:"/api/user/preferences"};class LB{constructor(){this.userId=null}setUserId(e){this.userId=e}getStoredData(e,r){try{const n=localStorage.getItem(e);return n?JSON.parse(n):r}catch(n){return console.warn(`Error parsing stored data for ${e}:`,n),r}}setStoredData(e,r){try{localStorage.setItem(e,JSON.stringify(r))}catch(n){console.error(`Error storing data for ${e}:`,n)}}async apiRequest(e,r={}){try{const n=await Wt(e,{headers:{"Content-Type":"application/json",...r.headers},...r});if(!n.ok)throw new Error(`API request failed: ${n.status}`);return await n.json()}catch(n){return console.error(`API request error for ${e}:`,n),null}}async syncWithServer(e,r,n){if(!this.userId)return e;try{const a=await this.apiRequest(r);if(a)return this.setStoredData(n,a),a}catch(a){console.warn("Server sync failed, using local data:",a)}return e}async getWatchlist(){const e=this.getStoredData(Kt.WATCHLIST,[]);return this.syncWithServer(e,Ms.WATCHLIST,Kt.WATCHLIST)}async addToWatchlist(e){try{const r=await this.getWatchlist();if(r.some(l=>l.id===e.id&&l.type===e.type))return console.warn("Item already in watchlist"),!1;const n={...e,addedAt:new Date().toISOString(),userId:this.userId||void 0,priority:"medium"},a=[...r,n];return this.setStoredData(Kt.WATCHLIST,a),this.userId&&await this.apiRequest(Ms.WATCHLIST,{method:"POST",body:JSON.stringify(n)}),!0}catch(r){return console.error("Error adding to watchlist:",r),!1}}async removeFromWatchlist(e,r){try{const n=(await this.getWatchlist()).filter(a=>!(a.id===e&&a.type===r));return this.setStoredData(Kt.WATCHLIST,n),this.userId&&await this.apiRequest(`${Ms.WATCHLIST}/${e}`,{method:"DELETE"}),!0}catch(n){return console.error("Error removing from watchlist:",n),!1}}async isInWatchlist(e,r){return(await this.getWatchlist()).some(n=>n.id===e&&n.type===r)}async getReminders(){const e=this.getStoredData(Kt.REMINDERS,[]);return this.syncWithServer(e,Ms.REMINDERS,Kt.REMINDERS)}async setReminder(e,r,n="release",a){try{const l=await this.getReminders();if(l.some(h=>h.id===e.id&&h.type===e.type&&h.reminderType===n))return console.warn("Reminder already set for this content"),!1;const c={...e,remindAt:r,userId:this.userId||void 0,reminderType:n,isActive:!0,customMessage:a},u=[...l,c];return this.setStoredData(Kt.REMINDERS,u),this.userId&&await this.apiRequest(Ms.REMINDERS,{method:"POST",body:JSON.stringify(c)}),!0}catch(l){return console.error("Error setting reminder:",l),!1}}async removeReminder(e,r,n){try{const a=(await this.getReminders()).filter(l=>!(l.id===e&&l.type===r&&l.reminderType===n));return this.setStoredData(Kt.REMINDERS,a),this.userId&&await this.apiRequest(`${Ms.REMINDERS}/${e}`,{method:"DELETE"}),!0}catch(a){return console.error("Error removing reminder:",a),!1}}async getActiveReminders(e=7){const r=await this.getReminders(),n=new Date,a=new Date(n.getTime()+e*24*60*60*1e3);return r.filter(l=>{const c=new Date(l.remindAt);return l.isActive&&c<=a&&c>=n})}async getPreferences(){const e={favoriteGenres:[],favoriteStreamingServices:[],reminderSettings:{emailEnabled:!0,pushEnabled:!0,smsEnabled:!1,advanceDays:1},watchlistSettings:{autoRemoveWatched:!1,sortBy:"addedAt",showOnlyAvailable:!1}},r=this.getStoredData(Kt.PREFERENCES,e);return this.syncWithServer(r,Ms.PREFERENCES,Kt.PREFERENCES)}async updatePreferences(e){try{const r={...await this.getPreferences(),...e};return this.setStoredData(Kt.PREFERENCES,r),this.userId&&await this.apiRequest(Ms.PREFERENCES,{method:"PUT",body:JSON.stringify(r)}),!0}catch(r){return console.error("Error updating preferences:",r),!1}}clearUserData(){Object.values(Kt).forEach(e=>{localStorage.removeItem(e)}),this.userId=null}async exportUserData(){const[e,r,n]=await Promise.all([this.getWatchlist(),this.getReminders(),this.getPreferences()]);return{watchlist:e,reminders:r,preferences:n}}async importUserData(e){try{return e.watchlist&&this.setStoredData(Kt.WATCHLIST,e.watchlist),e.reminders&&this.setStoredData(Kt.REMINDERS,e.reminders),e.preferences&&this.setStoredData(Kt.PREFERENCES,e.preferences),!0}catch(r){return console.error("Error importing user data:",r),!1}}}const Gr=new LB,{setUserId:_H,getWatchlist:PH,addToWatchlist:RH,removeFromWatchlist:AH,isInWatchlist:IH,getReminders:OH,setReminder:DH,removeReminder:LH,getActiveReminders:MH,getPreferences:FH,updatePreferences:zH,clearUserData:UH,exportUserData:$H,importUserData:VH}=Gr;async function MB(t,e="us"){return console.warn("Utelly API key not configured"),{results:[],collection:{total_results:0}}}async function FB(t,e="us"){return console.warn("Utelly API key not configured"),{results:[],collection:{total_results:0}}}const rg={netflix:{id:"netflix",name:"netflix",displayName:"Netflix",icon:"",color:"#E50914",baseUrl:"https://www.netflix.com",searchUrl:"https://www.netflix.com/search?q=",isSubscription:!0,isRental:!1,priority:1},hulu:{id:"hulu",name:"hulu",displayName:"Hulu",icon:"",color:"#1CE783",baseUrl:"https://www.hulu.com",searchUrl:"https://www.hulu.com/search?q=",isSubscription:!0,isRental:!1,priority:2},amazon_prime:{id:"amazon_prime",name:"amazon_prime",displayName:"Prime Video",icon:"",color:"#00A8E1",baseUrl:"https://www.amazon.com/prime-video",searchUrl:"https://www.amazon.com/s?k=",isSubscription:!0,isRental:!0,priority:3},disney_plus:{id:"disney_plus",name:"disney_plus",displayName:"Disney+",icon:"",color:"#113CCF",baseUrl:"https://www.disneyplus.com",searchUrl:"https://www.disneyplus.com/search?q=",isSubscription:!0,isRental:!1,priority:4},hbo_max:{id:"hbo_max",name:"hbo_max",displayName:"Max",icon:"",color:"#8C00FF",baseUrl:"https://www.max.com",searchUrl:"https://www.max.com/search?q=",isSubscription:!0,isRental:!1,priority:5},apple_tv_plus:{id:"apple_tv_plus",name:"apple_tv_plus",displayName:"Apple TV+",icon:"",color:"#000000",baseUrl:"https://tv.apple.com",searchUrl:"https://tv.apple.com/search?term=",isSubscription:!0,isRental:!0,priority:6},paramount_plus:{id:"paramount_plus",name:"paramount_plus",displayName:"Paramount+",icon:"",color:"#0064FF",baseUrl:"https://www.paramountplus.com",searchUrl:"https://www.paramountplus.com/search/?query=",isSubscription:!0,isRental:!1,priority:7},peacock:{id:"peacock",name:"peacock",displayName:"Peacock",icon:"",color:"#7B68EE",baseUrl:"https://www.peacocktv.com",searchUrl:"https://www.peacocktv.com/search?query=",isSubscription:!0,isRental:!1,priority:8},youtube:{id:"youtube",name:"youtube",displayName:"YouTube",icon:"",color:"#FF0000",baseUrl:"https://www.youtube.com",searchUrl:"https://www.youtube.com/results?search_query=",isSubscription:!1,isRental:!0,priority:9},vudu:{id:"vudu",name:"vudu",displayName:"Vudu",icon:"",color:"#3B82F6",baseUrl:"https://www.vudu.com",searchUrl:"https://www.vudu.com/content/search?query=",isSubscription:!1,isRental:!0,priority:10},tubi:{id:"tubi",name:"tubi",displayName:"Tubi",icon:"",color:"#FA541C",baseUrl:"https://tubitv.com",searchUrl:"https://tubitv.com/search/",isSubscription:!1,isRental:!1,priority:11},crackle:{id:"crackle",name:"crackle",displayName:"Crackle",icon:"",color:"#FFD700",baseUrl:"https://www.crackle.com",searchUrl:"https://www.crackle.com/search?query=",isSubscription:!1,isRental:!1,priority:12}};class zB{constructor(){this.userPlatforms=[],this.preferredPlatforms=["netflix","hulu","amazon_prime","disney_plus"]}setUserPlatforms(e){this.userPlatforms=e,localStorage.setItem("bingeboard_user_platforms",JSON.stringify(e))}getUserPlatforms(){if(this.userPlatforms.length===0)try{const e=localStorage.getItem("bingeboard_user_platforms");this.userPlatforms=e?JSON.parse(e):this.preferredPlatforms}catch(e){console.warn("Error loading user platforms:",e),this.userPlatforms=this.preferredPlatforms}return this.userPlatforms}normalizePlatformName(e){const r=e.toLowerCase();return{amazon_prime_video:"amazon_prime",amazon_video:"amazon_prime",prime_video:"amazon_prime",hbo_max:"hbo_max",hbomax:"hbo_max",disney_plus:"disney_plus",disneyplus:"disney_plus",apple_tv:"apple_tv_plus",appletv:"apple_tv_plus",paramount:"paramount_plus",youtube_movies:"youtube",google_play:"youtube"}[r]||r}convertToWatchOption(e){const r=this.normalizePlatformName(e.name),n=rg[r];if(!n)return console.warn("Unknown platform:",e.name),null;let a="subscription";return e.url.includes("rent")||e.url.includes("buy")||n.isRental&&!n.isSubscription?a="rental":!n.isSubscription&&!n.isRental&&(a="free"),{platform:n,url:e.url,type:a}}async getStreamingOptions(e){const r=e.title||e.name||"";try{let n;if(e.imdb_id&&(n=await FB(e.imdb_id)),(!n||n.results.length===0)&&(n=await MB(r)),!n||n.results.length===0)return this.getDefaultSearchOptions(e);const a=[],l=new Set;return n.results.forEach(c=>{c.locations.forEach(u=>{const h=this.convertToWatchOption(u);h&&!l.has(h.platform.id)&&(a.push(h),l.add(h.platform.id))})}),this.sortWatchOptions(a)}catch(n){return console.error("Error getting streaming options:",n),this.getDefaultSearchOptions(e)}}getDefaultSearchOptions(e){const r=e.title||e.name||"";return this.getUserPlatforms().slice(0,3).map(n=>{const a=rg[n];return a?{platform:a,url:a.searchUrl+encodeURIComponent(r),type:a.isSubscription?"subscription":"rental"}:null}).filter(Boolean)}sortWatchOptions(e){const r=this.getUserPlatforms();return e.sort((n,a)=>{const l=r.indexOf(n.platform.id),c=r.indexOf(a.platform.id);return l!==-1&&c!==-1?l-c:l!==-1?-1:c!==-1?1:n.type==="subscription"&&a.type!=="subscription"?-1:a.type==="subscription"&&n.type!=="subscription"?1:n.type==="free"&&a.type!=="free"?-1:a.type==="free"&&n.type!=="free"?1:n.platform.priority-a.platform.priority})}async getBestWatchOption(e){const r=await this.getStreamingOptions(e);return r.length>0?r[0]:null}async launchWatch(e){try{const r=await this.getBestWatchOption(e);if(!r){const n=e.title||e.name||"",a=`https://www.google.com/search?q=${encodeURIComponent(n+" watch online")}`;return window.open(a,"_blank"),!0}return window.open(r.url,"_blank"),this.trackPlatformUsage(r.platform.id),!0}catch(r){return console.error("Error launching watch:",r),!1}}trackPlatformUsage(e){try{const r=this.getPlatformUsage();r[e]=(r[e]||0)+1,localStorage.setItem("bingeboard_platform_usage",JSON.stringify(r))}catch(r){console.warn("Error tracking platform usage:",r)}}getPlatformUsage(){try{const e=localStorage.getItem("bingeboard_platform_usage");return e?JSON.parse(e):{}}catch{return{}}}getRecommendedPlatforms(){const e=this.getPlatformUsage(),r=this.getUserPlatforms();return Object.values(rg).map(n=>({platform:n,score:(e[n.id]||0)+(r.includes(n.id)?100:0)})).sort((n,a)=>a.score-n.score).slice(0,6).map(n=>n.platform)}async searchAcrossPlatforms(e){return this.getRecommendedPlatforms().map(r=>({platform:r,url:r.searchUrl+encodeURIComponent(e)}))}async isAvailableOnUserPlatforms(e){const r=await this.getStreamingOptions(e),n=this.getUserPlatforms();return r.some(a=>n.includes(a.platform.id))}}const zu=new zB,{setUserPlatforms:WH,getUserPlatforms:BH,getStreamingOptions:HH,getBestWatchOption:qH,launchWatch:KH,getRecommendedPlatforms:GH,searchAcrossPlatforms:ZH,isAvailableOnUserPlatforms:QH}=zu;class UB{constructor(){this.YOUTUBE_BASE_URL="https://www.youtube.com",this.YOUTUBE_EMBED_URL="https://www.youtube.com/embed",this.YOUTUBE_THUMBNAIL_URL="https://img.youtube.com/vi"}async searchTMDBTrailers(e){try{const r=`/api/multi-api/trailer/${e.type}/${e.id}`,n=new URLSearchParams;e.title&&n.append("title",e.title),e.name&&n.append("title",e.name);const a=n.toString()?`${r}?${n}`:r,l=await Wt(a);if(!l.ok)throw new Error(`TMDB API error: ${l.status}`);const c=await l.json();return this.formatTMDBResults(c.results||[])}catch(r){return console.error("Error fetching TMDB trailers:",r),[]}}formatTMDBResults(e){return e.filter(r=>r.site==="YouTube"&&r.type==="Trailer").map(r=>({id:r.id,key:r.key,name:r.name,site:r.site,type:r.type,size:r.size||1080,url:`${this.YOUTUBE_BASE_URL}/watch?v=${r.key}`,thumbnail:`${this.YOUTUBE_THUMBNAIL_URL}/${r.key}/maxresdefault.jpg`,published_at:r.published_at})).sort((r,n)=>r.name.toLowerCase().includes("official")&&!n.name.toLowerCase().includes("official")?-1:n.name.toLowerCase().includes("official")&&!r.name.toLowerCase().includes("official")?1:n.size-r.size)}async searchYouTubeTrailers(e){const r=e.title||e.name||"",n=this.extractYear(e.release_date||e.first_air_date),a=e.type==="tv"?"trailer":"movie trailer",l=`${r} ${n} ${a} official`;try{const c=await Wt(`/api/youtube/search?q=${encodeURIComponent(l)}&type=video&part=snippet&maxResults=5`);if(!c.ok)throw new Error(`YouTube API error: ${c.status}`);const u=await c.json();return this.formatYouTubeResults(u.items||[])}catch(c){return console.error("Error fetching YouTube trailers:",c),this.generateFallbackSearch(e)}}formatYouTubeResults(e){return e.map(r=>{var n,a;return{id:r.id.videoId,key:r.id.videoId,name:r.snippet.title,site:"YouTube",type:"Trailer",size:1080,url:`${this.YOUTUBE_BASE_URL}/watch?v=${r.id.videoId}`,thumbnail:((a=(n=r.snippet.thumbnails)==null?void 0:n.high)==null?void 0:a.url)||`${this.YOUTUBE_THUMBNAIL_URL}/${r.id.videoId}/maxresdefault.jpg`,published_at:r.snippet.publishedAt}})}generateFallbackSearch(e){const r=e.title||e.name||"",n=this.extractYear(e.release_date||e.first_air_date),a=e.type==="tv"?"trailer":"movie trailer",l=`${r} ${n} ${a} official`,c=`${this.YOUTUBE_BASE_URL}/results?search_query=${encodeURIComponent(l)}`;return[{id:"fallback-search",key:"fallback-search",name:`Search for "${r}" trailer`,site:"YouTube",type:"Search",size:1080,url:c,thumbnail:"/placeholder-trailer.jpg"}]}extractYear(e){return e?new Date(e).getFullYear().toString():""}async getTrailers(e){try{let r=await this.searchTMDBTrailers(e);return r.length===0&&(r=await this.searchYouTubeTrailers(e)),r.length===0&&(r=this.generateFallbackSearch(e)),r.slice(0,5)}catch(r){return console.error("Error getting trailers:",r),this.generateFallbackSearch(e)}}async getBestTrailer(e){const r=await this.getTrailers(e);return r.length>0?r[0]:null}async launchTrailer(e,r=!1){try{const n=await this.getBestTrailer(e);return n?(r?this.openTrailerModal(n):window.open(n.url,"_blank"),!0):(console.warn("No trailer found for media:",e.title||e.name),!1)}catch(n){return console.error("Error launching trailer:",n),!1}}openTrailerModal(e){const r=new CustomEvent("openTrailerModal",{detail:{title:e.name,embedUrl:`${this.YOUTUBE_EMBED_URL}/${e.key}?autoplay=1&rel=0`,thumbnail:e.thumbnail}});window.dispatchEvent(r)}getEmbedUrl(e,r=!1){const n=new URLSearchParams({rel:"0",modestbranding:"1",...r&&{autoplay:"1"}});return`${this.YOUTUBE_EMBED_URL}/${e}?${n}`}getThumbnailUrl(e,r="maxres"){const n={default:"default",medium:"mqdefault",high:"hqdefault",maxres:"maxresdefault"};return`${this.YOUTUBE_THUMBNAIL_URL}/${e}/${n[r]}.jpg`}async hasTrailers(e){try{const r=await this.getTrailers(e);return r.length>0&&r[0].key!=="fallback-search"}catch(r){return console.error("Error checking for trailers:",r),!1}}async getTrailersByType(e,r){return(await this.getTrailers(e)).filter(n=>n.type===r||n.name.toLowerCase().includes(r.toLowerCase()))}async getTrailersByQuality(e,r=720){return(await this.getTrailers(e)).filter(n=>n.size>=r)}async preloadTrailers(e){const r=new Map,n=3;for(let a=0;a<e.length;a+=n){const l=e.slice(a,a+n).map(async c=>{const u=`${c.type}-${c.id}`,h=await this.getTrailers(c);return r.set(u,h),{key:u,trailers:h}});await Promise.allSettled(l),a+n<e.length&&await new Promise(c=>setTimeout(c,100))}return r}getCachedTrailer(e){try{const r=`trailer_${e.type}_${e.id}`,n=sessionStorage.getItem(r);if(n){const a=JSON.parse(n),l=a.timestamp;if(Date.now()-l<36e5)return a.trailer}}catch(r){console.warn("Error reading trailer cache:",r)}return null}cacheTrailer(e,r){try{const n=`trailer_${e.type}_${e.id}`,a={trailer:r,timestamp:Date.now()};sessionStorage.setItem(n,JSON.stringify(a))}catch(n){console.warn("Error caching trailer:",n)}}}const Uu=new UB,{getTrailers:XH,getBestTrailer:YH,launchTrailer:JH,getEmbedUrl:eq,getThumbnailUrl:tq,hasTrailers:rq,getTrailersByType:nq,getTrailersByQuality:sq,preloadTrailers:aq,getCachedTrailer:iq}=Uu;function TP(t={}){const{autoLoadWatchlist:e=!0,autoLoadReminders:r=!0,cacheResults:n=!0}=t,{user:a}=Fr(),[l,c]=y.useState({watchlist:[],reminders:[],isLoading:!1,error:null}),[u,h]=y.useState(new Map);y.useEffect(()=>{a!=null&&a.id&&Gr.setUserId(a.id)},[a==null?void 0:a.id]),y.useEffect(()=>{(e||r)&&f()},[e,r,a==null?void 0:a.id]);const m=y.useCallback(async(R,z,G=3e5)=>{if(!n)return await z();const W=u.get(R);if(W&&Date.now()-W.timestamp<G)return W.data;const ee=await z();return h(D=>new Map(D).set(R,{data:ee,timestamp:Date.now()})),ee},[u,n]),f=y.useCallback(async()=>{var R,z;c(G=>({...G,isLoading:!0,error:null}));try{const G=[];e&&G.push(Gr.getWatchlist()),r&&G.push(Gr.getReminders());const W=await Promise.allSettled(G),ee={isLoading:!1};if(e&&((R=W[0])==null?void 0:R.status)==="fulfilled"&&(ee.watchlist=W[0].value),r){const D=e?1:0;((z=W[D])==null?void 0:z.status)==="fulfilled"&&(ee.reminders=W[D].value)}c(D=>({...D,...ee}))}catch(G){c(W=>({...W,isLoading:!1,error:G instanceof Error?G.message:"Failed to load data"}))}},[e,r]),g=y.useCallback(async R=>{try{const z=await Gr.addToWatchlist(R);if(z&&e){const G=await Gr.getWatchlist();c(W=>({...W,watchlist:G}))}return z}catch(z){return console.error("Error adding to watchlist:",z),!1}},[e]),x=y.useCallback(async(R,z)=>{try{const G=await Gr.removeFromWatchlist(R,z);return G&&e&&c(W=>({...W,watchlist:W.watchlist.filter(ee=>!(ee.id===R&&ee.type===z))})),G}catch(G){return console.error("Error removing from watchlist:",G),!1}},[e]),k=y.useCallback(async(R,z)=>e&&l.watchlist.length>0?l.watchlist.some(G=>G.id===R&&G.type===z):await Gr.isInWatchlist(R,z),[l.watchlist,e]),j=y.useCallback(async R=>await k(R.id,R.type)?await x(R.id,R.type):await g(R),[k,x,g]),N=y.useCallback(async R=>{try{return await zu.launchWatch(R)}catch(z){return console.error("Error watching now:",z),!1}},[]),b=y.useCallback(async R=>{const z=`streaming_${R.type}_${R.id}`;return await m(z,()=>zu.getStreamingOptions(R))},[m]),C=y.useCallback(async R=>{const z=`best_watch_${R.type}_${R.id}`;return await m(z,()=>zu.getBestWatchOption(R))},[m]),_=y.useCallback(async(R,z=!1)=>{try{return await Uu.launchTrailer(R,z)}catch(G){return console.error("Error watching trailer:",G),!1}},[]),T=y.useCallback(async R=>{const z=`trailers_${R.type}_${R.id}`;return await m(z,()=>Uu.getTrailers(R))},[m]),P=y.useCallback(async R=>{const z=`best_trailer_${R.type}_${R.id}`;return await m(z,()=>Uu.getBestTrailer(R))},[m]),A=y.useCallback(async(R,z,G="release")=>{try{let W=z;if(!W){const D=R.release_date||R.first_air_date;if(D){const Q=new Date(D);Q.setDate(Q.getDate()-1),W=Q.toISOString()}else{const Q=new Date;Q.setDate(Q.getDate()+7),W=Q.toISOString()}}const ee=await Gr.setReminder(R,W,G);if(ee&&r){const D=await Gr.getReminders();c(Q=>({...Q,reminders:D}))}return ee}catch(W){return console.error("Error setting reminder:",W),!1}},[r]),L=y.useCallback(async(R,z,G)=>{try{const W=await Gr.removeReminder(R,z,G);return W&&r&&c(ee=>({...ee,reminders:ee.reminders.filter(D=>!(D.id===R&&D.type===z&&D.reminderType===G))})),W}catch(W){return console.error("Error removing reminder:",W),!1}},[r]),I=y.useCallback((R,z)=>r?l.reminders.some(G=>G.id===R&&G.type===z&&G.isActive):!1,[l.reminders,r]),E=y.useCallback(()=>{h(new Map)},[]);return{...l,addToWatchlist:g,removeFromWatchlist:x,isInWatchlist:k,toggleWatchlist:j,watchNow:N,getStreamingOptions:b,getBestWatchOption:C,watchTrailer:_,getTrailers:T,getBestTrailer:P,setReminder:A,removeReminder:L,hasReminder:I,refreshData:f,clearCache:E}}const Gk=()=>{const[t,e]=y.useState([]),[r,n]=y.useState(!0),[a,l]=y.useState(null),[c,u]=y.useState(0),[h,m]=y.useState({platforms:[],genres:[],timeFilter:null}),{addToWatchlist:f,watchNow:g,watchTrailer:x,setReminder:k}=TP(),j=y.useCallback(D=>{var Q;return{id:D.id,title:D.title||D.name,name:D.name||D.title,poster_path:D.poster_url||D.poster_path,backdrop_path:D.backdrop_url||D.backdrop_path,release_date:D.release_date,first_air_date:D.first_air_date,vote_average:D.vote_average,overview:D.overview,genre_ids:D.genre_ids||[],media_type:D.media_type,streaming_platforms:D.streaming_platforms||[],...D.streaming_available&&{streaming:((Q=D.streaming_platforms)==null?void 0:Q.slice(0,3))||[]}}},[]),N=y.useCallback(async()=>{try{const D=[yu(`/api/content/dashboard${xu({includeStreaming:"true",limit:"20"})}`),yu(`/api/content/discover${xu({sort_by:"popularity.desc",limit:"20",include_streaming:"true"})}`),yu(`/api/content/discover${xu({sort_by:"vote_average.desc",limit:"20",include_streaming:"true",vote_average_gte:"7.0"})}`),yu(`/api/content/discover${xu({sort_by:"vote_average.desc",limit:"15",genres:"Drama",vote_average_gte:"7.5",include_streaming:"true"})}`)],Q=await Promise.all(D),ae=[];return Q.forEach(oe=>{oe!=null&&oe.results&&ae.push(...oe.results.map(H=>j(H)))}),ae.filter((oe,H,Z)=>H===Z.findIndex(X=>X.id===oe.id&&X.media_type===oe.media_type)).slice(0,100)}catch(D){throw console.error("Error fetching content:",D),D}},[j]);y.useEffect(()=>{(async()=>{n(!0),l(null);try{const D=await N();e(D)}catch(D){console.error("Error loading discover content:",D),l("Failed to load content")}finally{n(!1)}})()},[N]);const b=D=>{m(Q=>({...Q,platforms:D})),console.log("Streaming platforms selected:",D)},C=D=>{m(Q=>({...Q,genres:D})),console.log("Genres selected:",D)},_=()=>{console.log("Random discovery triggered")},T=D=>{m(Q=>({...Q,timeFilter:D})),console.log("Time filter:",D)},P=D=>{console.log("Personality match:",D)},A=D=>{console.log("Media clicked:",D.title||D.name)},L=async D=>{await g({id:D.id.toString(),title:D.title,name:D.name,type:D.media_type||"movie",poster_path:D.poster_path,backdrop_path:D.backdrop_path,release_date:D.release_date,first_air_date:D.first_air_date,vote_average:D.vote_average,overview:D.overview,genre_ids:D.genre_ids})||console.error("Failed to launch watch for:",D.title||D.name)},I=async D=>{await f({id:D.id.toString(),title:D.title,name:D.name,type:D.media_type||"movie",poster_path:D.poster_path,backdrop_path:D.backdrop_path,release_date:D.release_date,first_air_date:D.first_air_date,vote_average:D.vote_average,overview:D.overview,genre_ids:D.genre_ids})?console.log("Added to watchlist:",D.title||D.name):console.error("Failed to add to watchlist")},E=async D=>{await x({id:D.id.toString(),title:D.title,name:D.name,type:D.media_type||"movie",poster_path:D.poster_path,backdrop_path:D.backdrop_path,release_date:D.release_date,first_air_date:D.first_air_date,vote_average:D.vote_average,overview:D.overview,genre_ids:D.genre_ids},!0)||console.error("No trailer available for:",D.title||D.name)},R=async D=>{await k({id:D.id.toString(),title:D.title,name:D.name,type:D.media_type||"movie",poster_path:D.poster_path,backdrop_path:D.backdrop_path,release_date:D.release_date,first_air_date:D.first_air_date,vote_average:D.vote_average,overview:D.overview,genre_ids:D.genre_ids})?console.log("Reminder set for:",D.title||D.name):console.error("Failed to set reminder")},z=D=>{console.log("Show info:",D.title||D.name)},G=D=>{const Q={id:parseInt(D.id)||0,title:D.title,name:D.title,...D};L(Q)},W=D=>{const Q={id:parseInt(D.id)||0,title:D.title,name:D.title,...D};I(Q)},ee=D=>{const Q={id:parseInt(D.id)||0,title:D.title,name:D.title,...D};z(Q)};return r?i.jsxs("div",{className:"min-h-screen bg-slate-950",children:[i.jsx(Fa,{}),i.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)]",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Eu,{className:"w-8 h-8 animate-spin text-blue-400 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400",children:"Loading amazing content for you..."})]})})]}):a?i.jsxs("div",{className:"min-h-screen bg-slate-950",children:[i.jsx(Fa,{}),i.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)]",children:i.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-900/20 border border-red-500/50 rounded-2xl p-8 text-center max-w-md mx-4",children:[i.jsx("div",{className:"text-red-400 text-4xl mb-4",children:""}),i.jsx("h3",{className:"text-lg font-semibold text-red-300 mb-2",children:"Failed to Load Content"}),i.jsx("p",{className:"text-red-200 mb-6",children:a}),i.jsxs(ie,{onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700",children:[i.jsx(US,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})})]}):i.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[i.jsx(Fa,{}),i.jsx("div",{className:"mb-12",children:i.jsx(xB,{onWatchNow:G,onAddToWatchlist:W,onShowInfo:ee})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-16",children:[i.jsx(we.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:i.jsx(OB,{onGenreMix:C,onRandomDiscover:_,onTimeFilter:T,onPersonalityMatch:P,onStreamingFilter:b,className:"mb-16"})}),i.jsx(we.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:i.jsx(IB,{mediaData:t,onMediaClick:A,onWatchNow:L,onAddToWatchlist:I,onWatchTrailer:E,onShowInfo:z,onSetReminder:R})})]})]})};function $B(){Fr();const{data:t=[],isLoading:e}=Gs({queryKey:["/api/activity"]}),r=Array.isArray(t)?t:[],n=(l,c)=>{switch(l){case"watchlist_add":return"added to watchlist";case"watchlist_update":return`marked as ${(c==null?void 0:c.status)||"updated"}`;case"rating":return`rated ${(c==null?void 0:c.rating)||""} stars`;case"comment":return"commented on";default:return"interacted with"}},a=l=>{switch(l){case"watchlist_add":return i.jsx(_n,{className:"h-4 w-4 text-teal-400"});case"watchlist_update":return i.jsx(Nt,{className:"h-4 w-4 text-cyan-400"});case"rating":return i.jsx(Nt,{className:"h-4 w-4 text-teal-400"});case"comment":return i.jsx(zS,{className:"h-4 w-4 text-blue-400"});default:return i.jsx(Xs,{className:"h-4 w-4 text-gray-400"})}};return e?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[hsl(228,25%,3%)] via-[hsl(226,22%,6%)] to-[hsl(224,20%,8%)] pb-20",children:[i.jsx(Fa,{}),i.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 pt-28",children:i.jsx("div",{className:"space-y-6",children:[...Array(5)].map((l,c)=>i.jsx("div",{className:"glass-effect rounded-xl p-6 border border-teal-500/20 animate-pulse",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-gray-700 rounded w-1/2"})]})]})},c))})})]}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[hsl(228,25%,3%)] via-[hsl(226,22%,6%)] to-[hsl(224,20%,8%)] pb-20",children:[i.jsx(Fa,{}),i.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 pt-28",children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gradient-teal mb-2",children:"Activity Feed"}),i.jsx("p",{className:"text-gray-400",children:"See what's happening in your entertainment world"})]}),r.length===0?i.jsxs("div",{className:"glass-effect rounded-xl p-12 border border-teal-500/20 text-center",children:[i.jsx(Nn,{className:"h-16 w-16 text-teal-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Activity Yet"}),i.jsx("p",{className:"text-gray-400",children:"Start watching shows and connecting with friends to see activity here!"})]}):i.jsx("div",{className:"space-y-4",children:r.map(l=>{var c,u,h,m,f,g,x,k;return i.jsx("div",{className:"glass-effect rounded-xl p-6 border border-teal-500/20 hover:border-teal-400/40 transition-colors",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsxs(qa,{className:"h-12 w-12",children:[i.jsx(Ka,{src:((c=l.user)==null?void 0:c.profileImageUrl)||void 0,alt:`${((u=l.user)==null?void 0:u.firstName)||"User"}'s avatar`}),i.jsx(Ga,{className:"bg-gradient-to-br from-teal-500 to-cyan-500 text-white",children:((m=(h=l.user)==null?void 0:h.firstName)==null?void 0:m[0])||"U"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a(l.actionType),i.jsxs("p",{className:"text-white",children:[i.jsx("span",{className:"font-semibold",children:((f=l.user)==null?void 0:f.firstName)||"User"})," ",i.jsx("span",{className:"text-gray-300",children:n(l.actionType,l.metadata)})," ",i.jsx("span",{className:"font-medium text-teal-400",children:((g=l.show)==null?void 0:g.title)||"Unknown Show"})]})]}),i.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(l.createdAt).toLocaleDateString()," at"," ",new Date(l.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),((x=l.metadata)==null?void 0:x.comment)&&i.jsx("div",{className:"mt-3 p-3 bg-gray-800/50 rounded-lg",children:i.jsxs("p",{className:"text-gray-300 text-sm",children:['"',l.metadata.comment,'"']})})]}),((k=l.show)==null?void 0:k.posterPath)&&i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{src:`https://image.tmdb.org/t/p/w92${l.show.posterPath}`,alt:l.show.title,className:"w-16 h-24 object-cover rounded-lg"})})]})},l.id)})})]})})]})}const Zl=[{id:"1",name:"Alex Chen",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",username:"@alexc",isFollowing:!1},{id:"2",name:"Sarah Kim",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop&crop=face",username:"@sarahk",isFollowing:!0},{id:"3",name:"Mike Johnson",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",username:"@mikej",isFollowing:!0}],VB=[{id:"1",user:Zl[1],type:"watched",content:{title:"The Last of Us",poster_path:"/uKvVjHNqB5VmOrdxqAt2F7J78ED.jpg",media_type:"tv"},timestamp:"2 hours ago",likes:12,comments:3,isLiked:!1},{id:"2",user:Zl[2],type:"rated",content:{title:"Dune: Part Two",poster_path:"/1pdfLvkbY9ohJlCjQH2CZjjYVvJ.jpg",media_type:"movie",rating:9},timestamp:"4 hours ago",likes:8,comments:1,isLiked:!0},{id:"3",user:Zl[0],type:"added_to_list",content:{title:"Wednesday",poster_path:"/9PFonBhy4cQy7Jz20NpMygczOkv.jpg",media_type:"tv"},timestamp:"6 hours ago",likes:5,comments:2,isLiked:!1}];function WB(){const{isAuthenticated:t}=Fr(),[e,r]=y.useState(""),[n,a]=y.useState("feed"),l=Zl.filter(c=>c.name.toLowerCase().includes(e.toLowerCase())||c.username.toLowerCase().includes(e.toLowerCase()));return t?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[i.jsx(Fa,{}),i.jsx("div",{className:"pb-6 px-4 sm:px-6 lg:px-8 pt-28",children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:"Social"}),i.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"See what your friends are watching"})]}),i.jsx("div",{className:"flex bg-slate-800/50 rounded-lg p-1",children:[{id:"feed",label:"Feed",icon:Nn},{id:"discover",label:"Discover",icon:no},{id:"friends",label:"Friends",icon:Ir}].map(c=>{const u=c.icon;return i.jsxs("button",{onClick:()=>a(c.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-md transition-all ${n===c.id?"bg-teal-600 text-white":"text-gray-400 hover:text-white hover:bg-slate-700/50"}`,children:[i.jsx(u,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:c.label})]},c.id)})}),n==="feed"&&i.jsx(BB,{activities:VB}),n==="discover"&&i.jsx(HB,{users:l,searchTerm:e,setSearchTerm:r}),n==="friends"&&i.jsx(qB,{users:Zl.filter(c=>c.isFollowing)})]})})]}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center px-4",children:i.jsxs("div",{className:"text-center text-white max-w-md",children:[i.jsx(Ir,{className:"w-16 h-16 mx-auto mb-4 text-teal-400"}),i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Join the community"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"Connect with friends and discover what they're watching"}),i.jsx(ie,{className:"bg-teal-600 hover:bg-teal-700",children:"Sign In"})]})})}function BB({activities:t}){const[e,r]=y.useState(new Set),n=a=>{r(l=>{const c=new Set(l);return c.has(a)?c.delete(a):c.add(a),c})};return i.jsx("div",{className:"space-y-4",children:t.map(a=>i.jsx(Qe,{className:"bg-slate-800/50 border-slate-700",children:i.jsx(Xe,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(qa,{className:"w-10 h-10 sm:w-12 sm:h-12 flex-shrink-0",children:[i.jsx(Ka,{src:a.user.avatar,alt:a.user.name}),i.jsx(Ga,{children:a.user.name.charAt(0)})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-medium text-sm sm:text-base",children:a.user.name}),i.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm",children:[KB(a),"  ",a.timestamp]})]}),i.jsx(ie,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 flex-shrink-0",children:i.jsx(pO,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex gap-3 mb-3",children:[i.jsx("img",{src:`https://image.tmdb.org/t/p/w200${a.content.poster_path}`,alt:a.content.title,className:"w-12 h-16 sm:w-16 sm:h-20 object-cover rounded border border-slate-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-white font-medium text-sm sm:text-base truncate",children:a.content.title}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(ze,{variant:"outline",className:"text-xs",children:a.content.media_type==="tv"?"TV":"Movie"}),a.content.rating&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Nt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),i.jsxs("span",{className:"text-yellow-400 text-xs font-medium",children:[a.content.rating,"/10"]})]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-gray-400",children:[i.jsxs("button",{onClick:()=>n(a.id),className:"flex items-center gap-1 hover:text-red-400 transition-colors",children:[i.jsx(_n,{className:`w-4 h-4 ${e.has(a.id)||a.isLiked?"fill-red-400 text-red-400":""}`}),i.jsx("span",{className:"text-sm",children:a.likes})]}),i.jsxs("button",{className:"flex items-center gap-1 hover:text-blue-400 transition-colors",children:[i.jsx(zS,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:a.comments})]}),i.jsx("button",{className:"flex items-center gap-1 hover:text-green-400 transition-colors",children:i.jsx($S,{className:"w-4 h-4"})})]})]})]})})},a.id))})}function HB({users:t,searchTerm:e,setSearchTerm:r}){const[n,a]=y.useState(new Set),l=c=>{a(u=>{const h=new Set(u);return h.has(c)?h.delete(c):h.add(c),h})};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(no,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(Zt,{placeholder:"Search users...",value:e,onChange:c=>r(c.target.value),className:"pl-10 bg-slate-800/50 border-slate-700 text-white placeholder-gray-400 focus:ring-teal-500 focus:border-teal-500"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(c=>i.jsx(Qe,{className:"bg-slate-800/50 border-slate-700",children:i.jsx(Xe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(qa,{className:"w-12 h-12",children:[i.jsx(Ka,{src:c.avatar,alt:c.name}),i.jsx(Ga,{children:c.name.charAt(0)})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-white font-medium truncate",children:c.name}),i.jsx("p",{className:"text-gray-400 text-sm truncate",children:c.username})]}),i.jsx(ie,{size:"sm",variant:n.has(c.id)||c.isFollowing?"outline":"default",onClick:()=>l(c.id),className:"flex-shrink-0",children:n.has(c.id)||c.isFollowing?"Following":i.jsxs(i.Fragment,{children:[i.jsx(Wv,{className:"w-4 h-4 mr-1"}),"Follow"]})})]})})},c.id))})]})}function qB({users:t}){return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Following (",t.length,")"]}),i.jsxs(ie,{size:"sm",className:"bg-teal-600 hover:bg-teal-700",children:[i.jsx(Wv,{className:"w-4 h-4 mr-1"}),"Find Friends"]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(e=>i.jsx(Qe,{className:"bg-slate-800/50 border-slate-700",children:i.jsx(Xe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(qa,{className:"w-12 h-12",children:[i.jsx(Ka,{src:e.avatar,alt:e.name}),i.jsx(Ga,{children:e.name.charAt(0)})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-white font-medium truncate",children:e.name}),i.jsx("p",{className:"text-gray-400 text-sm truncate",children:e.username}),i.jsx("p",{className:"text-teal-400 text-xs",children:"Following"})]}),i.jsx(ie,{size:"sm",variant:"outline",children:"Message"})]})})},e.id))})]})}function KB(t){switch(t.type){case"watched":return"watched";case"liked":return"liked";case"added_to_list":return"added to list";case"rated":return"rated";case"shared":return"shared";default:return"interacted with"}}const GB={"hbo max":"max",hbo:"max","hbo max amazon channel":"max","max amazon channel":"max","amazon prime video":"prime-video","prime video":"prime-video","amazon video":"prime-video","amazon prime":"prime-video","amazon prime video with ads":"prime-video","apple tv+":"apple-tv","apple tv plus":"apple-tv","apple tv":"apple-tv","apple tv plus amazon channel":"apple-tv","disney+":"disney-plus","disney plus":"disney-plus",disney:"disney-plus",netflix:"netflix","netflix standard with ads":"netflix","netflix basic with ads":"netflix",hulu:"hulu","hulu (no ads)":"hulu","hulu + live tv":"hulu","paramount+":"paramount-plus","paramount plus":"paramount-plus",paramount:"paramount-plus","cbs all access":"paramount-plus",peacock:"peacock","peacock premium":"peacock","peacock premium plus":"peacock",showtime:"showtime","showtime amazon channel":"showtime","paramount+ with showtime":"showtime",starz:"starz","starz amazon channel":"starz",crunchyroll:"crunchyroll","crunchyroll amazon channel":"crunchyroll",funimation:"crunchyroll","espn+":"espn-plus","espn plus":"espn-plus","discovery+":"discovery-plus","discovery plus":"discovery-plus",tubi:"tubi","pluto tv":"pluto-tv","youtube tv":"youtube-tv",fubo:"fubo",fubotv:"fubo"},ZB=t=>{if(!t)return"";const e=t.toLowerCase().trim();return GB[e]||e};function QB(t){if(t.media_type){if(t.media_type==="movie")return"movie";if(t.media_type==="tv")return"tv"}return t.sportsLeague||t.homeTeam||t.awayTeam?"sports":t.episode_count||t.number_of_episodes||t.number_of_seasons||t.first_air_date?"tv":t.release_date||t.title?"movie":t.name?"tv":"movie"}function XB(t){const e=[...t.streamingPlatforms||[],...t.streaming||[],...t.streaming_platforms||[],...t.raw_streaming_platforms||[],...t.raw_streamingPlatforms||[]].reduce((n,a)=>{const l=`${a.provider_id||0}-${a.provider_name||a.name||""}`;return n.some(c=>`${c.provider_id||0}-${c.provider_name||c.name||""}`===l)||n.push({provider_id:a.provider_id||n.length+1,provider_name:a.provider_name||a.name||`Platform ${n.length+1}`,logo_path:a.logo_path||void 0,source:a.source}),n},[]),r=e.map(n=>n.provider_name||n.name||"").filter(Boolean).map(n=>ZB(n));return{platforms:e,normalizedProviders:Array.from(new Set(r))}}function YB(t){if(!t.matchTime)return!1;try{const e=new Date(t.matchTime),r=new Date;return Math.abs(r.getTime()-e.getTime())/(1e3*60)<=180&&r>=e}catch{return!1}}function JB(t){if(!t.matchTime)return null;try{const e=new Date(t.matchTime);return e>new Date?e:null}catch{return null}}function eH(t){const e=t.awards||{};return{wins:e.wins||0,nominations:e.nominations||0,type:e.type,isWinner:e.isWinner||e.wins&&e.wins>0||!1,isAwardNominated:e.isAwardNominated||e.nominations&&e.nominations>0||!1}}function tH(t){return t.title||t.name||"Untitled"}function rH(t){const e=t.release_date||t.first_air_date;if(!e)return null;try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return e}}function nH(t){const e=t.release_date||t.first_air_date;if(!e)return!1;try{return new Date(e)>new Date}catch{return!1}}function sH(t,e,r,n){let a=0;return n&&(a+=1e3),t.isWinner&&(a+=500),t.nominations&&t.nominations>0&&(a+=250),a+=e*10,r&&(a+=100),a}function Zk(t){return t.map((e,r)=>{const n=QB(e),{platforms:a,normalizedProviders:l}=XB(e),c=n==="sports"?YB(e):!1,u=n==="sports"?JB(e):null,h=n==="sports"?{sportsLeague:e.sportsLeague,homeTeam:e.homeTeam,awayTeam:e.awayTeam,matchTime:e.matchTime,isLive:c,score:e.score,venue:e.venue}:void 0,m=eH(e),f=tH(e),g=rH(e),x=nH(e),k=sH(m,a.length,x,c);return{id:typeof e.id=="string"?parseInt(e.id):e.id,type:n,displayTitle:f,displayDate:g,title:e.title,name:e.name,overview:e.overview,poster_path:e.poster_path,backdrop_path:e.backdrop_path,vote_average:e.vote_average||0,vote_count:e.vote_count||0,popularity:e.popularity||0,genre_ids:e.genre_ids||[],genres:e.genres,release_date:e.release_date,first_air_date:e.first_air_date,streaming:a,normalizedProviders:l,streaming_count:a.length,isLive:c,nextMatchTime:u,sportsInfo:h,isUpcoming:x,isAwardWinner:m.isWinner||!1,isAwardNominated:m.isAwardNominated||!1,awards:m,personalizedScore:e.personalizedScore||Math.random()*.5+.5,reason:e.reason||"Recommended for you",priority:k,originalData:e}})}function aH(t=10){return Gs({queryKey:["continue-watching",t],queryFn:async()=>{console.log(" Fetching continue watching list...");try{const e=await fetch(`/api/continue-watching?limit=${t}`,{credentials:"include"});if(!e.ok)return console.warn("Continue watching endpoint failed, using fallback data"),ng();const r=await e.json();return r.success?(console.log(` Fetched ${r.continueWatching.length} shows to continue`),r.continueWatching):(console.warn("Continue watching API returned error, using fallback data"),ng())}catch(e){return console.warn("Continue watching request failed, using fallback data:",e),ng()}},staleTime:120*1e3,gcTime:900*1e3})}function ng(){return[{showId:93405,title:"Squid Game",mediaType:"tv",lastWatched:"2025-08-04T15:30:00Z",platform:{provider_name:"Netflix",provider_id:8,logo_path:"/9A1JSVmSxsyaBK4SUFsYVqbAYfW.jpg"},poster_path:"/dDlEmu3EZ0Pgg93K2SVNLCjCSvE.jpg",backdrop_path:"/qw3J9cNeLioOLoR68WX7z79aCdK.jpg",currentEpisode:{seasonNumber:1,episodeNumber:4,progressPercentage:65,duration:54,watchedDuration:35},totalEpisodes:9,completedEpisodes:3},{showId:119051,title:"Wednesday",mediaType:"tv",lastWatched:"2025-08-03T20:15:00Z",platform:{provider_name:"Netflix",provider_id:8,logo_path:"/9A1JSVmSxsyaBK4SUFsYVqbAYfW.jpg"},poster_path:"/9PFonBhy4cQy7Jz20NpMygczOkv.jpg",backdrop_path:"/iHSwvRVsRyxpX7FE7GbviaDvgGZ.jpg",currentEpisode:{seasonNumber:1,episodeNumber:2,progressPercentage:25,duration:48,watchedDuration:12},totalEpisodes:8,completedEpisodes:1},{showId:1396,title:"Breaking Bad",mediaType:"tv",lastWatched:"2025-08-02T18:45:00Z",platform:{provider_name:"Netflix",provider_id:8,logo_path:"/9A1JSVmSxsyaBK4SUFsYVqbAYfW.jpg"},poster_path:"/3xnWaLQjelJDDF7LT1WBo6f4BRe.jpg",backdrop_path:"/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg",currentEpisode:{seasonNumber:3,episodeNumber:7,progressPercentage:90,duration:47,watchedDuration:42},totalEpisodes:62,completedEpisodes:32}]}function bu({className:t,...e}){return i.jsx("div",{className:_e("animate-pulse rounded-md bg-gray-700",t),...e})}const iH=({id:t,title:e,episode:r,platform:n,thumbnail:a,backdrop_path:l,poster_path:c,duration:u,progress:h,mediaType:m,seasonNumber:f,episodeNumber:g,totalEpisodes:x,onPlay:k,onRemove:j})=>{var N;const[b,C]=y.useState(!1),[_,T]=y.useState(!1),[P,A]=y.useState(!1),L=y.useRef(null),{data:I}=b0(t,m,e),E=Math.min(h/u*100,100),R=l?`https://image.tmdb.org/t/p/w780${l}`:c?`https://image.tmdb.org/t/p/w500${c}`:a;cc(n);const z=m==="tv"&&f&&g?`S${f}E${g}${r?`  ${r}`:""}`:r,G=u-h,W=Math.ceil(G/60),ee=W>60?`${Math.floor(W/60)}h ${W%60}m left`:`${W}m left`;y.useEffect(()=>{var Q;let ae;return b&&(Q=I==null?void 0:I.primaryTrailer)!=null&&Q.embeddableUrl?ae=setTimeout(()=>{A(!0)},800):A(!1),()=>{ae&&clearTimeout(ae)}},[b,I]);const D=()=>{k({id:t,title:e,episode:z,platform:n,mediaType:m,seasonNumber:f,episodeNumber:g,progress:h})};return i.jsx("div",{className:"relative w-80 flex-shrink-0 group cursor-pointer",onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),children:i.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-2xl bg-slate-900 transition-all duration-500 ease-out group-hover:scale-105 group-hover:shadow-3xl",children:[i.jsxs("div",{className:"relative w-full h-44 overflow-hidden",children:[!_&&i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-800 to-slate-900 animate-pulse"}),i.jsx("img",{src:R,alt:e,className:`w-full h-full object-cover transition-all duration-700 ease-out ${_?"opacity-100":"opacity-0"} ${b?"scale-110":"scale-100"} ${P?"opacity-20":"opacity-100"}`,onLoad:()=>T(!0),onError:Q=>{const ae=Q.target;if(ae.src.includes("backdrop")&&c){ae.src=`https://image.tmdb.org/t/p/w500${c}`;return}ae.src=`data:image/svg+xml;base64,${btoa(`
                <svg width="400" height="225" xmlns="https://www.w3.org/2000/svg">
                  <defs>
                    <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:#374151;stop-opacity:1" />
                      <stop offset="100%" style="stop-color:#1f2937;stop-opacity:1" />
                    </linearGradient>
                  </defs>
                  <rect width="400" height="225" fill="url(#grad)" rx="8"/>
                  <text x="200" y="112" font-family="Arial, sans-serif" font-size="16" 
                        text-anchor="middle" fill="#9ca3af" opacity="0.7">No Image</text>
                </svg>
              `)}`}}),P&&((N=I==null?void 0:I.primaryTrailer)==null?void 0:N.embeddableUrl)&&i.jsx("div",{className:"absolute inset-0 bg-black/20",children:i.jsx("iframe",{ref:L,src:`${I.primaryTrailer.embeddableUrl}?autoplay=1&mute=1&controls=0&loop=1&modestbranding=1&rel=0`,className:"w-full h-full object-cover",frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:`${e} trailer`})}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx(vv,{providers:typeof n=="string"?[{provider_id:1,provider_name:n}]:[{provider_id:1,provider_name:(n==null?void 0:n.provider_name)||(n==null?void 0:n.name)||"Platform",logo_path:n==null?void 0:n.logo_path}],size:"sm",maxDisplayed:1})}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-black/60 to-black/40",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-red-600 to-red-500 shadow-lg transition-all duration-700 ease-out",style:{width:`${E}%`}})}),i.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent transition-opacity duration-500 ${b?"opacity-100":"opacity-0"}`,children:[i.jsxs("div",{className:"absolute bottom-4 left-4 flex gap-3",children:[i.jsx("button",{onClick:D,className:"w-10 h-10 rounded-full bg-white text-black hover:bg-gray-200 transition-all duration-300 flex items-center justify-center shadow-lg hover:scale-110",children:i.jsx(kt,{size:18,fill:"currentColor"})}),i.jsx("button",{onClick:Q=>{Q.stopPropagation(),j(t)},className:"w-10 h-10 rounded-full bg-slate-800/90 backdrop-blur-sm text-white hover:bg-red-600 transition-all duration-300 flex items-center justify-center shadow-lg hover:scale-110 border border-white/20",children:i.jsx(In,{size:16})}),i.jsx("button",{className:"w-10 h-10 rounded-full bg-slate-800/90 backdrop-blur-sm text-white hover:bg-slate-700 transition-all duration-300 flex items-center justify-center shadow-lg hover:scale-110 border border-white/20",children:i.jsx(Qu,{size:16})})]}),i.jsxs("div",{className:"absolute top-4 left-4 bg-black/80 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs text-white/90 flex items-center gap-2 border border-white/10",children:[i.jsx(Xs,{size:12}),i.jsx("span",{className:"font-medium",children:ee})]}),(I==null?void 0:I.primaryTrailer)&&!P&&i.jsx("div",{className:"absolute bottom-4 right-4 bg-red-600/95 backdrop-blur-sm px-3 py-1 rounded-full text-xs text-white font-semibold tracking-wide shadow-lg",children:" TRAILER"})]}),i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-black/30 transition-opacity duration-500 ${b?"opacity-60":"opacity-30"}`})]}),i.jsx("div",{className:"p-4 bg-gradient-to-t from-slate-900 to-slate-800 border-t border-white/5",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"font-bold text-white text-base truncate leading-tight",children:e}),z&&i.jsx("p",{className:"text-sm text-slate-300 truncate font-medium",children:z})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center text-xs",children:[i.jsxs("span",{className:"text-slate-400 font-medium",children:[Math.round(E),"% watched"]}),x&&i.jsxs("span",{className:"text-slate-500 font-medium",children:[g,"/",x," episodes"]})]}),i.jsxs("div",{className:"relative w-full bg-slate-700/50 rounded-full h-2 overflow-hidden shadow-inner",children:[i.jsx("div",{className:"h-full bg-gradient-to-r from-red-600 via-red-500 to-red-400 transition-all duration-1000 ease-out rounded-full shadow-lg",style:{width:`${E}%`}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/10 rounded-full"})]})]})]})})]})})},oH=({limit:t=10,className:e=""})=>{const{data:r=[],isLoading:n,error:a}=aH(t),l=y.useRef(null),[c,u]=y.useState(!1),[h,m]=y.useState(!1),f=()=>{if(l.current){const{scrollLeft:j,scrollWidth:N,clientWidth:b}=l.current;u(j>0),m(j<N-b-10)}};y.useEffect(()=>{f();const j=l.current;if(j){j.addEventListener("scroll",f);const N=new ResizeObserver(f);return N.observe(j),()=>{j.removeEventListener("scroll",f),N.disconnect()}}},[r]);const g=j=>{if(l.current){const N=l.current.scrollLeft+(j==="left"?-320:320);l.current.scrollTo({left:N,behavior:"smooth"})}},x=j=>{console.log("Playing:",j),alert(`Resume watching: ${j.title}
${j.episode?`Episode: ${j.episode}`:""}
Platform: ${j.platform}`)},k=async j=>{if(console.log("Removing from continue watching:",j),confirm("Remove this item from Continue Watching?"))try{(await fetch(`/api/continue-watching/${j}`,{method:"DELETE",credentials:"include"})).ok?window.location.reload():console.error("Failed to remove item")}catch(N){console.error("Error removing item:",N)}};return n?i.jsxs("section",{className:`space-y-4 ${e}`,children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Continue Watching"}),i.jsx("div",{className:"flex gap-4 overflow-hidden",children:Array.from({length:4}).map((j,N)=>i.jsxs("div",{className:"w-80 flex-shrink-0",children:[i.jsx(bu,{className:"w-full h-44 rounded-t-xl"}),i.jsxs("div",{className:"bg-slate-900 p-3 rounded-b-xl space-y-2",children:[i.jsx(bu,{className:"h-4 w-3/4"}),i.jsx(bu,{className:"h-3 w-1/2"}),i.jsx(bu,{className:"h-1.5 w-full"})]})]},N))})]}):a||!(r!=null&&r.length)?null:i.jsxs("section",{className:`space-y-6 ${e}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white tracking-tight",children:"Continue Watching"}),i.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Pick up where you left off"})]}),i.jsxs("div",{className:"hidden lg:flex gap-2",children:[i.jsx("button",{className:`p-3 rounded-full bg-slate-800/50 backdrop-blur-sm text-white hover:bg-slate-700 transition-all duration-300 border border-slate-600/50 ${c?"hover:scale-110":"opacity-40 cursor-not-allowed"}`,onClick:()=>g("left"),disabled:!c,children:i.jsx(iO,{size:20})}),i.jsx("button",{className:`p-3 rounded-full bg-slate-800/50 backdrop-blur-sm text-white hover:bg-slate-700 transition-all duration-300 border border-slate-600/50 ${h?"hover:scale-110":"opacity-40 cursor-not-allowed"}`,onClick:()=>g("right"),disabled:!h,children:i.jsx(DS,{size:20})})]})]}),i.jsxs("div",{className:"relative group",children:[i.jsx("div",{ref:l,className:"flex gap-6 overflow-x-auto scroll-smooth pb-6 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:r.map(j=>{var N,b,C,_,T,P;return i.jsx(iH,{id:((N=j.showId)==null?void 0:N.toString())||((b=j.id)==null?void 0:b.toString())||"",title:j.title,episode:j.currentEpisode?`Episode ${j.currentEpisode.episodeNumber}`:void 0,platform:j.platform,thumbnail:j.poster_path?`https://image.tmdb.org/t/p/w500${j.poster_path}`:"",backdrop_path:j.backdrop_path,poster_path:j.poster_path,duration:((C=j.currentEpisode)==null?void 0:C.duration)||3600,progress:((_=j.currentEpisode)==null?void 0:_.watchedDuration)||0,mediaType:j.mediaType,seasonNumber:(T=j.currentEpisode)==null?void 0:T.seasonNumber,episodeNumber:(P=j.currentEpisode)==null?void 0:P.episodeNumber,totalEpisodes:j.totalEpisodes,onPlay:x,onRemove:k},j.showId||j.id)})}),i.jsx("div",{className:"absolute left-0 top-0 bottom-6 w-8 bg-gradient-to-r from-slate-950 to-transparent pointer-events-none z-10"}),i.jsx("div",{className:"absolute right-0 top-0 bottom-6 w-16 bg-gradient-to-l from-slate-950 to-transparent pointer-events-none z-10"})]})]})},_P=y.forwardRef(({options:t=[],value:e=[],onValueChange:r,placeholder:n="Select options...",label:a,disabled:l=!1,maxHeight:c="300px",className:u,showClearAll:h=!0,searchable:m=!1,...f},g)=>{const[x,k]=y.useState(!1),[j,N]=y.useState(""),[b,C]=y.useState(-1),_=y.useRef(null),T=y.useRef(null),P=y.useRef(null);y.useImperativeHandle(g,()=>_.current);const A=y.useMemo(()=>!m||!j?t:t.filter(z=>z.toLowerCase().includes(j.toLowerCase())),[t,j,m]),L=y.useCallback(z=>{if(l)return;const G=e.includes(z)?e.filter(W=>W!==z):[...e,z];r==null||r(G)},[e,r,l]),I=y.useCallback(()=>{l||r==null||r([])},[r,l]),E=y.useCallback(z=>{var G;if(!l)switch(z.key){case"Enter":case" ":z.preventDefault(),x?b>=0&&b<A.length&&L(A[b]):(k(!0),C(0));break;case"Escape":z.preventDefault(),k(!1),C(-1),(G=_.current)==null||G.focus();break;case"ArrowDown":z.preventDefault(),x?C(W=>W<A.length-1?W+1:0):(k(!0),C(0));break;case"ArrowUp":z.preventDefault(),x&&C(W=>W>0?W-1:A.length-1);break;case"Tab":x&&(k(!1),C(-1));break}},[x,b,A,L,l]);y.useEffect(()=>{const z=G=>{T.current&&!T.current.contains(G.target)&&_.current&&!_.current.contains(G.target)&&(k(!1),C(-1))};if(x)return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[x]),y.useEffect(()=>{x&&m&&P.current&&P.current.focus()},[x,m]),y.useEffect(()=>{x||(N(""),C(-1))},[x]);const R=y.useMemo(()=>e.length===0?n:e.length===1?e[0]:`${e.length} selected`,[e,n]);return i.jsxs("div",{className:"relative w-full",children:[i.jsxs("button",{ref:_,type:"button",onClick:()=>!l&&k(!x),onKeyDown:E,disabled:l,"aria-haspopup":"listbox","aria-expanded":x,"aria-label":a,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","bg-slate-800 border-slate-700 text-white hover:bg-slate-700 transition-colors",u),...f,children:[i.jsx("span",{className:_e("truncate text-left",e.length===0&&"text-muted-foreground text-slate-400"),children:R}),i.jsx(aO,{className:_e("h-4 w-4 opacity-50 transition-transform",x&&"rotate-180")})]}),x&&i.jsxs("div",{ref:T,className:_e("absolute top-full left-0 right-0 z-50 mt-1 rounded-md border bg-popover text-popover-foreground shadow-md","bg-slate-800 border-slate-700 text-white animate-in fade-in-0 zoom-in-95"),style:{maxHeight:c},role:"listbox","aria-label":a,children:[m&&i.jsx("div",{className:"p-2 border-b border-slate-700",children:i.jsx("input",{ref:P,type:"text",placeholder:"Search options...",value:j,onChange:z=>N(z.target.value),className:"w-full px-2 py-1 text-sm bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-ring"})}),h&&e.length>0&&i.jsx("div",{className:"p-2 border-b border-slate-700",children:i.jsxs(ie,{variant:"ghost",size:"sm",onClick:I,className:"w-full justify-start text-slate-300 hover:text-white hover:bg-slate-700",children:[i.jsx(In,{className:"h-3 w-3 mr-2"}),"Clear all (",e.length,")"]})}),i.jsx("div",{className:"max-h-60 overflow-y-auto p-1",children:A.length===0?i.jsx("div",{className:"px-2 py-4 text-center text-sm text-slate-400",children:j?"No options found":"No options available"}):A.map((z,G)=>{const W=e.includes(z),ee=G===b;return i.jsxs("div",{role:"option","aria-selected":W,onClick:()=>L(z),className:_e("flex items-center gap-2 px-2 py-1.5 text-sm cursor-pointer rounded-sm transition-colors","hover:bg-slate-700 hover:text-white",ee&&"bg-slate-700 text-white",W&&"text-blue-400"),children:[i.jsx("div",{className:_e("flex items-center justify-center w-4 h-4 border border-slate-500 rounded-sm",W&&"bg-blue-500 border-blue-500"),children:W&&i.jsx(Bh,{className:"h-3 w-3 text-white"})}),i.jsx("span",{className:"truncate",children:z})]},z)})})]})]})});_P.displayName="MultiSelect";const lH=({title:t,children:e,action:r})=>i.jsxs("section",{className:"w-full space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:t}),r&&i.jsx("div",{className:"flex items-center gap-2",children:r})]}),i.jsx("div",{className:"w-full",children:e})]}),sg=({label:t,options:e,selected:r,onChange:n})=>i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-white font-semibold mb-2",children:t}),i.jsx(_P,{options:e,value:r,onValueChange:n,placeholder:`Select ${t}`,label:t,showClearAll:!0,searchable:e.length>10,className:"bg-slate-800 border-slate-700 text-white hover:bg-slate-700"})]}),ag={genre:["Comedy","Drama","Action","Thriller","Horror","Romance","Sci-Fi","Documentary"],network:["Netflix","HBO","Prime Video","Disney+","Hulu","Apple TV+","Paramount+"],year:["2025","2024","2023","2022","2021","2020"]},cH=()=>{const[t,e]=y.useState({genre:[],network:[],year:[]}),{data:r,isError:n}=Gs({queryKey:["trending"],queryFn:async()=>{const T=await Wt("/api/trending/tv/day?includeStreaming=true");if(!T.ok)throw new Error("Failed to fetch trending");return T.json()}}),{data:a,isError:l,isLoading:c}=Gs({queryKey:["personalized-with-streaming","v2"],queryFn:async()=>{const T=await Wt("/api/tmdb/discover/tv?sort_by=popularity.desc&includeStreaming=true");if(!T.ok)throw new Error("Failed to fetch recommendations");return T.json()}}),u=y.useMemo(()=>n||!r?[]:Zk((r==null?void 0:r.results)||[]),[r,n]),h=y.useMemo(()=>u.find(T=>{var P;return((P=T.streaming)==null?void 0:P.length)>0})||u[0],[u]),m=y.useMemo(()=>{if(l||!a)return[];let T=Zk((a==null?void 0:a.results)||[]);return t.genre.length>0&&(T=T.filter(P=>t.genre.some(A=>{var L;return(L=P.genres)==null?void 0:L.some(I=>I.name===A)}))),t.network.length>0&&(T=T.filter(P=>t.network.some(A=>{var L;return(L=P.streaming)==null?void 0:L.some(I=>{var E,R;return((E=I==null?void 0:I.provider_name)==null?void 0:E.includes(A))||((R=I==null?void 0:I.name)==null?void 0:R.includes(A))})}))),t.year.length>0&&(T=T.filter(P=>{const A=P.release_date||P.first_air_date;return A?t.year.includes(new Date(A).getFullYear().toString()):!1})),T.slice(0,6)},[a,l,t]),{addToWatchlist:f,watchNow:g,watchTrailer:x}=TP(),k=async T=>{await f(T)?console.log("Added to watchlist:",T.title||T.name):console.error("Failed to add to watchlist")},j=async T=>{await g(T)||console.error("Failed to launch watch")},N=async T=>{await x(T,!0)||console.error("No trailer available")},b=(T,P)=>{e(A=>({...A,[T]:P}))},C=()=>e({genre:[],network:[],year:[]}),_=t.genre.length>0||t.network.length>0||t.year.length>0;return i.jsxs("div",{className:"min-h-screen bg-slate-900 w-full overflow-x-hidden",children:[i.jsx(Fa,{}),i.jsxs("main",{className:"w-full max-w-none px-4 md:px-8 lg:px-16 py-8 space-y-12",children:[h?i.jsx(Ws,{media:h,variant:"spotlight-poster-backdrop",size:"xl",showRating:!0,showGenres:!0,showReleaseDate:!0,showDescription:!0,actions:{watchNow:!0,trailer:!0,addToList:!0},showStreamingLogoInButton:!0,onAddToWatchlist:k,onWatchTrailer:N,onCardClick:T=>console.log("Show details:",T),onWatchNow:j,className:"w-full"}):i.jsx("div",{className:"text-center py-12 text-gray-400",children:i.jsx("p",{className:"text-lg",children:"No spotlight content available"})}),i.jsxs(lH,{title:"For You",action:_?i.jsx(ie,{variant:"outline",size:"sm",onClick:C,children:"Clear Filters"}):void 0,children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsx(sg,{label:"Genre",options:ag.genre,selected:t.genre,onChange:T=>b("genre",T)}),i.jsx(sg,{label:"Network",options:ag.network,selected:t.network,onChange:T=>b("network",T)}),i.jsx(sg,{label:"Year",options:ag.year,selected:t.year,onChange:T=>b("year",T)})]}),c?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4",children:Array.from({length:10}).map((T,P)=>i.jsx("div",{className:"aspect-[2/3] bg-slate-800 rounded-lg animate-pulse"},P))}):m.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-400 text-lg mb-4",children:_?"No shows match your selected filters":"No recommendations available"}),_&&i.jsx(ie,{variant:"outline",onClick:C,children:"Clear All Filters"})]}):i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4",children:m.map(T=>i.jsx(Ws,{media:T,variant:"vertical-polished",size:"sm",showRating:!0,showGenres:!1,showReleaseDate:!1,actions:{watchNow:!0,trailer:!1,addToList:!0},moveButtonsToBottom:!0,showStreamingLogoInButton:!1,onAddToWatchlist:k,onWatchTrailer:N,onCardClick:P=>console.log("Show details:",P),onWatchNow:j,className:"rounded-lg overflow-hidden"},T.id))})]}),i.jsx(oH,{limit:10})]})]})};function dH(){const[t]=nn(),[e,r]=y.useState([]),[n,a]=y.useState(!0),l=new URLSearchParams(t.split("?")[1]||"").get("query")||"";y.useEffect(()=>{(async()=>{a(!0);try{if(l.trim()!==""){const m=await sP(l);m.ok?r(m.data):(console.error("Search results fetch error:",m.error),r([]))}else r([])}catch(m){console.error("Search results fetch error:",m),r([])}finally{a(!1)}})()},[l]);const c=m=>{console.log("Add to watchlist:",m)},u=m=>{console.log("Watch trailer:",m)},h=m=>{console.log("Card clicked:",m)};return n?i.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-500 mx-auto mb-4"}),i.jsxs("p",{className:"text-gray-400",children:['Loading results for "',l,'"...']})]})})})}):e.length===0?i.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Search Results"}),i.jsxs("div",{className:"text-center py-20",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsxs("p",{className:"text-xl text-gray-400 mb-2",children:['No results found for "',l,'"']}),i.jsx("p",{className:"text-gray-500",children:"Try searching with different keywords"})]})]})}):i.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Search Results"}),i.jsxs("p",{className:"text-gray-400",children:["Found ",e.length," result",e.length===1?"":"s",' for "',l,'"']})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:e.map(m=>{var f;return i.jsx(Ws,{media:{id:parseInt(m.id),title:m.title,poster_path:(f=m.poster)==null?void 0:f.replace("https://image.tmdb.org/t/p/w300",""),vote_average:m.vote_average,genre_ids:m.genres,overview:m.synopsis,media_type:m.type,release_date:m.year?`${m.year}-01-01`:void 0,first_air_date:m.type==="tv"&&m.year?`${m.year}-01-01`:void 0},variant:"vertical",size:"md",showStreamingLogos:!0,showRating:!0,actions:{watchNow:!0,trailer:!0,addToList:!0},onAddToWatchlist:c,onWatchTrailer:u,onCardClick:h},m.id)})})]})})}function uH(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(Qe,{className:"w-full max-w-md mx-4",children:i.jsxs(Xe,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(oO,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const wu=[{id:1,title:"The Matrix",poster_path:"/f89U3ADr1oiB1s9GkdPOEpXUk5H.jpg",backdrop_path:"/fNG7i7RqMErkcqhohV2a6cV1Ehy.jpg",vote_average:8.7,genre_ids:[28,878,53],overview:"A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.",release_date:"1999-03-31",media_type:"movie",streaming_platforms:[{provider_id:8,provider_name:"Netflix"},{provider_id:337,provider_name:"Disney+"}]},{id:2,title:"Inception",poster_path:"/9gk7adHYeDvHkCSEqAvQNLV5Uge.jpg",backdrop_path:"/s3TBrRGB1iav7gFOCNx3H31MoES.jpg",vote_average:8.8,genre_ids:[28,878,53],overview:"A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.",release_date:"2010-07-16",media_type:"movie",streaming_platforms:[{provider_id:119,provider_name:"Amazon Prime Video"},{provider_id:384,provider_name:"HBO Max"}]},{id:3,name:"Stranger Things",poster_path:"/49WJfeN0moxb9IPfGn8AIqMGskD.jpg",backdrop_path:"/56v2KjBlU4XaOv9rVYEQypROD7P.jpg",vote_average:8.6,genre_ids:[18,9648,878],overview:"When a young boy vanishes, a small town uncovers a mystery involving secret experiments, terrifying supernatural forces, and one strange little girl.",first_air_date:"2016-07-15",media_type:"tv",streaming_platforms:[{provider_id:8,provider_name:"Netflix"}]}],hH=()=>{const t=(e,r)=>{console.log(`${r} clicked for:`,e.title)};return i.jsx("div",{className:"min-h-screen bg-slate-900 p-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h1",{className:"text-4xl font-bold text-white",children:"Premium UniversalMediaCard Showcase"}),i.jsx("p",{className:"text-slate-300 text-lg",children:"Modern redesign with floating actions, gradient overlays, and unified styling"})]}),i.jsxs("section",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Spotlight/Hero Card"}),i.jsx(Ws,{media:wu[0],variant:"spotlight",size:"xl",showRating:!0,showGenres:!0,showDescription:!0,showStreamingLogos:!0,actions:{watchNow:!0,trailer:!0,addToList:!0,share:!0},onWatchNow:e=>t(e,"Watch Now"),onWatchTrailer:e=>t(e,"Trailer"),onAddToWatchlist:e=>t(e,"Add to List"),onShareContent:e=>t(e,"Share"),onCardClick:e=>t(e,"Card Click")})]}),i.jsxs("section",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Vertical Cards"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:wu.map(e=>i.jsx(Ws,{media:e,variant:"vertical",size:"md",showRating:!0,showGenres:!0,showReleaseDate:!0,showStreamingLogos:!0,actions:{watchNow:!0,trailer:!0,addToList:!0},onWatchNow:r=>t(r,"Watch Now"),onWatchTrailer:r=>t(r,"Trailer"),onAddToWatchlist:r=>t(r,"Add to List"),onCardClick:r=>t(r,"Card Click")},e.id))})]}),i.jsxs("section",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Horizontal Cards"}),i.jsx("div",{className:"space-y-4",children:wu.map(e=>i.jsx(Ws,{media:e,variant:"horizontal",size:"md",showRating:!0,showDescription:!0,showStreamingLogos:!0,actions:{watchNow:!0,addToList:!0,trailer:!0},onWatchNow:r=>t(r,"Watch Now"),onWatchTrailer:r=>t(r,"Trailer"),onAddToWatchlist:r=>t(r,"Add to List"),onCardClick:r=>t(r,"Card Click")},`horizontal-${e.id}`))})]}),i.jsxs("section",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Compact Cards"}),i.jsx("div",{className:"space-y-3",children:wu.map(e=>i.jsx(Ws,{media:e,variant:"compact",size:"sm",showRating:!0,showReleaseDate:!0,showStreamingLogos:!0,actions:{addToList:!0,watchNow:!0},onWatchNow:r=>t(r,"Watch Now"),onAddToWatchlist:r=>t(r,"Add to List"),onCardClick:r=>t(r,"Card Click")},`compact-${e.id}`))})]}),i.jsxs("section",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Premium Features"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 text-slate-300",children:[i.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 p-6 rounded-xl border border-slate-700/50",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" Modern Design"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:" Gradient overlays & backgrounds"}),i.jsx("li",{children:" Premium glass-morphism effects"}),i.jsx("li",{children:" Enhanced typography & spacing"}),i.jsx("li",{children:" Consistent design language"})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 p-6 rounded-xl border border-slate-700/50",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" Floating Actions"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:" Smooth hover animations"}),i.jsx("li",{children:" Context-aware button placement"}),i.jsx("li",{children:" Backdrop blur effects"}),i.jsx("li",{children:" Micro-interaction feedback"})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 p-6 rounded-xl border border-slate-700/50",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" Enhanced UX"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:" Framer Motion integration"}),i.jsx("li",{children:" Staggered content reveals"}),i.jsx("li",{children:" Scale & glow hover effects"}),i.jsx("li",{children:" Unified interaction patterns"})]})]})]})]})]})})},pH=Ke.lazy(()=>ct(()=>fr(()=>import("./test-personalized-DZvpouZo-CZ3hDsB_.js"),[]),[])),mH=Ke.lazy(()=>ct(()=>fr(()=>import("./dashboard-reconstructed-7rb8BG5S-B6b5VhPy.js"),[]),[])),fH=[{path:"/landing",component:bT},{path:"/login",component:N7},{path:"/signup",component:E7},{path:"/reset",component:T7},{path:"/card-demo",component:hH}],gH=[{path:"/discover",component:Gk,requireAuth:!0},{path:"/lists",component:$B,requireAuth:!0},{path:"/friends",component:WB,requireAuth:!0},{path:"/dashboard",component:cH,requireAuth:!0},{path:"/modern-discover",component:Gk,requireAuth:!0},{path:"/search",component:dH,requireAuth:!0},{path:"/test-personalized",component:pH,lazy:!0,requireAuth:!0},{path:"/test-dashboard",component:mH,lazy:!0,requireAuth:!0}],vH={component:uH},yH=["/","/landing","/discover","/lists","/friends","/dashboard","/test-dashboard"];function xH(){const[t,e]=y.useState(""),[r,n]=y.useState(!1),a=async()=>{n(!0),e("Testing...");try{console.log(" Starting direct Firebase test...");const l=await Yv(Be,"rachel.gubin@gmail.com","password123");console.log(" Firebase auth successful:",l.user),e(` SUCCESS! 
        Email: ${l.user.email}
        UID: ${l.user.uid}
        Created: ${l.user.metadata.creationTime}`)}catch(l){console.error(" Firebase auth failed:",l),e(` FAILED: ${l.code} - ${l.message}`)}finally{n(!1)}};return i.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("h1",{className:"text-2xl mb-6",children:" Auth Debug Tool"}),i.jsx("button",{onClick:a,disabled:r,className:"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded mb-4",children:r?"Testing...":"Test Firebase Auth"}),i.jsxs("div",{className:"bg-gray-900 p-4 rounded",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Result:"}),i.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:t||"Click button to test"})]}),i.jsxs("div",{className:"mt-4 text-sm text-gray-400",children:[i.jsx("p",{children:"Testing credentials:"}),i.jsx("p",{children:"Email: rachel.gubin@gmail.com"}),i.jsx("p",{children:"Password: password123"})]})]})})}function bH(){var t,e,r;const{user:n,isAuthenticated:a,isLoading:l}=Fr(),[c]=nn(),[u,h]=y.useState(!1);if(y.useEffect(()=>{if(a&&n){const f=n.id||n.email;localStorage.getItem(`onboarding-completed-${f}`)==="true"||(localStorage.setItem(`onboarding-completed-${f}`,"true"),console.log(" Force-completed onboarding for existing user:",f)),h(!1)}},[a,n]),y.useEffect(()=>{const f=document.getElementById("loadingScreen");f&&(f.style.display="none",console.log(" Loading screen removed after React mount"))},[]),l)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-500 mx-auto"}),i.jsx("p",{className:"text-gray-400 mt-4",children:" Checking authentication..."})]})});const m=!yH.includes(c);return i.jsxs("div",{className:"min-h-screen flex flex-col bg-black overflow-x-hidden",children:[m&&(a?i.jsx(rz,{}):i.jsx(hz,{})),i.jsx("main",{className:`flex-1 ${m?"pt-16 pb-20 md:pb-20":"pt-0 pb-0"}`,children:i.jsxs(aR,{children:[fH.map(f=>i.jsx(ya,{path:f.path,children:i.jsx(zf,{component:f.component})},f.path)),i.jsx(ya,{path:"/auth-debug",children:i.jsx(xH,{})}),i.jsx(ya,{path:"/upcoming",children:i.jsx(ku,{to:"/discover"})}),i.jsx(ya,{path:"/activity",children:i.jsx(ku,{to:"/lists"})}),i.jsx(ya,{path:"/",children:(console.log(` Root route: isAuthenticated=${a}, isLoading=${l}, user=${(n==null?void 0:n.email)||"null"}, redirecting to ${a?"dashboard":"landing"}`),a?i.jsx(ku,{to:"/dashboard"}):i.jsx(bT,{}))}),gH.map(f=>i.jsx(ya,{path:f.path,children:i.jsx(zf,{component:f.component,lazy:f.lazy,requireAuth:f.requireAuth})},f.path)),i.jsx(ya,{children:i.jsx(zf,{component:vH.component})})]})}),a&&i.jsx(PM,{}),a&&i.jsx(RM,{}),a&&i.jsx(uz,{isOpen:u,onComplete:()=>{console.log(" Premium onboarding completed!"),(n!=null&&n.id||n!=null&&n.email)&&localStorage.setItem(`onboarding-completed-${n.id||n.email}`,"true"),h(!1)},userDisplayName:(n==null?void 0:n.displayName)||((t=n==null?void 0:n.email)==null?void 0:t.split("@")[0])||"Friend",userData:n?{firstName:(e=n.displayName)==null?void 0:e.split(" ")[0],lastName:(r=n.displayName)==null?void 0:r.split(" ")[1],email:n.email,profileImage:n.photoURL,provider:n.authProvider}:void 0}),i.jsx(pz,{onAccept:()=>{console.log("Consent accepted"),a||(window.location.href="/landing")},onDecline:()=>{console.log("Consent declined"),a||(window.location.href="/landing")}})]})}function wH(){return i.jsx(MR,{children:i.jsx(hS,{children:i.jsx(vz,{children:i.jsxs(mz,{children:[i.jsx(bH,{}),i.jsx(LO,{})]})})})})}console.log(" MAIN.TSX LOADED - Starting React app");const NH=()=>{const t=new URLSearchParams(window.location.search).get("p");if(t&&t!=="/"){const e=window.location.origin+t;window.history.replaceState(null,"",e),console.log(" SPA routing: redirected from 404 to",t)}};NH();const kH=()=>{try{if(!Be){console.warn(" Firebase auth not available");return}window.firebaseAuth=Be,window.testLogin=async()=>{console.log(" Testing login from console...");const{GoogleAuthProvider:t,signInWithPopup:e}=await ct(async()=>{const{GoogleAuthProvider:n,signInWithPopup:a}=await Promise.resolve().then(()=>$s);return{GoogleAuthProvider:n,signInWithPopup:a}},void 0),r=new t;r.addScope("email"),r.addScope("profile"),r.setCustomParameters({prompt:"select_account"});try{const n=(await e(Be,r)).user,a=await n.getIdToken(!0);console.log(" Login success:",n.email),console.log(" Token preview:",a.substring(0,50)+"...");const l=await Wt("/api/auth/user",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});console.log(" API Status:",l.status),l.ok?console.log(" API SUCCESS - User data:",await l.json()):console.log(" API Error:",await l.text())}catch(n){console.error(" Console login failed:",n)}},window.testAPI=async()=>{const t=Be.currentUser;if(!t)return console.log(" No user signed in. Run window.testLogin() first.");const e=await t.getIdToken(!0),r=await Wt("/api/auth/user",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});console.log(" API Status:",r.status),console.log(r.ok?" API Response:":" API Error:",await r.text())},window.debugFirebase=async()=>{console.log(" Firebase Debug Info");const t=Be.currentUser;if(console.log(" Current User:",t?{uid:t.uid,email:t.email}:"None"),t){const e=await t.getIdToken(!0);console.log(" Token preview:",e.substring(0,50)+"...")}},window.createTestUser=async()=>{const{createUserWithEmailAndPassword:t}=await ct(async()=>{const{createUserWithEmailAndPassword:e}=await Promise.resolve().then(()=>$s);return{createUserWithEmailAndPassword:e}},void 0);try{const e=await t(Be,"test@example.com","password123");return console.log(" Test user created:",e.user.email),e}catch(e){e.code==="auth/email-already-in-use"?console.log(" Test user already exists - try window.testEmailLogin()"):console.error(" Create user error:",e.message)}},window.testEmailLogin=async()=>{const{signInWithEmailAndPassword:t}=await ct(async()=>{const{signInWithEmailAndPassword:e}=await Promise.resolve().then(()=>$s);return{signInWithEmailAndPassword:e}},void 0);try{const e=await t(Be,"test@example.com","password123");return console.log(" Email login success:",e.user.email),e}catch(e){console.error(" Email login error:",e.message)}},window.resetPassword=async t=>{const{sendPasswordResetEmail:e}=await ct(async()=>{const{sendPasswordResetEmail:r}=await Promise.resolve().then(()=>$s);return{sendPasswordResetEmail:r}},void 0);try{await e(Be,t),console.log(" Password reset email sent to:",t),alert(" Password reset email sent! Check your email inbox.")}catch(r){console.error(" Password reset error:",r.message),alert(" Password reset failed: "+r.message)}},window.resetRachel=async()=>{const{sendPasswordResetEmail:t}=await ct(async()=>{const{sendPasswordResetEmail:e}=await Promise.resolve().then(()=>$s);return{sendPasswordResetEmail:e}},void 0);try{await t(Be,"rachel.gubin@gmail.com"),console.log(" Password reset email sent to: rachel.gubin@gmail.com"),alert(" Password reset email sent to rachel.gubin@gmail.com! Check your email inbox.")}catch(e){console.error(" Password reset error:",e.message),alert(" Password reset failed: "+e.message)}},console.log(" Firebase debug helpers available:"),console.log("  - window.firebaseAuth"),console.log("  - window.testLogin() (Google OAuth)"),console.log("  - window.testEmailLogin() (test@example.com / password123)"),console.log("  - window.createTestUser() (creates test@example.com)"),console.log("  - window.resetPassword('email@example.com')"),console.log("  - window.resetRachel() (resets rachel.gubin@gmail.com)"),console.log("  - window.testAPI()"),console.log("  - window.debugFirebase()")}catch(t){console.warn(" Could not set up Firebase debug helpers:",t)}};window.addEventListener("error",t=>{console.error(" Global error caught:",t.error)});window.addEventListener("unhandledrejection",t=>{console.error(" Unhandled promise rejection:",t.reason)});const jH=()=>{const t=navigator.userAgent||"",e=/Android|iPhone|iPad|iPod|Mobile/i.test(t);e&&(document.documentElement.classList.add("mobile-device"),console.log(" Mobile device detected - optimizations applied")),console.log(" Device detection:",{userAgent:t.substring(0,50),isMobile:e})},SH=()=>{kH(),jH();try{const t=document.getElementById("root");if(!t)throw new Error("Root element not found");const e=setTimeout(()=>{t.innerHTML=`
        <div style="color:white;padding:20px;background:#000;text-align:center;">
          <h1 style="color:#14b8a6;">BingeBoard</h1>
          <p>App is taking longer than expected to load...</p>
          <button onclick="window.location.reload()" 
            style="background:#14b8a6;color:white;padding:10px 20px;border:none;border-radius:5px;margin:10px;">
            Reload Page
          </button>
          <br><br>
          <a href="/debug-mobile.html" style="color:#14b8a6;">Debug Tools</a>
        </div>`},1e4);F5.createRoot(t).render(i.jsx(wH,{})),clearTimeout(e);const r=document.querySelector(".loading-fallback");r&&setTimeout(()=>{r.style.opacity="0",r.style.transition="opacity 0.5s ease-out",setTimeout(()=>{r.remove()},500)},100),console.log(" React app rendered successfully")}catch(t){console.error(" Critical error in main.tsx:",t),document.body.innerHTML=`<div style="color:red;padding:20px;">Critical error: ${t.message}</div>`}};SH();"serviceWorker"in navigator?window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>console.log("Service Worker registered:",t)).catch(t=>console.error("Service Worker registration failed:",t))}):"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(t=>{t.length&&console.log("Unregistering service workers in dev to avoid stale caches"),t.forEach(e=>e.unregister())});export{ze as $,Pn as A,$S as F,Ke as K,vv as N,Zk as O,Qe as Q,kt as S,Fr as U,Xe as Z,fr as _,ie as a,Nt as b,wc as c,aH as e,ph as f,Gs as i,i as o,Fa as q,lO as r,ec as t,ct as u,y as v,bu as w};
