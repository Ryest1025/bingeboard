const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/react-CxaGRSq5.js","assets/mixin-C_e69MQf.js","assets/hls-DbQFPwHg.js","assets/react-CZXRBl7M.js","assets/index-onKJ7-KF.js"])))=>i.map(i=>d[i]);
var ab=t=>{throw TypeError(t)};var dm=(t,e,n)=>e.has(t)||ab("Cannot "+n);var D=(t,e,n)=>(dm(t,e,"read from private field"),n?n.call(t):e.get(t)),ke=(t,e,n)=>e.has(t)?ab("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(dm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Le=(t,e,n)=>(dm(t,e,"access private method"),n);var id=(t,e,n,r)=>({set _(i){de(t,e,i,n)},get _(){return D(t,e,r)}});function MA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const OA="modulepreload",DA=function(t){return"/"+t},lb={},yt=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=c(n.map(f=>{if(f=DA(f),f in lb)return;lb[f]=!0;const g=f.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":OA,g||(v.as="script"),v.crossOrigin="",v.href=f,h&&v.setAttribute("nonce",h),document.head.appendChild(v),g)return new Promise((b,k)=>{v.addEventListener("load",b),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};function ik(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hm={exports:{}},Ol={},fm={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function LA(){if(cb)return Ue;cb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function S(F,G,me){this.props=F,this.context=G,this.refs=N,this.updater=me||b}S.prototype.isReactComponent={},S.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},S.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function _(){}_.prototype=S.prototype;function E(F,G,me){this.props=F,this.context=G,this.refs=N,this.updater=me||b}var j=E.prototype=new _;j.constructor=E,k(j,S.prototype),j.isPureReactComponent=!0;var P=Array.isArray,A=Object.prototype.hasOwnProperty,O={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function T(F,G,me){var _e,Re={},K=null,oe=null;if(G!=null)for(_e in G.ref!==void 0&&(oe=G.ref),G.key!==void 0&&(K=""+G.key),G)A.call(G,_e)&&!R.hasOwnProperty(_e)&&(Re[_e]=G[_e]);var ae=arguments.length-2;if(ae===1)Re.children=me;else if(1<ae){for(var be=Array(ae),Ge=0;Ge<ae;Ge++)be[Ge]=arguments[Ge+2];Re.children=be}if(F&&F.defaultProps)for(_e in ae=F.defaultProps,ae)Re[_e]===void 0&&(Re[_e]=ae[_e]);return{$$typeof:t,type:F,key:K,ref:oe,props:Re,_owner:O.current}}function I(F,G){return{$$typeof:t,type:F.type,key:G,ref:F.ref,props:F.props,_owner:F._owner}}function $(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function Y(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(me){return G[me]})}var W=/\/+/g;function Z(F,G){return typeof F=="object"&&F!==null&&F.key!=null?Y(""+F.key):G.toString(36)}function Q(F,G,me,_e,Re){var K=typeof F;(K==="undefined"||K==="boolean")&&(F=null);var oe=!1;if(F===null)oe=!0;else switch(K){case"string":case"number":oe=!0;break;case"object":switch(F.$$typeof){case t:case e:oe=!0}}if(oe)return oe=F,Re=Re(oe),F=_e===""?"."+Z(oe,0):_e,P(Re)?(me="",F!=null&&(me=F.replace(W,"$&/")+"/"),Q(Re,G,me,"",function(Ge){return Ge})):Re!=null&&($(Re)&&(Re=I(Re,me+(!Re.key||oe&&oe.key===Re.key?"":(""+Re.key).replace(W,"$&/")+"/")+F)),G.push(Re)),1;if(oe=0,_e=_e===""?".":_e+":",P(F))for(var ae=0;ae<F.length;ae++){K=F[ae];var be=_e+Z(K,ae);oe+=Q(K,G,me,be,Re)}else if(be=v(F),typeof be=="function")for(F=be.call(F),ae=0;!(K=F.next()).done;)K=K.value,be=_e+Z(K,ae++),oe+=Q(K,G,me,be,Re);else if(K==="object")throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return oe}function ue(F,G,me){if(F==null)return F;var _e=[],Re=0;return Q(F,_e,"","",function(K){return G.call(me,K,Re++)}),_e}function ce(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(me){(F._status===0||F._status===-1)&&(F._status=1,F._result=me)},function(me){(F._status===0||F._status===-1)&&(F._status=2,F._result=me)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var ie={current:null},V={transition:null},B={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:V,ReactCurrentOwner:O};function X(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:ue,forEach:function(F,G,me){ue(F,function(){G.apply(this,arguments)},me)},count:function(F){var G=0;return ue(F,function(){G++}),G},toArray:function(F){return ue(F,function(G){return G})||[]},only:function(F){if(!$(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ue.Component=S,Ue.Fragment=n,Ue.Profiler=i,Ue.PureComponent=E,Ue.StrictMode=r,Ue.Suspense=h,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Ue.act=X,Ue.cloneElement=function(F,G,me){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var _e=k({},F.props),Re=F.key,K=F.ref,oe=F._owner;if(G!=null){if(G.ref!==void 0&&(K=G.ref,oe=O.current),G.key!==void 0&&(Re=""+G.key),F.type&&F.type.defaultProps)var ae=F.type.defaultProps;for(be in G)A.call(G,be)&&!R.hasOwnProperty(be)&&(_e[be]=G[be]===void 0&&ae!==void 0?ae[be]:G[be])}var be=arguments.length-2;if(be===1)_e.children=me;else if(1<be){ae=Array(be);for(var Ge=0;Ge<be;Ge++)ae[Ge]=arguments[Ge+2];_e.children=ae}return{$$typeof:t,type:F.type,key:Re,ref:K,props:_e,_owner:oe}},Ue.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},Ue.createElement=T,Ue.createFactory=function(F){var G=T.bind(null,F);return G.type=F,G},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(F){return{$$typeof:d,render:F}},Ue.isValidElement=$,Ue.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:ce}},Ue.memo=function(F,G){return{$$typeof:f,type:F,compare:G===void 0?null:G}},Ue.startTransition=function(F){var G=V.transition;V.transition={};try{F()}finally{V.transition=G}},Ue.unstable_act=X,Ue.useCallback=function(F,G){return ie.current.useCallback(F,G)},Ue.useContext=function(F){return ie.current.useContext(F)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(F){return ie.current.useDeferredValue(F)},Ue.useEffect=function(F,G){return ie.current.useEffect(F,G)},Ue.useId=function(){return ie.current.useId()},Ue.useImperativeHandle=function(F,G,me){return ie.current.useImperativeHandle(F,G,me)},Ue.useInsertionEffect=function(F,G){return ie.current.useInsertionEffect(F,G)},Ue.useLayoutEffect=function(F,G){return ie.current.useLayoutEffect(F,G)},Ue.useMemo=function(F,G){return ie.current.useMemo(F,G)},Ue.useReducer=function(F,G,me){return ie.current.useReducer(F,G,me)},Ue.useRef=function(F){return ie.current.useRef(F)},Ue.useState=function(F){return ie.current.useState(F)},Ue.useSyncExternalStore=function(F,G,me){return ie.current.useSyncExternalStore(F,G,me)},Ue.useTransition=function(){return ie.current.useTransition()},Ue.version="18.3.1",Ue}var ub;function Rh(){return ub||(ub=1,fm.exports=LA()),fm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function FA(){if(db)return Ol;db=1;var t=Rh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,f){var g,m={},v=null,b=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(b=h.ref);for(g in h)r.call(h,g)&&!l.hasOwnProperty(g)&&(m[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:e,type:d,key:v,ref:b,props:m,_owner:i.current}}return Ol.Fragment=n,Ol.jsx=c,Ol.jsxs=c,Ol}var hb;function $A(){return hb||(hb=1,hm.exports=FA()),hm.exports}var o=$A(),od={},pm={exports:{}},un={},mm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function UA(){return fb||(fb=1,(function(t){function e(V,B){var X=V.length;V.push(B);e:for(;0<X;){var F=X-1>>>1,G=V[F];if(0<i(G,B))V[F]=B,V[X]=G,X=F;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],X=V.pop();if(X!==B){V[0]=X;e:for(var F=0,G=V.length,me=G>>>1;F<me;){var _e=2*(F+1)-1,Re=V[_e],K=_e+1,oe=V[K];if(0>i(Re,X))K<G&&0>i(oe,Re)?(V[F]=oe,V[K]=X,F=K):(V[F]=Re,V[_e]=X,F=_e);else if(K<G&&0>i(oe,X))V[F]=oe,V[K]=X,F=K;else break e}}return B}function i(V,B){var X=V.sortIndex-B.sortIndex;return X!==0?X:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],g=1,m=null,v=3,b=!1,k=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(V){for(var B=n(f);B!==null;){if(B.callback===null)r(f);else if(B.startTime<=V)r(f),B.sortIndex=B.expirationTime,e(h,B);else break;B=n(f)}}function P(V){if(N=!1,j(V),!k)if(n(h)!==null)k=!0,ce(A);else{var B=n(f);B!==null&&ie(P,B.startTime-V)}}function A(V,B){k=!1,N&&(N=!1,_(T),T=-1),b=!0;var X=v;try{for(j(B),m=n(h);m!==null&&(!(m.expirationTime>B)||V&&!Y());){var F=m.callback;if(typeof F=="function"){m.callback=null,v=m.priorityLevel;var G=F(m.expirationTime<=B);B=t.unstable_now(),typeof G=="function"?m.callback=G:m===n(h)&&r(h),j(B)}else r(h);m=n(h)}if(m!==null)var me=!0;else{var _e=n(f);_e!==null&&ie(P,_e.startTime-B),me=!1}return me}finally{m=null,v=X,b=!1}}var O=!1,R=null,T=-1,I=5,$=-1;function Y(){return!(t.unstable_now()-$<I)}function W(){if(R!==null){var V=t.unstable_now();$=V;var B=!0;try{B=R(!0,V)}finally{B?Z():(O=!1,R=null)}}else O=!1}var Z;if(typeof E=="function")Z=function(){E(W)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ue=Q.port2;Q.port1.onmessage=W,Z=function(){ue.postMessage(null)}}else Z=function(){S(W,0)};function ce(V){R=V,O||(O=!0,Z())}function ie(V,B){T=S(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){k||b||(k=!0,ce(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(V){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var X=v;v=B;try{return V()}finally{v=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=v;v=V;try{return B()}finally{v=X}},t.unstable_scheduleCallback=function(V,B,X){var F=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?F+X:F):X=F,V){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=X+G,V={id:g++,callback:B,priorityLevel:V,startTime:X,expirationTime:G,sortIndex:-1},X>F?(V.sortIndex=X,e(f,V),n(h)===null&&V===n(f)&&(N?(_(T),T=-1):N=!0,ie(P,X-F))):(V.sortIndex=G,e(h,V),k||b||(k=!0,ce(A))),V},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(V){var B=v;return function(){var X=v;v=B;try{return V.apply(this,arguments)}finally{v=X}}}})(gm)),gm}var pb;function BA(){return pb||(pb=1,mm.exports=UA()),mm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function VA(){if(mb)return un;mb=1;var t=Rh(),e=BA();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function l(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function v(s){return h.call(m,s)?!0:h.call(g,s)?!1:f.test(s)?m[s]=!0:(g[s]=!0,!1)}function b(s,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,a,u,p){if(a===null||typeof a>"u"||b(s,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function N(s,a,u,p,x,w,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=x,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=C}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];S[a]=new N(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(_,E);S[a]=new N(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(_,E);S[a]=new N(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(_,E);S[a]=new N(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function j(s,a,u,p){var x=S.hasOwnProperty(a)?S[a]:null;(x!==null?x.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,u,x,p)&&(u=null),p||x===null?v(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):x.mustUseProperty?s[x.propertyName]=u===null?x.type===3?!1:"":u:(a=x.attributeName,p=x.attributeNamespace,u===null?s.removeAttribute(a):(x=x.type,u=x===3||x===4&&u===!0?"":""+u,p?s.setAttributeNS(p,a,u):s.setAttribute(a,u))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),O=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),Y=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),V=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var X=Object.assign,F;function G(s){if(F===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+s}var me=!1;function _e(s,a){if(!s||me)return"";me=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(q){var p=q}Reflect.construct(s,[],a)}else{try{a.call()}catch(q){p=q}s.call(a.prototype)}else{try{throw Error()}catch(q){p=q}s()}}catch(q){if(q&&p&&typeof q.stack=="string"){for(var x=q.stack.split(`
`),w=p.stack.split(`
`),C=x.length-1,M=w.length-1;1<=C&&0<=M&&x[C]!==w[M];)M--;for(;1<=C&&0<=M;C--,M--)if(x[C]!==w[M]){if(C!==1||M!==1)do if(C--,M--,0>M||x[C]!==w[M]){var L=`
`+x[C].replace(" at new "," at ");return s.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",s.displayName)),L}while(1<=C&&0<=M);break}}}finally{me=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?G(s):""}function Re(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=_e(s.type,!1),s;case 11:return s=_e(s.type.render,!1),s;case 1:return s=_e(s.type,!0),s;default:return""}}function K(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case O:return"Portal";case I:return"Profiler";case T:return"StrictMode";case Z:return"Suspense";case Q:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Y:return(s.displayName||"Context")+".Consumer";case $:return(s._context.displayName||"Context")+".Provider";case W:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ue:return a=s.displayName||null,a!==null?a:K(s.type)||"Memo";case ce:a=s._payload,s=s._init;try{return K(s(a))}catch{}}return null}function oe(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(a);case 8:return a===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ae(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function be(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ge(s){var a=be(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,w=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return x.call(this)},set:function(C){p=""+C,w.call(this,C)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(C){p=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function rn(s){s._valueTracker||(s._valueTracker=Ge(s))}function Vn(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return s&&(p=be(s)?s.checked?"true":"false":s.value),s=p,s!==u?(a.setValue(s),!0):!1}function _t(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function zn(s,a){var u=a.checked;return X({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Fr(s,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=ae(a.value!=null?a.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function xo(s,a){a=a.checked,a!=null&&j(s,"checked",a,!1)}function ys(s,a){xo(s,a);var u=ae(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?lt(s,a.type,u):a.hasOwnProperty("defaultValue")&&lt(s,a.type,ae(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Qa(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function lt(s,a,u){(a!=="number"||_t(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var $r=Array.isArray;function vs(s,a,u,p){if(s=s.options,a){a={};for(var x=0;x<u.length;x++)a["$"+u[x]]=!0;for(u=0;u<s.length;u++)x=a.hasOwnProperty("$"+s[u].value),s[u].selected!==x&&(s[u].selected=x),x&&p&&(s[u].defaultSelected=!0)}else{for(u=""+ae(u),a=null,x=0;x<s.length;x++){if(s[x].value===u){s[x].selected=!0,p&&(s[x].defaultSelected=!0);return}a!==null||s[x].disabled||(a=s[x])}a!==null&&(a.selected=!0)}}function wo(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function y0(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if($r(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:ae(u)}}function v0(s,a){var u=ae(a.value),p=ae(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function x0(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function w0(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sf(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?w0(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Zc,b0=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,x){MSApp.execUnsafeLocalFunction(function(){return s(a,u,p,x)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Zc.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Za(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F2=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(s){F2.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Xa[a]=Xa[s]})});function S0(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Xa.hasOwnProperty(s)&&Xa[s]?(""+a).trim():a+"px"}function N0(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,x=S0(u,a[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,x):s[u]=x}}var $2=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nf(s,a){if(a){if($2[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function kf(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _f=null;function jf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Cf=null,bo=null,So=null;function k0(s){if(s=wl(s)){if(typeof Cf!="function")throw Error(n(280));var a=s.stateNode;a&&(a=wu(a),Cf(s.stateNode,s.type,a))}}function _0(s){bo?So?So.push(s):So=[s]:bo=s}function j0(){if(bo){var s=bo,a=So;if(So=bo=null,k0(s),a)for(s=0;s<a.length;s++)k0(a[s])}}function C0(s,a){return s(a)}function E0(){}var Ef=!1;function P0(s,a,u){if(Ef)return s(a,u);Ef=!0;try{return C0(s,a,u)}finally{Ef=!1,(bo!==null||So!==null)&&(E0(),j0())}}function Ja(s,a){var u=s.stateNode;if(u===null)return null;var p=wu(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var Pf=!1;if(d)try{var el={};Object.defineProperty(el,"passive",{get:function(){Pf=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Pf=!1}function U2(s,a,u,p,x,w,C,M,L){var q=Array.prototype.slice.call(arguments,3);try{a.apply(u,q)}catch(ee){this.onError(ee)}}var tl=!1,Xc=null,Jc=!1,Tf=null,B2={onError:function(s){tl=!0,Xc=s}};function V2(s,a,u,p,x,w,C,M,L){tl=!1,Xc=null,U2.apply(B2,arguments)}function z2(s,a,u,p,x,w,C,M,L){if(V2.apply(this,arguments),tl){if(tl){var q=Xc;tl=!1,Xc=null}else throw Error(n(198));Jc||(Jc=!0,Tf=q)}}function Si(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function T0(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function R0(s){if(Si(s)!==s)throw Error(n(188))}function W2(s){var a=s.alternate;if(!a){if(a=Si(s),a===null)throw Error(n(188));return a!==s?null:s}for(var u=s,p=a;;){var x=u.return;if(x===null)break;var w=x.alternate;if(w===null){if(p=x.return,p!==null){u=p;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===u)return R0(x),s;if(w===p)return R0(x),a;w=w.sibling}throw Error(n(188))}if(u.return!==p.return)u=x,p=w;else{for(var C=!1,M=x.child;M;){if(M===u){C=!0,u=x,p=w;break}if(M===p){C=!0,p=x,u=w;break}M=M.sibling}if(!C){for(M=w.child;M;){if(M===u){C=!0,u=w,p=x;break}if(M===p){C=!0,p=w,u=x;break}M=M.sibling}if(!C)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:a}function A0(s){return s=W2(s),s!==null?I0(s):null}function I0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=I0(s);if(a!==null)return a;s=s.sibling}return null}var M0=e.unstable_scheduleCallback,O0=e.unstable_cancelCallback,H2=e.unstable_shouldYield,G2=e.unstable_requestPaint,vt=e.unstable_now,K2=e.unstable_getCurrentPriorityLevel,Rf=e.unstable_ImmediatePriority,D0=e.unstable_UserBlockingPriority,eu=e.unstable_NormalPriority,q2=e.unstable_LowPriority,L0=e.unstable_IdlePriority,tu=null,fr=null;function Y2(s){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(tu,s,void 0,(s.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:X2,Q2=Math.log,Z2=Math.LN2;function X2(s){return s>>>=0,s===0?32:31-(Q2(s)/Z2|0)|0}var nu=64,ru=4194304;function nl(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function su(s,a){var u=s.pendingLanes;if(u===0)return 0;var p=0,x=s.suspendedLanes,w=s.pingedLanes,C=u&268435455;if(C!==0){var M=C&~x;M!==0?p=nl(M):(w&=C,w!==0&&(p=nl(w)))}else C=u&~x,C!==0?p=nl(C):w!==0&&(p=nl(w));if(p===0)return 0;if(a!==0&&a!==p&&(a&x)===0&&(x=p&-p,w=a&-a,x>=w||x===16&&(w&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)u=31-Wn(a),x=1<<u,p|=s[u],a&=~x;return p}function J2(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eR(s,a){for(var u=s.suspendedLanes,p=s.pingedLanes,x=s.expirationTimes,w=s.pendingLanes;0<w;){var C=31-Wn(w),M=1<<C,L=x[C];L===-1?((M&u)===0||(M&p)!==0)&&(x[C]=J2(M,a)):L<=a&&(s.expiredLanes|=M),w&=~M}}function Af(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function F0(){var s=nu;return nu<<=1,(nu&4194240)===0&&(nu=64),s}function If(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function rl(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Wn(a),s[a]=u}function tR(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var x=31-Wn(u),w=1<<x;a[x]=0,p[x]=-1,s[x]=-1,u&=~w}}function Mf(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var p=31-Wn(u),x=1<<p;x&a|s[p]&a&&(s[p]|=a),u&=~x}}var et=0;function $0(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var U0,Of,B0,V0,z0,Df=!1,iu=[],xs=null,ws=null,bs=null,sl=new Map,il=new Map,Ss=[],nR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W0(s,a){switch(s){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":sl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(a.pointerId)}}function ol(s,a,u,p,x,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[x]},a!==null&&(a=wl(a),a!==null&&Of(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),s)}function rR(s,a,u,p,x){switch(a){case"focusin":return xs=ol(xs,s,a,u,p,x),!0;case"dragenter":return ws=ol(ws,s,a,u,p,x),!0;case"mouseover":return bs=ol(bs,s,a,u,p,x),!0;case"pointerover":var w=x.pointerId;return sl.set(w,ol(sl.get(w)||null,s,a,u,p,x)),!0;case"gotpointercapture":return w=x.pointerId,il.set(w,ol(il.get(w)||null,s,a,u,p,x)),!0}return!1}function H0(s){var a=Ni(s.target);if(a!==null){var u=Si(a);if(u!==null){if(a=u.tag,a===13){if(a=T0(u),a!==null){s.blockedOn=a,z0(s.priority,function(){B0(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ou(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Ff(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);_f=p,u.target.dispatchEvent(p),_f=null}else return a=wl(u),a!==null&&Of(a),s.blockedOn=u,!1;a.shift()}return!0}function G0(s,a,u){ou(s)&&u.delete(a)}function sR(){Df=!1,xs!==null&&ou(xs)&&(xs=null),ws!==null&&ou(ws)&&(ws=null),bs!==null&&ou(bs)&&(bs=null),sl.forEach(G0),il.forEach(G0)}function al(s,a){s.blockedOn===a&&(s.blockedOn=null,Df||(Df=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sR)))}function ll(s){function a(x){return al(x,s)}if(0<iu.length){al(iu[0],s);for(var u=1;u<iu.length;u++){var p=iu[u];p.blockedOn===s&&(p.blockedOn=null)}}for(xs!==null&&al(xs,s),ws!==null&&al(ws,s),bs!==null&&al(bs,s),sl.forEach(a),il.forEach(a),u=0;u<Ss.length;u++)p=Ss[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<Ss.length&&(u=Ss[0],u.blockedOn===null);)H0(u),u.blockedOn===null&&Ss.shift()}var No=P.ReactCurrentBatchConfig,au=!0;function iR(s,a,u,p){var x=et,w=No.transition;No.transition=null;try{et=1,Lf(s,a,u,p)}finally{et=x,No.transition=w}}function oR(s,a,u,p){var x=et,w=No.transition;No.transition=null;try{et=4,Lf(s,a,u,p)}finally{et=x,No.transition=w}}function Lf(s,a,u,p){if(au){var x=Ff(s,a,u,p);if(x===null)tp(s,a,p,lu,u),W0(s,p);else if(rR(x,s,a,u,p))p.stopPropagation();else if(W0(s,p),a&4&&-1<nR.indexOf(s)){for(;x!==null;){var w=wl(x);if(w!==null&&U0(w),w=Ff(s,a,u,p),w===null&&tp(s,a,p,lu,u),w===x)break;x=w}x!==null&&p.stopPropagation()}else tp(s,a,p,null,u)}}var lu=null;function Ff(s,a,u,p){if(lu=null,s=jf(p),s=Ni(s),s!==null)if(a=Si(s),a===null)s=null;else if(u=a.tag,u===13){if(s=T0(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return lu=s,null}function K0(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K2()){case Rf:return 1;case D0:return 4;case eu:case q2:return 16;case L0:return 536870912;default:return 16}default:return 16}}var Ns=null,$f=null,cu=null;function q0(){if(cu)return cu;var s,a=$f,u=a.length,p,x="value"in Ns?Ns.value:Ns.textContent,w=x.length;for(s=0;s<u&&a[s]===x[s];s++);var C=u-s;for(p=1;p<=C&&a[u-p]===x[w-p];p++);return cu=x.slice(s,1<p?1-p:void 0)}function uu(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function du(){return!0}function Y0(){return!1}function pn(s){function a(u,p,x,w,C){this._reactName=u,this._targetInst=x,this.type=p,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(u=s[M],this[M]=u?u(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?du:Y0,this.isPropagationStopped=Y0,this}return X(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),a}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uf=pn(ko),cl=X({},ko,{view:0,detail:0}),aR=pn(cl),Bf,Vf,ul,hu=X({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ul&&(ul&&s.type==="mousemove"?(Bf=s.screenX-ul.screenX,Vf=s.screenY-ul.screenY):Vf=Bf=0,ul=s),Bf)},movementY:function(s){return"movementY"in s?s.movementY:Vf}}),Q0=pn(hu),lR=X({},hu,{dataTransfer:0}),cR=pn(lR),uR=X({},cl,{relatedTarget:0}),zf=pn(uR),dR=X({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),hR=pn(dR),fR=X({},ko,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),pR=pn(fR),mR=X({},ko,{data:0}),Z0=pn(mR),gR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xR(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=vR[s])?!!a[s]:!1}function Wf(){return xR}var wR=X({},cl,{key:function(s){if(s.key){var a=gR[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=uu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?yR[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wf,charCode:function(s){return s.type==="keypress"?uu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?uu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),bR=pn(wR),SR=X({},hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X0=pn(SR),NR=X({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wf}),kR=pn(NR),_R=X({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),jR=pn(_R),CR=X({},hu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ER=pn(CR),PR=[9,13,27,32],Hf=d&&"CompositionEvent"in window,dl=null;d&&"documentMode"in document&&(dl=document.documentMode);var TR=d&&"TextEvent"in window&&!dl,J0=d&&(!Hf||dl&&8<dl&&11>=dl),ex=" ",tx=!1;function nx(s,a){switch(s){case"keyup":return PR.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var _o=!1;function RR(s,a){switch(s){case"compositionend":return rx(a);case"keypress":return a.which!==32?null:(tx=!0,ex);case"textInput":return s=a.data,s===ex&&tx?null:s;default:return null}}function AR(s,a){if(_o)return s==="compositionend"||!Hf&&nx(s,a)?(s=q0(),cu=$f=Ns=null,_o=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return J0&&a.locale!=="ko"?null:a.data;default:return null}}var IR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sx(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!IR[s.type]:a==="textarea"}function ix(s,a,u,p){_0(p),a=yu(a,"onChange"),0<a.length&&(u=new Uf("onChange","change",null,u,p),s.push({event:u,listeners:a}))}var hl=null,fl=null;function MR(s){Nx(s,0)}function fu(s){var a=To(s);if(Vn(a))return s}function OR(s,a){if(s==="change")return a}var ox=!1;if(d){var Gf;if(d){var Kf="oninput"in document;if(!Kf){var ax=document.createElement("div");ax.setAttribute("oninput","return;"),Kf=typeof ax.oninput=="function"}Gf=Kf}else Gf=!1;ox=Gf&&(!document.documentMode||9<document.documentMode)}function lx(){hl&&(hl.detachEvent("onpropertychange",cx),fl=hl=null)}function cx(s){if(s.propertyName==="value"&&fu(fl)){var a=[];ix(a,fl,s,jf(s)),P0(MR,a)}}function DR(s,a,u){s==="focusin"?(lx(),hl=a,fl=u,hl.attachEvent("onpropertychange",cx)):s==="focusout"&&lx()}function LR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return fu(fl)}function FR(s,a){if(s==="click")return fu(a)}function $R(s,a){if(s==="input"||s==="change")return fu(a)}function UR(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Hn=typeof Object.is=="function"?Object.is:UR;function pl(s,a){if(Hn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var x=u[p];if(!h.call(a,x)||!Hn(s[x],a[x]))return!1}return!0}function ux(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function dx(s,a){var u=ux(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=a&&p>=a)return{node:u,offset:a-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ux(u)}}function hx(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?hx(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function fx(){for(var s=window,a=_t();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=_t(s.document)}return a}function qf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function BR(s){var a=fx(),u=s.focusedElem,p=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&hx(u.ownerDocument.documentElement,u)){if(p!==null&&qf(u)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var x=u.textContent.length,w=Math.min(p.start,x);p=p.end===void 0?w:Math.min(p.end,x),!s.extend&&w>p&&(x=p,p=w,w=x),x=dx(u,w);var C=dx(u,p);x&&C&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),s.removeAllRanges(),w>p?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var VR=d&&"documentMode"in document&&11>=document.documentMode,jo=null,Yf=null,ml=null,Qf=!1;function px(s,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Qf||jo==null||jo!==_t(p)||(p=jo,"selectionStart"in p&&qf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ml&&pl(ml,p)||(ml=p,p=yu(Yf,"onSelect"),0<p.length&&(a=new Uf("onSelect","select",null,a,u),s.push({event:a,listeners:p}),a.target=jo)))}function pu(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Co={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},Zf={},mx={};d&&(mx=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function mu(s){if(Zf[s])return Zf[s];if(!Co[s])return s;var a=Co[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in mx)return Zf[s]=a[u];return s}var gx=mu("animationend"),yx=mu("animationiteration"),vx=mu("animationstart"),xx=mu("transitionend"),wx=new Map,bx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(s,a){wx.set(s,a),l(a,[s])}for(var Xf=0;Xf<bx.length;Xf++){var Jf=bx[Xf],zR=Jf.toLowerCase(),WR=Jf[0].toUpperCase()+Jf.slice(1);ks(zR,"on"+WR)}ks(gx,"onAnimationEnd"),ks(yx,"onAnimationIteration"),ks(vx,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(xx,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HR=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function Sx(s,a,u){var p=s.type||"unknown-event";s.currentTarget=u,z2(p,a,void 0,s),s.currentTarget=null}function Nx(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],x=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var C=p.length-1;0<=C;C--){var M=p[C],L=M.instance,q=M.currentTarget;if(M=M.listener,L!==w&&x.isPropagationStopped())break e;Sx(x,M,q),w=L}else for(C=0;C<p.length;C++){if(M=p[C],L=M.instance,q=M.currentTarget,M=M.listener,L!==w&&x.isPropagationStopped())break e;Sx(x,M,q),w=L}}}if(Jc)throw s=Tf,Jc=!1,Tf=null,s}function st(s,a){var u=a[ap];u===void 0&&(u=a[ap]=new Set);var p=s+"__bubble";u.has(p)||(kx(a,s,2,!1),u.add(p))}function ep(s,a,u){var p=0;a&&(p|=4),kx(u,s,p,a)}var gu="_reactListening"+Math.random().toString(36).slice(2);function yl(s){if(!s[gu]){s[gu]=!0,r.forEach(function(u){u!=="selectionchange"&&(HR.has(u)||ep(u,!1,s),ep(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[gu]||(a[gu]=!0,ep("selectionchange",!1,a))}}function kx(s,a,u,p){switch(K0(a)){case 1:var x=iR;break;case 4:x=oR;break;default:x=Lf}u=x.bind(null,a,u,s),x=void 0,!Pf||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),p?x!==void 0?s.addEventListener(a,u,{capture:!0,passive:x}):s.addEventListener(a,u,!0):x!==void 0?s.addEventListener(a,u,{passive:x}):s.addEventListener(a,u,!1)}function tp(s,a,u,p,x){var w=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var M=p.stateNode.containerInfo;if(M===x||M.nodeType===8&&M.parentNode===x)break;if(C===4)for(C=p.return;C!==null;){var L=C.tag;if((L===3||L===4)&&(L=C.stateNode.containerInfo,L===x||L.nodeType===8&&L.parentNode===x))return;C=C.return}for(;M!==null;){if(C=Ni(M),C===null)return;if(L=C.tag,L===5||L===6){p=w=C;continue e}M=M.parentNode}}p=p.return}P0(function(){var q=w,ee=jf(u),te=[];e:{var J=wx.get(s);if(J!==void 0){var fe=Uf,ve=s;switch(s){case"keypress":if(uu(u)===0)break e;case"keydown":case"keyup":fe=bR;break;case"focusin":ve="focus",fe=zf;break;case"focusout":ve="blur",fe=zf;break;case"beforeblur":case"afterblur":fe=zf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=cR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=kR;break;case gx:case yx:case vx:fe=hR;break;case xx:fe=jR;break;case"scroll":fe=aR;break;case"wheel":fe=ER;break;case"copy":case"cut":case"paste":fe=pR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=X0}var we=(a&4)!==0,xt=!we&&s==="scroll",z=we?J!==null?J+"Capture":null:J;we=[];for(var U=q,H;U!==null;){H=U;var ne=H.stateNode;if(H.tag===5&&ne!==null&&(H=ne,z!==null&&(ne=Ja(U,z),ne!=null&&we.push(vl(U,ne,H)))),xt)break;U=U.return}0<we.length&&(J=new fe(J,ve,null,u,ee),te.push({event:J,listeners:we}))}}if((a&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",J&&u!==_f&&(ve=u.relatedTarget||u.fromElement)&&(Ni(ve)||ve[Ur]))break e;if((fe||J)&&(J=ee.window===ee?ee:(J=ee.ownerDocument)?J.defaultView||J.parentWindow:window,fe?(ve=u.relatedTarget||u.toElement,fe=q,ve=ve?Ni(ve):null,ve!==null&&(xt=Si(ve),ve!==xt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(fe=null,ve=q),fe!==ve)){if(we=Q0,ne="onMouseLeave",z="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(we=X0,ne="onPointerLeave",z="onPointerEnter",U="pointer"),xt=fe==null?J:To(fe),H=ve==null?J:To(ve),J=new we(ne,U+"leave",fe,u,ee),J.target=xt,J.relatedTarget=H,ne=null,Ni(ee)===q&&(we=new we(z,U+"enter",ve,u,ee),we.target=H,we.relatedTarget=xt,ne=we),xt=ne,fe&&ve)t:{for(we=fe,z=ve,U=0,H=we;H;H=Eo(H))U++;for(H=0,ne=z;ne;ne=Eo(ne))H++;for(;0<U-H;)we=Eo(we),U--;for(;0<H-U;)z=Eo(z),H--;for(;U--;){if(we===z||z!==null&&we===z.alternate)break t;we=Eo(we),z=Eo(z)}we=null}else we=null;fe!==null&&_x(te,J,fe,we,!1),ve!==null&&xt!==null&&_x(te,xt,ve,we,!0)}}e:{if(J=q?To(q):window,fe=J.nodeName&&J.nodeName.toLowerCase(),fe==="select"||fe==="input"&&J.type==="file")var Se=OR;else if(sx(J))if(ox)Se=$R;else{Se=LR;var Ce=DR}else(fe=J.nodeName)&&fe.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(Se=FR);if(Se&&(Se=Se(s,q))){ix(te,Se,u,ee);break e}Ce&&Ce(s,J,q),s==="focusout"&&(Ce=J._wrapperState)&&Ce.controlled&&J.type==="number"&&lt(J,"number",J.value)}switch(Ce=q?To(q):window,s){case"focusin":(sx(Ce)||Ce.contentEditable==="true")&&(jo=Ce,Yf=q,ml=null);break;case"focusout":ml=Yf=jo=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,px(te,u,ee);break;case"selectionchange":if(VR)break;case"keydown":case"keyup":px(te,u,ee)}var Ee;if(Hf)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else _o?nx(s,u)&&(Ae="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(J0&&u.locale!=="ko"&&(_o||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&_o&&(Ee=q0()):(Ns=ee,$f="value"in Ns?Ns.value:Ns.textContent,_o=!0)),Ce=yu(q,Ae),0<Ce.length&&(Ae=new Z0(Ae,s,null,u,ee),te.push({event:Ae,listeners:Ce}),Ee?Ae.data=Ee:(Ee=rx(u),Ee!==null&&(Ae.data=Ee)))),(Ee=TR?RR(s,u):AR(s,u))&&(q=yu(q,"onBeforeInput"),0<q.length&&(ee=new Z0("onBeforeInput","beforeinput",null,u,ee),te.push({event:ee,listeners:q}),ee.data=Ee))}Nx(te,a)})}function vl(s,a,u){return{instance:s,listener:a,currentTarget:u}}function yu(s,a){for(var u=a+"Capture",p=[];s!==null;){var x=s,w=x.stateNode;x.tag===5&&w!==null&&(x=w,w=Ja(s,u),w!=null&&p.unshift(vl(s,w,x)),w=Ja(s,a),w!=null&&p.push(vl(s,w,x))),s=s.return}return p}function Eo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function _x(s,a,u,p,x){for(var w=a._reactName,C=[];u!==null&&u!==p;){var M=u,L=M.alternate,q=M.stateNode;if(L!==null&&L===p)break;M.tag===5&&q!==null&&(M=q,x?(L=Ja(u,w),L!=null&&C.unshift(vl(u,L,M))):x||(L=Ja(u,w),L!=null&&C.push(vl(u,L,M)))),u=u.return}C.length!==0&&s.push({event:a,listeners:C})}var GR=/\r\n?/g,KR=/\u0000|\uFFFD/g;function jx(s){return(typeof s=="string"?s:""+s).replace(GR,`
`).replace(KR,"")}function vu(s,a,u){if(a=jx(a),jx(s)!==a&&u)throw Error(n(425))}function xu(){}var np=null,rp=null;function sp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ip=typeof setTimeout=="function"?setTimeout:void 0,qR=typeof clearTimeout=="function"?clearTimeout:void 0,Cx=typeof Promise=="function"?Promise:void 0,YR=typeof queueMicrotask=="function"?queueMicrotask:typeof Cx<"u"?function(s){return Cx.resolve(null).then(s).catch(QR)}:ip;function QR(s){setTimeout(function(){throw s})}function op(s,a){var u=a,p=0;do{var x=u.nextSibling;if(s.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(p===0){s.removeChild(x),ll(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=x}while(u);ll(a)}function _s(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Ex(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Po=Math.random().toString(36).slice(2),pr="__reactFiber$"+Po,xl="__reactProps$"+Po,Ur="__reactContainer$"+Po,ap="__reactEvents$"+Po,ZR="__reactListeners$"+Po,XR="__reactHandles$"+Po;function Ni(s){var a=s[pr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Ur]||u[pr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Ex(s);s!==null;){if(u=s[pr])return u;s=Ex(s)}return a}s=u,u=s.parentNode}return null}function wl(s){return s=s[pr]||s[Ur],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function To(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function wu(s){return s[xl]||null}var lp=[],Ro=-1;function js(s){return{current:s}}function it(s){0>Ro||(s.current=lp[Ro],lp[Ro]=null,Ro--)}function rt(s,a){Ro++,lp[Ro]=s.current,s.current=a}var Cs={},Bt=js(Cs),sn=js(!1),ki=Cs;function Ao(s,a){var u=s.type.contextTypes;if(!u)return Cs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var x={},w;for(w in u)x[w]=a[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=x),x}function on(s){return s=s.childContextTypes,s!=null}function bu(){it(sn),it(Bt)}function Px(s,a,u){if(Bt.current!==Cs)throw Error(n(168));rt(Bt,a),rt(sn,u)}function Tx(s,a,u){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var x in p)if(!(x in a))throw Error(n(108,oe(s)||"Unknown",x));return X({},u,p)}function Su(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Cs,ki=Bt.current,rt(Bt,s),rt(sn,sn.current),!0}function Rx(s,a,u){var p=s.stateNode;if(!p)throw Error(n(169));u?(s=Tx(s,a,ki),p.__reactInternalMemoizedMergedChildContext=s,it(sn),it(Bt),rt(Bt,s)):it(sn),rt(sn,u)}var Br=null,Nu=!1,cp=!1;function Ax(s){Br===null?Br=[s]:Br.push(s)}function JR(s){Nu=!0,Ax(s)}function Es(){if(!cp&&Br!==null){cp=!0;var s=0,a=et;try{var u=Br;for(et=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}Br=null,Nu=!1}catch(x){throw Br!==null&&(Br=Br.slice(s+1)),M0(Rf,Es),x}finally{et=a,cp=!1}}return null}var Io=[],Mo=0,ku=null,_u=0,kn=[],_n=0,_i=null,Vr=1,zr="";function ji(s,a){Io[Mo++]=_u,Io[Mo++]=ku,ku=s,_u=a}function Ix(s,a,u){kn[_n++]=Vr,kn[_n++]=zr,kn[_n++]=_i,_i=s;var p=Vr;s=zr;var x=32-Wn(p)-1;p&=~(1<<x),u+=1;var w=32-Wn(a)+x;if(30<w){var C=x-x%5;w=(p&(1<<C)-1).toString(32),p>>=C,x-=C,Vr=1<<32-Wn(a)+x|u<<x|p,zr=w+s}else Vr=1<<w|u<<x|p,zr=s}function up(s){s.return!==null&&(ji(s,1),Ix(s,1,0))}function dp(s){for(;s===ku;)ku=Io[--Mo],Io[Mo]=null,_u=Io[--Mo],Io[Mo]=null;for(;s===_i;)_i=kn[--_n],kn[_n]=null,zr=kn[--_n],kn[_n]=null,Vr=kn[--_n],kn[_n]=null}var mn=null,gn=null,ct=!1,Gn=null;function Mx(s,a){var u=Pn(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function Ox(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,mn=s,gn=_s(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,mn=s,gn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=_i!==null?{id:Vr,overflow:zr}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Pn(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,mn=s,gn=null,!0):!1;default:return!1}}function hp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function fp(s){if(ct){var a=gn;if(a){var u=a;if(!Ox(s,a)){if(hp(s))throw Error(n(418));a=_s(u.nextSibling);var p=mn;a&&Ox(s,a)?Mx(p,u):(s.flags=s.flags&-4097|2,ct=!1,mn=s)}}else{if(hp(s))throw Error(n(418));s.flags=s.flags&-4097|2,ct=!1,mn=s}}}function Dx(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;mn=s}function ju(s){if(s!==mn)return!1;if(!ct)return Dx(s),ct=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!sp(s.type,s.memoizedProps)),a&&(a=gn)){if(hp(s))throw Lx(),Error(n(418));for(;a;)Mx(s,a),a=_s(a.nextSibling)}if(Dx(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){gn=_s(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}gn=null}}else gn=mn?_s(s.stateNode.nextSibling):null;return!0}function Lx(){for(var s=gn;s;)s=_s(s.nextSibling)}function Oo(){gn=mn=null,ct=!1}function pp(s){Gn===null?Gn=[s]:Gn.push(s)}var eA=P.ReactCurrentBatchConfig;function bl(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,s));var x=p,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(C){var M=x.refs;C===null?delete M[w]:M[w]=C},a._stringRef=w,a)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Cu(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Fx(s){var a=s._init;return a(s._payload)}function $x(s){function a(z,U){if(s){var H=z.deletions;H===null?(z.deletions=[U],z.flags|=16):H.push(U)}}function u(z,U){if(!s)return null;for(;U!==null;)a(z,U),U=U.sibling;return null}function p(z,U){for(z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function x(z,U){return z=Ds(z,U),z.index=0,z.sibling=null,z}function w(z,U,H){return z.index=H,s?(H=z.alternate,H!==null?(H=H.index,H<U?(z.flags|=2,U):H):(z.flags|=2,U)):(z.flags|=1048576,U)}function C(z){return s&&z.alternate===null&&(z.flags|=2),z}function M(z,U,H,ne){return U===null||U.tag!==6?(U=im(H,z.mode,ne),U.return=z,U):(U=x(U,H),U.return=z,U)}function L(z,U,H,ne){var Se=H.type;return Se===R?ee(z,U,H.props.children,ne,H.key):U!==null&&(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ce&&Fx(Se)===U.type)?(ne=x(U,H.props),ne.ref=bl(z,U,H),ne.return=z,ne):(ne=Zu(H.type,H.key,H.props,null,z.mode,ne),ne.ref=bl(z,U,H),ne.return=z,ne)}function q(z,U,H,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=om(H,z.mode,ne),U.return=z,U):(U=x(U,H.children||[]),U.return=z,U)}function ee(z,U,H,ne,Se){return U===null||U.tag!==7?(U=Mi(H,z.mode,ne,Se),U.return=z,U):(U=x(U,H),U.return=z,U)}function te(z,U,H){if(typeof U=="string"&&U!==""||typeof U=="number")return U=im(""+U,z.mode,H),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return H=Zu(U.type,U.key,U.props,null,z.mode,H),H.ref=bl(z,null,U),H.return=z,H;case O:return U=om(U,z.mode,H),U.return=z,U;case ce:var ne=U._init;return te(z,ne(U._payload),H)}if($r(U)||B(U))return U=Mi(U,z.mode,H,null),U.return=z,U;Cu(z,U)}return null}function J(z,U,H,ne){var Se=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Se!==null?null:M(z,U,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===Se?L(z,U,H,ne):null;case O:return H.key===Se?q(z,U,H,ne):null;case ce:return Se=H._init,J(z,U,Se(H._payload),ne)}if($r(H)||B(H))return Se!==null?null:ee(z,U,H,ne,null);Cu(z,H)}return null}function fe(z,U,H,ne,Se){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return z=z.get(H)||null,M(U,z,""+ne,Se);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return z=z.get(ne.key===null?H:ne.key)||null,L(U,z,ne,Se);case O:return z=z.get(ne.key===null?H:ne.key)||null,q(U,z,ne,Se);case ce:var Ce=ne._init;return fe(z,U,H,Ce(ne._payload),Se)}if($r(ne)||B(ne))return z=z.get(H)||null,ee(U,z,ne,Se,null);Cu(U,ne)}return null}function ve(z,U,H,ne){for(var Se=null,Ce=null,Ee=U,Ae=U=0,Ot=null;Ee!==null&&Ae<H.length;Ae++){Ee.index>Ae?(Ot=Ee,Ee=null):Ot=Ee.sibling;var Ke=J(z,Ee,H[Ae],ne);if(Ke===null){Ee===null&&(Ee=Ot);break}s&&Ee&&Ke.alternate===null&&a(z,Ee),U=w(Ke,U,Ae),Ce===null?Se=Ke:Ce.sibling=Ke,Ce=Ke,Ee=Ot}if(Ae===H.length)return u(z,Ee),ct&&ji(z,Ae),Se;if(Ee===null){for(;Ae<H.length;Ae++)Ee=te(z,H[Ae],ne),Ee!==null&&(U=w(Ee,U,Ae),Ce===null?Se=Ee:Ce.sibling=Ee,Ce=Ee);return ct&&ji(z,Ae),Se}for(Ee=p(z,Ee);Ae<H.length;Ae++)Ot=fe(Ee,z,Ae,H[Ae],ne),Ot!==null&&(s&&Ot.alternate!==null&&Ee.delete(Ot.key===null?Ae:Ot.key),U=w(Ot,U,Ae),Ce===null?Se=Ot:Ce.sibling=Ot,Ce=Ot);return s&&Ee.forEach(function(Ls){return a(z,Ls)}),ct&&ji(z,Ae),Se}function we(z,U,H,ne){var Se=B(H);if(typeof Se!="function")throw Error(n(150));if(H=Se.call(H),H==null)throw Error(n(151));for(var Ce=Se=null,Ee=U,Ae=U=0,Ot=null,Ke=H.next();Ee!==null&&!Ke.done;Ae++,Ke=H.next()){Ee.index>Ae?(Ot=Ee,Ee=null):Ot=Ee.sibling;var Ls=J(z,Ee,Ke.value,ne);if(Ls===null){Ee===null&&(Ee=Ot);break}s&&Ee&&Ls.alternate===null&&a(z,Ee),U=w(Ls,U,Ae),Ce===null?Se=Ls:Ce.sibling=Ls,Ce=Ls,Ee=Ot}if(Ke.done)return u(z,Ee),ct&&ji(z,Ae),Se;if(Ee===null){for(;!Ke.done;Ae++,Ke=H.next())Ke=te(z,Ke.value,ne),Ke!==null&&(U=w(Ke,U,Ae),Ce===null?Se=Ke:Ce.sibling=Ke,Ce=Ke);return ct&&ji(z,Ae),Se}for(Ee=p(z,Ee);!Ke.done;Ae++,Ke=H.next())Ke=fe(Ee,z,Ae,Ke.value,ne),Ke!==null&&(s&&Ke.alternate!==null&&Ee.delete(Ke.key===null?Ae:Ke.key),U=w(Ke,U,Ae),Ce===null?Se=Ke:Ce.sibling=Ke,Ce=Ke);return s&&Ee.forEach(function(IA){return a(z,IA)}),ct&&ji(z,Ae),Se}function xt(z,U,H,ne){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:e:{for(var Se=H.key,Ce=U;Ce!==null;){if(Ce.key===Se){if(Se=H.type,Se===R){if(Ce.tag===7){u(z,Ce.sibling),U=x(Ce,H.props.children),U.return=z,z=U;break e}}else if(Ce.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ce&&Fx(Se)===Ce.type){u(z,Ce.sibling),U=x(Ce,H.props),U.ref=bl(z,Ce,H),U.return=z,z=U;break e}u(z,Ce);break}else a(z,Ce);Ce=Ce.sibling}H.type===R?(U=Mi(H.props.children,z.mode,ne,H.key),U.return=z,z=U):(ne=Zu(H.type,H.key,H.props,null,z.mode,ne),ne.ref=bl(z,U,H),ne.return=z,z=ne)}return C(z);case O:e:{for(Ce=H.key;U!==null;){if(U.key===Ce)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){u(z,U.sibling),U=x(U,H.children||[]),U.return=z,z=U;break e}else{u(z,U);break}else a(z,U);U=U.sibling}U=om(H,z.mode,ne),U.return=z,z=U}return C(z);case ce:return Ce=H._init,xt(z,U,Ce(H._payload),ne)}if($r(H))return ve(z,U,H,ne);if(B(H))return we(z,U,H,ne);Cu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,U!==null&&U.tag===6?(u(z,U.sibling),U=x(U,H),U.return=z,z=U):(u(z,U),U=im(H,z.mode,ne),U.return=z,z=U),C(z)):u(z,U)}return xt}var Do=$x(!0),Ux=$x(!1),Eu=js(null),Pu=null,Lo=null,mp=null;function gp(){mp=Lo=Pu=null}function yp(s){var a=Eu.current;it(Eu),s._currentValue=a}function vp(s,a,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===u)break;s=s.return}}function Fo(s,a){Pu=s,mp=Lo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(an=!0),s.firstContext=null)}function jn(s){var a=s._currentValue;if(mp!==s)if(s={context:s,memoizedValue:a,next:null},Lo===null){if(Pu===null)throw Error(n(308));Lo=s,Pu.dependencies={lanes:0,firstContext:s}}else Lo=Lo.next=s;return a}var Ci=null;function xp(s){Ci===null?Ci=[s]:Ci.push(s)}function Bx(s,a,u,p){var x=a.interleaved;return x===null?(u.next=u,xp(a)):(u.next=x.next,x.next=u),a.interleaved=u,Wr(s,p)}function Wr(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ps=!1;function wp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vx(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Hr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ts(s,a,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(We&2)!==0){var x=p.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),p.pending=a,Wr(s,u)}return x=p.interleaved,x===null?(a.next=a,xp(p)):(a.next=x.next,x.next=a),p.interleaved=a,Wr(s,u)}function Tu(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,Mf(s,u)}}function zx(s,a){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var x=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?x=w=C:w=w.next=C,u=u.next}while(u!==null);w===null?x=w=a:w=w.next=a}else x=w=a;u={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Ru(s,a,u,p){var x=s.updateQueue;Ps=!1;var w=x.firstBaseUpdate,C=x.lastBaseUpdate,M=x.shared.pending;if(M!==null){x.shared.pending=null;var L=M,q=L.next;L.next=null,C===null?w=q:C.next=q,C=L;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,M=ee.lastBaseUpdate,M!==C&&(M===null?ee.firstBaseUpdate=q:M.next=q,ee.lastBaseUpdate=L))}if(w!==null){var te=x.baseState;C=0,ee=q=L=null,M=w;do{var J=M.lane,fe=M.eventTime;if((p&J)===J){ee!==null&&(ee=ee.next={eventTime:fe,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var ve=s,we=M;switch(J=a,fe=u,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){te=ve.call(fe,te,J);break e}te=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,J=typeof ve=="function"?ve.call(fe,te,J):ve,J==null)break e;te=X({},te,J);break e;case 2:Ps=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,J=x.effects,J===null?x.effects=[M]:J.push(M))}else fe={eventTime:fe,lane:J,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ee===null?(q=ee=fe,L=te):ee=ee.next=fe,C|=J;if(M=M.next,M===null){if(M=x.shared.pending,M===null)break;J=M,M=J.next,J.next=null,x.lastBaseUpdate=J,x.shared.pending=null}}while(!0);if(ee===null&&(L=te),x.baseState=L,x.firstBaseUpdate=q,x.lastBaseUpdate=ee,a=x.shared.interleaved,a!==null){x=a;do C|=x.lane,x=x.next;while(x!==a)}else w===null&&(x.shared.lanes=0);Ti|=C,s.lanes=C,s.memoizedState=te}}function Wx(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],x=p.callback;if(x!==null){if(p.callback=null,p=u,typeof x!="function")throw Error(n(191,x));x.call(p)}}}var Sl={},mr=js(Sl),Nl=js(Sl),kl=js(Sl);function Ei(s){if(s===Sl)throw Error(n(174));return s}function bp(s,a){switch(rt(kl,a),rt(Nl,s),rt(mr,Sl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Sf(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Sf(a,s)}it(mr),rt(mr,a)}function $o(){it(mr),it(Nl),it(kl)}function Hx(s){Ei(kl.current);var a=Ei(mr.current),u=Sf(a,s.type);a!==u&&(rt(Nl,s),rt(mr,u))}function Sp(s){Nl.current===s&&(it(mr),it(Nl))}var ut=js(0);function Au(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Np=[];function kp(){for(var s=0;s<Np.length;s++)Np[s]._workInProgressVersionPrimary=null;Np.length=0}var Iu=P.ReactCurrentDispatcher,_p=P.ReactCurrentBatchConfig,Pi=0,dt=null,jt=null,It=null,Mu=!1,_l=!1,jl=0,tA=0;function Vt(){throw Error(n(321))}function jp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Hn(s[u],a[u]))return!1;return!0}function Cp(s,a,u,p,x,w){if(Pi=w,dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Iu.current=s===null||s.memoizedState===null?iA:oA,s=u(p,x),_l){w=0;do{if(_l=!1,jl=0,25<=w)throw Error(n(301));w+=1,It=jt=null,a.updateQueue=null,Iu.current=aA,s=u(p,x)}while(_l)}if(Iu.current=Lu,a=jt!==null&&jt.next!==null,Pi=0,It=jt=dt=null,Mu=!1,a)throw Error(n(300));return s}function Ep(){var s=jl!==0;return jl=0,s}function gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?dt.memoizedState=It=s:It=It.next=s,It}function Cn(){if(jt===null){var s=dt.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var a=It===null?dt.memoizedState:It.next;if(a!==null)It=a,jt=s;else{if(s===null)throw Error(n(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},It===null?dt.memoizedState=It=s:It=It.next=s}return It}function Cl(s,a){return typeof a=="function"?a(s):a}function Pp(s){var a=Cn(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=jt,x=p.baseQueue,w=u.pending;if(w!==null){if(x!==null){var C=x.next;x.next=w.next,w.next=C}p.baseQueue=x=w,u.pending=null}if(x!==null){w=x.next,p=p.baseState;var M=C=null,L=null,q=w;do{var ee=q.lane;if((Pi&ee)===ee)L!==null&&(L=L.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),p=q.hasEagerState?q.eagerState:s(p,q.action);else{var te={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};L===null?(M=L=te,C=p):L=L.next=te,dt.lanes|=ee,Ti|=ee}q=q.next}while(q!==null&&q!==w);L===null?C=p:L.next=M,Hn(p,a.memoizedState)||(an=!0),a.memoizedState=p,a.baseState=C,a.baseQueue=L,u.lastRenderedState=p}if(s=u.interleaved,s!==null){x=s;do w=x.lane,dt.lanes|=w,Ti|=w,x=x.next;while(x!==s)}else x===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Tp(s){var a=Cn(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=u.dispatch,x=u.pending,w=a.memoizedState;if(x!==null){u.pending=null;var C=x=x.next;do w=s(w,C.action),C=C.next;while(C!==x);Hn(w,a.memoizedState)||(an=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),u.lastRenderedState=w}return[w,p]}function Gx(){}function Kx(s,a){var u=dt,p=Cn(),x=a(),w=!Hn(p.memoizedState,x);if(w&&(p.memoizedState=x,an=!0),p=p.queue,Rp(Qx.bind(null,u,p,s),[s]),p.getSnapshot!==a||w||It!==null&&It.memoizedState.tag&1){if(u.flags|=2048,El(9,Yx.bind(null,u,p,x,a),void 0,null),Mt===null)throw Error(n(349));(Pi&30)!==0||qx(u,a,x)}return x}function qx(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=dt.updateQueue,a===null?(a={lastEffect:null,stores:null},dt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Yx(s,a,u,p){a.value=u,a.getSnapshot=p,Zx(a)&&Xx(s)}function Qx(s,a,u){return u(function(){Zx(a)&&Xx(s)})}function Zx(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Hn(s,u)}catch{return!0}}function Xx(s){var a=Wr(s,1);a!==null&&Qn(a,s,1,-1)}function Jx(s){var a=gr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:s},a.queue=s,s=s.dispatch=sA.bind(null,dt,s),[a.memoizedState,s]}function El(s,a,u,p){return s={tag:s,create:a,destroy:u,deps:p,next:null},a=dt.updateQueue,a===null?(a={lastEffect:null,stores:null},dt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,a.lastEffect=s)),s}function ew(){return Cn().memoizedState}function Ou(s,a,u,p){var x=gr();dt.flags|=s,x.memoizedState=El(1|a,u,void 0,p===void 0?null:p)}function Du(s,a,u,p){var x=Cn();p=p===void 0?null:p;var w=void 0;if(jt!==null){var C=jt.memoizedState;if(w=C.destroy,p!==null&&jp(p,C.deps)){x.memoizedState=El(a,u,w,p);return}}dt.flags|=s,x.memoizedState=El(1|a,u,w,p)}function tw(s,a){return Ou(8390656,8,s,a)}function Rp(s,a){return Du(2048,8,s,a)}function nw(s,a){return Du(4,2,s,a)}function rw(s,a){return Du(4,4,s,a)}function sw(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function iw(s,a,u){return u=u!=null?u.concat([s]):null,Du(4,4,sw.bind(null,a,s),u)}function Ap(){}function ow(s,a){var u=Cn();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&jp(a,p[1])?p[0]:(u.memoizedState=[s,a],s)}function aw(s,a){var u=Cn();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&jp(a,p[1])?p[0]:(s=s(),u.memoizedState=[s,a],s)}function lw(s,a,u){return(Pi&21)===0?(s.baseState&&(s.baseState=!1,an=!0),s.memoizedState=u):(Hn(u,a)||(u=F0(),dt.lanes|=u,Ti|=u,s.baseState=!0),a)}function nA(s,a){var u=et;et=u!==0&&4>u?u:4,s(!0);var p=_p.transition;_p.transition={};try{s(!1),a()}finally{et=u,_p.transition=p}}function cw(){return Cn().memoizedState}function rA(s,a,u){var p=Ms(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},uw(s))dw(a,u);else if(u=Bx(s,a,u,p),u!==null){var x=qt();Qn(u,s,p,x),hw(u,a,p)}}function sA(s,a,u){var p=Ms(s),x={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(uw(s))dw(a,x);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var C=a.lastRenderedState,M=w(C,u);if(x.hasEagerState=!0,x.eagerState=M,Hn(M,C)){var L=a.interleaved;L===null?(x.next=x,xp(a)):(x.next=L.next,L.next=x),a.interleaved=x;return}}catch{}finally{}u=Bx(s,a,x,p),u!==null&&(x=qt(),Qn(u,s,p,x),hw(u,a,p))}}function uw(s){var a=s.alternate;return s===dt||a!==null&&a===dt}function dw(s,a){_l=Mu=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function hw(s,a,u){if((u&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,Mf(s,u)}}var Lu={readContext:jn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},iA={readContext:jn,useCallback:function(s,a){return gr().memoizedState=[s,a===void 0?null:a],s},useContext:jn,useEffect:tw,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Ou(4194308,4,sw.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Ou(4194308,4,s,a)},useInsertionEffect:function(s,a){return Ou(4,2,s,a)},useMemo:function(s,a){var u=gr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var p=gr();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=rA.bind(null,dt,s),[p.memoizedState,s]},useRef:function(s){var a=gr();return s={current:s},a.memoizedState=s},useState:Jx,useDebugValue:Ap,useDeferredValue:function(s){return gr().memoizedState=s},useTransition:function(){var s=Jx(!1),a=s[0];return s=nA.bind(null,s[1]),gr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var p=dt,x=gr();if(ct){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),Mt===null)throw Error(n(349));(Pi&30)!==0||qx(p,a,u)}x.memoizedState=u;var w={value:u,getSnapshot:a};return x.queue=w,tw(Qx.bind(null,p,w,s),[s]),p.flags|=2048,El(9,Yx.bind(null,p,w,u,a),void 0,null),u},useId:function(){var s=gr(),a=Mt.identifierPrefix;if(ct){var u=zr,p=Vr;u=(p&~(1<<32-Wn(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=jl++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=tA++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},oA={readContext:jn,useCallback:ow,useContext:jn,useEffect:Rp,useImperativeHandle:iw,useInsertionEffect:nw,useLayoutEffect:rw,useMemo:aw,useReducer:Pp,useRef:ew,useState:function(){return Pp(Cl)},useDebugValue:Ap,useDeferredValue:function(s){var a=Cn();return lw(a,jt.memoizedState,s)},useTransition:function(){var s=Pp(Cl)[0],a=Cn().memoizedState;return[s,a]},useMutableSource:Gx,useSyncExternalStore:Kx,useId:cw,unstable_isNewReconciler:!1},aA={readContext:jn,useCallback:ow,useContext:jn,useEffect:Rp,useImperativeHandle:iw,useInsertionEffect:nw,useLayoutEffect:rw,useMemo:aw,useReducer:Tp,useRef:ew,useState:function(){return Tp(Cl)},useDebugValue:Ap,useDeferredValue:function(s){var a=Cn();return jt===null?a.memoizedState=s:lw(a,jt.memoizedState,s)},useTransition:function(){var s=Tp(Cl)[0],a=Cn().memoizedState;return[s,a]},useMutableSource:Gx,useSyncExternalStore:Kx,useId:cw,unstable_isNewReconciler:!1};function Kn(s,a){if(s&&s.defaultProps){a=X({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Ip(s,a,u,p){a=s.memoizedState,u=u(p,a),u=u==null?a:X({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Fu={isMounted:function(s){return(s=s._reactInternals)?Si(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var p=qt(),x=Ms(s),w=Hr(p,x);w.payload=a,u!=null&&(w.callback=u),a=Ts(s,w,x),a!==null&&(Qn(a,s,x,p),Tu(a,s,x))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var p=qt(),x=Ms(s),w=Hr(p,x);w.tag=1,w.payload=a,u!=null&&(w.callback=u),a=Ts(s,w,x),a!==null&&(Qn(a,s,x,p),Tu(a,s,x))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=qt(),p=Ms(s),x=Hr(u,p);x.tag=2,a!=null&&(x.callback=a),a=Ts(s,x,p),a!==null&&(Qn(a,s,p,u),Tu(a,s,p))}};function fw(s,a,u,p,x,w,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,C):a.prototype&&a.prototype.isPureReactComponent?!pl(u,p)||!pl(x,w):!0}function pw(s,a,u){var p=!1,x=Cs,w=a.contextType;return typeof w=="object"&&w!==null?w=jn(w):(x=on(a)?ki:Bt.current,p=a.contextTypes,w=(p=p!=null)?Ao(s,x):Cs),a=new a(u,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Fu,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=w),a}function mw(s,a,u,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==s&&Fu.enqueueReplaceState(a,a.state,null)}function Mp(s,a,u,p){var x=s.stateNode;x.props=u,x.state=s.memoizedState,x.refs={},wp(s);var w=a.contextType;typeof w=="object"&&w!==null?x.context=jn(w):(w=on(a)?ki:Bt.current,x.context=Ao(s,w)),x.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Ip(s,a,w,u),x.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&Fu.enqueueReplaceState(x,x.state,null),Ru(s,u,x,p),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Uo(s,a){try{var u="",p=a;do u+=Re(p),p=p.return;while(p);var x=u}catch(w){x=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:x,digest:null}}function Op(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Dp(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var lA=typeof WeakMap=="function"?WeakMap:Map;function gw(s,a,u){u=Hr(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){Hu||(Hu=!0,Zp=p),Dp(s,a)},u}function yw(s,a,u){u=Hr(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var x=a.value;u.payload=function(){return p(x)},u.callback=function(){Dp(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Dp(s,a),typeof p!="function"&&(As===null?As=new Set([this]):As.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),u}function vw(s,a,u){var p=s.pingCache;if(p===null){p=s.pingCache=new lA;var x=new Set;p.set(a,x)}else x=p.get(a),x===void 0&&(x=new Set,p.set(a,x));x.has(u)||(x.add(u),s=SA.bind(null,s,a,u),a.then(s,s))}function xw(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function ww(s,a,u,p,x){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Hr(-1,1),a.tag=2,Ts(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var cA=P.ReactCurrentOwner,an=!1;function Kt(s,a,u,p){a.child=s===null?Ux(a,null,u,p):Do(a,s.child,u,p)}function bw(s,a,u,p,x){u=u.render;var w=a.ref;return Fo(a,x),p=Cp(s,a,u,p,w,x),u=Ep(),s!==null&&!an?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Gr(s,a,x)):(ct&&u&&up(a),a.flags|=1,Kt(s,a,p,x),a.child)}function Sw(s,a,u,p,x){if(s===null){var w=u.type;return typeof w=="function"&&!sm(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=w,Nw(s,a,w,p,x)):(s=Zu(u.type,null,p,a,a.mode,x),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,(s.lanes&x)===0){var C=w.memoizedProps;if(u=u.compare,u=u!==null?u:pl,u(C,p)&&s.ref===a.ref)return Gr(s,a,x)}return a.flags|=1,s=Ds(w,p),s.ref=a.ref,s.return=a,a.child=s}function Nw(s,a,u,p,x){if(s!==null){var w=s.memoizedProps;if(pl(w,p)&&s.ref===a.ref)if(an=!1,a.pendingProps=p=w,(s.lanes&x)!==0)(s.flags&131072)!==0&&(an=!0);else return a.lanes=s.lanes,Gr(s,a,x)}return Lp(s,a,u,p,x)}function kw(s,a,u){var p=a.pendingProps,x=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Vo,yn),yn|=u;else{if((u&1073741824)===0)return s=w!==null?w.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,rt(Vo,yn),yn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:u,rt(Vo,yn),yn|=p}else w!==null?(p=w.baseLanes|u,a.memoizedState=null):p=u,rt(Vo,yn),yn|=p;return Kt(s,a,x,u),a.child}function _w(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Lp(s,a,u,p,x){var w=on(u)?ki:Bt.current;return w=Ao(a,w),Fo(a,x),u=Cp(s,a,u,p,w,x),p=Ep(),s!==null&&!an?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Gr(s,a,x)):(ct&&p&&up(a),a.flags|=1,Kt(s,a,u,x),a.child)}function jw(s,a,u,p,x){if(on(u)){var w=!0;Su(a)}else w=!1;if(Fo(a,x),a.stateNode===null)Uu(s,a),pw(a,u,p),Mp(a,u,p,x),p=!0;else if(s===null){var C=a.stateNode,M=a.memoizedProps;C.props=M;var L=C.context,q=u.contextType;typeof q=="object"&&q!==null?q=jn(q):(q=on(u)?ki:Bt.current,q=Ao(a,q));var ee=u.getDerivedStateFromProps,te=typeof ee=="function"||typeof C.getSnapshotBeforeUpdate=="function";te||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(M!==p||L!==q)&&mw(a,C,p,q),Ps=!1;var J=a.memoizedState;C.state=J,Ru(a,p,C,x),L=a.memoizedState,M!==p||J!==L||sn.current||Ps?(typeof ee=="function"&&(Ip(a,u,ee,p),L=a.memoizedState),(M=Ps||fw(a,u,M,p,J,L,q))?(te||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=L),C.props=p,C.state=L,C.context=q,p=M):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{C=a.stateNode,Vx(s,a),M=a.memoizedProps,q=a.type===a.elementType?M:Kn(a.type,M),C.props=q,te=a.pendingProps,J=C.context,L=u.contextType,typeof L=="object"&&L!==null?L=jn(L):(L=on(u)?ki:Bt.current,L=Ao(a,L));var fe=u.getDerivedStateFromProps;(ee=typeof fe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(M!==te||J!==L)&&mw(a,C,p,L),Ps=!1,J=a.memoizedState,C.state=J,Ru(a,p,C,x);var ve=a.memoizedState;M!==te||J!==ve||sn.current||Ps?(typeof fe=="function"&&(Ip(a,u,fe,p),ve=a.memoizedState),(q=Ps||fw(a,u,q,p,J,ve,L)||!1)?(ee||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,ve,L),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,ve,L)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||M===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=ve),C.props=p,C.state=ve,C.context=L,p=q):(typeof C.componentDidUpdate!="function"||M===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),p=!1)}return Fp(s,a,u,p,w,x)}function Fp(s,a,u,p,x,w){_w(s,a);var C=(a.flags&128)!==0;if(!p&&!C)return x&&Rx(a,u,!1),Gr(s,a,w);p=a.stateNode,cA.current=a;var M=C&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&C?(a.child=Do(a,s.child,null,w),a.child=Do(a,null,M,w)):Kt(s,a,M,w),a.memoizedState=p.state,x&&Rx(a,u,!0),a.child}function Cw(s){var a=s.stateNode;a.pendingContext?Px(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Px(s,a.context,!1),bp(s,a.containerInfo)}function Ew(s,a,u,p,x){return Oo(),pp(x),a.flags|=256,Kt(s,a,u,p),a.child}var $p={dehydrated:null,treeContext:null,retryLane:0};function Up(s){return{baseLanes:s,cachePool:null,transitions:null}}function Pw(s,a,u){var p=a.pendingProps,x=ut.current,w=!1,C=(a.flags&128)!==0,M;if((M=C)||(M=s!==null&&s.memoizedState===null?!1:(x&2)!==0),M?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),rt(ut,x&1),s===null)return fp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=p.children,s=p.fallback,w?(p=a.mode,w=a.child,C={mode:"hidden",children:C},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=C):w=Xu(C,p,0,null),s=Mi(s,p,u,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=Up(u),a.memoizedState=$p,s):Bp(a,C));if(x=s.memoizedState,x!==null&&(M=x.dehydrated,M!==null))return uA(s,a,C,p,M,x,u);if(w){w=p.fallback,C=a.mode,x=s.child,M=x.sibling;var L={mode:"hidden",children:p.children};return(C&1)===0&&a.child!==x?(p=a.child,p.childLanes=0,p.pendingProps=L,a.deletions=null):(p=Ds(x,L),p.subtreeFlags=x.subtreeFlags&14680064),M!==null?w=Ds(M,w):(w=Mi(w,C,u,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,C=s.child.memoizedState,C=C===null?Up(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},w.memoizedState=C,w.childLanes=s.childLanes&~u,a.memoizedState=$p,p}return w=s.child,s=w.sibling,p=Ds(w,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=p,a.memoizedState=null,p}function Bp(s,a){return a=Xu({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function $u(s,a,u,p){return p!==null&&pp(p),Do(a,s.child,null,u),s=Bp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function uA(s,a,u,p,x,w,C){if(u)return a.flags&256?(a.flags&=-257,p=Op(Error(n(422))),$u(s,a,C,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=p.fallback,x=a.mode,p=Xu({mode:"visible",children:p.children},x,0,null),w=Mi(w,x,C,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,(a.mode&1)!==0&&Do(a,s.child,null,C),a.child.memoizedState=Up(C),a.memoizedState=$p,w);if((a.mode&1)===0)return $u(s,a,C,null);if(x.data==="$!"){if(p=x.nextSibling&&x.nextSibling.dataset,p)var M=p.dgst;return p=M,w=Error(n(419)),p=Op(w,p,void 0),$u(s,a,C,p)}if(M=(C&s.childLanes)!==0,an||M){if(p=Mt,p!==null){switch(C&-C){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(p.suspendedLanes|C))!==0?0:x,x!==0&&x!==w.retryLane&&(w.retryLane=x,Wr(s,x),Qn(p,s,x,-1))}return rm(),p=Op(Error(n(421))),$u(s,a,C,p)}return x.data==="$?"?(a.flags|=128,a.child=s.child,a=NA.bind(null,s),x._reactRetry=a,null):(s=w.treeContext,gn=_s(x.nextSibling),mn=a,ct=!0,Gn=null,s!==null&&(kn[_n++]=Vr,kn[_n++]=zr,kn[_n++]=_i,Vr=s.id,zr=s.overflow,_i=a),a=Bp(a,p.children),a.flags|=4096,a)}function Tw(s,a,u){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),vp(s.return,a,u)}function Vp(s,a,u,p,x){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:x}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=x)}function Rw(s,a,u){var p=a.pendingProps,x=p.revealOrder,w=p.tail;if(Kt(s,a,p.children,u),p=ut.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Tw(s,u,a);else if(s.tag===19)Tw(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(rt(ut,p),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(u=a.child,x=null;u!==null;)s=u.alternate,s!==null&&Au(s)===null&&(x=u),u=u.sibling;u=x,u===null?(x=a.child,a.child=null):(x=u.sibling,u.sibling=null),Vp(a,!1,x,u,w);break;case"backwards":for(u=null,x=a.child,a.child=null;x!==null;){if(s=x.alternate,s!==null&&Au(s)===null){a.child=x;break}s=x.sibling,x.sibling=u,u=x,x=s}Vp(a,!0,u,null,w);break;case"together":Vp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Uu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Gr(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Ti|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,u=Ds(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Ds(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function dA(s,a,u){switch(a.tag){case 3:Cw(a),Oo();break;case 5:Hx(a);break;case 1:on(a.type)&&Su(a);break;case 4:bp(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,x=a.memoizedProps.value;rt(Eu,p._currentValue),p._currentValue=x;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(rt(ut,ut.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Pw(s,a,u):(rt(ut,ut.current&1),s=Gr(s,a,u),s!==null?s.sibling:null);rt(ut,ut.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(s.flags&128)!==0){if(p)return Rw(s,a,u);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),rt(ut,ut.current),p)break;return null;case 22:case 23:return a.lanes=0,kw(s,a,u)}return Gr(s,a,u)}var Aw,zp,Iw,Mw;Aw=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},zp=function(){},Iw=function(s,a,u,p){var x=s.memoizedProps;if(x!==p){s=a.stateNode,Ei(mr.current);var w=null;switch(u){case"input":x=zn(s,x),p=zn(s,p),w=[];break;case"select":x=X({},x,{value:void 0}),p=X({},p,{value:void 0}),w=[];break;case"textarea":x=wo(s,x),p=wo(s,p),w=[];break;default:typeof x.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=xu)}Nf(u,p);var C;u=null;for(q in x)if(!p.hasOwnProperty(q)&&x.hasOwnProperty(q)&&x[q]!=null)if(q==="style"){var M=x[q];for(C in M)M.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?w||(w=[]):(w=w||[]).push(q,null));for(q in p){var L=p[q];if(M=x!=null?x[q]:void 0,p.hasOwnProperty(q)&&L!==M&&(L!=null||M!=null))if(q==="style")if(M){for(C in M)!M.hasOwnProperty(C)||L&&L.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in L)L.hasOwnProperty(C)&&M[C]!==L[C]&&(u||(u={}),u[C]=L[C])}else u||(w||(w=[]),w.push(q,u)),u=L;else q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,M=M?M.__html:void 0,L!=null&&M!==L&&(w=w||[]).push(q,L)):q==="children"?typeof L!="string"&&typeof L!="number"||(w=w||[]).push(q,""+L):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(i.hasOwnProperty(q)?(L!=null&&q==="onScroll"&&st("scroll",s),w||M===L||(w=[])):(w=w||[]).push(q,L))}u&&(w=w||[]).push("style",u);var q=w;(a.updateQueue=q)&&(a.flags|=4)}},Mw=function(s,a,u,p){u!==p&&(a.flags|=4)};function Pl(s,a){if(!ct)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function zt(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(a)for(var x=s.child;x!==null;)u|=x.lanes|x.childLanes,p|=x.subtreeFlags&14680064,p|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)u|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=p,s.childLanes=u,a}function hA(s,a,u){var p=a.pendingProps;switch(dp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(a),null;case 1:return on(a.type)&&bu(),zt(a),null;case 3:return p=a.stateNode,$o(),it(sn),it(Bt),kp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(ju(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Gn!==null&&(em(Gn),Gn=null))),zp(s,a),zt(a),null;case 5:Sp(a);var x=Ei(kl.current);if(u=a.type,s!==null&&a.stateNode!=null)Iw(s,a,u,p,x),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return zt(a),null}if(s=Ei(mr.current),ju(a)){p=a.stateNode,u=a.type;var w=a.memoizedProps;switch(p[pr]=a,p[xl]=w,s=(a.mode&1)!==0,u){case"dialog":st("cancel",p),st("close",p);break;case"iframe":case"object":case"embed":st("load",p);break;case"video":case"audio":for(x=0;x<gl.length;x++)st(gl[x],p);break;case"source":st("error",p);break;case"img":case"image":case"link":st("error",p),st("load",p);break;case"details":st("toggle",p);break;case"input":Fr(p,w),st("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},st("invalid",p);break;case"textarea":y0(p,w),st("invalid",p)}Nf(u,w),x=null;for(var C in w)if(w.hasOwnProperty(C)){var M=w[C];C==="children"?typeof M=="string"?p.textContent!==M&&(w.suppressHydrationWarning!==!0&&vu(p.textContent,M,s),x=["children",M]):typeof M=="number"&&p.textContent!==""+M&&(w.suppressHydrationWarning!==!0&&vu(p.textContent,M,s),x=["children",""+M]):i.hasOwnProperty(C)&&M!=null&&C==="onScroll"&&st("scroll",p)}switch(u){case"input":rn(p),Qa(p,w,!0);break;case"textarea":rn(p),x0(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=xu)}p=x,a.updateQueue=p,p!==null&&(a.flags|=4)}else{C=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=w0(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=C.createElement(u,{is:p.is}):(s=C.createElement(u),u==="select"&&(C=s,p.multiple?C.multiple=!0:p.size&&(C.size=p.size))):s=C.createElementNS(s,u),s[pr]=a,s[xl]=p,Aw(s,a,!1,!1),a.stateNode=s;e:{switch(C=kf(u,p),u){case"dialog":st("cancel",s),st("close",s),x=p;break;case"iframe":case"object":case"embed":st("load",s),x=p;break;case"video":case"audio":for(x=0;x<gl.length;x++)st(gl[x],s);x=p;break;case"source":st("error",s),x=p;break;case"img":case"image":case"link":st("error",s),st("load",s),x=p;break;case"details":st("toggle",s),x=p;break;case"input":Fr(s,p),x=zn(s,p),st("invalid",s);break;case"option":x=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},x=X({},p,{value:void 0}),st("invalid",s);break;case"textarea":y0(s,p),x=wo(s,p),st("invalid",s);break;default:x=p}Nf(u,x),M=x;for(w in M)if(M.hasOwnProperty(w)){var L=M[w];w==="style"?N0(s,L):w==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&b0(s,L)):w==="children"?typeof L=="string"?(u!=="textarea"||L!=="")&&Za(s,L):typeof L=="number"&&Za(s,""+L):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?L!=null&&w==="onScroll"&&st("scroll",s):L!=null&&j(s,w,L,C))}switch(u){case"input":rn(s),Qa(s,p,!1);break;case"textarea":rn(s),x0(s);break;case"option":p.value!=null&&s.setAttribute("value",""+ae(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?vs(s,!!p.multiple,w,!1):p.defaultValue!=null&&vs(s,!!p.multiple,p.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=xu)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return zt(a),null;case 6:if(s&&a.stateNode!=null)Mw(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(u=Ei(kl.current),Ei(mr.current),ju(a)){if(p=a.stateNode,u=a.memoizedProps,p[pr]=a,(w=p.nodeValue!==u)&&(s=mn,s!==null))switch(s.tag){case 3:vu(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&vu(p.nodeValue,u,(s.mode&1)!==0)}w&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[pr]=a,a.stateNode=p}return zt(a),null;case 13:if(it(ut),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&gn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Lx(),Oo(),a.flags|=98560,w=!1;else if(w=ju(a),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[pr]=a}else Oo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;zt(a),w=!1}else Gn!==null&&(em(Gn),Gn=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ut.current&1)!==0?Ct===0&&(Ct=3):rm())),a.updateQueue!==null&&(a.flags|=4),zt(a),null);case 4:return $o(),zp(s,a),s===null&&yl(a.stateNode.containerInfo),zt(a),null;case 10:return yp(a.type._context),zt(a),null;case 17:return on(a.type)&&bu(),zt(a),null;case 19:if(it(ut),w=a.memoizedState,w===null)return zt(a),null;if(p=(a.flags&128)!==0,C=w.rendering,C===null)if(p)Pl(w,!1);else{if(Ct!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(C=Au(s),C!==null){for(a.flags|=128,Pl(w,!1),p=C.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)w=u,s=p,w.flags&=14680066,C=w.alternate,C===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=C.childLanes,w.lanes=C.lanes,w.child=C.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=C.memoizedProps,w.memoizedState=C.memoizedState,w.updateQueue=C.updateQueue,w.type=C.type,s=C.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return rt(ut,ut.current&1|2),a.child}s=s.sibling}w.tail!==null&&vt()>zo&&(a.flags|=128,p=!0,Pl(w,!1),a.lanes=4194304)}else{if(!p)if(s=Au(C),s!==null){if(a.flags|=128,p=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Pl(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!ct)return zt(a),null}else 2*vt()-w.renderingStartTime>zo&&u!==1073741824&&(a.flags|=128,p=!0,Pl(w,!1),a.lanes=4194304);w.isBackwards?(C.sibling=a.child,a.child=C):(u=w.last,u!==null?u.sibling=C:a.child=C,w.last=C)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=vt(),a.sibling=null,u=ut.current,rt(ut,p?u&1|2:u&1),a):(zt(a),null);case 22:case 23:return nm(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(yn&1073741824)!==0&&(zt(a),a.subtreeFlags&6&&(a.flags|=8192)):zt(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function fA(s,a){switch(dp(a),a.tag){case 1:return on(a.type)&&bu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return $o(),it(sn),it(Bt),kp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Sp(a),null;case 13:if(it(ut),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Oo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return it(ut),null;case 4:return $o(),null;case 10:return yp(a.type._context),null;case 22:case 23:return nm(),null;case 24:return null;default:return null}}var Bu=!1,Wt=!1,pA=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Bo(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){pt(s,a,p)}else u.current=null}function Wp(s,a,u){try{u()}catch(p){pt(s,a,p)}}var Ow=!1;function mA(s,a){if(np=au,s=fx(),qf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var x=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var C=0,M=-1,L=-1,q=0,ee=0,te=s,J=null;t:for(;;){for(var fe;te!==u||x!==0&&te.nodeType!==3||(M=C+x),te!==w||p!==0&&te.nodeType!==3||(L=C+p),te.nodeType===3&&(C+=te.nodeValue.length),(fe=te.firstChild)!==null;)J=te,te=fe;for(;;){if(te===s)break t;if(J===u&&++q===x&&(M=C),J===w&&++ee===p&&(L=C),(fe=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=fe}u=M===-1||L===-1?null:{start:M,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(rp={focusedElem:s,selectionRange:u},au=!1,ge=a;ge!==null;)if(a=ge,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ge=s;else for(;ge!==null;){a=ge;try{var ve=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,xt=ve.memoizedState,z=a.stateNode,U=z.getSnapshotBeforeUpdate(a.elementType===a.type?we:Kn(a.type,we),xt);z.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var H=a.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ne){pt(a,a.return,ne)}if(s=a.sibling,s!==null){s.return=a.return,ge=s;break}ge=a.return}return ve=Ow,Ow=!1,ve}function Tl(s,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&s)===s){var w=x.destroy;x.destroy=void 0,w!==void 0&&Wp(a,u,w)}x=x.next}while(x!==p)}}function Vu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function Hp(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function Dw(s){var a=s.alternate;a!==null&&(s.alternate=null,Dw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[pr],delete a[xl],delete a[ap],delete a[ZR],delete a[XR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Lw(s){return s.tag===5||s.tag===3||s.tag===4}function Fw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Lw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Gp(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=xu));else if(p!==4&&(s=s.child,s!==null))for(Gp(s,a,u),s=s.sibling;s!==null;)Gp(s,a,u),s=s.sibling}function Kp(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Kp(s,a,u),s=s.sibling;s!==null;)Kp(s,a,u),s=s.sibling}var Ft=null,qn=!1;function Rs(s,a,u){for(u=u.child;u!==null;)$w(s,a,u),u=u.sibling}function $w(s,a,u){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(tu,u)}catch{}switch(u.tag){case 5:Wt||Bo(u,a);case 6:var p=Ft,x=qn;Ft=null,Rs(s,a,u),Ft=p,qn=x,Ft!==null&&(qn?(s=Ft,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Ft.removeChild(u.stateNode));break;case 18:Ft!==null&&(qn?(s=Ft,u=u.stateNode,s.nodeType===8?op(s.parentNode,u):s.nodeType===1&&op(s,u),ll(s)):op(Ft,u.stateNode));break;case 4:p=Ft,x=qn,Ft=u.stateNode.containerInfo,qn=!0,Rs(s,a,u),Ft=p,qn=x;break;case 0:case 11:case 14:case 15:if(!Wt&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){x=p=p.next;do{var w=x,C=w.destroy;w=w.tag,C!==void 0&&((w&2)!==0||(w&4)!==0)&&Wp(u,a,C),x=x.next}while(x!==p)}Rs(s,a,u);break;case 1:if(!Wt&&(Bo(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(M){pt(u,a,M)}Rs(s,a,u);break;case 21:Rs(s,a,u);break;case 22:u.mode&1?(Wt=(p=Wt)||u.memoizedState!==null,Rs(s,a,u),Wt=p):Rs(s,a,u);break;default:Rs(s,a,u)}}function Uw(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new pA),a.forEach(function(p){var x=kA.bind(null,s,p);u.has(p)||(u.add(p),p.then(x,x))})}}function Yn(s,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var x=u[p];try{var w=s,C=a,M=C;e:for(;M!==null;){switch(M.tag){case 5:Ft=M.stateNode,qn=!1;break e;case 3:Ft=M.stateNode.containerInfo,qn=!0;break e;case 4:Ft=M.stateNode.containerInfo,qn=!0;break e}M=M.return}if(Ft===null)throw Error(n(160));$w(w,C,x),Ft=null,qn=!1;var L=x.alternate;L!==null&&(L.return=null),x.return=null}catch(q){pt(x,a,q)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Bw(a,s),a=a.sibling}function Bw(s,a){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Yn(a,s),yr(s),p&4){try{Tl(3,s,s.return),Vu(3,s)}catch(we){pt(s,s.return,we)}try{Tl(5,s,s.return)}catch(we){pt(s,s.return,we)}}break;case 1:Yn(a,s),yr(s),p&512&&u!==null&&Bo(u,u.return);break;case 5:if(Yn(a,s),yr(s),p&512&&u!==null&&Bo(u,u.return),s.flags&32){var x=s.stateNode;try{Za(x,"")}catch(we){pt(s,s.return,we)}}if(p&4&&(x=s.stateNode,x!=null)){var w=s.memoizedProps,C=u!==null?u.memoizedProps:w,M=s.type,L=s.updateQueue;if(s.updateQueue=null,L!==null)try{M==="input"&&w.type==="radio"&&w.name!=null&&xo(x,w),kf(M,C);var q=kf(M,w);for(C=0;C<L.length;C+=2){var ee=L[C],te=L[C+1];ee==="style"?N0(x,te):ee==="dangerouslySetInnerHTML"?b0(x,te):ee==="children"?Za(x,te):j(x,ee,te,q)}switch(M){case"input":ys(x,w);break;case"textarea":v0(x,w);break;case"select":var J=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?vs(x,!!w.multiple,fe,!1):J!==!!w.multiple&&(w.defaultValue!=null?vs(x,!!w.multiple,w.defaultValue,!0):vs(x,!!w.multiple,w.multiple?[]:"",!1))}x[xl]=w}catch(we){pt(s,s.return,we)}}break;case 6:if(Yn(a,s),yr(s),p&4){if(s.stateNode===null)throw Error(n(162));x=s.stateNode,w=s.memoizedProps;try{x.nodeValue=w}catch(we){pt(s,s.return,we)}}break;case 3:if(Yn(a,s),yr(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{ll(a.containerInfo)}catch(we){pt(s,s.return,we)}break;case 4:Yn(a,s),yr(s);break;case 13:Yn(a,s),yr(s),x=s.child,x.flags&8192&&(w=x.memoizedState!==null,x.stateNode.isHidden=w,!w||x.alternate!==null&&x.alternate.memoizedState!==null||(Qp=vt())),p&4&&Uw(s);break;case 22:if(ee=u!==null&&u.memoizedState!==null,s.mode&1?(Wt=(q=Wt)||ee,Yn(a,s),Wt=q):Yn(a,s),yr(s),p&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!ee&&(s.mode&1)!==0)for(ge=s,ee=s.child;ee!==null;){for(te=ge=ee;ge!==null;){switch(J=ge,fe=J.child,J.tag){case 0:case 11:case 14:case 15:Tl(4,J,J.return);break;case 1:Bo(J,J.return);var ve=J.stateNode;if(typeof ve.componentWillUnmount=="function"){p=J,u=J.return;try{a=p,ve.props=a.memoizedProps,ve.state=a.memoizedState,ve.componentWillUnmount()}catch(we){pt(p,u,we)}}break;case 5:Bo(J,J.return);break;case 22:if(J.memoizedState!==null){Ww(te);continue}}fe!==null?(fe.return=J,ge=fe):Ww(te)}ee=ee.sibling}e:for(ee=null,te=s;;){if(te.tag===5){if(ee===null){ee=te;try{x=te.stateNode,q?(w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(M=te.stateNode,L=te.memoizedProps.style,C=L!=null&&L.hasOwnProperty("display")?L.display:null,M.style.display=S0("display",C))}catch(we){pt(s,s.return,we)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(we){pt(s,s.return,we)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===s)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===s)break e;for(;te.sibling===null;){if(te.return===null||te.return===s)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Yn(a,s),yr(s),p&4&&Uw(s);break;case 21:break;default:Yn(a,s),yr(s)}}function yr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(Lw(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var x=p.stateNode;p.flags&32&&(Za(x,""),p.flags&=-33);var w=Fw(s);Kp(s,w,x);break;case 3:case 4:var C=p.stateNode.containerInfo,M=Fw(s);Gp(s,M,C);break;default:throw Error(n(161))}}catch(L){pt(s,s.return,L)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function gA(s,a,u){ge=s,Vw(s)}function Vw(s,a,u){for(var p=(s.mode&1)!==0;ge!==null;){var x=ge,w=x.child;if(x.tag===22&&p){var C=x.memoizedState!==null||Bu;if(!C){var M=x.alternate,L=M!==null&&M.memoizedState!==null||Wt;M=Bu;var q=Wt;if(Bu=C,(Wt=L)&&!q)for(ge=x;ge!==null;)C=ge,L=C.child,C.tag===22&&C.memoizedState!==null?Hw(x):L!==null?(L.return=C,ge=L):Hw(x);for(;w!==null;)ge=w,Vw(w),w=w.sibling;ge=x,Bu=M,Wt=q}zw(s)}else(x.subtreeFlags&8772)!==0&&w!==null?(w.return=x,ge=w):zw(s)}}function zw(s){for(;ge!==null;){var a=ge;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Wt||Vu(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Wt)if(u===null)p.componentDidMount();else{var x=a.elementType===a.type?u.memoizedProps:Kn(a.type,u.memoizedProps);p.componentDidUpdate(x,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&Wx(a,w,p);break;case 3:var C=a.updateQueue;if(C!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Wx(a,C,u)}break;case 5:var M=a.stateNode;if(u===null&&a.flags&4){u=M;var L=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&u.focus();break;case"img":L.src&&(u.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var q=a.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&ll(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Wt||a.flags&512&&Hp(a)}catch(J){pt(a,a.return,J)}}if(a===s){ge=null;break}if(u=a.sibling,u!==null){u.return=a.return,ge=u;break}ge=a.return}}function Ww(s){for(;ge!==null;){var a=ge;if(a===s){ge=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ge=u;break}ge=a.return}}function Hw(s){for(;ge!==null;){var a=ge;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Vu(4,a)}catch(L){pt(a,u,L)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var x=a.return;try{p.componentDidMount()}catch(L){pt(a,x,L)}}var w=a.return;try{Hp(a)}catch(L){pt(a,w,L)}break;case 5:var C=a.return;try{Hp(a)}catch(L){pt(a,C,L)}}}catch(L){pt(a,a.return,L)}if(a===s){ge=null;break}var M=a.sibling;if(M!==null){M.return=a.return,ge=M;break}ge=a.return}}var yA=Math.ceil,zu=P.ReactCurrentDispatcher,qp=P.ReactCurrentOwner,En=P.ReactCurrentBatchConfig,We=0,Mt=null,St=null,$t=0,yn=0,Vo=js(0),Ct=0,Rl=null,Ti=0,Wu=0,Yp=0,Al=null,ln=null,Qp=0,zo=1/0,Kr=null,Hu=!1,Zp=null,As=null,Gu=!1,Is=null,Ku=0,Il=0,Xp=null,qu=-1,Yu=0;function qt(){return(We&6)!==0?vt():qu!==-1?qu:qu=vt()}function Ms(s){return(s.mode&1)===0?1:(We&2)!==0&&$t!==0?$t&-$t:eA.transition!==null?(Yu===0&&(Yu=F0()),Yu):(s=et,s!==0||(s=window.event,s=s===void 0?16:K0(s.type)),s)}function Qn(s,a,u,p){if(50<Il)throw Il=0,Xp=null,Error(n(185));rl(s,u,p),((We&2)===0||s!==Mt)&&(s===Mt&&((We&2)===0&&(Wu|=u),Ct===4&&Os(s,$t)),cn(s,p),u===1&&We===0&&(a.mode&1)===0&&(zo=vt()+500,Nu&&Es()))}function cn(s,a){var u=s.callbackNode;eR(s,a);var p=su(s,s===Mt?$t:0);if(p===0)u!==null&&O0(u),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(u!=null&&O0(u),a===1)s.tag===0?JR(Kw.bind(null,s)):Ax(Kw.bind(null,s)),YR(function(){(We&6)===0&&Es()}),u=null;else{switch($0(p)){case 1:u=Rf;break;case 4:u=D0;break;case 16:u=eu;break;case 536870912:u=L0;break;default:u=eu}u=tb(u,Gw.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function Gw(s,a){if(qu=-1,Yu=0,(We&6)!==0)throw Error(n(327));var u=s.callbackNode;if(Wo()&&s.callbackNode!==u)return null;var p=su(s,s===Mt?$t:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=Qu(s,p);else{a=p;var x=We;We|=2;var w=Yw();(Mt!==s||$t!==a)&&(Kr=null,zo=vt()+500,Ai(s,a));do try{wA();break}catch(M){qw(s,M)}while(!0);gp(),zu.current=w,We=x,St!==null?a=0:(Mt=null,$t=0,a=Ct)}if(a!==0){if(a===2&&(x=Af(s),x!==0&&(p=x,a=Jp(s,x))),a===1)throw u=Rl,Ai(s,0),Os(s,p),cn(s,vt()),u;if(a===6)Os(s,p);else{if(x=s.current.alternate,(p&30)===0&&!vA(x)&&(a=Qu(s,p),a===2&&(w=Af(s),w!==0&&(p=w,a=Jp(s,w))),a===1))throw u=Rl,Ai(s,0),Os(s,p),cn(s,vt()),u;switch(s.finishedWork=x,s.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:Ii(s,ln,Kr);break;case 3:if(Os(s,p),(p&130023424)===p&&(a=Qp+500-vt(),10<a)){if(su(s,0)!==0)break;if(x=s.suspendedLanes,(x&p)!==p){qt(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=ip(Ii.bind(null,s,ln,Kr),a);break}Ii(s,ln,Kr);break;case 4:if(Os(s,p),(p&4194240)===p)break;for(a=s.eventTimes,x=-1;0<p;){var C=31-Wn(p);w=1<<C,C=a[C],C>x&&(x=C),p&=~w}if(p=x,p=vt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*yA(p/1960))-p,10<p){s.timeoutHandle=ip(Ii.bind(null,s,ln,Kr),p);break}Ii(s,ln,Kr);break;case 5:Ii(s,ln,Kr);break;default:throw Error(n(329))}}}return cn(s,vt()),s.callbackNode===u?Gw.bind(null,s):null}function Jp(s,a){var u=Al;return s.current.memoizedState.isDehydrated&&(Ai(s,a).flags|=256),s=Qu(s,a),s!==2&&(a=ln,ln=u,a!==null&&em(a)),s}function em(s){ln===null?ln=s:ln.push.apply(ln,s)}function vA(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var x=u[p],w=x.getSnapshot;x=x.value;try{if(!Hn(w(),x))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Os(s,a){for(a&=~Yp,a&=~Wu,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-Wn(a),p=1<<u;s[u]=-1,a&=~p}}function Kw(s){if((We&6)!==0)throw Error(n(327));Wo();var a=su(s,0);if((a&1)===0)return cn(s,vt()),null;var u=Qu(s,a);if(s.tag!==0&&u===2){var p=Af(s);p!==0&&(a=p,u=Jp(s,p))}if(u===1)throw u=Rl,Ai(s,0),Os(s,a),cn(s,vt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ii(s,ln,Kr),cn(s,vt()),null}function tm(s,a){var u=We;We|=1;try{return s(a)}finally{We=u,We===0&&(zo=vt()+500,Nu&&Es())}}function Ri(s){Is!==null&&Is.tag===0&&(We&6)===0&&Wo();var a=We;We|=1;var u=En.transition,p=et;try{if(En.transition=null,et=1,s)return s()}finally{et=p,En.transition=u,We=a,(We&6)===0&&Es()}}function nm(){yn=Vo.current,it(Vo)}function Ai(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,qR(u)),St!==null)for(u=St.return;u!==null;){var p=u;switch(dp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&bu();break;case 3:$o(),it(sn),it(Bt),kp();break;case 5:Sp(p);break;case 4:$o();break;case 13:it(ut);break;case 19:it(ut);break;case 10:yp(p.type._context);break;case 22:case 23:nm()}u=u.return}if(Mt=s,St=s=Ds(s.current,null),$t=yn=a,Ct=0,Rl=null,Yp=Wu=Ti=0,ln=Al=null,Ci!==null){for(a=0;a<Ci.length;a++)if(u=Ci[a],p=u.interleaved,p!==null){u.interleaved=null;var x=p.next,w=u.pending;if(w!==null){var C=w.next;w.next=x,p.next=C}u.pending=p}Ci=null}return s}function qw(s,a){do{var u=St;try{if(gp(),Iu.current=Lu,Mu){for(var p=dt.memoizedState;p!==null;){var x=p.queue;x!==null&&(x.pending=null),p=p.next}Mu=!1}if(Pi=0,It=jt=dt=null,_l=!1,jl=0,qp.current=null,u===null||u.return===null){Ct=1,Rl=a,St=null;break}e:{var w=s,C=u.return,M=u,L=a;if(a=$t,M.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var q=L,ee=M,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var J=ee.alternate;J?(ee.updateQueue=J.updateQueue,ee.memoizedState=J.memoizedState,ee.lanes=J.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var fe=xw(C);if(fe!==null){fe.flags&=-257,ww(fe,C,M,w,a),fe.mode&1&&vw(w,q,a),a=fe,L=q;var ve=a.updateQueue;if(ve===null){var we=new Set;we.add(L),a.updateQueue=we}else ve.add(L);break e}else{if((a&1)===0){vw(w,q,a),rm();break e}L=Error(n(426))}}else if(ct&&M.mode&1){var xt=xw(C);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),ww(xt,C,M,w,a),pp(Uo(L,M));break e}}w=L=Uo(L,M),Ct!==4&&(Ct=2),Al===null?Al=[w]:Al.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var z=gw(w,L,a);zx(w,z);break e;case 1:M=L;var U=w.type,H=w.stateNode;if((w.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(As===null||!As.has(H)))){w.flags|=65536,a&=-a,w.lanes|=a;var ne=yw(w,M,a);zx(w,ne);break e}}w=w.return}while(w!==null)}Zw(u)}catch(Se){a=Se,St===u&&u!==null&&(St=u=u.return);continue}break}while(!0)}function Yw(){var s=zu.current;return zu.current=Lu,s===null?Lu:s}function rm(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Mt===null||(Ti&268435455)===0&&(Wu&268435455)===0||Os(Mt,$t)}function Qu(s,a){var u=We;We|=2;var p=Yw();(Mt!==s||$t!==a)&&(Kr=null,Ai(s,a));do try{xA();break}catch(x){qw(s,x)}while(!0);if(gp(),We=u,zu.current=p,St!==null)throw Error(n(261));return Mt=null,$t=0,Ct}function xA(){for(;St!==null;)Qw(St)}function wA(){for(;St!==null&&!H2();)Qw(St)}function Qw(s){var a=eb(s.alternate,s,yn);s.memoizedProps=s.pendingProps,a===null?Zw(s):St=a,qp.current=null}function Zw(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=hA(u,a,yn),u!==null){St=u;return}}else{if(u=fA(u,a),u!==null){u.flags&=32767,St=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ct=6,St=null;return}}if(a=a.sibling,a!==null){St=a;return}St=a=s}while(a!==null);Ct===0&&(Ct=5)}function Ii(s,a,u){var p=et,x=En.transition;try{En.transition=null,et=1,bA(s,a,u,p)}finally{En.transition=x,et=p}return null}function bA(s,a,u,p){do Wo();while(Is!==null);if((We&6)!==0)throw Error(n(327));u=s.finishedWork;var x=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=u.lanes|u.childLanes;if(tR(s,w),s===Mt&&(St=Mt=null,$t=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Gu||(Gu=!0,tb(eu,function(){return Wo(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=En.transition,En.transition=null;var C=et;et=1;var M=We;We|=4,qp.current=null,mA(s,u),Bw(u,s),BR(rp),au=!!np,rp=np=null,s.current=u,gA(u),G2(),We=M,et=C,En.transition=w}else s.current=u;if(Gu&&(Gu=!1,Is=s,Ku=x),w=s.pendingLanes,w===0&&(As=null),Y2(u.stateNode),cn(s,vt()),a!==null)for(p=s.onRecoverableError,u=0;u<a.length;u++)x=a[u],p(x.value,{componentStack:x.stack,digest:x.digest});if(Hu)throw Hu=!1,s=Zp,Zp=null,s;return(Ku&1)!==0&&s.tag!==0&&Wo(),w=s.pendingLanes,(w&1)!==0?s===Xp?Il++:(Il=0,Xp=s):Il=0,Es(),null}function Wo(){if(Is!==null){var s=$0(Ku),a=En.transition,u=et;try{if(En.transition=null,et=16>s?16:s,Is===null)var p=!1;else{if(s=Is,Is=null,Ku=0,(We&6)!==0)throw Error(n(331));var x=We;for(We|=4,ge=s.current;ge!==null;){var w=ge,C=w.child;if((ge.flags&16)!==0){var M=w.deletions;if(M!==null){for(var L=0;L<M.length;L++){var q=M[L];for(ge=q;ge!==null;){var ee=ge;switch(ee.tag){case 0:case 11:case 15:Tl(8,ee,w)}var te=ee.child;if(te!==null)te.return=ee,ge=te;else for(;ge!==null;){ee=ge;var J=ee.sibling,fe=ee.return;if(Dw(ee),ee===q){ge=null;break}if(J!==null){J.return=fe,ge=J;break}ge=fe}}}var ve=w.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var xt=we.sibling;we.sibling=null,we=xt}while(we!==null)}}ge=w}}if((w.subtreeFlags&2064)!==0&&C!==null)C.return=w,ge=C;else e:for(;ge!==null;){if(w=ge,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Tl(9,w,w.return)}var z=w.sibling;if(z!==null){z.return=w.return,ge=z;break e}ge=w.return}}var U=s.current;for(ge=U;ge!==null;){C=ge;var H=C.child;if((C.subtreeFlags&2064)!==0&&H!==null)H.return=C,ge=H;else e:for(C=U;ge!==null;){if(M=ge,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Vu(9,M)}}catch(Se){pt(M,M.return,Se)}if(M===C){ge=null;break e}var ne=M.sibling;if(ne!==null){ne.return=M.return,ge=ne;break e}ge=M.return}}if(We=x,Es(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(tu,s)}catch{}p=!0}return p}finally{et=u,En.transition=a}}return!1}function Xw(s,a,u){a=Uo(u,a),a=gw(s,a,1),s=Ts(s,a,1),a=qt(),s!==null&&(rl(s,1,a),cn(s,a))}function pt(s,a,u){if(s.tag===3)Xw(s,s,u);else for(;a!==null;){if(a.tag===3){Xw(a,s,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(As===null||!As.has(p))){s=Uo(u,s),s=yw(a,s,1),a=Ts(a,s,1),s=qt(),a!==null&&(rl(a,1,s),cn(a,s));break}}a=a.return}}function SA(s,a,u){var p=s.pingCache;p!==null&&p.delete(a),a=qt(),s.pingedLanes|=s.suspendedLanes&u,Mt===s&&($t&u)===u&&(Ct===4||Ct===3&&($t&130023424)===$t&&500>vt()-Qp?Ai(s,0):Yp|=u),cn(s,a)}function Jw(s,a){a===0&&((s.mode&1)===0?a=1:(a=ru,ru<<=1,(ru&130023424)===0&&(ru=4194304)));var u=qt();s=Wr(s,a),s!==null&&(rl(s,a,u),cn(s,u))}function NA(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),Jw(s,u)}function kA(s,a){var u=0;switch(s.tag){case 13:var p=s.stateNode,x=s.memoizedState;x!==null&&(u=x.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),Jw(s,u)}var eb;eb=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||sn.current)an=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return an=!1,dA(s,a,u);an=(s.flags&131072)!==0}else an=!1,ct&&(a.flags&1048576)!==0&&Ix(a,_u,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Uu(s,a),s=a.pendingProps;var x=Ao(a,Bt.current);Fo(a,u),x=Cp(null,a,p,s,x,u);var w=Ep();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,on(p)?(w=!0,Su(a)):w=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,wp(a),x.updater=Fu,a.stateNode=x,x._reactInternals=a,Mp(a,p,s,u),a=Fp(null,a,p,!0,w,u)):(a.tag=0,ct&&w&&up(a),Kt(null,a,x,u),a=a.child),a;case 16:p=a.elementType;e:{switch(Uu(s,a),s=a.pendingProps,x=p._init,p=x(p._payload),a.type=p,x=a.tag=jA(p),s=Kn(p,s),x){case 0:a=Lp(null,a,p,s,u);break e;case 1:a=jw(null,a,p,s,u);break e;case 11:a=bw(null,a,p,s,u);break e;case 14:a=Sw(null,a,p,Kn(p.type,s),u);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:Kn(p,x),Lp(s,a,p,x,u);case 1:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:Kn(p,x),jw(s,a,p,x,u);case 3:e:{if(Cw(a),s===null)throw Error(n(387));p=a.pendingProps,w=a.memoizedState,x=w.element,Vx(s,a),Ru(a,p,null,u);var C=a.memoizedState;if(p=C.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){x=Uo(Error(n(423)),a),a=Ew(s,a,p,u,x);break e}else if(p!==x){x=Uo(Error(n(424)),a),a=Ew(s,a,p,u,x);break e}else for(gn=_s(a.stateNode.containerInfo.firstChild),mn=a,ct=!0,Gn=null,u=Ux(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Oo(),p===x){a=Gr(s,a,u);break e}Kt(s,a,p,u)}a=a.child}return a;case 5:return Hx(a),s===null&&fp(a),p=a.type,x=a.pendingProps,w=s!==null?s.memoizedProps:null,C=x.children,sp(p,x)?C=null:w!==null&&sp(p,w)&&(a.flags|=32),_w(s,a),Kt(s,a,C,u),a.child;case 6:return s===null&&fp(a),null;case 13:return Pw(s,a,u);case 4:return bp(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=Do(a,null,p,u):Kt(s,a,p,u),a.child;case 11:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:Kn(p,x),bw(s,a,p,x,u);case 7:return Kt(s,a,a.pendingProps,u),a.child;case 8:return Kt(s,a,a.pendingProps.children,u),a.child;case 12:return Kt(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,x=a.pendingProps,w=a.memoizedProps,C=x.value,rt(Eu,p._currentValue),p._currentValue=C,w!==null)if(Hn(w.value,C)){if(w.children===x.children&&!sn.current){a=Gr(s,a,u);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var M=w.dependencies;if(M!==null){C=w.child;for(var L=M.firstContext;L!==null;){if(L.context===p){if(w.tag===1){L=Hr(-1,u&-u),L.tag=2;var q=w.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?L.next=L:(L.next=ee.next,ee.next=L),q.pending=L}}w.lanes|=u,L=w.alternate,L!==null&&(L.lanes|=u),vp(w.return,u,a),M.lanes|=u;break}L=L.next}}else if(w.tag===10)C=w.type===a.type?null:w.child;else if(w.tag===18){if(C=w.return,C===null)throw Error(n(341));C.lanes|=u,M=C.alternate,M!==null&&(M.lanes|=u),vp(C,u,a),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===a){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}Kt(s,a,x.children,u),a=a.child}return a;case 9:return x=a.type,p=a.pendingProps.children,Fo(a,u),x=jn(x),p=p(x),a.flags|=1,Kt(s,a,p,u),a.child;case 14:return p=a.type,x=Kn(p,a.pendingProps),x=Kn(p.type,x),Sw(s,a,p,x,u);case 15:return Nw(s,a,a.type,a.pendingProps,u);case 17:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:Kn(p,x),Uu(s,a),a.tag=1,on(p)?(s=!0,Su(a)):s=!1,Fo(a,u),pw(a,p,x),Mp(a,p,x,u),Fp(null,a,p,!0,s,u);case 19:return Rw(s,a,u);case 22:return kw(s,a,u)}throw Error(n(156,a.tag))};function tb(s,a){return M0(s,a)}function _A(s,a,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(s,a,u,p){return new _A(s,a,u,p)}function sm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function jA(s){if(typeof s=="function")return sm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===W)return 11;if(s===ue)return 14}return 2}function Ds(s,a){var u=s.alternate;return u===null?(u=Pn(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Zu(s,a,u,p,x,w){var C=2;if(p=s,typeof s=="function")sm(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case R:return Mi(u.children,x,w,a);case T:C=8,x|=8;break;case I:return s=Pn(12,u,a,x|2),s.elementType=I,s.lanes=w,s;case Z:return s=Pn(13,u,a,x),s.elementType=Z,s.lanes=w,s;case Q:return s=Pn(19,u,a,x),s.elementType=Q,s.lanes=w,s;case ie:return Xu(u,x,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:C=10;break e;case Y:C=9;break e;case W:C=11;break e;case ue:C=14;break e;case ce:C=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Pn(C,u,a,x),a.elementType=s,a.type=p,a.lanes=w,a}function Mi(s,a,u,p){return s=Pn(7,s,p,a),s.lanes=u,s}function Xu(s,a,u,p){return s=Pn(22,s,p,a),s.elementType=ie,s.lanes=u,s.stateNode={isHidden:!1},s}function im(s,a,u){return s=Pn(6,s,null,a),s.lanes=u,s}function om(s,a,u){return a=Pn(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function CA(s,a,u,p,x){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=If(0),this.expirationTimes=If(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=If(0),this.identifierPrefix=p,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function am(s,a,u,p,x,w,C,M,L){return s=new CA(s,a,u,M,L),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Pn(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},wp(w),s}function EA(s,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:p==null?null:""+p,children:s,containerInfo:a,implementation:u}}function nb(s){if(!s)return Cs;s=s._reactInternals;e:{if(Si(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(on(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(on(u))return Tx(s,u,a)}return a}function rb(s,a,u,p,x,w,C,M,L){return s=am(u,p,!0,s,x,w,C,M,L),s.context=nb(null),u=s.current,p=qt(),x=Ms(u),w=Hr(p,x),w.callback=a??null,Ts(u,w,x),s.current.lanes=x,rl(s,x,p),cn(s,p),s}function Ju(s,a,u,p){var x=a.current,w=qt(),C=Ms(x);return u=nb(u),a.context===null?a.context=u:a.pendingContext=u,a=Hr(w,C),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Ts(x,a,C),s!==null&&(Qn(s,x,C,w),Tu(s,x,C)),C}function ed(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function sb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function lm(s,a){sb(s,a),(s=s.alternate)&&sb(s,a)}function PA(){return null}var ib=typeof reportError=="function"?reportError:function(s){console.error(s)};function cm(s){this._internalRoot=s}td.prototype.render=cm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Ju(s,a,null,null)},td.prototype.unmount=cm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ri(function(){Ju(null,s,null,null)}),a[Ur]=null}};function td(s){this._internalRoot=s}td.prototype.unstable_scheduleHydration=function(s){if(s){var a=V0();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Ss.length&&a!==0&&a<Ss[u].priority;u++);Ss.splice(u,0,s),u===0&&H0(s)}};function um(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function nd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ob(){}function TA(s,a,u,p,x){if(x){if(typeof p=="function"){var w=p;p=function(){var q=ed(C);w.call(q)}}var C=rb(a,p,s,0,null,!1,!1,"",ob);return s._reactRootContainer=C,s[Ur]=C.current,yl(s.nodeType===8?s.parentNode:s),Ri(),C}for(;x=s.lastChild;)s.removeChild(x);if(typeof p=="function"){var M=p;p=function(){var q=ed(L);M.call(q)}}var L=am(s,0,!1,null,null,!1,!1,"",ob);return s._reactRootContainer=L,s[Ur]=L.current,yl(s.nodeType===8?s.parentNode:s),Ri(function(){Ju(a,L,u,p)}),L}function rd(s,a,u,p,x){var w=u._reactRootContainer;if(w){var C=w;if(typeof x=="function"){var M=x;x=function(){var L=ed(C);M.call(L)}}Ju(a,C,s,x)}else C=TA(u,a,s,x,p);return ed(C)}U0=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=nl(a.pendingLanes);u!==0&&(Mf(a,u|1),cn(a,vt()),(We&6)===0&&(zo=vt()+500,Es()))}break;case 13:Ri(function(){var p=Wr(s,1);if(p!==null){var x=qt();Qn(p,s,1,x)}}),lm(s,1)}},Of=function(s){if(s.tag===13){var a=Wr(s,134217728);if(a!==null){var u=qt();Qn(a,s,134217728,u)}lm(s,134217728)}},B0=function(s){if(s.tag===13){var a=Ms(s),u=Wr(s,a);if(u!==null){var p=qt();Qn(u,s,a,p)}lm(s,a)}},V0=function(){return et},z0=function(s,a){var u=et;try{return et=s,a()}finally{et=u}},Cf=function(s,a,u){switch(a){case"input":if(ys(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==s&&p.form===s.form){var x=wu(p);if(!x)throw Error(n(90));Vn(p),ys(p,x)}}}break;case"textarea":v0(s,u);break;case"select":a=u.value,a!=null&&vs(s,!!u.multiple,a,!1)}},C0=tm,E0=Ri;var RA={usingClientEntryPoint:!1,Events:[wl,To,wu,_0,j0,tm]},Ml={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AA={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=A0(s),s===null?null:s.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||PA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{tu=sd.inject(AA),fr=sd}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RA,un.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!um(a))throw Error(n(200));return EA(s,a,null,u)},un.createRoot=function(s,a){if(!um(s))throw Error(n(299));var u=!1,p="",x=ib;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=am(s,1,!1,null,null,u,!1,p,x),s[Ur]=a.current,yl(s.nodeType===8?s.parentNode:s),new cm(a)},un.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=A0(a),s=s===null?null:s.stateNode,s},un.flushSync=function(s){return Ri(s)},un.hydrate=function(s,a,u){if(!nd(a))throw Error(n(200));return rd(null,s,a,!0,u)},un.hydrateRoot=function(s,a,u){if(!um(s))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,x=!1,w="",C=ib;if(u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),a=rb(a,null,s,1,u??null,x,!1,w,C),s[Ur]=a.current,yl(s),p)for(s=0;s<p.length;s++)u=p[s],x=u._getVersion,x=x(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,x]:a.mutableSourceEagerHydrationData.push(u,x);return new td(a)},un.render=function(s,a,u){if(!nd(a))throw Error(n(200));return rd(null,s,a,!1,u)},un.unmountComponentAtNode=function(s){if(!nd(s))throw Error(n(40));return s._reactRootContainer?(Ri(function(){rd(null,null,s,!1,function(){s._reactRootContainer=null,s[Ur]=null})}),!0):!1},un.unstable_batchedUpdates=tm,un.unstable_renderSubtreeIntoContainer=function(s,a,u,p){if(!nd(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return rd(s,a,u,!1,p)},un.version="18.3.1-next-f1338f8080-20240426",un}var gb;function ok(){if(gb)return pm.exports;gb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pm.exports=VA(),pm.exports}var yb;function zA(){if(yb)return od;yb=1;var t=ok();return od.createRoot=t.createRoot,od.hydrateRoot=t.hydrateRoot,od}var WA=zA();function HA(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,l,c=[],d="",h=t.split("/");for(h[0]||h.shift();i=h.shift();)n=i[0],n==="*"?(c.push(n),d+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),l=i.indexOf(".",1),c.push(i.substring(1,~r?r:~l?l:i.length)),d+=~r&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(d+=(~r?"?":"")+"\\"+i.substring(l))):d+="/"+i;return{keys:c,pattern:new RegExp("^"+d+(e?"(?=$|/)":"/?$"),"i")}}var y=Rh();const Ze=ik(y),Ah=MA({__proto__:null,default:Ze},[y]);var ym={exports:{}},vm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function GA(){if(vb)return vm;vb=1;var t=Rh();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(m,v){var b=v(),k=r({inst:{value:b,getSnapshot:v}}),N=k[0].inst,S=k[1];return l(function(){N.value=b,N.getSnapshot=v,h(N)&&S({inst:N})},[m,b,v]),i(function(){return h(N)&&S({inst:N}),m(function(){h(N)&&S({inst:N})})},[m]),c(b),b}function h(m){var v=m.getSnapshot;m=m.value;try{var b=v();return!n(m,b)}catch{return!0}}function f(m,v){return v()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return vm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,vm}var xb;function KA(){return xb||(xb=1,ym.exports=GA()),ym.exports}var ak=KA();const qA=Ah.useInsertionEffect,YA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lk=YA?y.useLayoutEffect:y.useEffect,QA=qA||lk,Cy=t=>{const e=y.useRef([t,(...n)=>e[0](...n)]).current;return QA(()=>{e[0]=t}),e[1]},ZA="popstate",Ey="pushState",Py="replaceState",XA="hashchange",wb=[ZA,Ey,Py,XA],JA=t=>{for(const e of wb)addEventListener(e,t);return()=>{for(const e of wb)removeEventListener(e,t)}},ck=(t,e)=>ak.useSyncExternalStore(JA,t,e),eI=()=>location.search,tI=({ssrSearch:t=""}={})=>ck(eI,()=>t),bb=()=>location.pathname,nI=({ssrPath:t}={})=>ck(bb,t?()=>t:bb),rI=(t,{replace:e=!1,state:n=null}={})=>history[e?Py:Ey](n,"",t),sI=(t={})=>[nI(t),rI],Sb=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Sb]>"u"){for(const t of[Ey,Py]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Sb,{value:!0})}const iI=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",uk=(t="")=>t==="/"?"":t,oI=(t,e)=>t[0]==="~"?t.slice(1):uk(e)+t,aI=(t="",e)=>iI(Nb(uk(t)),Nb(e)),Nb=t=>{try{return decodeURI(t)}catch{return t}},dk={hook:sI,searchHook:tI,parser:HA,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},hk=y.createContext(dk),Ua=()=>y.useContext(hk),fk={},pk=y.createContext(fk),lI=()=>y.useContext(pk),Ic=t=>{const[e,n]=t.hook(t);return[aI(t.base,e),Cy((r,i)=>n(oI(r,t.base),i))]},cr=()=>Ic(Ua()),mk=(t,e,n,r)=>{const{pattern:i,keys:l}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),c=i.exec(n)||[],[d,...h]=c;return d!==void 0?[!0,(()=>{const f=l!==!1?Object.fromEntries(l.map((m,v)=>[m,h[v]])):c.groups;let g={...h};return f&&Object.assign(g,f),g})(),...r?[d]:[]]:[!1,null]},cI=({children:t,...e})=>{var g,m;const n=Ua(),r=e.hook?dk:n;let i=r;const[l,c]=((g=e.ssrPath)==null?void 0:g.split("?"))??[];c&&(e.ssrSearch=c,e.ssrPath=l),e.hrefs=e.hrefs??((m=e.hook)==null?void 0:m.hrefs);let d=y.useRef({}),h=d.current,f=h;for(let v in r){const b=v==="base"?r[v]+(e[v]||""):e[v]||r[v];h===f&&b!==f[v]&&(d.current=f={...f}),f[v]=b,(b!==r[v]||b!==i[v])&&(i=f)}return y.createElement(hk.Provider,{value:i,children:t})},kb=({children:t,component:e},n)=>e?y.createElement(e,{params:n}):typeof t=="function"?t(n):t,uI=t=>{let e=y.useRef(fk);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,i])=>i!==n[r])?t:n},Ho=({path:t,nest:e,match:n,...r})=>{const i=Ua(),[l]=Ic(i),[c,d,h]=n??mk(i.parser,t,l,e),f=uI({...lI(),...d});if(!c)return null;const g=h?y.createElement(cI,{base:h},kb(r,f)):kb(r,f);return y.createElement(pk.Provider,{value:f,children:g})},Pt=y.forwardRef((t,e)=>{const n=Ua(),[r,i]=Ic(n),{to:l="",href:c=l,onClick:d,asChild:h,children:f,className:g,replace:m,state:v,...b}=t,k=Cy(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(d==null||d(S),S.defaultPrevented||(S.preventDefault(),i(c,t)))}),N=n.hrefs(c[0]==="~"?c.slice(1):n.base+c,n);return h&&y.isValidElement(f)?y.cloneElement(f,{onClick:k,href:N}):y.createElement("a",{...b,onClick:k,href:N,className:g!=null&&g.call?g(r===c):g,children:f,ref:e})}),gk=t=>Array.isArray(t)?t.flatMap(e=>gk(e&&e.type===y.Fragment?e.props.children:e)):[t],dI=({children:t,location:e})=>{const n=Ua(),[r]=Ic(n);for(const i of gk(t)){let l=0;if(y.isValidElement(i)&&(l=mk(n.parser,i.props.path,e||r,i.props.nest))[0])return y.cloneElement(i,{match:l})}return null},jd=t=>{const{to:e,href:n=e}=t,r=Ua(),[,i]=Ic(r),l=Cy(()=>i(e||n,t)),{ssrContext:c}=r;return lk(()=>{l()},[]),c&&(c.redirectTo=e),null};var Ba=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hI={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},qs,jy,qN,fI=(qN=class{constructor(){ke(this,qs,hI);ke(this,jy,!1)}setTimeoutProvider(t){de(this,qs,t)}setTimeout(t,e){return D(this,qs).setTimeout(t,e)}clearTimeout(t){D(this,qs).clearTimeout(t)}setInterval(t,e){return D(this,qs).setInterval(t,e)}clearInterval(t){D(this,qs).clearInterval(t)}},qs=new WeakMap,jy=new WeakMap,qN),$i=new fI;function pI(t){setTimeout(t,0)}var no=typeof window>"u"||"Deno"in globalThis;function Xt(){}function mI(t,e){return typeof t=="function"?t(e):t}function ag(t){return typeof t=="number"&&t>=0&&t!==1/0}function yk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function si(t,e){return typeof t=="function"?t(e):t}function Mn(t,e){return typeof t=="function"?t(e):t}function _b(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:l,queryKey:c,stale:d}=t;if(c){if(r){if(e.queryHash!==Ty(c,e.options))return!1}else if(!ac(e.queryKey,c))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||i&&i!==e.state.fetchStatus||l&&!l(e))}function jb(t,e){const{exact:n,status:r,predicate:i,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(ro(e.options.mutationKey)!==ro(l))return!1}else if(!ac(e.options.mutationKey,l))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Ty(t,e){return((e==null?void 0:e.queryKeyHashFn)||ro)(t)}function ro(t){return JSON.stringify(t,(e,n)=>lg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ac(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>ac(t[n],e[n])):!1}var gI=Object.prototype.hasOwnProperty;function vk(t,e){if(t===e)return t;const n=Cb(t)&&Cb(e);if(!n&&!(lg(t)&&lg(e)))return e;const i=(n?t:Object.keys(t)).length,l=n?e:Object.keys(e),c=l.length,d=n?new Array(c):{};let h=0;for(let f=0;f<c;f++){const g=n?f:l[f],m=t[g],v=e[g];if(m===v){d[g]=m,(n?f<i:gI.call(t,g))&&h++;continue}if(m===null||v===null||typeof m!="object"||typeof v!="object"){d[g]=v;continue}const b=vk(m,v);d[g]=b,b===m&&h++}return i===c&&h===i?t:d}function Gd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Cb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function lg(t){if(!Eb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Eb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Eb(t){return Object.prototype.toString.call(t)==="[object Object]"}function yI(t){return new Promise(e=>{$i.setTimeout(e,t)})}function cg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?vk(t,e):e}function vI(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function xI(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ry=Symbol();function xk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ry?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function wk(t,e){return typeof t=="function"?t(...e):!!t}var zi,Ys,da,YN,wI=(YN=class extends Ba{constructor(){super();ke(this,zi);ke(this,Ys);ke(this,da);de(this,da,e=>{if(!no&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,Ys)||this.setEventListener(D(this,da))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,Ys))==null||e.call(this),de(this,Ys,void 0))}setEventListener(e){var n;de(this,da,e),(n=D(this,Ys))==null||n.call(this),de(this,Ys,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){D(this,zi)!==e&&(de(this,zi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof D(this,zi)=="boolean"?D(this,zi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},zi=new WeakMap,Ys=new WeakMap,da=new WeakMap,YN),Ay=new wI;function ug(){let t,e;const n=new Promise((i,l)=>{t=i,e=l});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var bI=pI;function SI(){let t=[],e=0,n=d=>{d()},r=d=>{d()},i=bI;const l=d=>{e?t.push(d):i(()=>{n(d)})},c=()=>{const d=t;t=[],d.length&&i(()=>{r(()=>{d.forEach(h=>{n(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{l(()=>{d(...h)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{i=d}}}var Tt=SI(),ha,Qs,fa,QN,NI=(QN=class extends Ba{constructor(){super();ke(this,ha,!0);ke(this,Qs);ke(this,fa);de(this,fa,e=>{if(!no&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){D(this,Qs)||this.setEventListener(D(this,fa))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,Qs))==null||e.call(this),de(this,Qs,void 0))}setEventListener(e){var n;de(this,fa,e),(n=D(this,Qs))==null||n.call(this),de(this,Qs,e(this.setOnline.bind(this)))}setOnline(e){D(this,ha)!==e&&(de(this,ha,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return D(this,ha)}},ha=new WeakMap,Qs=new WeakMap,fa=new WeakMap,QN),Kd=new NI;function kI(t){return Math.min(1e3*2**t,3e4)}function bk(t){return(t??"online")==="online"?Kd.isOnline():!0}var dg=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Sk(t){let e=!1,n=0,r;const i=ug(),l=()=>i.status!=="pending",c=N=>{var S;if(!l()){const _=new dg(N);v(_),(S=t.onCancel)==null||S.call(t,_)}},d=()=>{e=!0},h=()=>{e=!1},f=()=>Ay.isFocused()&&(t.networkMode==="always"||Kd.isOnline())&&t.canRun(),g=()=>bk(t.networkMode)&&t.canRun(),m=N=>{l()||(r==null||r(),i.resolve(N))},v=N=>{l()||(r==null||r(),i.reject(N))},b=()=>new Promise(N=>{var S;r=_=>{(l()||f())&&N(_)},(S=t.onPause)==null||S.call(t)}).then(()=>{var N;r=void 0,l()||(N=t.onContinue)==null||N.call(t)}),k=()=>{if(l())return;let N;const S=n===0?t.initialPromise:void 0;try{N=S??t.fn()}catch(_){N=Promise.reject(_)}Promise.resolve(N).then(m).catch(_=>{var O;if(l())return;const E=t.retry??(no?0:3),j=t.retryDelay??kI,P=typeof j=="function"?j(n,_):j,A=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,_);if(e||!A){v(_);return}n++,(O=t.onFail)==null||O.call(t,n,_),yI(P).then(()=>f()?void 0:b()).then(()=>{e?v(_):k()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(r==null||r(),i),cancelRetry:d,continueRetry:h,canStart:g,start:()=>(g()?k():b().then(k),i)}}var Wi,ZN,Nk=(ZN=class{constructor(){ke(this,Wi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ag(this.gcTime)&&de(this,Wi,$i.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(no?1/0:300*1e3))}clearGcTimeout(){D(this,Wi)&&($i.clearTimeout(D(this,Wi)),de(this,Wi,void 0))}},Wi=new WeakMap,ZN),Hi,pa,In,Gi,Dt,Ec,Ki,Jn,Yr,XN,_I=(XN=class extends Nk{constructor(e){super();ke(this,Jn);ke(this,Hi);ke(this,pa);ke(this,In);ke(this,Gi);ke(this,Dt);ke(this,Ec);ke(this,Ki);de(this,Ki,!1),de(this,Ec,e.defaultOptions),this.setOptions(e.options),this.observers=[],de(this,Gi,e.client),de(this,In,D(this,Gi).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,de(this,Hi,Tb(this.options)),this.state=e.state??D(this,Hi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=D(this,Dt))==null?void 0:e.promise}setOptions(e){if(this.options={...D(this,Ec),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Tb(this.options);n.data!==void 0&&(this.setState(Pb(n.data,n.dataUpdatedAt)),de(this,Hi,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,In).remove(this)}setData(e,n){const r=cg(this.state.data,e,this.options);return Le(this,Jn,Yr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Le(this,Jn,Yr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=D(this,Dt))==null?void 0:r.promise;return(i=D(this,Dt))==null||i.cancel(e),n?n.then(Xt).catch(Xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,Hi))}isActive(){return this.observers.some(e=>Mn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ry||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>si(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!yk(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=D(this,Dt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=D(this,Dt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),D(this,In).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(D(this,Dt)&&(D(this,Ki)?D(this,Dt).cancel({revert:!0}):D(this,Dt).cancelRetry()),this.scheduleGc()),D(this,In).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Le(this,Jn,Yr).call(this,{type:"invalidate"})}async fetch(e,n){var h,f,g,m,v,b,k,N,S,_,E,j;if(this.state.fetchStatus!=="idle"&&((h=D(this,Dt))==null?void 0:h.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(D(this,Dt))return D(this,Dt).continueRetry(),D(this,Dt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const P=this.observers.find(A=>A.options.queryFn);P&&this.setOptions(P.options)}const r=new AbortController,i=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(de(this,Ki,!0),r.signal)})},l=()=>{const P=xk(this.options,n),O=(()=>{const R={client:D(this,Gi),queryKey:this.queryKey,meta:this.meta};return i(R),R})();return de(this,Ki,!1),this.options.persister?this.options.persister(P,O,this):P(O)},d=(()=>{const P={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:D(this,Gi),state:this.state,fetchFn:l};return i(P),P})();(f=this.options.behavior)==null||f.onFetch(d,this),de(this,pa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=d.fetchOptions)==null?void 0:g.meta))&&Le(this,Jn,Yr).call(this,{type:"fetch",meta:(m=d.fetchOptions)==null?void 0:m.meta}),de(this,Dt,Sk({initialPromise:n==null?void 0:n.initialPromise,fn:d.fetchFn,onCancel:P=>{P instanceof dg&&P.revert&&this.setState({...D(this,pa),fetchStatus:"idle"}),r.abort()},onFail:(P,A)=>{Le(this,Jn,Yr).call(this,{type:"failed",failureCount:P,error:A})},onPause:()=>{Le(this,Jn,Yr).call(this,{type:"pause"})},onContinue:()=>{Le(this,Jn,Yr).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const P=await D(this,Dt).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(b=(v=D(this,In).config).onSuccess)==null||b.call(v,P,this),(N=(k=D(this,In).config).onSettled)==null||N.call(k,P,this.state.error,this),P}catch(P){if(P instanceof dg){if(P.silent)return D(this,Dt).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw Le(this,Jn,Yr).call(this,{type:"error",error:P}),(_=(S=D(this,In).config).onError)==null||_.call(S,P,this),(j=(E=D(this,In).config).onSettled)==null||j.call(E,this.state.data,P,this),P}finally{this.scheduleGc()}}},Hi=new WeakMap,pa=new WeakMap,In=new WeakMap,Gi=new WeakMap,Dt=new WeakMap,Ec=new WeakMap,Ki=new WeakMap,Jn=new WeakSet,Yr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...kk(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...Pb(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return de(this,pa,e.manual?i:void 0),i;case"error":const l=e.error;return{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Tt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),D(this,In).notify({query:this,type:"updated",action:e})})},XN);function kk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Pb(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Tb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var dn,Ve,Pc,Qt,qi,ma,Qr,Zs,Tc,ga,ya,Yi,Qi,Xs,va,Je,Ul,hg,fg,pg,mg,gg,yg,vg,_k,JN,jI=(JN=class extends Ba{constructor(e,n){super();ke(this,Je);ke(this,dn);ke(this,Ve);ke(this,Pc);ke(this,Qt);ke(this,qi);ke(this,ma);ke(this,Qr);ke(this,Zs);ke(this,Tc);ke(this,ga);ke(this,ya);ke(this,Yi);ke(this,Qi);ke(this,Xs);ke(this,va,new Set);this.options=n,de(this,dn,e),de(this,Zs,null),de(this,Qr,ug()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,Ve).addObserver(this),Rb(D(this,Ve),this.options)?Le(this,Je,Ul).call(this):this.updateResult(),Le(this,Je,mg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xg(D(this,Ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xg(D(this,Ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Le(this,Je,gg).call(this),Le(this,Je,yg).call(this),D(this,Ve).removeObserver(this)}setOptions(e){const n=this.options,r=D(this,Ve);if(this.options=D(this,dn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mn(this.options.enabled,D(this,Ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Le(this,Je,vg).call(this),D(this,Ve).setOptions(this.options),n._defaulted&&!Gd(this.options,n)&&D(this,dn).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,Ve),observer:this});const i=this.hasListeners();i&&Ab(D(this,Ve),r,this.options,n)&&Le(this,Je,Ul).call(this),this.updateResult(),i&&(D(this,Ve)!==r||Mn(this.options.enabled,D(this,Ve))!==Mn(n.enabled,D(this,Ve))||si(this.options.staleTime,D(this,Ve))!==si(n.staleTime,D(this,Ve)))&&Le(this,Je,hg).call(this);const l=Le(this,Je,fg).call(this);i&&(D(this,Ve)!==r||Mn(this.options.enabled,D(this,Ve))!==Mn(n.enabled,D(this,Ve))||l!==D(this,Xs))&&Le(this,Je,pg).call(this,l)}getOptimisticResult(e){const n=D(this,dn).getQueryCache().build(D(this,dn),e),r=this.createResult(n,e);return EI(this,r)&&(de(this,Qt,r),de(this,ma,this.options),de(this,qi,D(this,Ve).state)),r}getCurrentResult(){return D(this,Qt)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&D(this,Qr).status==="pending"&&D(this,Qr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){D(this,va).add(e)}getCurrentQuery(){return D(this,Ve)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=D(this,dn).defaultQueryOptions(e),r=D(this,dn).getQueryCache().build(D(this,dn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Le(this,Je,Ul).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,Qt)))}createResult(e,n){var I;const r=D(this,Ve),i=this.options,l=D(this,Qt),c=D(this,qi),d=D(this,ma),f=e!==r?e.state:D(this,Pc),{state:g}=e;let m={...g},v=!1,b;if(n._optimisticResults){const $=this.hasListeners(),Y=!$&&Rb(e,n),W=$&&Ab(e,r,n,i);(Y||W)&&(m={...m,...kk(g.data,e.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:k,errorUpdatedAt:N,status:S}=m;b=m.data;let _=!1;if(n.placeholderData!==void 0&&b===void 0&&S==="pending"){let $;l!=null&&l.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData)?($=l.data,_=!0):$=typeof n.placeholderData=="function"?n.placeholderData((I=D(this,ya))==null?void 0:I.state.data,D(this,ya)):n.placeholderData,$!==void 0&&(S="success",b=cg(l==null?void 0:l.data,$,n),v=!0)}if(n.select&&b!==void 0&&!_)if(l&&b===(c==null?void 0:c.data)&&n.select===D(this,Tc))b=D(this,ga);else try{de(this,Tc,n.select),b=n.select(b),b=cg(l==null?void 0:l.data,b,n),de(this,ga,b),de(this,Zs,null)}catch($){de(this,Zs,$)}D(this,Zs)&&(k=D(this,Zs),b=D(this,ga),N=Date.now(),S="error");const E=m.fetchStatus==="fetching",j=S==="pending",P=S==="error",A=j&&E,O=b!==void 0,T={status:S,fetchStatus:m.fetchStatus,isPending:j,isSuccess:S==="success",isError:P,isInitialLoading:A,isLoading:A,data:b,dataUpdatedAt:m.dataUpdatedAt,error:k,errorUpdatedAt:N,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:E,isRefetching:E&&!j,isLoadingError:P&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:P&&O,isStale:Iy(e,n),refetch:this.refetch,promise:D(this,Qr),isEnabled:Mn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const $=Z=>{T.status==="error"?Z.reject(T.error):T.data!==void 0&&Z.resolve(T.data)},Y=()=>{const Z=de(this,Qr,T.promise=ug());$(Z)},W=D(this,Qr);switch(W.status){case"pending":e.queryHash===r.queryHash&&$(W);break;case"fulfilled":(T.status==="error"||T.data!==W.value)&&Y();break;case"rejected":(T.status!=="error"||T.error!==W.reason)&&Y();break}}return T}updateResult(){const e=D(this,Qt),n=this.createResult(D(this,Ve),this.options);if(de(this,qi,D(this,Ve).state),de(this,ma,this.options),D(this,qi).data!==void 0&&de(this,ya,D(this,Ve)),Gd(n,e))return;de(this,Qt,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!D(this,va).size)return!0;const c=new Set(l??D(this,va));return this.options.throwOnError&&c.add("error"),Object.keys(D(this,Qt)).some(d=>{const h=d;return D(this,Qt)[h]!==e[h]&&c.has(h)})};Le(this,Je,_k).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Le(this,Je,mg).call(this)}},dn=new WeakMap,Ve=new WeakMap,Pc=new WeakMap,Qt=new WeakMap,qi=new WeakMap,ma=new WeakMap,Qr=new WeakMap,Zs=new WeakMap,Tc=new WeakMap,ga=new WeakMap,ya=new WeakMap,Yi=new WeakMap,Qi=new WeakMap,Xs=new WeakMap,va=new WeakMap,Je=new WeakSet,Ul=function(e){Le(this,Je,vg).call(this);let n=D(this,Ve).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Xt)),n},hg=function(){Le(this,Je,gg).call(this);const e=si(this.options.staleTime,D(this,Ve));if(no||D(this,Qt).isStale||!ag(e))return;const r=yk(D(this,Qt).dataUpdatedAt,e)+1;de(this,Yi,$i.setTimeout(()=>{D(this,Qt).isStale||this.updateResult()},r))},fg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,Ve)):this.options.refetchInterval)??!1},pg=function(e){Le(this,Je,yg).call(this),de(this,Xs,e),!(no||Mn(this.options.enabled,D(this,Ve))===!1||!ag(D(this,Xs))||D(this,Xs)===0)&&de(this,Qi,$i.setInterval(()=>{(this.options.refetchIntervalInBackground||Ay.isFocused())&&Le(this,Je,Ul).call(this)},D(this,Xs)))},mg=function(){Le(this,Je,hg).call(this),Le(this,Je,pg).call(this,Le(this,Je,fg).call(this))},gg=function(){D(this,Yi)&&($i.clearTimeout(D(this,Yi)),de(this,Yi,void 0))},yg=function(){D(this,Qi)&&($i.clearInterval(D(this,Qi)),de(this,Qi,void 0))},vg=function(){const e=D(this,dn).getQueryCache().build(D(this,dn),this.options);if(e===D(this,Ve))return;const n=D(this,Ve);de(this,Ve,e),de(this,Pc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},_k=function(e){Tt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(D(this,Qt))}),D(this,dn).getQueryCache().notify({query:D(this,Ve),type:"observerResultsUpdated"})})},JN);function CI(t,e){return Mn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Rb(t,e){return CI(t,e)||t.state.data!==void 0&&xg(t,e,e.refetchOnMount)}function xg(t,e,n){if(Mn(e.enabled,t)!==!1&&si(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Iy(t,e)}return!1}function Ab(t,e,n,r){return(t!==e||Mn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Iy(t,n)}function Iy(t,e){return Mn(e.enabled,t)!==!1&&t.isStaleByTime(si(e.staleTime,t))}function EI(t,e){return!Gd(t.getCurrentResult(),e)}function Ib(t){return{onFetch:(e,n)=>{var g,m,v,b,k;const r=e.options,i=(v=(m=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:m.fetchMore)==null?void 0:v.direction,l=((b=e.state.data)==null?void 0:b.pages)||[],c=((k=e.state.data)==null?void 0:k.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const f=async()=>{let N=!1;const S=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?N=!0:e.signal.addEventListener("abort",()=>{N=!0}),e.signal)})},_=xk(e.options,e.fetchOptions),E=async(j,P,A)=>{if(N)return Promise.reject();if(P==null&&j.pages.length)return Promise.resolve(j);const R=(()=>{const Y={client:e.client,queryKey:e.queryKey,pageParam:P,direction:A?"backward":"forward",meta:e.options.meta};return S(Y),Y})(),T=await _(R),{maxPages:I}=e.options,$=A?xI:vI;return{pages:$(j.pages,T,I),pageParams:$(j.pageParams,P,I)}};if(i&&l.length){const j=i==="backward",P=j?PI:Mb,A={pages:l,pageParams:c},O=P(r,A);d=await E(A,O,j)}else{const j=t??l.length;do{const P=h===0?c[0]??r.initialPageParam:Mb(r,d);if(h>0&&P==null)break;d=await E(d,P),h++}while(h<j)}return d};e.options.persister?e.fetchFn=()=>{var N,S;return(S=(N=e.options).persister)==null?void 0:S.call(N,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=f}}}function Mb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function PI(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Rc,xr,Zt,Zi,wr,zs,ek,TI=(ek=class extends Nk{constructor(e){super();ke(this,wr);ke(this,Rc);ke(this,xr);ke(this,Zt);ke(this,Zi);de(this,Rc,e.client),this.mutationId=e.mutationId,de(this,Zt,e.mutationCache),de(this,xr,[]),this.state=e.state||jk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){D(this,xr).includes(e)||(D(this,xr).push(e),this.clearGcTimeout(),D(this,Zt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){de(this,xr,D(this,xr).filter(n=>n!==e)),this.scheduleGc(),D(this,Zt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){D(this,xr).length||(this.state.status==="pending"?this.scheduleGc():D(this,Zt).remove(this))}continue(){var e;return((e=D(this,Zi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var c,d,h,f,g,m,v,b,k,N,S,_,E,j,P,A,O,R,T,I;const n=()=>{Le(this,wr,zs).call(this,{type:"continue"})},r={client:D(this,Rc),meta:this.options.meta,mutationKey:this.options.mutationKey};de(this,Zi,Sk({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:($,Y)=>{Le(this,wr,zs).call(this,{type:"failed",failureCount:$,error:Y})},onPause:()=>{Le(this,wr,zs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,Zt).canRun(this)}));const i=this.state.status==="pending",l=!D(this,Zi).canStart();try{if(i)n();else{Le(this,wr,zs).call(this,{type:"pending",variables:e,isPaused:l}),await((d=(c=D(this,Zt).config).onMutate)==null?void 0:d.call(c,e,this,r));const Y=await((f=(h=this.options).onMutate)==null?void 0:f.call(h,e,r));Y!==this.state.context&&Le(this,wr,zs).call(this,{type:"pending",context:Y,variables:e,isPaused:l})}const $=await D(this,Zi).start();return await((m=(g=D(this,Zt).config).onSuccess)==null?void 0:m.call(g,$,e,this.state.context,this,r)),await((b=(v=this.options).onSuccess)==null?void 0:b.call(v,$,e,this.state.context,r)),await((N=(k=D(this,Zt).config).onSettled)==null?void 0:N.call(k,$,null,this.state.variables,this.state.context,this,r)),await((_=(S=this.options).onSettled)==null?void 0:_.call(S,$,null,e,this.state.context,r)),Le(this,wr,zs).call(this,{type:"success",data:$}),$}catch($){try{throw await((j=(E=D(this,Zt).config).onError)==null?void 0:j.call(E,$,e,this.state.context,this,r)),await((A=(P=this.options).onError)==null?void 0:A.call(P,$,e,this.state.context,r)),await((R=(O=D(this,Zt).config).onSettled)==null?void 0:R.call(O,void 0,$,this.state.variables,this.state.context,this,r)),await((I=(T=this.options).onSettled)==null?void 0:I.call(T,void 0,$,e,this.state.context,r)),$}finally{Le(this,wr,zs).call(this,{type:"error",error:$})}}finally{D(this,Zt).runNext(this)}}},Rc=new WeakMap,xr=new WeakMap,Zt=new WeakMap,Zi=new WeakMap,wr=new WeakSet,zs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Tt.batch(()=>{D(this,xr).forEach(r=>{r.onMutationUpdate(e)}),D(this,Zt).notify({mutation:this,type:"updated",action:e})})},ek);function jk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zr,er,Ac,tk,RI=(tk=class extends Ba{constructor(e={}){super();ke(this,Zr);ke(this,er);ke(this,Ac);this.config=e,de(this,Zr,new Set),de(this,er,new Map),de(this,Ac,0)}build(e,n,r){const i=new TI({client:e,mutationCache:this,mutationId:++id(this,Ac)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){D(this,Zr).add(e);const n=ad(e);if(typeof n=="string"){const r=D(this,er).get(n);r?r.push(e):D(this,er).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(D(this,Zr).delete(e)){const n=ad(e);if(typeof n=="string"){const r=D(this,er).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&D(this,er).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ad(e);if(typeof n=="string"){const r=D(this,er).get(n),i=r==null?void 0:r.find(l=>l.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=ad(e);if(typeof n=="string"){const i=(r=D(this,er).get(n))==null?void 0:r.find(l=>l!==e&&l.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tt.batch(()=>{D(this,Zr).forEach(e=>{this.notify({type:"removed",mutation:e})}),D(this,Zr).clear(),D(this,er).clear()})}getAll(){return Array.from(D(this,Zr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>jb(n,r))}findAll(e={}){return this.getAll().filter(n=>jb(e,n))}notify(e){Tt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Tt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Xt))))}},Zr=new WeakMap,er=new WeakMap,Ac=new WeakMap,tk);function ad(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Xr,Js,hn,Jr,ls,Cd,wg,nk,AI=(nk=class extends Ba{constructor(n,r){super();ke(this,ls);ke(this,Xr);ke(this,Js);ke(this,hn);ke(this,Jr);de(this,Xr,n),this.setOptions(r),this.bindMethods(),Le(this,ls,Cd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=D(this,Xr).defaultMutationOptions(n),Gd(this.options,r)||D(this,Xr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,hn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ro(r.mutationKey)!==ro(this.options.mutationKey)?this.reset():((i=D(this,hn))==null?void 0:i.state.status)==="pending"&&D(this,hn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=D(this,hn))==null||n.removeObserver(this)}onMutationUpdate(n){Le(this,ls,Cd).call(this),Le(this,ls,wg).call(this,n)}getCurrentResult(){return D(this,Js)}reset(){var n;(n=D(this,hn))==null||n.removeObserver(this),de(this,hn,void 0),Le(this,ls,Cd).call(this),Le(this,ls,wg).call(this)}mutate(n,r){var i;return de(this,Jr,r),(i=D(this,hn))==null||i.removeObserver(this),de(this,hn,D(this,Xr).getMutationCache().build(D(this,Xr),this.options)),D(this,hn).addObserver(this),D(this,hn).execute(n)}},Xr=new WeakMap,Js=new WeakMap,hn=new WeakMap,Jr=new WeakMap,ls=new WeakSet,Cd=function(){var r;const n=((r=D(this,hn))==null?void 0:r.state)??jk();de(this,Js,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},wg=function(n){Tt.batch(()=>{var r,i,l,c,d,h,f,g;if(D(this,Jr)&&this.hasListeners()){const m=D(this,Js).variables,v=D(this,Js).context,b={client:D(this,Xr),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=D(this,Jr)).onSuccess)==null||i.call(r,n.data,m,v,b),(c=(l=D(this,Jr)).onSettled)==null||c.call(l,n.data,null,m,v,b)):(n==null?void 0:n.type)==="error"&&((h=(d=D(this,Jr)).onError)==null||h.call(d,n.error,m,v,b),(g=(f=D(this,Jr)).onSettled)==null||g.call(f,void 0,n.error,m,v,b))}this.listeners.forEach(m=>{m(D(this,Js))})})},nk),br,rk,II=(rk=class extends Ba{constructor(e={}){super();ke(this,br);this.config=e,de(this,br,new Map)}build(e,n,r){const i=n.queryKey,l=n.queryHash??Ty(i,n);let c=this.get(l);return c||(c=new _I({client:e,queryKey:i,queryHash:l,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(c)),c}add(e){D(this,br).has(e.queryHash)||(D(this,br).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=D(this,br).get(e.queryHash);n&&(e.destroy(),n===e&&D(this,br).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Tt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return D(this,br).get(e)}getAll(){return[...D(this,br).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_b(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>_b(e,r)):n}notify(e){Tt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Tt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Tt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},br=new WeakMap,rk),mt,ei,ti,xa,wa,ni,ba,Sa,sk,Ck=(sk=class{constructor(t={}){ke(this,mt);ke(this,ei);ke(this,ti);ke(this,xa);ke(this,wa);ke(this,ni);ke(this,ba);ke(this,Sa);de(this,mt,t.queryCache||new II),de(this,ei,t.mutationCache||new RI),de(this,ti,t.defaultOptions||{}),de(this,xa,new Map),de(this,wa,new Map),de(this,ni,0)}mount(){id(this,ni)._++,D(this,ni)===1&&(de(this,ba,Ay.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,mt).onFocus())})),de(this,Sa,Kd.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,mt).onOnline())})))}unmount(){var t,e;id(this,ni)._--,D(this,ni)===0&&((t=D(this,ba))==null||t.call(this),de(this,ba,void 0),(e=D(this,Sa))==null||e.call(this),de(this,Sa,void 0))}isFetching(t){return D(this,mt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return D(this,ei).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=D(this,mt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=D(this,mt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(si(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return D(this,mt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=D(this,mt).get(r.queryHash),l=i==null?void 0:i.state.data,c=mI(e,l);if(c!==void 0)return D(this,mt).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Tt.batch(()=>D(this,mt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=D(this,mt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=D(this,mt);Tt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=D(this,mt);return Tt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Tt.batch(()=>D(this,mt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Xt).catch(Xt)}invalidateQueries(t,e={}){return Tt.batch(()=>(D(this,mt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Tt.batch(()=>D(this,mt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let l=i.fetch(void 0,n);return n.throwOnError||(l=l.catch(Xt)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(Xt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=D(this,mt).build(this,e);return n.isStaleByTime(si(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xt).catch(Xt)}fetchInfiniteQuery(t){return t.behavior=Ib(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xt).catch(Xt)}ensureInfiniteQueryData(t){return t.behavior=Ib(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Kd.isOnline()?D(this,ei).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,mt)}getMutationCache(){return D(this,ei)}getDefaultOptions(){return D(this,ti)}setDefaultOptions(t){de(this,ti,t)}setQueryDefaults(t,e){D(this,xa).set(ro(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...D(this,xa).values()],n={};return e.forEach(r=>{ac(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){D(this,wa).set(ro(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...D(this,wa).values()],n={};return e.forEach(r=>{ac(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...D(this,ti).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ty(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ry&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...D(this,ti).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){D(this,mt).clear(),D(this,ei).clear()}},mt=new WeakMap,ei=new WeakMap,ti=new WeakMap,xa=new WeakMap,wa=new WeakMap,ni=new WeakMap,ba=new WeakMap,Sa=new WeakMap,sk),Ek=y.createContext(void 0),uo=t=>{const e=y.useContext(Ek);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},MI=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(Ek.Provider,{value:t,children:e})),Pk=y.createContext(!1),OI=()=>y.useContext(Pk);Pk.Provider;function DI(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var LI=y.createContext(DI()),FI=()=>y.useContext(LI),$I=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},UI=t=>{y.useEffect(()=>{t.clearReset()},[t])},BI=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||wk(n,[t.error,r])),VI=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},zI=(t,e)=>t.isLoading&&t.isFetching&&!e,WI=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Ob=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function HI(t,e,n){var m,v,b,k,N;const r=OI(),i=FI(),l=uo(),c=l.defaultQueryOptions(t);(v=(m=l.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||v.call(m,c),c._optimisticResults=r?"isRestoring":"optimistic",VI(c),$I(c,i),UI(i);const d=!l.getQueryCache().get(c.queryHash),[h]=y.useState(()=>new e(l,c)),f=h.getOptimisticResult(c),g=!r&&t.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(S=>{const _=g?h.subscribe(Tt.batchCalls(S)):Xt;return h.updateResult(),_},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),y.useEffect(()=>{h.setOptions(c)},[c,h]),WI(c,f))throw Ob(c,h,i);if(BI({result:f,errorResetBoundary:i,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw f.error;if((k=(b=l.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||k.call(b,c,f),c.experimental_prefetchInRender&&!no&&zI(f,r)){const S=d?Ob(c,h,i):(N=l.getQueryCache().get(c.queryHash))==null?void 0:N.promise;S==null||S.catch(Xt).finally(()=>{h.updateResult()})}return c.notifyOnChangeProps?f:h.trackResult(f)}function ci(t,e){return HI(t,jI)}function lc(t,e){const n=uo(),[r]=y.useState(()=>new AI(n,t));y.useEffect(()=>{r.setOptions(t)},[r,t]);const i=y.useSyncExternalStore(y.useCallback(c=>r.subscribe(Tt.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=y.useCallback((c,d)=>{r.mutate(c,d).catch(Xt)},[r]);if(i.error&&wk(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}function GI({children:t}){const[e]=y.useState(()=>new Ck({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,staleTime:3e5}}}));return o.jsx(MI,{client:e,children:t})}new Ck({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,staleTime:300*1e3}}});function ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Db(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vi(...t){return e=>{let n=!1;const r=t.map(i=>{const l=Db(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<r.length;i++){const l=r[i];typeof l=="function"?l():Db(t[i],null)}}}}function Ye(...t){return y.useCallback(vi(...t),t)}function KI(t,e){const n=y.createContext(e),r=l=>{const{children:c,...d}=l,h=y.useMemo(()=>d,Object.values(d));return o.jsx(n.Provider,{value:h,children:c})};r.displayName=t+"Provider";function i(l){const c=y.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[r,i]}function Un(t,e=[]){let n=[];function r(l,c){const d=y.createContext(c),h=n.length;n=[...n,c];const f=m=>{var _;const{scope:v,children:b,...k}=m,N=((_=v==null?void 0:v[t])==null?void 0:_[h])||d,S=y.useMemo(()=>k,Object.values(k));return o.jsx(N.Provider,{value:S,children:b})};f.displayName=l+"Provider";function g(m,v){var N;const b=((N=v==null?void 0:v[t])==null?void 0:N[h])||d,k=y.useContext(b);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${l}\``)}return[f,g]}const i=()=>{const l=n.map(c=>y.createContext(c));return function(d){const h=(d==null?void 0:d[t])||l;return y.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return i.scopeName=t,[r,qI(i,...e)]}function qI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=r.reduce((d,{useScope:h,scopeName:f})=>{const m=h(l)[`__scope${f}`];return{...d,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var Ih=ok();const YI=ik(Ih);function QI(t){const e=ZI(t),n=y.forwardRef((r,i)=>{const{children:l,...c}=r,d=y.Children.toArray(l),h=d.find(JI);if(h){const f=h.props.children,g=d.map(m=>m===h?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:m);return o.jsx(e,{...c,ref:i,children:y.isValidElement(f)?y.cloneElement(f,void 0,g):null})}return o.jsx(e,{...c,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}function ZI(t){const e=y.forwardRef((n,r)=>{const{children:i,...l}=n;if(y.isValidElement(i)){const c=t4(i),d=e4(l,i.props);return i.type!==y.Fragment&&(d.ref=r?vi(r,c):c),y.cloneElement(i,d)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var XI=Symbol("radix.slottable");function JI(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===XI}function e4(t,e){const n={...e};for(const r in e){const i=t[r],l=e[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function t4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var n4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=n4.reduce((t,e)=>{const n=QI(`Primitive.${e}`),r=y.forwardRef((i,l)=>{const{asChild:c,...d}=i,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...d,ref:l})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function My(t,e){t&&Ih.flushSync(()=>t.dispatchEvent(e))}function fn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function r4(t,e=globalThis==null?void 0:globalThis.document){const n=fn(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var s4="DismissableLayer",bg="dismissableLayer.update",i4="dismissableLayer.pointerDownOutside",o4="dismissableLayer.focusOutside",Lb,Tk=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mc=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...h}=t,f=y.useContext(Tk),[g,m]=y.useState(null),v=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=y.useState({}),k=Ye(e,R=>m(R)),N=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),_=N.indexOf(S),E=g?N.indexOf(g):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,P=E>=_,A=l4(R=>{const T=R.target,I=[...f.branches].some($=>$.contains(T));!P||I||(i==null||i(R),c==null||c(R),R.defaultPrevented||d==null||d())},v),O=c4(R=>{const T=R.target;[...f.branches].some($=>$.contains(T))||(l==null||l(R),c==null||c(R),R.defaultPrevented||d==null||d())},v);return r4(R=>{E===f.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},v),y.useEffect(()=>{if(g)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Lb=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),Fb(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Lb)}},[g,v,n,f]),y.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),Fb())},[g,f]),y.useEffect(()=>{const R=()=>b({});return document.addEventListener(bg,R),()=>document.removeEventListener(bg,R)},[]),o.jsx($e.div,{...h,ref:k,style:{pointerEvents:j?P?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,A.onPointerDownCapture)})});Mc.displayName=s4;var a4="DismissableLayerBranch",Rk=y.forwardRef((t,e)=>{const n=y.useContext(Tk),r=y.useRef(null),i=Ye(e,r);return y.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),o.jsx($e.div,{...t,ref:i})});Rk.displayName=a4;function l4(t,e=globalThis==null?void 0:globalThis.document){const n=fn(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let h=function(){Ak(i4,n,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function c4(t,e=globalThis==null?void 0:globalThis.document){const n=fn(t),r=y.useRef(!1);return y.useEffect(()=>{const i=l=>{l.target&&!r.current&&Ak(o4,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Fb(){const t=new CustomEvent(bg);document.dispatchEvent(t)}function Ak(t,e,n,{discrete:r}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?My(i,l):i.dispatchEvent(l)}var u4=Mc,d4=Rk,Fn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},h4=Ah[" useId ".trim().toString()]||(()=>{}),f4=0;function Xi(t){const[e,n]=y.useState(h4());return Fn(()=>{n(r=>r??String(f4++))},[t]),e?`radix-${e}`:""}const p4=["top","right","bottom","left"],ui=Math.min,vn=Math.max,qd=Math.round,ld=Math.floor,jr=t=>({x:t,y:t}),m4={left:"right",right:"left",bottom:"top",top:"bottom"},g4={start:"end",end:"start"};function Sg(t,e,n){return vn(t,ui(e,n))}function cs(t,e){return typeof t=="function"?t(e):t}function us(t){return t.split("-")[0]}function Va(t){return t.split("-")[1]}function Oy(t){return t==="x"?"y":"x"}function Dy(t){return t==="y"?"height":"width"}const y4=new Set(["top","bottom"]);function kr(t){return y4.has(us(t))?"y":"x"}function Ly(t){return Oy(kr(t))}function v4(t,e,n){n===void 0&&(n=!1);const r=Va(t),i=Ly(t),l=Dy(i);let c=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Yd(c)),[c,Yd(c)]}function x4(t){const e=Yd(t);return[Ng(t),e,Ng(e)]}function Ng(t){return t.replace(/start|end/g,e=>g4[e])}const $b=["left","right"],Ub=["right","left"],w4=["top","bottom"],b4=["bottom","top"];function S4(t,e,n){switch(t){case"top":case"bottom":return n?e?Ub:$b:e?$b:Ub;case"left":case"right":return e?w4:b4;default:return[]}}function N4(t,e,n,r){const i=Va(t);let l=S4(us(t),n==="start",r);return i&&(l=l.map(c=>c+"-"+i),e&&(l=l.concat(l.map(Ng)))),l}function Yd(t){return t.replace(/left|right|bottom|top/g,e=>m4[e])}function k4(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ik(t){return typeof t!="number"?k4(t):{top:t,right:t,bottom:t,left:t}}function Qd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Bb(t,e,n){let{reference:r,floating:i}=t;const l=kr(e),c=Ly(e),d=Dy(c),h=us(e),f=l==="y",g=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,v=r[d]/2-i[d]/2;let b;switch(h){case"top":b={x:g,y:r.y-i.height};break;case"bottom":b={x:g,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-i.width,y:m};break;default:b={x:r.x,y:r.y}}switch(Va(e)){case"start":b[c]-=v*(n&&f?-1:1);break;case"end":b[c]+=v*(n&&f?-1:1);break}return b}const _4=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:l=[],platform:c}=n,d=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let f=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:m}=Bb(f,r,h),v=r,b={},k=0;for(let N=0;N<d.length;N++){const{name:S,fn:_}=d[N],{x:E,y:j,data:P,reset:A}=await _({x:g,y:m,initialPlacement:r,placement:v,strategy:i,middlewareData:b,rects:f,platform:c,elements:{reference:t,floating:e}});g=E??g,m=j??m,b={...b,[S]:{...b[S],...P}},A&&k<=50&&(k++,typeof A=="object"&&(A.placement&&(v=A.placement),A.rects&&(f=A.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:g,y:m}=Bb(f,v,h)),N=-1)}return{x:g,y:m,placement:v,strategy:i,middlewareData:b}};async function cc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:l,rects:c,elements:d,strategy:h}=t,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:v=!1,padding:b=0}=cs(e,t),k=Ik(b),S=d[v?m==="floating"?"reference":"floating":m],_=Qd(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(S)))==null||n?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:f,rootBoundary:g,strategy:h})),E=m==="floating"?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,j=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),P=await(l.isElement==null?void 0:l.isElement(j))?await(l.getScale==null?void 0:l.getScale(j))||{x:1,y:1}:{x:1,y:1},A=Qd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:j,strategy:h}):E);return{top:(_.top-A.top+k.top)/P.y,bottom:(A.bottom-_.bottom+k.bottom)/P.y,left:(_.left-A.left+k.left)/P.x,right:(A.right-_.right+k.right)/P.x}}const j4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:l,platform:c,elements:d,middlewareData:h}=e,{element:f,padding:g=0}=cs(t,e)||{};if(f==null)return{};const m=Ik(g),v={x:n,y:r},b=Ly(i),k=Dy(b),N=await c.getDimensions(f),S=b==="y",_=S?"top":"left",E=S?"bottom":"right",j=S?"clientHeight":"clientWidth",P=l.reference[k]+l.reference[b]-v[b]-l.floating[k],A=v[b]-l.reference[b],O=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let R=O?O[j]:0;(!R||!await(c.isElement==null?void 0:c.isElement(O)))&&(R=d.floating[j]||l.floating[k]);const T=P/2-A/2,I=R/2-N[k]/2-1,$=ui(m[_],I),Y=ui(m[E],I),W=$,Z=R-N[k]-Y,Q=R/2-N[k]/2+T,ue=Sg(W,Q,Z),ce=!h.arrow&&Va(i)!=null&&Q!==ue&&l.reference[k]/2-(Q<W?$:Y)-N[k]/2<0,ie=ce?Q<W?Q-W:Q-Z:0;return{[b]:v[b]+ie,data:{[b]:ue,centerOffset:Q-ue-ie,...ce&&{alignmentOffset:ie}},reset:ce}}}),C4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:l,rects:c,initialPlacement:d,platform:h,elements:f}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:N=!0,...S}=cs(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const _=us(i),E=kr(d),j=us(d)===d,P=await(h.isRTL==null?void 0:h.isRTL(f.floating)),A=v||(j||!N?[Yd(d)]:x4(d)),O=k!=="none";!v&&O&&A.push(...N4(d,N,k,P));const R=[d,...A],T=await cc(e,S),I=[];let $=((r=l.flip)==null?void 0:r.overflows)||[];if(g&&I.push(T[_]),m){const Q=v4(i,c,P);I.push(T[Q[0]],T[Q[1]])}if($=[...$,{placement:i,overflows:I}],!I.every(Q=>Q<=0)){var Y,W;const Q=(((Y=l.flip)==null?void 0:Y.index)||0)+1,ue=R[Q];if(ue&&(!(m==="alignment"?E!==kr(ue):!1)||$.every(V=>kr(V.placement)===E?V.overflows[0]>0:!0)))return{data:{index:Q,overflows:$},reset:{placement:ue}};let ce=(W=$.filter(ie=>ie.overflows[0]<=0).sort((ie,V)=>ie.overflows[1]-V.overflows[1])[0])==null?void 0:W.placement;if(!ce)switch(b){case"bestFit":{var Z;const ie=(Z=$.filter(V=>{if(O){const B=kr(V.placement);return B===E||B==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(B=>B>0).reduce((B,X)=>B+X,0)]).sort((V,B)=>V[1]-B[1])[0])==null?void 0:Z[0];ie&&(ce=ie);break}case"initialPlacement":ce=d;break}if(i!==ce)return{reset:{placement:ce}}}return{}}}};function Vb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function zb(t){return p4.some(e=>t[e]>=0)}const E4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=cs(t,e);switch(r){case"referenceHidden":{const l=await cc(e,{...i,elementContext:"reference"}),c=Vb(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:zb(c)}}}case"escaped":{const l=await cc(e,{...i,altBoundary:!0}),c=Vb(l,n.floating);return{data:{escapedOffsets:c,escaped:zb(c)}}}default:return{}}}}},Mk=new Set(["left","top"]);async function P4(t,e){const{placement:n,platform:r,elements:i}=t,l=await(r.isRTL==null?void 0:r.isRTL(i.floating)),c=us(n),d=Va(n),h=kr(n)==="y",f=Mk.has(c)?-1:1,g=l&&h?-1:1,m=cs(e,t);let{mainAxis:v,crossAxis:b,alignmentAxis:k}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return d&&typeof k=="number"&&(b=d==="end"?k*-1:k),h?{x:b*g,y:v*f}:{x:v*f,y:b*g}}const T4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:l,placement:c,middlewareData:d}=e,h=await P4(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:{...h,placement:c}}}}},R4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:S=>{let{x:_,y:E}=S;return{x:_,y:E}}},...h}=cs(t,e),f={x:n,y:r},g=await cc(e,h),m=kr(us(i)),v=Oy(m);let b=f[v],k=f[m];if(l){const S=v==="y"?"top":"left",_=v==="y"?"bottom":"right",E=b+g[S],j=b-g[_];b=Sg(E,b,j)}if(c){const S=m==="y"?"top":"left",_=m==="y"?"bottom":"right",E=k+g[S],j=k-g[_];k=Sg(E,k,j)}const N=d.fn({...e,[v]:b,[m]:k});return{...N,data:{x:N.x-n,y:N.y-r,enabled:{[v]:l,[m]:c}}}}}},A4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:h=!0,crossAxis:f=!0}=cs(t,e),g={x:n,y:r},m=kr(i),v=Oy(m);let b=g[v],k=g[m];const N=cs(d,e),S=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(h){const j=v==="y"?"height":"width",P=l.reference[v]-l.floating[j]+S.mainAxis,A=l.reference[v]+l.reference[j]-S.mainAxis;b<P?b=P:b>A&&(b=A)}if(f){var _,E;const j=v==="y"?"width":"height",P=Mk.has(us(i)),A=l.reference[m]-l.floating[j]+(P&&((_=c.offset)==null?void 0:_[m])||0)+(P?0:S.crossAxis),O=l.reference[m]+l.reference[j]+(P?0:((E=c.offset)==null?void 0:E[m])||0)-(P?S.crossAxis:0);k<A?k=A:k>O&&(k=O)}return{[v]:b,[m]:k}}}},I4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:l,platform:c,elements:d}=e,{apply:h=()=>{},...f}=cs(t,e),g=await cc(e,f),m=us(i),v=Va(i),b=kr(i)==="y",{width:k,height:N}=l.floating;let S,_;m==="top"||m==="bottom"?(S=m,_=v===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(_=m,S=v==="end"?"top":"bottom");const E=N-g.top-g.bottom,j=k-g.left-g.right,P=ui(N-g[S],E),A=ui(k-g[_],j),O=!e.middlewareData.shift;let R=P,T=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=E),O&&!v){const $=vn(g.left,0),Y=vn(g.right,0),W=vn(g.top,0),Z=vn(g.bottom,0);b?T=k-2*($!==0||Y!==0?$+Y:vn(g.left,g.right)):R=N-2*(W!==0||Z!==0?W+Z:vn(g.top,g.bottom))}await h({...e,availableWidth:T,availableHeight:R});const I=await c.getDimensions(d.floating);return k!==I.width||N!==I.height?{reset:{rects:!0}}:{}}}};function Mh(){return typeof window<"u"}function za(t){return Ok(t)?(t.nodeName||"").toLowerCase():"#document"}function wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Mr(t){var e;return(e=(Ok(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ok(t){return Mh()?t instanceof Node||t instanceof wn(t).Node:!1}function ar(t){return Mh()?t instanceof Element||t instanceof wn(t).Element:!1}function Ar(t){return Mh()?t instanceof HTMLElement||t instanceof wn(t).HTMLElement:!1}function Wb(t){return!Mh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wn(t).ShadowRoot}const M4=new Set(["inline","contents"]);function Oc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=lr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!M4.has(i)}const O4=new Set(["table","td","th"]);function D4(t){return O4.has(za(t))}const L4=[":popover-open",":modal"];function Oh(t){return L4.some(e=>{try{return t.matches(e)}catch{return!1}})}const F4=["transform","translate","scale","rotate","perspective"],$4=["transform","translate","scale","rotate","perspective","filter"],U4=["paint","layout","strict","content"];function Fy(t){const e=$y(),n=ar(t)?lr(t):t;return F4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||$4.some(r=>(n.willChange||"").includes(r))||U4.some(r=>(n.contain||"").includes(r))}function B4(t){let e=di(t);for(;Ar(e)&&!Na(e);){if(Fy(e))return e;if(Oh(e))return null;e=di(e)}return null}function $y(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const V4=new Set(["html","body","#document"]);function Na(t){return V4.has(za(t))}function lr(t){return wn(t).getComputedStyle(t)}function Dh(t){return ar(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function di(t){if(za(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Wb(t)&&t.host||Mr(t);return Wb(e)?e.host:e}function Dk(t){const e=di(t);return Na(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ar(e)&&Oc(e)?e:Dk(e)}function uc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Dk(t),l=i===((r=t.ownerDocument)==null?void 0:r.body),c=wn(i);if(l){const d=kg(c);return e.concat(c,c.visualViewport||[],Oc(i)?i:[],d&&n?uc(d):[])}return e.concat(i,uc(i,[],n))}function kg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Lk(t){const e=lr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ar(t),l=i?t.offsetWidth:n,c=i?t.offsetHeight:r,d=qd(n)!==l||qd(r)!==c;return d&&(n=l,r=c),{width:n,height:r,$:d}}function Uy(t){return ar(t)?t:t.contextElement}function sa(t){const e=Uy(t);if(!Ar(e))return jr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:l}=Lk(e);let c=(l?qd(n.width):n.width)/r,d=(l?qd(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const z4=jr(0);function Fk(t){const e=wn(t);return!$y()||!e.visualViewport?z4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function W4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wn(t)?!1:e}function so(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=Uy(t);let c=jr(1);e&&(r?ar(r)&&(c=sa(r)):c=sa(t));const d=W4(l,n,r)?Fk(l):jr(0);let h=(i.left+d.x)/c.x,f=(i.top+d.y)/c.y,g=i.width/c.x,m=i.height/c.y;if(l){const v=wn(l),b=r&&ar(r)?wn(r):r;let k=v,N=kg(k);for(;N&&r&&b!==k;){const S=sa(N),_=N.getBoundingClientRect(),E=lr(N),j=_.left+(N.clientLeft+parseFloat(E.paddingLeft))*S.x,P=_.top+(N.clientTop+parseFloat(E.paddingTop))*S.y;h*=S.x,f*=S.y,g*=S.x,m*=S.y,h+=j,f+=P,k=wn(N),N=kg(k)}}return Qd({width:g,height:m,x:h,y:f})}function Lh(t,e){const n=Dh(t).scrollLeft;return e?e.left+n:so(Mr(t)).left+n}function $k(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Lh(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function H4(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const l=i==="fixed",c=Mr(r),d=e?Oh(e.floating):!1;if(r===c||d&&l)return n;let h={scrollLeft:0,scrollTop:0},f=jr(1);const g=jr(0),m=Ar(r);if((m||!m&&!l)&&((za(r)!=="body"||Oc(c))&&(h=Dh(r)),Ar(r))){const b=so(r);f=sa(r),g.x=b.x+r.clientLeft,g.y=b.y+r.clientTop}const v=c&&!m&&!l?$k(c,h):jr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+g.x+v.x,y:n.y*f.y-h.scrollTop*f.y+g.y+v.y}}function G4(t){return Array.from(t.getClientRects())}function K4(t){const e=Mr(t),n=Dh(t),r=t.ownerDocument.body,i=vn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=vn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Lh(t);const d=-n.scrollTop;return lr(r).direction==="rtl"&&(c+=vn(e.clientWidth,r.clientWidth)-i),{width:i,height:l,x:c,y:d}}const Hb=25;function q4(t,e){const n=wn(t),r=Mr(t),i=n.visualViewport;let l=r.clientWidth,c=r.clientHeight,d=0,h=0;if(i){l=i.width,c=i.height;const g=$y();(!g||g&&e==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}const f=Lh(r);if(f<=0){const g=r.ownerDocument,m=g.body,v=getComputedStyle(m),b=g.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,k=Math.abs(r.clientWidth-m.clientWidth-b);k<=Hb&&(l-=k)}else f<=Hb&&(l+=f);return{width:l,height:c,x:d,y:h}}const Y4=new Set(["absolute","fixed"]);function Q4(t,e){const n=so(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,l=Ar(t)?sa(t):jr(1),c=t.clientWidth*l.x,d=t.clientHeight*l.y,h=i*l.x,f=r*l.y;return{width:c,height:d,x:h,y:f}}function Gb(t,e,n){let r;if(e==="viewport")r=q4(t,n);else if(e==="document")r=K4(Mr(t));else if(ar(e))r=Q4(e,n);else{const i=Fk(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Qd(r)}function Uk(t,e){const n=di(t);return n===e||!ar(n)||Na(n)?!1:lr(n).position==="fixed"||Uk(n,e)}function Z4(t,e){const n=e.get(t);if(n)return n;let r=uc(t,[],!1).filter(d=>ar(d)&&za(d)!=="body"),i=null;const l=lr(t).position==="fixed";let c=l?di(t):t;for(;ar(c)&&!Na(c);){const d=lr(c),h=Fy(c);!h&&d.position==="fixed"&&(i=null),(l?!h&&!i:!h&&d.position==="static"&&!!i&&Y4.has(i.position)||Oc(c)&&!h&&Uk(t,c))?r=r.filter(g=>g!==c):i=d,c=di(c)}return e.set(t,r),r}function X4(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const c=[...n==="clippingAncestors"?Oh(e)?[]:Z4(e,this._c):[].concat(n),r],d=c[0],h=c.reduce((f,g)=>{const m=Gb(e,g,i);return f.top=vn(m.top,f.top),f.right=ui(m.right,f.right),f.bottom=ui(m.bottom,f.bottom),f.left=vn(m.left,f.left),f},Gb(e,d,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function J4(t){const{width:e,height:n}=Lk(t);return{width:e,height:n}}function eM(t,e,n){const r=Ar(e),i=Mr(e),l=n==="fixed",c=so(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const h=jr(0);function f(){h.x=Lh(i)}if(r||!r&&!l)if((za(e)!=="body"||Oc(i))&&(d=Dh(e)),r){const b=so(e,!0,l,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else i&&f();l&&!r&&i&&f();const g=i&&!r&&!l?$k(i,d):jr(0),m=c.left+d.scrollLeft-h.x-g.x,v=c.top+d.scrollTop-h.y-g.y;return{x:m,y:v,width:c.width,height:c.height}}function xm(t){return lr(t).position==="static"}function Kb(t,e){if(!Ar(t)||lr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Mr(t)===n&&(n=n.ownerDocument.body),n}function Bk(t,e){const n=wn(t);if(Oh(t))return n;if(!Ar(t)){let i=di(t);for(;i&&!Na(i);){if(ar(i)&&!xm(i))return i;i=di(i)}return n}let r=Kb(t,e);for(;r&&D4(r)&&xm(r);)r=Kb(r,e);return r&&Na(r)&&xm(r)&&!Fy(r)?n:r||B4(t)||n}const tM=async function(t){const e=this.getOffsetParent||Bk,n=this.getDimensions,r=await n(t.floating);return{reference:eM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nM(t){return lr(t).direction==="rtl"}const rM={convertOffsetParentRelativeRectToViewportRelativeRect:H4,getDocumentElement:Mr,getClippingRect:X4,getOffsetParent:Bk,getElementRects:tM,getClientRects:G4,getDimensions:J4,getScale:sa,isElement:ar,isRTL:nM};function Vk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sM(t,e){let n=null,r;const i=Mr(t);function l(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const f=t.getBoundingClientRect(),{left:g,top:m,width:v,height:b}=f;if(d||e(),!v||!b)return;const k=ld(m),N=ld(i.clientWidth-(g+v)),S=ld(i.clientHeight-(m+b)),_=ld(g),j={rootMargin:-k+"px "+-N+"px "+-S+"px "+-_+"px",threshold:vn(0,ui(1,h))||1};let P=!0;function A(O){const R=O[0].intersectionRatio;if(R!==h){if(!P)return c();R?c(!1,R):r=setTimeout(()=>{c(!1,1e-7)},1e3)}R===1&&!Vk(f,t.getBoundingClientRect())&&c(),P=!1}try{n=new IntersectionObserver(A,{...j,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,j)}n.observe(t)}return c(!0),l}function iM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,f=Uy(t),g=i||l?[...f?uc(f):[],...uc(e)]:[];g.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),l&&_.addEventListener("resize",n)});const m=f&&d?sM(f,n):null;let v=-1,b=null;c&&(b=new ResizeObserver(_=>{let[E]=_;E&&E.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var j;(j=b)==null||j.observe(e)})),n()}),f&&!h&&b.observe(f),b.observe(e));let k,N=h?so(t):null;h&&S();function S(){const _=so(t);N&&!Vk(N,_)&&n(),N=_,k=requestAnimationFrame(S)}return n(),()=>{var _;g.forEach(E=>{i&&E.removeEventListener("scroll",n),l&&E.removeEventListener("resize",n)}),m==null||m(),(_=b)==null||_.disconnect(),b=null,h&&cancelAnimationFrame(k)}}const oM=T4,aM=R4,lM=C4,cM=I4,uM=E4,qb=j4,dM=A4,hM=(t,e,n)=>{const r=new Map,i={platform:rM,...n},l={...i.platform,_c:r};return _4(t,e,{...i,platform:l})};var fM=typeof document<"u",pM=function(){},Ed=fM?y.useLayoutEffect:pM;function Zd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Zd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const l=i[r];if(!(l==="_owner"&&t.$$typeof)&&!Zd(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function zk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Yb(t,e){const n=zk(t);return Math.round(e*n)/n}function wm(t){const e=y.useRef(t);return Ed(()=>{e.current=t}),e}function mM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:h,open:f}=t,[g,m]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,b]=y.useState(r);Zd(v,r)||b(r);const[k,N]=y.useState(null),[S,_]=y.useState(null),E=y.useCallback(V=>{V!==O.current&&(O.current=V,N(V))},[]),j=y.useCallback(V=>{V!==R.current&&(R.current=V,_(V))},[]),P=l||k,A=c||S,O=y.useRef(null),R=y.useRef(null),T=y.useRef(g),I=h!=null,$=wm(h),Y=wm(i),W=wm(f),Z=y.useCallback(()=>{if(!O.current||!R.current)return;const V={placement:e,strategy:n,middleware:v};Y.current&&(V.platform=Y.current),hM(O.current,R.current,V).then(B=>{const X={...B,isPositioned:W.current!==!1};Q.current&&!Zd(T.current,X)&&(T.current=X,Ih.flushSync(()=>{m(X)}))})},[v,e,n,Y,W]);Ed(()=>{f===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,m(V=>({...V,isPositioned:!1})))},[f]);const Q=y.useRef(!1);Ed(()=>(Q.current=!0,()=>{Q.current=!1}),[]),Ed(()=>{if(P&&(O.current=P),A&&(R.current=A),P&&A){if($.current)return $.current(P,A,Z);Z()}},[P,A,Z,$,I]);const ue=y.useMemo(()=>({reference:O,floating:R,setReference:E,setFloating:j}),[E,j]),ce=y.useMemo(()=>({reference:P,floating:A}),[P,A]),ie=y.useMemo(()=>{const V={position:n,left:0,top:0};if(!ce.floating)return V;const B=Yb(ce.floating,g.x),X=Yb(ce.floating,g.y);return d?{...V,transform:"translate("+B+"px, "+X+"px)",...zk(ce.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:X}},[n,d,ce.floating,g.x,g.y]);return y.useMemo(()=>({...g,update:Z,refs:ue,elements:ce,floatingStyles:ie}),[g,Z,ue,ce,ie])}const gM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?qb({element:r.current,padding:i}).fn(n):{}:r?qb({element:r,padding:i}).fn(n):{}}}},yM=(t,e)=>({...oM(t),options:[t,e]}),vM=(t,e)=>({...aM(t),options:[t,e]}),xM=(t,e)=>({...dM(t),options:[t,e]}),wM=(t,e)=>({...lM(t),options:[t,e]}),bM=(t,e)=>({...cM(t),options:[t,e]}),SM=(t,e)=>({...uM(t),options:[t,e]}),NM=(t,e)=>({...gM(t),options:[t,e]});var kM="Arrow",Wk=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...l}=t;return o.jsx($e.svg,{...l,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Wk.displayName=kM;var _M=Wk;function Fh(t){const[e,n]=y.useState(void 0);return Fn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let c,d;if("borderBoxSize"in l){const h=l.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,d=f.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var By="Popper",[Hk,$h]=Un(By),[jM,Gk]=Hk(By),Kk=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return o.jsx(jM,{scope:e,anchor:r,onAnchorChange:i,children:n})};Kk.displayName=By;var qk="PopperAnchor",Yk=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,l=Gk(qk,n),c=y.useRef(null),d=Ye(e,c),h=y.useRef(null);return y.useEffect(()=>{const f=h.current;h.current=(r==null?void 0:r.current)||c.current,f!==h.current&&l.onAnchorChange(h.current)}),r?null:o.jsx($e.div,{...i,ref:d})});Yk.displayName=qk;var Vy="PopperContent",[CM,EM]=Hk(Vy),Qk=y.forwardRef((t,e)=>{var oe,ae,be,Ge,rn,Vn;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:k,...N}=t,S=Gk(Vy,n),[_,E]=y.useState(null),j=Ye(e,_t=>E(_t)),[P,A]=y.useState(null),O=Fh(P),R=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,I=r+(l!=="center"?"-"+l:""),$=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},Y=Array.isArray(f)?f:[f],W=Y.length>0,Z={padding:$,boundary:Y.filter(TM),altBoundary:W},{refs:Q,floatingStyles:ue,placement:ce,isPositioned:ie,middlewareData:V}=mM({strategy:"fixed",placement:I,whileElementsMounted:(..._t)=>iM(..._t,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[yM({mainAxis:i+T,alignmentAxis:c}),h&&vM({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?xM():void 0,...Z}),h&&wM({...Z}),bM({...Z,apply:({elements:_t,rects:zn,availableWidth:Fr,availableHeight:xo})=>{const{width:ys,height:Qa}=zn.reference,lt=_t.floating.style;lt.setProperty("--radix-popper-available-width",`${Fr}px`),lt.setProperty("--radix-popper-available-height",`${xo}px`),lt.setProperty("--radix-popper-anchor-width",`${ys}px`),lt.setProperty("--radix-popper-anchor-height",`${Qa}px`)}}),P&&NM({element:P,padding:d}),RM({arrowWidth:R,arrowHeight:T}),v&&SM({strategy:"referenceHidden",...Z})]}),[B,X]=Jk(ce),F=fn(k);Fn(()=>{ie&&(F==null||F())},[ie,F]);const G=(oe=V.arrow)==null?void 0:oe.x,me=(ae=V.arrow)==null?void 0:ae.y,_e=((be=V.arrow)==null?void 0:be.centerOffset)!==0,[Re,K]=y.useState();return Fn(()=>{_&&K(window.getComputedStyle(_).zIndex)},[_]),o.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:ie?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(Ge=V.transformOrigin)==null?void 0:Ge.x,(rn=V.transformOrigin)==null?void 0:rn.y].join(" "),...((Vn=V.hide)==null?void 0:Vn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(CM,{scope:n,placedSide:B,onArrowChange:A,arrowX:G,arrowY:me,shouldHideArrow:_e,children:o.jsx($e.div,{"data-side":B,"data-align":X,...N,ref:j,style:{...N.style,animation:ie?void 0:"none"}})})})});Qk.displayName=Vy;var Zk="PopperArrow",PM={top:"bottom",right:"left",bottom:"top",left:"right"},Xk=y.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,l=EM(Zk,r),c=PM[l.placedSide];return o.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:o.jsx(_M,{...i,ref:n,style:{...i.style,display:"block"}})})});Xk.displayName=Zk;function TM(t){return t!==null}var RM=t=>({name:"transformOrigin",options:t,fn(e){var S,_,E;const{placement:n,rects:r,middlewareData:i}=e,c=((S=i.arrow)==null?void 0:S.centerOffset)!==0,d=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[f,g]=Jk(n),m={start:"0%",center:"50%",end:"100%"}[g],v=(((_=i.arrow)==null?void 0:_.x)??0)+d/2,b=(((E=i.arrow)==null?void 0:E.y)??0)+h/2;let k="",N="";return f==="bottom"?(k=c?m:`${v}px`,N=`${-h}px`):f==="top"?(k=c?m:`${v}px`,N=`${r.floating.height+h}px`):f==="right"?(k=`${-h}px`,N=c?m:`${b}px`):f==="left"&&(k=`${r.floating.width+h}px`,N=c?m:`${b}px`),{data:{x:k,y:N}}}});function Jk(t){const[e,n="center"]=t.split("-");return[e,n]}var e_=Kk,t_=Yk,n_=Qk,r_=Xk,AM="Portal",Uh=y.forwardRef((t,e)=>{var d;const{container:n,...r}=t,[i,l]=y.useState(!1);Fn(()=>l(!0),[]);const c=n||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?YI.createPortal(o.jsx($e.div,{...r,ref:e}),c):null});Uh.displayName=AM;function IM(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var ur=t=>{const{present:e,children:n}=t,r=MM(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),l=Ye(r.ref,OM(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:l}):null};ur.displayName="Presence";function MM(t){const[e,n]=y.useState(),r=y.useRef(null),i=y.useRef(t),l=y.useRef("none"),c=t?"mounted":"unmounted",[d,h]=IM(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const f=cd(r.current);l.current=d==="mounted"?f:"none"},[d]),Fn(()=>{const f=r.current,g=i.current;if(g!==t){const v=l.current,b=cd(f);t?h("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(g&&v!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),Fn(()=>{if(e){let f;const g=e.ownerDocument.defaultView??window,m=b=>{const N=cd(r.current).includes(CSS.escape(b.animationName));if(b.target===e&&N&&(h("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",f=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},v=b=>{b.target===e&&(l.current=cd(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(f),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:y.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function cd(t){return(t==null?void 0:t.animationName)||"none"}function OM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var DM=Symbol("radix.slottable");function LM(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=DM,e}var FM=Ah[" useInsertionEffect ".trim().toString()]||Fn;function xi({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,l,c]=$M({defaultProp:e,onChange:n}),d=t!==void 0,h=d?t:i;{const g=y.useRef(t!==void 0);y.useEffect(()=>{const m=g.current;m!==d&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,r])}const f=y.useCallback(g=>{var m;if(d){const v=UM(g)?g(t):g;v!==t&&((m=c.current)==null||m.call(c,v))}else l(g)},[d,t,l,c]);return[h,f]}function $M({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),i=y.useRef(n),l=y.useRef(e);return FM(()=>{l.current=e},[e]),y.useEffect(()=>{var c;i.current!==n&&((c=l.current)==null||c.call(l,n),i.current=n)},[n,i]),[n,r,l]}function UM(t){return typeof t=="function"}var BM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),VM="VisuallyHidden",Bh=y.forwardRef((t,e)=>o.jsx($e.span,{...t,ref:e,style:{...BM,...t.style}}));Bh.displayName=VM;var zM=Bh,[Vh]=Un("Tooltip",[$h]),zh=$h(),s_="TooltipProvider",WM=700,_g="tooltip.open",[HM,zy]=Vh(s_),i_=t=>{const{__scopeTooltip:e,delayDuration:n=WM,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:l}=t,c=y.useRef(!0),d=y.useRef(!1),h=y.useRef(0);return y.useEffect(()=>{const f=h.current;return()=>window.clearTimeout(f)},[]),o.jsx(HM,{scope:e,isOpenDelayedRef:c,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:y.useCallback(f=>{d.current=f},[]),disableHoverableContent:i,children:l})};i_.displayName=s_;var dc="Tooltip",[GM,Wh]=Vh(dc),o_=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:l,disableHoverableContent:c,delayDuration:d}=t,h=zy(dc,t.__scopeTooltip),f=zh(e),[g,m]=y.useState(null),v=Xi(),b=y.useRef(0),k=c??h.disableHoverableContent,N=d??h.delayDuration,S=y.useRef(!1),[_,E]=xi({prop:r,defaultProp:i??!1,onChange:R=>{R?(h.onOpen(),document.dispatchEvent(new CustomEvent(_g))):h.onClose(),l==null||l(R)},caller:dc}),j=y.useMemo(()=>_?S.current?"delayed-open":"instant-open":"closed",[_]),P=y.useCallback(()=>{window.clearTimeout(b.current),b.current=0,S.current=!1,E(!0)},[E]),A=y.useCallback(()=>{window.clearTimeout(b.current),b.current=0,E(!1)},[E]),O=y.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{S.current=!0,E(!0),b.current=0},N)},[N,E]);return y.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),o.jsx(e_,{...f,children:o.jsx(GM,{scope:e,contentId:v,open:_,stateAttribute:j,trigger:g,onTriggerChange:m,onTriggerEnter:y.useCallback(()=>{h.isOpenDelayedRef.current?O():P()},[h.isOpenDelayedRef,O,P]),onTriggerLeave:y.useCallback(()=>{k?A():(window.clearTimeout(b.current),b.current=0)},[A,k]),onOpen:P,onClose:A,disableHoverableContent:k,children:n})})};o_.displayName=dc;var jg="TooltipTrigger",a_=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Wh(jg,n),l=zy(jg,n),c=zh(n),d=y.useRef(null),h=Ye(e,d,i.onTriggerChange),f=y.useRef(!1),g=y.useRef(!1),m=y.useCallback(()=>f.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),o.jsx(t_,{asChild:!0,...c,children:o.jsx($e.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:h,onPointerMove:ye(t.onPointerMove,v=>{v.pointerType!=="touch"&&!g.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:ye(t.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:ye(t.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ye(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:ye(t.onBlur,i.onClose),onClick:ye(t.onClick,i.onClose)})})});a_.displayName=jg;var KM="TooltipPortal",[vG,qM]=Vh(KM,{forceMount:void 0}),ka="TooltipContent",l_=y.forwardRef((t,e)=>{const n=qM(ka,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...l}=t,c=Wh(ka,t.__scopeTooltip);return o.jsx(ur,{present:r||c.open,children:c.disableHoverableContent?o.jsx(c_,{side:i,...l,ref:e}):o.jsx(YM,{side:i,...l,ref:e})})}),YM=y.forwardRef((t,e)=>{const n=Wh(ka,t.__scopeTooltip),r=zy(ka,t.__scopeTooltip),i=y.useRef(null),l=Ye(e,i),[c,d]=y.useState(null),{trigger:h,onClose:f}=n,g=i.current,{onPointerInTransitChange:m}=r,v=y.useCallback(()=>{d(null),m(!1)},[m]),b=y.useCallback((k,N)=>{const S=k.currentTarget,_={x:k.clientX,y:k.clientY},E=e5(_,S.getBoundingClientRect()),j=t5(_,E),P=n5(N.getBoundingClientRect()),A=s5([...j,...P]);d(A),m(!0)},[m]);return y.useEffect(()=>()=>v(),[v]),y.useEffect(()=>{if(h&&g){const k=S=>b(S,g),N=S=>b(S,h);return h.addEventListener("pointerleave",k),g.addEventListener("pointerleave",N),()=>{h.removeEventListener("pointerleave",k),g.removeEventListener("pointerleave",N)}}},[h,g,b,v]),y.useEffect(()=>{if(c){const k=N=>{const S=N.target,_={x:N.clientX,y:N.clientY},E=(h==null?void 0:h.contains(S))||(g==null?void 0:g.contains(S)),j=!r5(_,c);E?v():j&&(v(),f())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[h,g,c,f,v]),o.jsx(c_,{...t,ref:l})}),[QM,ZM]=Vh(dc,{isInside:!1}),XM=LM("TooltipContent"),c_=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=t,h=Wh(ka,n),f=zh(n),{onClose:g}=h;return y.useEffect(()=>(document.addEventListener(_g,g),()=>document.removeEventListener(_g,g)),[g]),y.useEffect(()=>{if(h.trigger){const m=v=>{const b=v.target;b!=null&&b.contains(h.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[h.trigger,g]),o.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:o.jsxs(n_,{"data-state":h.stateAttribute,...f,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(XM,{children:r}),o.jsx(QM,{scope:n,isInside:!0,children:o.jsx(zM,{id:h.contentId,role:"tooltip",children:i||r})})]})})});l_.displayName=ka;var u_="TooltipArrow",JM=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=zh(n);return ZM(u_,n).isInside?null:o.jsx(r_,{...i,...r,ref:e})});JM.displayName=u_;function e5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),l=Math.abs(e.left-t.x);switch(Math.min(n,r,i,l)){case l:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function t5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function n5(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function r5(t,e){const{x:n,y:r}=t;let i=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l],h=e[c],f=d.x,g=d.y,m=h.x,v=h.y;g>r!=v>r&&n<(m-f)*(r-g)/(v-g)+f&&(i=!i)}return i}function s5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),i5(e)}function i5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const l=e[e.length-1],c=e[e.length-2];if((l.x-c.x)*(i.y-c.y)>=(l.y-c.y)*(i.x-c.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const l=n[n.length-1],c=n[n.length-2];if((l.x-c.x)*(i.y-c.y)>=(l.y-c.y)*(i.x-c.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var o5=i_,a5=o_,l5=a_,d_=l_;function h_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=h_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function f_(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=h_(t))&&(r&&(r+=" "),r+=e);return r}const Wy="-",c5=t=>{const e=d5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const d=c.split(Wy);return d[0]===""&&d.length!==1&&d.shift(),p_(d,e)||u5(c)},getConflictingClassGroupIds:(c,d)=>{const h=n[c]||[];return d&&r[c]?[...h,...r[c]]:h}}},p_=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?p_(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(Wy);return(c=e.validators.find(({validator:d})=>d(l)))==null?void 0:c.classGroupId},Qb=/^\[(.+)\]$/,u5=t=>{if(Qb.test(t)){const e=Qb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},d5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return f5(Object.entries(t.classGroups),n).forEach(([l,c])=>{Cg(c,r,l,e)}),r},Cg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:Zb(e,i);l.classGroupId=n;return}if(typeof i=="function"){if(h5(i)){Cg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,c])=>{Cg(c,Zb(e,l),n,r)})})},Zb=(t,e)=>{let n=t;return e.split(Wy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},h5=t=>t.isThemeGetter,f5=(t,e)=>e?t.map(([n,r])=>{const i=r.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,d])=>[e+c,d])):l);return[n,i]}):t,p5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(l,c)=>{n.set(l,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return i(l,c),c},set(l,c){n.has(l)?n.set(l,c):i(l,c)}}},m_="!",m5=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],l=e.length,c=d=>{const h=[];let f=0,g=0,m;for(let S=0;S<d.length;S++){let _=d[S];if(f===0){if(_===i&&(r||d.slice(S,S+l)===e)){h.push(d.slice(g,S)),g=S+l;continue}if(_==="/"){m=S;continue}}_==="["?f++:_==="]"&&f--}const v=h.length===0?d:d.substring(g),b=v.startsWith(m_),k=b?v.substring(1):v,N=m&&m>g?m-g:void 0;return{modifiers:h,hasImportantModifier:b,baseClassName:k,maybePostfixModifierPosition:N}};return n?d=>n({className:d,parseClassName:c}):c},g5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},y5=t=>({cache:p5(t.cacheSize),parseClassName:m5(t),...c5(t)}),v5=/\s+/,x5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,l=[],c=t.trim().split(v5);let d="";for(let h=c.length-1;h>=0;h-=1){const f=c[h],{modifiers:g,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:b}=n(f);let k=!!b,N=r(k?v.substring(0,b):v);if(!N){if(!k){d=f+(d.length>0?" "+d:d);continue}if(N=r(v),!N){d=f+(d.length>0?" "+d:d);continue}k=!1}const S=g5(g).join(":"),_=m?S+m_:S,E=_+N;if(l.includes(E))continue;l.push(E);const j=i(N,k);for(let P=0;P<j.length;++P){const A=j[P];l.push(_+A)}d=f+(d.length>0?" "+d:d)}return d};function w5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=g_(e))&&(r&&(r+=" "),r+=n);return r}const g_=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=g_(t[r]))&&(n&&(n+=" "),n+=e);return n};function b5(t,...e){let n,r,i,l=c;function c(h){const f=e.reduce((g,m)=>m(g),t());return n=y5(f),r=n.cache.get,i=n.cache.set,l=d,d(h)}function d(h){const f=r(h);if(f)return f;const g=x5(h,n);return i(h,g),g}return function(){return l(w5.apply(null,arguments))}}const ot=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},y_=/^\[(?:([a-z-]+):)?(.+)\]$/i,S5=/^\d+\/\d+$/,N5=new Set(["px","full","screen"]),k5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,C5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qr=t=>ia(t)||N5.has(t)||S5.test(t),Fs=t=>Wa(t,"length",D5),ia=t=>!!t&&!Number.isNaN(Number(t)),bm=t=>Wa(t,"number",ia),Dl=t=>!!t&&Number.isInteger(Number(t)),P5=t=>t.endsWith("%")&&ia(t.slice(0,-1)),Oe=t=>y_.test(t),$s=t=>k5.test(t),T5=new Set(["length","size","percentage"]),R5=t=>Wa(t,T5,v_),A5=t=>Wa(t,"position",v_),I5=new Set(["image","url"]),M5=t=>Wa(t,I5,F5),O5=t=>Wa(t,"",L5),Ll=()=>!0,Wa=(t,e,n)=>{const r=y_.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},D5=t=>_5.test(t)&&!j5.test(t),v_=()=>!1,L5=t=>C5.test(t),F5=t=>E5.test(t),$5=()=>{const t=ot("colors"),e=ot("spacing"),n=ot("blur"),r=ot("brightness"),i=ot("borderColor"),l=ot("borderRadius"),c=ot("borderSpacing"),d=ot("borderWidth"),h=ot("contrast"),f=ot("grayscale"),g=ot("hueRotate"),m=ot("invert"),v=ot("gap"),b=ot("gradientColorStops"),k=ot("gradientColorStopPositions"),N=ot("inset"),S=ot("margin"),_=ot("opacity"),E=ot("padding"),j=ot("saturate"),P=ot("scale"),A=ot("sepia"),O=ot("skew"),R=ot("space"),T=ot("translate"),I=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",Oe,e],W=()=>[Oe,e],Z=()=>["",qr,Fs],Q=()=>["auto",ia,Oe],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ce=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Oe],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[ia,Oe];return{cacheSize:500,separator:":",theme:{colors:[Ll],spacing:[qr,Fs],blur:["none","",$s,Oe],brightness:F(),borderColor:[t],borderRadius:["none","","full",$s,Oe],borderSpacing:W(),borderWidth:Z(),contrast:F(),grayscale:B(),hueRotate:F(),invert:B(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[P5,Fs],inset:Y(),margin:Y(),opacity:F(),padding:W(),saturate:F(),scale:F(),sepia:B(),skew:F(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[$s]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),Oe]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dl,Oe]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Dl,Oe]}],"grid-cols":[{"grid-cols":[Ll]}],"col-start-end":[{col:["auto",{span:["full",Dl,Oe]},Oe]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[Ll]}],"row-start-end":[{row:["auto",{span:[Dl,Oe]},Oe]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Oe,e]}],"min-w":[{"min-w":[Oe,e,"min","max","fit"]}],"max-w":[{"max-w":[Oe,e,"none","full","min","max","fit","prose",{screen:[$s]},$s]}],h:[{h:[Oe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Oe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Oe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Oe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$s,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bm]}],"font-family":[{font:[Ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",ia,bm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qr,Oe]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qr,Fs]}],"underline-offset":[{"underline-offset":["auto",qr,Oe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),A5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",R5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},M5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ce(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ce()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ce()]}],"outline-offset":[{"outline-offset":[qr,Oe]}],"outline-w":[{outline:[qr,Fs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[qr,Fs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$s,O5]}],"shadow-color":[{shadow:[Ll]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",$s,Oe]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Dl,Oe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[qr,Fs,bm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},U5=b5($5);function De(...t){return U5(f_(t))}const x_=o5,Xb=a5,Jb=l5,Eg=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(d_,{ref:r,sideOffset:e,className:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));Eg.displayName=d_.displayName;const B5=1,V5=1e6;let Sm=0;function z5(){return Sm=(Sm+1)%Number.MAX_SAFE_INTEGER,Sm.toString()}const Nm=new Map,e1=t=>{if(Nm.has(t))return;const e=setTimeout(()=>{Nm.delete(t),Ql({type:"REMOVE_TOAST",toastId:t})},V5);Nm.set(t,e)},W5=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,B5)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?e1(n):t.toasts.forEach(r=>{e1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Pd=[];let Td={toasts:[]};function Ql(t){Td=W5(Td,t),Pd.forEach(e=>{e(Td)})}function H5({...t}){const e=z5(),n=i=>Ql({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Ql({type:"DISMISS_TOAST",toastId:e});return Ql({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Ha(){const[t,e]=y.useState(Td);return y.useEffect(()=>(Pd.push(e),()=>{const n=Pd.indexOf(e);n>-1&&Pd.splice(n,1)}),[t]),{...t,toast:H5,dismiss:n=>Ql({type:"DISMISS_TOAST",toastId:n})}}function t1(t){const e=G5(t),n=y.forwardRef((r,i)=>{const{children:l,...c}=r,d=y.Children.toArray(l),h=d.find(q5);if(h){const f=h.props.children,g=d.map(m=>m===h?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:m);return o.jsx(e,{...c,ref:i,children:y.isValidElement(f)?y.cloneElement(f,void 0,g):null})}return o.jsx(e,{...c,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}function G5(t){const e=y.forwardRef((n,r)=>{const{children:i,...l}=n;if(y.isValidElement(i)){const c=Q5(i),d=Y5(l,i.props);return i.type!==y.Fragment&&(d.ref=r?vi(r,c):c),y.cloneElement(i,d)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var K5=Symbol("radix.slottable");function q5(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===K5}function Y5(t,e){const n={...e};for(const r in e){const i=t[r],l=e[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function Q5(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Hh(t){const e=t+"CollectionProvider",[n,r]=Un(e),[i,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=N=>{const{scope:S,children:_}=N,E=Ze.useRef(null),j=Ze.useRef(new Map).current;return o.jsx(i,{scope:S,itemMap:j,collectionRef:E,children:_})};c.displayName=e;const d=t+"CollectionSlot",h=t1(d),f=Ze.forwardRef((N,S)=>{const{scope:_,children:E}=N,j=l(d,_),P=Ye(S,j.collectionRef);return o.jsx(h,{ref:P,children:E})});f.displayName=d;const g=t+"CollectionItemSlot",m="data-radix-collection-item",v=t1(g),b=Ze.forwardRef((N,S)=>{const{scope:_,children:E,...j}=N,P=Ze.useRef(null),A=Ye(S,P),O=l(g,_);return Ze.useEffect(()=>(O.itemMap.set(P,{ref:P,...j}),()=>void O.itemMap.delete(P))),o.jsx(v,{[m]:"",ref:A,children:E})});b.displayName=g;function k(N){const S=l(t+"CollectionConsumer",N);return Ze.useCallback(()=>{const E=S.collectionRef.current;if(!E)return[];const j=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((O,R)=>j.indexOf(O.ref.current)-j.indexOf(R.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:f,ItemSlot:b},k,r]}var Hy="ToastProvider",[Gy,Z5,X5]=Hh("Toast"),[w_]=Un("Toast",[X5]),[J5,Gh]=w_(Hy),b_=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:l=50,children:c}=t,[d,h]=y.useState(null),[f,g]=y.useState(0),m=y.useRef(!1),v=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hy}\`. Expected non-empty \`string\`.`),o.jsx(Gy.Provider,{scope:e,children:o.jsx(J5,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:l,toastCount:f,viewport:d,onViewportChange:h,onToastAdd:y.useCallback(()=>g(b=>b+1),[]),onToastRemove:y.useCallback(()=>g(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:v,children:c})})};b_.displayName=Hy;var S_="ToastViewport",eO=["F8"],Pg="toast.viewportPause",Tg="toast.viewportResume",N_=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=eO,label:i="Notifications ({hotkey})",...l}=t,c=Gh(S_,n),d=Z5(n),h=y.useRef(null),f=y.useRef(null),g=y.useRef(null),m=y.useRef(null),v=Ye(e,m,c.onViewportChange),b=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=c.toastCount>0;y.useEffect(()=>{const S=_=>{var j;r.length!==0&&r.every(P=>_[P]||_.code===P)&&((j=m.current)==null||j.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),y.useEffect(()=>{const S=h.current,_=m.current;if(k&&S&&_){const E=()=>{if(!c.isClosePausedRef.current){const O=new CustomEvent(Pg);_.dispatchEvent(O),c.isClosePausedRef.current=!0}},j=()=>{if(c.isClosePausedRef.current){const O=new CustomEvent(Tg);_.dispatchEvent(O),c.isClosePausedRef.current=!1}},P=O=>{!S.contains(O.relatedTarget)&&j()},A=()=>{S.contains(document.activeElement)||j()};return S.addEventListener("focusin",E),S.addEventListener("focusout",P),S.addEventListener("pointermove",E),S.addEventListener("pointerleave",A),window.addEventListener("blur",E),window.addEventListener("focus",j),()=>{S.removeEventListener("focusin",E),S.removeEventListener("focusout",P),S.removeEventListener("pointermove",E),S.removeEventListener("pointerleave",A),window.removeEventListener("blur",E),window.removeEventListener("focus",j)}}},[k,c.isClosePausedRef]);const N=y.useCallback(({tabbingDirection:S})=>{const E=d().map(j=>{const P=j.ref.current,A=[P,...fO(P)];return S==="forwards"?A:A.reverse()});return(S==="forwards"?E.reverse():E).flat()},[d]);return y.useEffect(()=>{const S=m.current;if(S){const _=E=>{var A,O,R;const j=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!j){const T=document.activeElement,I=E.shiftKey;if(E.target===S&&I){(A=f.current)==null||A.focus();return}const W=N({tabbingDirection:I?"backwards":"forwards"}),Z=W.findIndex(Q=>Q===T);km(W.slice(Z+1))?E.preventDefault():I?(O=f.current)==null||O.focus():(R=g.current)==null||R.focus()}};return S.addEventListener("keydown",_),()=>S.removeEventListener("keydown",_)}},[d,N]),o.jsxs(d4,{ref:h,role:"region","aria-label":i.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&o.jsx(Rg,{ref:f,onFocusFromOutsideViewport:()=>{const S=N({tabbingDirection:"forwards"});km(S)}}),o.jsx(Gy.Slot,{scope:n,children:o.jsx($e.ol,{tabIndex:-1,...l,ref:v})}),k&&o.jsx(Rg,{ref:g,onFocusFromOutsideViewport:()=>{const S=N({tabbingDirection:"backwards"});km(S)}})]})});N_.displayName=S_;var k_="ToastFocusProxy",Rg=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,l=Gh(k_,n);return o.jsx(Bh,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:c=>{var f;const d=c.relatedTarget;!((f=l.viewport)!=null&&f.contains(d))&&r()}})});Rg.displayName=k_;var Dc="Toast",tO="toast.swipeStart",nO="toast.swipeMove",rO="toast.swipeCancel",sO="toast.swipeEnd",__=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:l,...c}=t,[d,h]=xi({prop:r,defaultProp:i??!0,onChange:l,caller:Dc});return o.jsx(ur,{present:n||d,children:o.jsx(aO,{open:d,...c,ref:e,onClose:()=>h(!1),onPause:fn(t.onPause),onResume:fn(t.onResume),onSwipeStart:ye(t.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(t.onSwipeMove,f=>{const{x:g,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ye(t.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(t.onSwipeEnd,f=>{const{x:g,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),h(!1)})})})});__.displayName=Dc;var[iO,oO]=w_(Dc,{onClose(){}}),aO=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:l,onClose:c,onEscapeKeyDown:d,onPause:h,onResume:f,onSwipeStart:g,onSwipeMove:m,onSwipeCancel:v,onSwipeEnd:b,...k}=t,N=Gh(Dc,n),[S,_]=y.useState(null),E=Ye(e,Q=>_(Q)),j=y.useRef(null),P=y.useRef(null),A=i||N.duration,O=y.useRef(0),R=y.useRef(A),T=y.useRef(0),{onToastAdd:I,onToastRemove:$}=N,Y=fn(()=>{var ue;(S==null?void 0:S.contains(document.activeElement))&&((ue=N.viewport)==null||ue.focus()),c()}),W=y.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(T.current),O.current=new Date().getTime(),T.current=window.setTimeout(Y,Q))},[Y]);y.useEffect(()=>{const Q=N.viewport;if(Q){const ue=()=>{W(R.current),f==null||f()},ce=()=>{const ie=new Date().getTime()-O.current;R.current=R.current-ie,window.clearTimeout(T.current),h==null||h()};return Q.addEventListener(Pg,ce),Q.addEventListener(Tg,ue),()=>{Q.removeEventListener(Pg,ce),Q.removeEventListener(Tg,ue)}}},[N.viewport,A,h,f,W]),y.useEffect(()=>{l&&!N.isClosePausedRef.current&&W(A)},[l,A,N.isClosePausedRef,W]),y.useEffect(()=>(I(),()=>$()),[I,$]);const Z=y.useMemo(()=>S?A_(S):null,[S]);return N.viewport?o.jsxs(o.Fragment,{children:[Z&&o.jsx(lO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:Z}),o.jsx(iO,{scope:n,onClose:Y,children:Ih.createPortal(o.jsx(Gy.ItemSlot,{scope:n,children:o.jsx(u4,{asChild:!0,onEscapeKeyDown:ye(d,()=>{N.isFocusedToastEscapeKeyDownRef.current||Y(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx($e.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":N.swipeDirection,...k,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ye(t.onKeyDown,Q=>{Q.key==="Escape"&&(d==null||d(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,Y()))}),onPointerDown:ye(t.onPointerDown,Q=>{Q.button===0&&(j.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:ye(t.onPointerMove,Q=>{if(!j.current)return;const ue=Q.clientX-j.current.x,ce=Q.clientY-j.current.y,ie=!!P.current,V=["left","right"].includes(N.swipeDirection),B=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,X=V?B(0,ue):0,F=V?0:B(0,ce),G=Q.pointerType==="touch"?10:2,me={x:X,y:F},_e={originalEvent:Q,delta:me};ie?(P.current=me,ud(nO,m,_e,{discrete:!1})):n1(me,N.swipeDirection,G)?(P.current=me,ud(tO,g,_e,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(ue)>G||Math.abs(ce)>G)&&(j.current=null)}),onPointerUp:ye(t.onPointerUp,Q=>{const ue=P.current,ce=Q.target;if(ce.hasPointerCapture(Q.pointerId)&&ce.releasePointerCapture(Q.pointerId),P.current=null,j.current=null,ue){const ie=Q.currentTarget,V={originalEvent:Q,delta:ue};n1(ue,N.swipeDirection,N.swipeThreshold)?ud(sO,b,V,{discrete:!0}):ud(rO,v,V,{discrete:!0}),ie.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),lO=t=>{const{__scopeToast:e,children:n,...r}=t,i=Gh(Dc,e),[l,c]=y.useState(!1),[d,h]=y.useState(!1);return dO(()=>c(!0)),y.useEffect(()=>{const f=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(f)},[]),d?null:o.jsx(Uh,{asChild:!0,children:o.jsx(Bh,{...r,children:l&&o.jsxs(o.Fragment,{children:[i.label," ",n]})})})},cO="ToastTitle",j_=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx($e.div,{...r,ref:e})});j_.displayName=cO;var uO="ToastDescription",C_=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx($e.div,{...r,ref:e})});C_.displayName=uO;var E_="ToastAction",P_=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(R_,{altText:n,asChild:!0,children:o.jsx(Ky,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${E_}\`. Expected non-empty \`string\`.`),null)});P_.displayName=E_;var T_="ToastClose",Ky=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=oO(T_,n);return o.jsx(R_,{asChild:!0,children:o.jsx($e.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,i.onClose)})})});Ky.displayName=T_;var R_=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return o.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function A_(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),hO(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!i)if(l){const c=r.dataset.radixToastAnnounceAlt;c&&e.push(c)}else e.push(...A_(r))}}),e}function ud(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,l=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?My(i,l):i.dispatchEvent(l)}var n1=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),l=r>i;return e==="left"||e==="right"?l&&r>n:!l&&i>n};function dO(t=()=>{}){const e=fn(t);Fn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function hO(t){return t.nodeType===t.ELEMENT_NODE}function fO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function km(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var pO=b_,I_=N_,M_=__,O_=j_,D_=C_,L_=P_,F_=Ky;const r1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,s1=f_,Kh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return s1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:l}=e,c=Object.keys(i).map(f=>{const g=n==null?void 0:n[f],m=l==null?void 0:l[f];if(g===null)return null;const v=r1(g)||r1(m);return i[f][v]}),d=n&&Object.entries(n).reduce((f,g)=>{let[m,v]=g;return v===void 0||(f[m]=v),f},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,g)=>{let{class:m,className:v,...b}=g;return Object.entries(b).every(k=>{let[N,S]=k;return Array.isArray(S)?S.includes({...l,...d}[N]):{...l,...d}[N]===S})?[...f,m,v]:f},[]);return s1(t,c,h,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$_=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:c,...d},h)=>y.createElement("svg",{ref:h,...gO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$_("lucide",i),...d},[...c.map(([f,g])=>y.createElement(f,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(t,e)=>{const n=y.forwardRef(({className:r,...i},l)=>y.createElement(yO,{ref:l,iconNode:e,className:$_(`lucide-${mO(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=pe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=pe("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=pe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=pe("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=pe("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=pe("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=pe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=pe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=pe("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=pe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=pe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=pe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=pe("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=pe("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=pe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=pe("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=pe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=pe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=pe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),HO=pO,Q_=y.forwardRef(({className:t,...e},n)=>o.jsx(I_,{ref:n,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Q_.displayName=I_.displayName;const GO=Kh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Z_=y.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(M_,{ref:r,className:De(GO({variant:e}),t),...n}));Z_.displayName=M_.displayName;const KO=y.forwardRef(({className:t,...e},n)=>o.jsx(L_,{ref:n,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));KO.displayName=L_.displayName;const X_=y.forwardRef(({className:t,...e},n)=>o.jsx(F_,{ref:n,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(gs,{className:"h-4 w-4"})}));X_.displayName=F_.displayName;const J_=y.forwardRef(({className:t,...e},n)=>o.jsx(O_,{ref:n,className:De("text-sm font-semibold",t),...e}));J_.displayName=O_.displayName;const ej=y.forwardRef(({className:t,...e},n)=>o.jsx(D_,{ref:n,className:De("text-sm opacity-90",t),...e}));ej.displayName=D_.displayName;function qO(){const{toasts:t}=Ha();return o.jsxs(HO,{children:[t.map(function({id:e,title:n,description:r,action:i,...l}){return o.jsxs(Z_,{...l,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(J_,{children:n}),r&&o.jsx(ej,{children:r})]}),i,o.jsx(X_,{})]},e)}),o.jsx(Q_,{})]})}const YO=()=>{};var c1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[n++];e[r++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[n++],c=t[n++],d=t[n++],h=((i&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(l&63)<<6|c&63)}}return e.join("")},nj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const l=t[i],c=i+1<t.length,d=c?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,g=l>>2,m=(l&3)<<4|d>>4;let v=(d&15)<<2|f>>6,b=f&63;h||(b=64,c||(v=64)),r.push(n[g],n[m],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const l=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,l==null||d==null||f==null||m==null)throw new ZO;const v=l<<2|d>>4;if(r.push(v),f!==64){const b=d<<4&240|f>>2;if(r.push(b),m!==64){const k=f<<6&192|m;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XO=function(t){const e=tj(t);return nj.encodeByteArray(e,!0)},rj=function(t){return XO(t).replace(/\./g,"")},sj=function(t){try{return nj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=()=>JO().__FIREBASE_DEFAULTS__,tD=()=>{if(typeof process>"u"||typeof c1>"u")return;const t=c1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sj(t[1]);return e&&JSON.parse(e)},Yy=()=>{try{return YO()||eD()||tD()||nD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rD=t=>{var e,n;return(n=(e=Yy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ij=()=>{var t;return(t=Yy())==null?void 0:t.config},oj=t=>{var e;return(e=Yy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iD(t){return(await fetch(t,{credentials:"include"})).ok}const Xl={};function oD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?t.emulator.push(e):t.prod.push(e);return t}function aD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let u1=!1;function lD(t,e){if(typeof window>"u"||typeof document>"u"||!Zh(window.location.host)||Xl[t]===e||Xl[t]||u1)return;Xl[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",l=oD().prod.length>0;function c(){const v=document.getElementById(r);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{u1=!0,c()},v}function g(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=aD(r),b=n("text"),k=document.getElementById(b)||document.createElement("span"),N=n("learnmore"),S=document.getElementById(N)||document.createElement("a"),_=n("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const j=v.element;d(j),g(S,N);const P=f();h(E,_),j.append(E,k,S,P),document.body.appendChild(j)}l?(k.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function uD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fD(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pD(){try{return typeof indexedDB=="object"}catch{return!1}}function mD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var l;e(((l=i.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="FirebaseError";class wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gD,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lc.prototype.create)}}class Lc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,l=this.errors[e],c=l?yD(l,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new wi(i,d,r)}}function yD(t,e){return t.replace(vD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vD=/\{\$([^}]+)}/g;function xD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ca(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const l=t[i],c=e[i];if(d1(l)&&d1(c)){if(!Ca(l,c))return!1}else if(l!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function d1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,l]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function Vl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wD(t,e){const n=new bD(t,e);return n.subscribe.bind(n)}class bD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_m),i.error===void 0&&(i.error=_m),i.complete===void 0&&(i.complete=_m);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t){return t&&t._delegate?t._delegate:t}class Ea{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_D(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});r.resolve(l)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const l=this.instances.get(r);return l&&e(l,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kD(t){return t===Di?void 0:t}function _D(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ND(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const CD={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},ED=nt.INFO,PD={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},TD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class aj{constructor(e){this.name=e,this._logLevel=ED,this._logHandler=TD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const RD=(t,e)=>e.some(n=>t instanceof n);let h1,f1;function AD(){return h1||(h1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ID(){return f1||(f1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lj=new WeakMap,Og=new WeakMap,cj=new WeakMap,jm=new WeakMap,Qy=new WeakMap;function MD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(oi(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&lj.set(n,t)}).catch(()=>{}),Qy.set(e,t),e}function OD(t){if(Og.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Og.set(t,e)}let Dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Og.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DD(t){Dg=t(Dg)}function LD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cm(this),e,...n);return cj.set(r,e.sort?e.sort():[e]),oi(r)}:ID().includes(t)?function(...e){return t.apply(Cm(this),e),oi(lj.get(this))}:function(...e){return oi(t.apply(Cm(this),e))}}function FD(t){return typeof t=="function"?LD(t):(t instanceof IDBTransaction&&OD(t),RD(t,AD())?new Proxy(t,Dg):t)}function oi(t){if(t instanceof IDBRequest)return MD(t);if(jm.has(t))return jm.get(t);const e=FD(t);return e!==t&&(jm.set(t,e),Qy.set(e,t)),e}const Cm=t=>Qy.get(t);function $D(t,e,{blocked:n,upgrade:r,blocking:i,terminated:l}={}){const c=indexedDB.open(t,e),d=oi(c);return r&&c.addEventListener("upgradeneeded",h=>{r(oi(c.result),h.oldVersion,h.newVersion,oi(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const UD=["get","getKey","getAll","getAllKeys","count"],BD=["put","add","delete","clear"],Em=new Map;function p1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=BD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UD.includes(n)))return;const l=async function(c,...d){const h=this.transaction(c,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),i&&h.done]))[0]};return Em.set(e,l),l}DD(t=>({...t,get:(e,n,r)=>p1(e,n)||t.get(e,n,r),has:(e,n)=>!!p1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lg="@firebase/app",m1="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new aj("@firebase/app"),WD="@firebase/app-compat",HD="@firebase/analytics-compat",GD="@firebase/analytics",KD="@firebase/app-check-compat",qD="@firebase/app-check",YD="@firebase/auth",QD="@firebase/auth-compat",ZD="@firebase/database",XD="@firebase/data-connect",JD="@firebase/database-compat",e3="@firebase/functions",t3="@firebase/functions-compat",n3="@firebase/installations",r3="@firebase/installations-compat",s3="@firebase/messaging",i3="@firebase/messaging-compat",o3="@firebase/performance",a3="@firebase/performance-compat",l3="@firebase/remote-config",c3="@firebase/remote-config-compat",u3="@firebase/storage",d3="@firebase/storage-compat",h3="@firebase/firestore",f3="@firebase/ai",p3="@firebase/firestore-compat",m3="firebase",g3="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="[DEFAULT]",y3={[Lg]:"fire-core",[WD]:"fire-core-compat",[GD]:"fire-analytics",[HD]:"fire-analytics-compat",[qD]:"fire-app-check",[KD]:"fire-app-check-compat",[YD]:"fire-auth",[QD]:"fire-auth-compat",[ZD]:"fire-rtdb",[XD]:"fire-data-connect",[JD]:"fire-rtdb-compat",[e3]:"fire-fn",[t3]:"fire-fn-compat",[n3]:"fire-iid",[r3]:"fire-iid-compat",[s3]:"fire-fcm",[i3]:"fire-fcm-compat",[o3]:"fire-perf",[a3]:"fire-perf-compat",[l3]:"fire-rc",[c3]:"fire-rc-compat",[u3]:"fire-gcs",[d3]:"fire-gcs-compat",[h3]:"fire-fst",[p3]:"fire-fst-compat",[f3]:"fire-vertex","fire-js":"fire-js",[m3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,v3=new Map,$g=new Map;function g1(t,e){try{t.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fc(t){const e=t.name;if($g.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,t);for(const n of hc.values())g1(n,t);for(const n of v3.values())g1(n,t);return!0}function uj(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new Lc("app","Firebase",x3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=g3;function dj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Fg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});if(n||(n=ij()),!n)throw ai.create("no-options");const l=hc.get(i);if(l){if(Ca(n,l.options)&&Ca(r,l.config))return l;throw ai.create("duplicate-app",{appName:i})}const c=new jD(i);for(const h of $g.values())c.addComponent(h);const d=new w3(n,r,c);return hc.set(i,d),d}function b3(t=Fg){const e=hc.get(t);if(!e&&t===Fg&&ij())return dj();if(!e)throw ai.create("no-app",{appName:t});return e}function y1(){return Array.from(hc.values())}function oa(t,e,n){let r=y3[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(c.join(" "));return}fc(new Ea(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="firebase-heartbeat-database",N3=1,pc="firebase-heartbeat-store";let Pm=null;function hj(){return Pm||(Pm=$D(S3,N3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ai.create("idb-open",{originalErrorMessage:t.message})})),Pm}async function k3(t){try{const n=(await hj()).transaction(pc),r=await n.objectStore(pc).get(fj(t));return await n.done,r}catch(e){if(e instanceof wi)hs.warn(e.message);else{const n=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hs.warn(n.message)}}}async function v1(t,e){try{const r=(await hj()).transaction(pc,"readwrite");await r.objectStore(pc).put(e,fj(t)),await r.done}catch(n){if(n instanceof wi)hs.warn(n.message);else{const r=ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hs.warn(r.message)}}}function fj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=1024,j3=30;class C3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=x1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>j3){const c=T3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x1(),{heartbeatsToSend:r,unsentEntries:i}=E3(this._heartbeatsCache.heartbeats),l=rj(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return hs.warn(n),""}}}function x1(){return new Date().toISOString().substring(0,10)}function E3(t,e=_3){const n=[];let r=t.slice();for(const i of t){const l=n.find(c=>c.agent===i.agent);if(l){if(l.dates.push(i.date),w1(n)>e){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),w1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class P3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pD()?mD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await k3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function w1(t){return rj(JSON.stringify({version:2,heartbeats:t})).length}function T3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){fc(new Ea("platform-logger",e=>new VD(e),"PRIVATE")),fc(new Ea("heartbeat",e=>new C3(e),"PRIVATE")),oa(Lg,m1,t),oa(Lg,m1,"esm2020"),oa("fire-js","")}R3("");function pj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mj=pj,gj=new Lc("auth","Firebase",pj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new aj("@firebase/auth");function A3(t,...e){th.logLevel<=nt.WARN&&th.warn(`Auth (${$c}): ${t}`,...e)}function Ad(t,...e){th.logLevel<=nt.ERROR&&th.error(`Auth (${$c}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t,...e){throw Xy(t,...e)}function or(t,...e){return Xy(t,...e)}function Zy(t,e,n){const r={...mj(),[e]:n};return new Lc("auth","Firebase",r).create(e,{appName:t.name})}function Cr(t){return Zy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&$n(t,"argument-error"),Zy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gj.create(t,...e)}function je(t,e,...n){if(!t)throw Xy(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ad(e),new Error(e)}function fs(t,e){t||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function vj(){return b1()==="http:"||b1()==="https:"}function b1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vj()||dD()||"connection"in navigator)?navigator.onLine:!0}function M3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.shortDelay=e,this.longDelay=n,fs(n>e,"Short delay should be less than long delay!"),this.isMobile=cD()||hD()}get(){return I3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t,e){fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L3=new Uc(3e4,6e4);function Dr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Lr(t,e,n,r,i={}){return wj(t,i,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=Fc({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...l};return uD()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Zh(t.emulatorConfig.host)&&(f.credentials="include"),xj.fetch()(await bj(t,t.config.apiHost,n,d),f)})}async function wj(t,e,n){t._canInitEmulator=!1;const r={...O3,...e};try{const i=new $3(t),l=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw dd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw dd(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw dd(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw dd(t,"user-disabled",c);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Zy(t,g,f);$n(t,g)}}catch(i){if(i instanceof wi)throw i;$n(t,"network-request-failed",{message:String(i)})}}async function Bc(t,e,n,r,i={}){const l=await Lr(t,e,n,r,i);return"mfaPendingCredential"in l&&$n(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function bj(t,e,n,r){const i=`${e}${n}?${r}`,l=t,c=l.config.emulator?Jy(t.config,i):`${t.config.apiScheme}://${i}`;return D3.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function F3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(or(this.auth,"network-request-failed")),L3.get())})}}function dd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=or(t,e,r);return i.customData._tokenResponse=n,i}function S1(t){return t!==void 0&&t.enterprise!==void 0}class U3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return F3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B3(t,e){return Lr(t,"GET","/v2/recaptchaConfig",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t,e){return Lr(t,"POST","/v1/accounts:delete",e)}async function rh(t,e){return Lr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sj(t,e=!1){const n=Or(t),r=await n.getIdToken(e),i=ev(r);je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:i,token:r,authTime:Jl(Tm(i.auth_time)),issuedAtTime:Jl(Tm(i.iat)),expirationTime:Jl(Tm(i.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Tm(t){return Number(t)*1e3}function ev(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{const i=sj(n);return i?JSON.parse(i):(Ad("Failed to decode base64 JWT payload"),null)}catch(i){return Ad("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function N1(t){const e=ev(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wi&&z3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function z3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t){var m;const e=t.auth,n=await t.getIdToken(),r=await mc(t,rh(e,{idToken:n}));je(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const l=(m=i.providerUserInfo)!=null&&m.length?kj(i.providerUserInfo):[],c=H3(t.providerData,l),d=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),f=d?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new Ug(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function Nj(t){const e=Or(t);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kj(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(t,e){const n=await wj(t,{},async()=>{const r=Fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=t.config,c=await bj(t,i,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&Zh(t.emulatorConfig.host)&&(h.credentials="include"),xj.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function K3(t,e){return Lr(t,"POST","/v2/accounts:revokeToken",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=N1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:l}=await G3(e,n);this.updateTokensAndExpiration(r,i,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:l}=n,c=new aa;return r&&(je(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(je(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),l&&(je(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new aa,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new W3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ug(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sj(this,e)}reload(){return Nj(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Cr(this.auth));const e=await this.getIdToken();return await mc(this,V3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:b,providerData:k,stsTokenManager:N}=n;je(m&&N,e,"internal-error");const S=aa.fromJSON(this.name,N);je(typeof m=="string",e,"internal-error"),Us(r,e.name),Us(i,e.name),je(typeof v=="boolean",e,"internal-error"),je(typeof b=="boolean",e,"internal-error"),Us(l,e.name),Us(c,e.name),Us(d,e.name),Us(h,e.name),Us(f,e.name),Us(g,e.name);const _=new sr({uid:m,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:b,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:S,createdAt:f,lastLoginAt:g});return k&&Array.isArray(k)&&(_.providerData=k.map(E=>({...E}))),h&&(_._redirectEventId=h),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new aa;i.updateFromServerResponse(n);const l=new sr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sh(l),l}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];je(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?kj(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(l!=null&&l.length),d=new aa;d.updateFromIdToken(r);const h=new sr({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:c}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Ug(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;function rs(t){fs(t instanceof Function,"Expected a class definition");let e=k1.get(t);return e?(fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_j.type="NONE";const Bg=_j;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t,e,n){return`firebase:${t}:${e}:${n}`}class la{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:l}=this.auth;this.fullUserKey=Id(this.userKey,i.apiKey,l),this.fullPersistenceKey=Id("persistence",i.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rh(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new la(rs(Bg),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let l=i[0]||rs(Bg);const c=Id(r,e.config.apiKey,e.name);let d=null;for(const f of n)try{const g=await f._get(c);if(g){let m;if(typeof g=="string"){const v=await rh(e,{idToken:g}).catch(()=>{});if(!v)break;m=await sr._fromGetAccountInfoResponse(e,v,g)}else m=sr._fromJSON(e,g);f!==l&&(d=m),l=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new la(l,e,r):(l=h[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==l)try{await f._remove(c)}catch{}})),new la(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rj(e))return"Blackberry";if(Aj(e))return"Webos";if(Cj(e))return"Safari";if((e.includes("chrome/")||Ej(e))&&!e.includes("edge/"))return"Chrome";if(Tj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jj(t=en()){return/firefox\//i.test(t)}function Cj(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ej(t=en()){return/crios\//i.test(t)}function Pj(t=en()){return/iemobile/i.test(t)}function Tj(t=en()){return/android/i.test(t)}function Rj(t=en()){return/blackberry/i.test(t)}function Aj(t=en()){return/webos/i.test(t)}function tv(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q3(t=en()){var e;return tv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Y3(){return fD()&&document.documentMode===10}function Ij(t=en()){return tv(t)||Tj(t)||Aj(t)||Rj(t)||/windows phone/i.test(t)||Pj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t,e=[]){let n;switch(t){case"Browser":n=_1(en());break;case"Worker":n=`${_1(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,d)=>{try{const h=e(l);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(t,e={}){return Lr(t,"GET","/v2/passwordPolicy",Dr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=6;class J3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??X3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j1(this),this.idTokenSubscription=new j1(this),this.beforeStateQueue=new Q3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rs(n)),this._initializationPromise=this.queue(async()=>{var r,i,l;if(!this._deleted&&(this.persistenceManager=await la.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rh(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Cr(this));const n=e?Or(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z3(this),n=new J3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await K3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rs(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await la.create(this,[rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&A3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function dr(t){return Or(t)}class j1{constructor(e){this.auth=e,this.observer=null,this.addObserver=wD(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tL(t){Xh=t}function Oj(t){return Xh.loadJS(t)}function nL(){return Xh.recaptchaEnterpriseScript}function rL(){return Xh.gapiScript}function sL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class iL{constructor(){this.enterprise=new oL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aL="recaptcha-enterprise",Dj="NO_RECAPTCHA";class lL{constructor(e){this.type=aL,this.auth=dr(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{B3(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new U3(h);return l.tenantId==null?l._agentRecaptchaConfig=f:l._tenantRecaptchaConfigs[l.tenantId]=f,c(f.siteKey)}}).catch(h=>{d(h)})})}function i(l,c,d){const h=window.grecaptcha;S1(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(f=>{c(f)}).catch(()=>{c(Dj)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iL().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(d=>{if(!n&&S1(window.grecaptcha))i(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=nL();h.length!==0&&(h+=d),Oj(h).then(()=>{i(d,l,c)}).catch(f=>{c(f)})}}).catch(d=>{c(d)})})}}async function C1(t,e,n,r=!1,i=!1){const l=new lL(t);let c;if(i)c=Dj;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ih(t,e,n,r,i){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await C1(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await C1(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t,e){const n=uj(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),l=n.getOptions();if(Ca(l,e??{}))return i;$n(i,"already-initialized")}return n.initialize({options:e})}function cL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Fj(t,e,n){const r=dr(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,l=$j(e),{host:c,port:d}=uL(e),h=d===null?"":`:${d}`,f={url:`${l}//${c}${h}/`},g=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(Ca(f,r.config.emulator)&&Ca(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Zh(c)?(iD(`${l}//${c}${h}`),lD("Auth",!0)):dL()}function $j(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uL(t){const e=$j(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const l=i[1];return{host:l,port:E1(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:E1(c)}}}function E1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function hL(t,e){return Lr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e){return Bc(t,"POST","/v1/accounts:signInWithPassword",Dr(t,e))}async function pL(t,e){return Lr(t,"POST","/v1/accounts:sendOobCode",Dr(t,e))}async function mL(t,e){return pL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e){return Bc(t,"POST","/v1/accounts:signInWithEmailLink",Dr(t,e))}async function yL(t,e){return Bc(t,"POST","/v1/accounts:signInWithEmailLink",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Jh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Pa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ih(e,n,"signInWithPassword",fL);case"emailLink":return gL(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ih(e,r,"signUpPassword",hL);case"emailLink":return yL(e,{idToken:n,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t,e){return Bc(t,"POST","/v1/accounts:signInWithIdp",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="http://localhost";class pi extends Jh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...l}=n;if(!r||!i)return null;const c=new pi(r,i);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ca(e,n)}buildRequest(){const e={requestUri:vL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wL(t){const e=Bl(Vl(t)).link,n=e?Bl(Vl(e)).deep_link_id:null,r=Bl(Vl(t)).deep_link_id;return(r?Bl(Vl(r)).link:null)||r||n||e||t}class ef{constructor(e){const n=Bl(Vl(e)),r=n.apiKey??null,i=n.oobCode??null,l=xL(n.mode??null);je(r&&i&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wL(e);try{return new ef(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(e,n){return Pa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ef.parseLink(n);return je(r,"argument-error"),Pa._fromEmailAndCode(e,r.code,r.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends tf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Vc{constructor(){super("facebook.com")}static credential(e){return pi._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pi._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Vc{constructor(){super("github.com")}static credential(e){return pi._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Vc{constructor(){super("twitter.com")}static credential(e,n){return pi._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(t,e){return Bc(t,"POST","/v1/accounts:signUp",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const l=await sr._fromIdTokenResponse(e,r,i),c=P1(r);return new ao({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=P1(r);return new ao({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function P1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends wi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new oh(e,n,r,i)}}function Uj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(t,l,e,r):l})}async function SL(t,e,n=!1){const r=await mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ao._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e,n=!1){const{auth:r}=t;if(xn(r.app))return Promise.reject(Cr(r));const i="reauthenticate";try{const l=await mc(t,Uj(r,i,e,t),n);je(l.idToken,r,"internal-error");const c=ev(l.idToken);je(c,r,"internal-error");const{sub:d}=c;return je(t.uid===d,r,"user-mismatch"),ao._forOperation(t,i,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&$n(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(t,e,n=!1){if(xn(t.app))return Promise.reject(Cr(t));const r="signIn",i=await Uj(t,r,e),l=await ao._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(l.user),l}async function Vj(t,e){return Bj(dr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t,e,n){var r;je(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),je(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),je(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(je(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(je(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t){const e=dr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _L(t,e,n){const r=dr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&kL(r,i,n),await ih(r,i,"getOobCode",mL)}async function nv(t,e,n){if(xn(t.app))return Promise.reject(Cr(t));const r=dr(t),c=await ih(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bL).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&zj(t),h}),d=await ao._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function Wj(t,e,n){return xn(t.app)?Promise.reject(Cr(t)):Vj(Or(t),ho.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zj(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t,e){return Lr(t,"POST","/v1/accounts:createAuthUri",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rv(t,e){const n=vj()?nh():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await jL(Or(t),r);return i||[]}function Hj(t,e,n,r){return Or(t).onIdTokenChanged(e,n,r)}function Gj(t,e,n){return Or(t).beforeAuthStateChanged(e,n)}function Kj(t,e,n,r){return Or(t).onAuthStateChanged(e,n,r)}function qj(t){return Or(t).signOut()}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=1e3,EL=10;class Qj extends Yj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ij(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);Y3()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,EL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qj.type="LOCAL";const Zj=Qj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj extends Yj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Xj.type="SESSION";const sv=Xj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:l}=n.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(c).map(async f=>f(n.origin,l)),h=await PL(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,c;return new Promise((d,h)=>{const f=iv("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(v.data.response);break;default:clearTimeout(g),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function RL(t){Er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function AL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function ML(){return Jj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firebaseLocalStorageDb",OL=1,lh="firebaseLocalStorage",tC="fbase_key";class zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(t,e){return t.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function DL(){const t=indexedDB.deleteDatabase(eC);return new zc(t).toPromise()}function Vg(){const t=indexedDB.open(eC,OL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lh,{keyPath:tC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lh)?e(r):(r.close(),await DL(),e(await Vg()))})})}async function T1(t,e,n){const r=rf(t,!0).put({[tC]:e,value:n});return new zc(r).toPromise()}async function LL(t,e){const n=rf(t,!1).get(e),r=await new zc(n).toPromise();return r===void 0?null:r.value}function R1(t,e){const n=rf(t,!0).delete(e);return new zc(n).toPromise()}const FL=800,$L=3;class nC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$L)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(ML()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await AL(),!this.activeServiceWorker)return;this.sender=new TL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await T1(e,ah,"1"),await R1(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>T1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>R1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=rf(i,!1).getAll();return new zc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nC.type="LOCAL";const rC=nC;new Uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){return e?rs(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends Jh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UL(t){return Bj(t.auth,new av(t),t.bypassAuthState)}function BL(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),NL(n,new av(t),t.bypassAuthState)}async function VL(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),SL(n,new av(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r,i,l=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UL;case"linkViaPopup":case"linkViaRedirect":return VL;case"reauthViaPopup":case"reauthViaRedirect":return BL;default:$n(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new Uc(2e3,1e4);async function gc(t,e,n){if(xn(t.app))return Promise.reject(or(t,"operation-not-supported-in-this-environment"));const r=dr(t);yj(t,e,tf);const i=ov(r,n);return new Ui(r,"signInViaPopup",e,i).executeNotNull()}class Ui extends sC{constructor(e,n,r,i,l){super(e,n,i,l),this.provider=r,this.authWindow=null,this.pollId=null,Ui.currentPopupAction&&Ui.currentPopupAction.cancel(),Ui.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ui.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zL.get())};e()}}Ui.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="pendingRedirect",Md=new Map;class HL extends sC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Md.get(this.auth._key());if(!e){try{const r=await GL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GL(t,e){const n=oC(e),r=iC(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function KL(t,e){return iC(t)._set(oC(e),"true")}function qL(t,e){Md.set(t._key(),e)}function iC(t){return rs(t._redirectPersistence)}function oC(t){return Id(WL,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e,n){return YL(t,e,n)}async function YL(t,e,n){if(xn(t.app))return Promise.reject(Cr(t));const r=dr(t);yj(t,e,tf),await r._initializationPromise;const i=ov(r,n);return await KL(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function lv(t,e){return await dr(t)._initializationPromise,aC(t,e,!1)}async function aC(t,e,n=!1){if(xn(t.app))return Promise.reject(Cr(t));const r=dr(t),i=ov(r,e),c=await new HL(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=600*1e3;class ZL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QL&&this.cachedEventUids.clear(),this.cachedEventUids.has(A1(e))}saveEventToCache(e){this.cachedEventUids.add(A1(e)),this.lastProcessedEventTime=Date.now()}}function A1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e={}){return Lr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tF=/^https?/;async function nF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JL(t);for(const n of e)try{if(rF(n))return}catch{}$n(t,"unauthorized-domain")}function rF(t){const e=nh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!tF.test(n))return!1;if(eF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=new Uc(3e4,6e4);function I1(){const t=Er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iF(t){return new Promise((e,n)=>{var i,l,c;function r(){I1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I1(),n(or(t,"network-request-failed"))},timeout:sF.get()})}if((l=(i=Er().gapi)==null?void 0:i.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Er().gapi)!=null&&c.load)r();else{const d=sL("iframefcb");return Er()[d]=()=>{gapi.load?r():n(or(t,"network-request-failed"))},Oj(`${rL()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw Od=null,e})}let Od=null;function oF(t){return Od=Od||iF(t),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=new Uc(5e3,15e3),lF="__/auth/iframe",cF="emulator/auth/iframe",uF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hF(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jy(e,cF):`https://${t.config.authDomain}/${lF}`,r={apiKey:e.apiKey,appName:t.name,v:$c},i=dF.get(t.config.apiHost);i&&(r.eid=i);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Fc(r).slice(1)}`}async function fF(t){const e=await oF(t),n=Er().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:hF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uF,dontclear:!0},r=>new Promise(async(i,l)=>{await r.restyle({setHideOnLeave:!1});const c=or(t,"network-request-failed"),d=Er().setTimeout(()=>{l(c)},aF.get());function h(){Er().clearTimeout(d),i(r)}r.ping(h).then(h,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mF=500,gF=600,yF="_blank",vF="http://localhost";class M1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xF(t,e,n,r=mF,i=gF){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h={...pF,width:r.toString(),height:i.toString(),top:l,left:c},f=en().toLowerCase();n&&(d=Ej(f)?yF:n),jj(f)&&(e=e||vF,h.scrollbars="yes");const g=Object.entries(h).reduce((v,[b,k])=>`${v}${b}=${k},`,"");if(q3(f)&&d!=="_self")return wF(e||"",d),new M1(null);const m=window.open(e||"",d,g);je(m,t,"popup-blocked");try{m.focus()}catch{}return new M1(m)}function wF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="__/auth/handler",SF="emulator/auth/handler",NF=encodeURIComponent("fac");async function O1(t,e,n,r,i,l){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$c,eventId:i};if(e instanceof tf){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",xD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,m]of Object.entries({}))c[g]=m}if(e instanceof Vc){const g=e.getScopes().filter(m=>m!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await t._getAppCheckToken(),f=h?`#${NF}=${encodeURIComponent(h)}`:"";return`${kF(t)}?${Fc(d).slice(1)}${f}`}function kF({config:t}){return t.emulator?Jy(t,SF):`https://${t.authDomain}/${bF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class _F{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sv,this._completeRedirectFn=aC,this._overrideRedirectResult=qL}async _openPopup(e,n,r,i){var c;fs((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await O1(e,n,r,nh(),i);return xF(e,l,iv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const l=await O1(e,n,r,nh(),i);return RL(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:l}=this.eventManagers[n];return i?Promise.resolve(i):(fs(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fF(e),r=new ZL(e);return n.register("authEvent",i=>(je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},i=>{var c;const l=(c=i==null?void 0:i[0])==null?void 0:c[Rm];l!==void 0&&n(!!l),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ij()||Cj()||tv()}}const cC=_F;var D1="@firebase/auth",L1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EF(t){fc(new Ea("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;je(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mj(t)},f=new eL(r,i,l,h);return cL(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fc(new Ea("auth-internal",e=>{const n=dr(e.getProvider("auth").getImmediate());return(r=>new jF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oa(D1,L1,CF(t)),oa(D1,L1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=300,TF=oj("authIdTokenMaxAge")||PF;let F1=null;const RF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TF)return;const i=n==null?void 0:n.token;F1!==i&&(F1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uC(t=b3()){const e=uj(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Lj(t,{popupRedirectResolver:cC,persistence:[rC,Zj,sv]}),r=oj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=RF(l.toString());Gj(n,c,()=>c(n.currentUser)),Hj(n,d=>c(d))}}const i=rD("auth");return i&&Fj(n,`http://${i}`),n}function AF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}tL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const l=or("internal-error");l.customData=i,n(l)},r.type="text/javascript",r.charset="UTF-8",AF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EF("Browser");const Ks=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:ef,AuthCredential:Jh,EmailAuthCredential:Pa,EmailAuthProvider:ho,FacebookAuthProvider:tr,GithubAuthProvider:es,GoogleAuthProvider:nr,OAuthCredential:pi,TwitterAuthProvider:ts,beforeAuthStateChanged:Gj,browserLocalPersistence:Zj,browserPopupRedirectResolver:cC,browserSessionPersistence:sv,connectAuthEmulator:Fj,createUserWithEmailAndPassword:nv,fetchSignInMethodsForEmail:rv,getAuth:uC,getIdTokenResult:Sj,getRedirectResult:lv,inMemoryPersistence:Bg,indexedDBLocalPersistence:rC,initializeAuth:Lj,onAuthStateChanged:Kj,onIdTokenChanged:Hj,prodErrorMap:mj,reload:Nj,sendPasswordResetEmail:_L,signInWithCredential:Vj,signInWithEmailAndPassword:Wj,signInWithPopup:gc,signInWithRedirect:zg,signOut:qj},Symbol.toStringTag,{value:"Module"}));var IF="firebase",MF="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oa(IF,MF,"app");const OF={apiKey:"AIzaSyB45zr8b2HjIx1fzXOuQsHxeQK9wl_wC88",authDomain:"bingeboard-73c5f.firebaseapp.com",projectId:"bingeboard-73c5f",storageBucket:"bingeboard-73c5f.firebasestorage.app",messagingSenderId:"145846820194",appId:"1:145846820194:web:047efd7a8e59b36944a03b",measurementId:"G-TB1ZXQ79LB"};let zl=null,Dd=null,$1=!1;function DF(){return zl||(zl=y1().length?y1()[0]:dj(OF)),Dd||(Dd=uC(zl)),{app:zl,auth:Dd}}const cv=()=>{if(!$1){$1=!0;try{const{app:t,auth:e}=DF()}catch(t){console.error(" Firebase initialization failed:",t)}}return{app:zl,auth:Dd}};cv().app;const He=cv().auth,Ta=new nr;Ta.setCustomParameters({prompt:"select_account"});Ta.addScope("email");Ta.addScope("profile");const yc=new tr;yc.setCustomParameters({display:"popup"});yc.addScope("email");const dC=Object.freeze(Object.defineProperty({__proto__:null,auth:He,facebookProvider:yc,getFirebase:cv,googleProvider:Ta},Symbol.toStringTag,{value:"Module"})),LF=()=>{const t="https://bingeboard-two.vercel.app";return console.log(" Using backend API:",t),t},FF=t=>{const e=LF(),n=t.startsWith("/")?t:`/${t}`;return`${e}${n}`},tt=async(t,e)=>{const n=FF(t);return console.log(` API call: ${n}`),fetch(n,{credentials:"include",...e})};let ch={user:null,isAuthenticated:!1,isLoading:!0},U1=!1,Am=!1,B1=!1;const Wg=new Set,On=t=>{ch={...ch,...t},Wg.forEach(e=>e())},$F=()=>{if(U1)return;U1=!0,"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(n=>{n.length>0?(console.log(` Unregistering ${n.length} service workers...`),n.forEach(r=>r.unregister())):console.log(" No service workers to clean up")}).catch(n=>console.error(" SW cleanup error:",n));const t=async()=>{try{console.log(" Checking for OAuth redirect result...");const n=await lv(He);if(n&&n.user){console.log(" OAuth redirect successful:",n.user.email);const r=await n.user.getIdToken();if((await tt("/api/auth/firebase-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},credentials:"include",body:JSON.stringify({idToken:r,firebaseToken:r,user:{uid:n.user.uid,email:n.user.email,displayName:n.user.displayName,photoURL:n.user.photoURL}})})).ok){const l={id:n.user.uid,email:n.user.email||"",displayName:n.user.displayName||void 0};return On({user:l,isAuthenticated:!0,isLoading:!1}),console.log(" OAuth redirect session created"),!0}}else console.log(" No OAuth redirect result")}catch(n){console.error(" OAuth redirect check failed:",n)}return!1},e=async()=>{if(Am)return console.log(" Auth check already in progress, skipping duplicate check"),!1;Am=!0;try{console.log(" Checking backend session...");const n=await tt("/api/auth/status",{credentials:"include"});if(n.ok){const r=await n.json();if(r.isAuthenticated&&r.user)return console.log(" Backend session found:",r.user),On({user:r.user,isAuthenticated:!0,isLoading:!1}),!0}return console.log(" No backend session found"),!1}catch(n){return console.error(" Backend session check failed:",n),!1}finally{Am=!1}};t().then(async n=>{n||await e()||On({isLoading:!1}),B1=!0,console.log(" Initial auth sequence complete")}),Kj(He,async n=>{if(!B1){console.log(" Skipping onAuthStateChanged during initial auth sequence");return}if(n)try{console.log(" Firebase user detected:",n==null?void 0:n.email);const r=await n.getIdToken(),i=await tt("/api/auth/firebase-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},credentials:"include",body:JSON.stringify({idToken:r,firebaseToken:r,user:{uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL}})});if(i.ok){const l=await i.json(),c={id:n.uid,email:n.email||"",displayName:n.displayName||void 0};On({user:c,isAuthenticated:!0,isLoading:!1}),console.log(" Firebase authentication and backend session synced:",c)}else{const l=await i.text();console.error(" Backend session creation failed:",l),On({user:null,isAuthenticated:!1,isLoading:!1})}}catch(r){console.error(" Auth sync error:",r),On({user:null,isAuthenticated:!1,isLoading:!1})}else console.log(" Firebase signaled sign-out (this can happen on page load)"),console.log(" Preserving backend session if it exists")})};function Nn(){const[t,e]=y.useState(()=>({...ch}));y.useEffect(()=>{$F()},[]),y.useEffect(()=>{const i=()=>e({...ch});return Wg.add(i),i(),()=>{Wg.delete(i)}},[]);const n=y.useCallback(async()=>{try{On({isLoading:!0}),await tt("/api/auth/logout",{method:"POST",credentials:"include"}),await He.signOut(),On({user:null,isAuthenticated:!1,isLoading:!1}),console.log(" Logged out successfully")}catch(i){console.error(" Logout error:",i),On({user:null,isAuthenticated:!1,isLoading:!1})}},[]),r=y.useCallback(async()=>{try{console.log(" Refreshing session...");const i=await tt("/api/auth/status",{credentials:"include"}),l=i.ok?await i.json():null;l!=null&&l.isAuthenticated&&(l!=null&&l.user)?(On({user:{id:l.user.id||l.user.uid,email:l.user.email,displayName:l.user.displayName||l.user.name||void 0},isAuthenticated:!0,isLoading:!1}),console.log(" Session refreshed:",l.user.email)):(On({user:null,isAuthenticated:!1,isLoading:!1}),console.log(" No session found"))}catch(i){console.error(" Session refresh failed:",i),On({user:null,isAuthenticated:!1,isLoading:!1})}},[]);return{...t,logout:n,refreshSession:r}}function UF({className:t="h-5 w-5"}){return o.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",children:[o.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("circle",{cx:"9",cy:"7",r:"4",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75",stroke:"currentColor",strokeWidth:"1.5"})]})}function BF({className:t="h-5 w-5"}){return o.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("path",{d:"m21 21-4.35-4.35",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),o.jsx("circle",{cx:"11",cy:"11",r:"3",stroke:"currentColor",strokeWidth:"1",opacity:"0.5"})]})}function VF({className:t="h-5 w-5"}){return o.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",children:[o.jsx("path",{d:"M3 9.5L12 2l9 7.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M5 8v11a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("rect",{x:"9",y:"13",width:"6",height:"6",stroke:"currentColor",strokeWidth:"1.5"})]})}function zF(){const[t,e]=cr(),{isAuthenticated:n}=Nn();if(!n)return null;const r=[{path:"/",icon:VF,label:"Home"},{path:"/discover",icon:BF,label:"Discover"},{path:"/lists",icon:AO,label:"Lists"},{path:"/social",icon:UF,label:"Social"},{path:"/settings",icon:Yh,label:"Settings"}];return o.jsxs(o.Fragment,{children:[o.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-slate-950/95 backdrop-blur-sm border-t border-slate-800",children:o.jsx("div",{className:"flex items-center justify-around py-2 px-1",children:r.map(i=>{const l=i.icon,c=t===i.path||i.path==="/"&&t==="/"||i.path==="/discover"&&t.startsWith("/discover");return o.jsxs("button",{onClick:()=>e(i.path),className:`flex flex-col items-center p-2 min-w-0 flex-1 transition-colors duration-200 ${c?"text-teal-400":"text-gray-400 hover:text-gray-300"}`,children:[o.jsx(l,{className:"w-5 h-5 mb-1 flex-shrink-0"}),o.jsx("span",{className:"text-xs font-medium truncate",children:i.label})]},i.path)})})}),o.jsx("div",{className:"md:hidden h-16"})]})}function WF(){const[t,e]=cr(),n=[{path:"/privacy-policy",icon:is,label:"Privacy Policy"},{path:"/terms-of-service",icon:EO,label:"Terms of Service"},{path:"/eula",icon:$O,label:"EULA"}];return o.jsx("footer",{className:"bg-gray-900/95 border-t border-gray-800 mt-auto",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-10 h-8 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:o.jsx("div",{className:"text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),o.jsx("div",{className:"block",children:o.jsxs("span",{className:"text-xl select-none",children:[o.jsx("span",{className:"font-black bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Binge"}),o.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]})})]}),o.jsx("p",{className:"text-gray-400 text-sm",children:"The premium platform for tracking your favorite TV shows and sporting events. Discover, track, and share your entertainment experience."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold text-sm mb-3",children:"Legal"}),o.jsx("div",{className:"space-y-2",children:n.map(r=>{const i=r.icon;return o.jsxs("button",{onClick:()=>e(r.path),className:"flex items-center text-gray-400 hover:text-teal-400 text-sm transition-colors",children:[o.jsx(i,{className:"w-4 h-4 mr-2"}),r.label]},r.path)})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold text-sm mb-3",children:"Support"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("p",{children:"Privacy questions: privacy@bingeboard.com"}),o.jsx("p",{children:"Support: support@bingeboard.com"}),o.jsx("p",{className:"mt-4 text-xs",children:" 2025 BingeBoard. All rights reserved."})]})]})]})})})}var HF=Symbol.for("react.lazy"),uh=Ah[" use ".trim().toString()];function GF(t){return typeof t=="object"&&t!==null&&"then"in t}function hC(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===HF&&"_payload"in t&&GF(t._payload)}function uv(t){const e=qF(t),n=y.forwardRef((r,i)=>{let{children:l,...c}=r;hC(l)&&typeof uh=="function"&&(l=uh(l._payload));const d=y.Children.toArray(l),h=d.find(QF);if(h){const f=h.props.children,g=d.map(m=>m===h?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:m);return o.jsx(e,{...c,ref:i,children:y.isValidElement(f)?y.cloneElement(f,void 0,g):null})}return o.jsx(e,{...c,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}var KF=uv("Slot");function qF(t){const e=y.forwardRef((n,r)=>{let{children:i,...l}=n;if(hC(i)&&typeof uh=="function"&&(i=uh(i._payload)),y.isValidElement(i)){const c=XF(i),d=ZF(l,i.props);return i.type!==y.Fragment&&(d.ref=r?vi(r,c):c),y.cloneElement(i,d)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var YF=Symbol("radix.slottable");function QF(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===YF}function ZF(t,e){const n={...e};for(const r in e){const i=t[r],l=e[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function XF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const JF=Kh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 focus-visible:ring-offset-gray-900 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-blue-500 hover:bg-blue-600 text-white font-medium shadow-md hover:shadow-lg",destructive:"bg-red-600 text-white hover:bg-red-700 shadow-md hover:shadow-lg",outline:"border border-gray-600 bg-transparent text-white hover:bg-gray-700 hover:border-gray-500",secondary:"bg-gray-700 text-white hover:bg-gray-600 shadow-md hover:shadow-lg",ghost:"text-white hover:bg-gray-700 hover:text-white",link:"text-blue-400 underline-offset-4 hover:underline hover:text-blue-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),le=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},l)=>{const c=r?KF:"button";return o.jsx(c,{className:De(JF({variant:e,size:n,className:t})),ref:l,...i})});le.displayName="Button";const Jt=y.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:De("flex h-10 w-full rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-base text-white ring-offset-gray-900 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-white placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 focus-visible:border-transparent disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-all duration-200",t),ref:r,...n}));Jt.displayName="Input";function e6(t,e=[]){let n=[];function r(l,c){const d=y.createContext(c);d.displayName=l+"Context";const h=n.length;n=[...n,c];const f=m=>{var _;const{scope:v,children:b,...k}=m,N=((_=v==null?void 0:v[t])==null?void 0:_[h])||d,S=y.useMemo(()=>k,Object.values(k));return o.jsx(N.Provider,{value:S,children:b})};f.displayName=l+"Provider";function g(m,v){var N;const b=((N=v==null?void 0:v[t])==null?void 0:N[h])||d,k=y.useContext(b);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${l}\``)}return[f,g]}const i=()=>{const l=n.map(c=>y.createContext(c));return function(d){const h=(d==null?void 0:d[t])||l;return y.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return i.scopeName=t,[r,t6(i,...e)]}function t6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=r.reduce((d,{useScope:h,scopeName:f})=>{const m=h(l)[`__scope${f}`];return{...d,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var n6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dv=n6.reduce((t,e)=>{const n=uv(`Primitive.${e}`),r=y.forwardRef((i,l)=>{const{asChild:c,...d}=i,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...d,ref:l})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function r6(){return ak.useSyncExternalStore(s6,()=>!0,()=>!1)}function s6(){return()=>{}}var hv="Avatar",[i6]=e6(hv),[o6,fC]=i6(hv),pC=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,l]=y.useState("idle");return o.jsx(o6,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:o.jsx(dv.span,{...r,ref:e})})});pC.displayName=hv;var mC="AvatarImage",gC=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...l}=t,c=fC(mC,n),d=a6(r,l),h=fn(f=>{i(f),c.onImageLoadingStatusChange(f)});return Fn(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?o.jsx(dv.img,{...l,ref:e,src:r}):null});gC.displayName=mC;var yC="AvatarFallback",vC=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,l=fC(yC,n),[c,d]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(h)}},[r]),c&&l.imageLoadingStatus!=="loaded"?o.jsx(dv.span,{...i,ref:e}):null});vC.displayName=yC;function V1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function a6(t,{referrerPolicy:e,crossOrigin:n}){const r=r6(),i=y.useRef(null),l=r?(i.current||(i.current=new window.Image),i.current):null,[c,d]=y.useState(()=>V1(l,t));return Fn(()=>{d(V1(l,t))},[l,t]),Fn(()=>{const h=m=>()=>{d(m)};if(!l)return;const f=h("loaded"),g=h("error");return l.addEventListener("load",f),l.addEventListener("error",g),e&&(l.referrerPolicy=e),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",f),l.removeEventListener("error",g)}},[l,n,e]),c}var xC=pC,wC=gC,bC=vC;const fo=y.forwardRef(({className:t,...e},n)=>o.jsx(xC,{ref:n,className:De("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));fo.displayName=xC.displayName;const po=y.forwardRef(({className:t,...e},n)=>o.jsx(wC,{ref:n,className:De("aspect-square h-full w-full",t),...e}));po.displayName=wC.displayName;const mo=y.forwardRef(({className:t,...e},n)=>o.jsx(bC,{ref:n,className:De("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));mo.displayName=bC.displayName;const l6=Kh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),Be=y.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,className:De(l6({variant:e}),t),...n}));Be.displayName="Badge";var c6=y.createContext(void 0);function sf(t){const e=y.useContext(c6);return t||e||"ltr"}var Im=0;function SC(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??z1()),document.body.insertAdjacentElement("beforeend",t[1]??z1()),Im++,()=>{Im===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Im--}},[])}function z1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Mm="focusScope.autoFocusOnMount",Om="focusScope.autoFocusOnUnmount",W1={bubbles:!1,cancelable:!0},u6="FocusScope",fv=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=t,[d,h]=y.useState(null),f=fn(i),g=fn(l),m=y.useRef(null),v=Ye(e,N=>h(N)),b=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let N=function(j){if(b.paused||!d)return;const P=j.target;d.contains(P)?m.current=P:Ws(m.current,{select:!0})},S=function(j){if(b.paused||!d)return;const P=j.relatedTarget;P!==null&&(d.contains(P)||Ws(m.current,{select:!0}))},_=function(j){if(document.activeElement===document.body)for(const A of j)A.removedNodes.length>0&&Ws(d)};document.addEventListener("focusin",N),document.addEventListener("focusout",S);const E=new MutationObserver(_);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",S),E.disconnect()}}},[r,d,b.paused]),y.useEffect(()=>{if(d){G1.add(b);const N=document.activeElement;if(!d.contains(N)){const _=new CustomEvent(Mm,W1);d.addEventListener(Mm,f),d.dispatchEvent(_),_.defaultPrevented||(d6(g6(NC(d)),{select:!0}),document.activeElement===N&&Ws(d))}return()=>{d.removeEventListener(Mm,f),setTimeout(()=>{const _=new CustomEvent(Om,W1);d.addEventListener(Om,g),d.dispatchEvent(_),_.defaultPrevented||Ws(N??document.body,{select:!0}),d.removeEventListener(Om,g),G1.remove(b)},0)}}},[d,f,g,b]);const k=y.useCallback(N=>{if(!n&&!r||b.paused)return;const S=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,_=document.activeElement;if(S&&_){const E=N.currentTarget,[j,P]=h6(E);j&&P?!N.shiftKey&&_===P?(N.preventDefault(),n&&Ws(j,{select:!0})):N.shiftKey&&_===j&&(N.preventDefault(),n&&Ws(P,{select:!0})):_===E&&N.preventDefault()}},[n,r,b.paused]);return o.jsx($e.div,{tabIndex:-1,...c,ref:v,onKeyDown:k})});fv.displayName=u6;function d6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ws(r,{select:e}),document.activeElement!==n)return}function h6(t){const e=NC(t),n=H1(e,t),r=H1(e.reverse(),t);return[n,r]}function NC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function H1(t,e){for(const n of t)if(!f6(n,{upTo:e}))return n}function f6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function p6(t){return t instanceof HTMLInputElement&&"select"in t}function Ws(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&p6(t)&&e&&t.select()}}var G1=m6();function m6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=K1(t,e),t.unshift(e)},remove(e){var n;t=K1(t,e),(n=t[0])==null||n.resume()}}}function K1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function g6(t){return t.filter(e=>e.tagName!=="A")}var Dm="rovingFocusGroup.onEntryFocus",y6={bubbles:!1,cancelable:!0},Wc="RovingFocusGroup",[Hg,kC,v6]=Hh(Wc),[x6,of]=Un(Wc,[v6]),[w6,b6]=x6(Wc),_C=y.forwardRef((t,e)=>o.jsx(Hg.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Hg.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(S6,{...t,ref:e})})}));_C.displayName=Wc;var S6=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...m}=t,v=y.useRef(null),b=Ye(e,v),k=sf(l),[N,S]=xi({prop:c,defaultProp:d??null,onChange:h,caller:Wc}),[_,E]=y.useState(!1),j=fn(f),P=kC(n),A=y.useRef(!1),[O,R]=y.useState(0);return y.useEffect(()=>{const T=v.current;if(T)return T.addEventListener(Dm,j),()=>T.removeEventListener(Dm,j)},[j]),o.jsx(w6,{scope:n,orientation:r,dir:k,loop:i,currentTabStopId:N,onItemFocus:y.useCallback(T=>S(T),[S]),onItemShiftTab:y.useCallback(()=>E(!0),[]),onFocusableItemAdd:y.useCallback(()=>R(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>R(T=>T-1),[]),children:o.jsx($e.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...m,ref:b,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{A.current=!0}),onFocus:ye(t.onFocus,T=>{const I=!A.current;if(T.target===T.currentTarget&&I&&!_){const $=new CustomEvent(Dm,y6);if(T.currentTarget.dispatchEvent($),!$.defaultPrevented){const Y=P().filter(ce=>ce.focusable),W=Y.find(ce=>ce.active),Z=Y.find(ce=>ce.id===N),ue=[W,Z,...Y].filter(Boolean).map(ce=>ce.ref.current);EC(ue,g)}}A.current=!1}),onBlur:ye(t.onBlur,()=>E(!1))})})}),jC="RovingFocusGroupItem",CC=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:l,children:c,...d}=t,h=Xi(),f=l||h,g=b6(jC,n),m=g.currentTabStopId===f,v=kC(n),{onFocusableItemAdd:b,onFocusableItemRemove:k,currentTabStopId:N}=g;return y.useEffect(()=>{if(r)return b(),()=>k()},[r,b,k]),o.jsx(Hg.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:o.jsx($e.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...d,ref:e,onMouseDown:ye(t.onMouseDown,S=>{r?g.onItemFocus(f):S.preventDefault()}),onFocus:ye(t.onFocus,()=>g.onItemFocus(f)),onKeyDown:ye(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){g.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=_6(S,g.orientation,g.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let j=v().filter(P=>P.focusable).map(P=>P.ref.current);if(_==="last")j.reverse();else if(_==="prev"||_==="next"){_==="prev"&&j.reverse();const P=j.indexOf(S.currentTarget);j=g.loop?j6(j,P+1):j.slice(P+1)}setTimeout(()=>EC(j))}}),children:typeof c=="function"?c({isCurrentTabStop:m,hasTabStop:N!=null}):c})})});CC.displayName=jC;var N6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k6(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function _6(t,e,n){const r=k6(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return N6[r]}function EC(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function j6(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var PC=_C,TC=CC;function C6(t){const e=E6(t),n=y.forwardRef((r,i)=>{const{children:l,...c}=r,d=y.Children.toArray(l),h=d.find(T6);if(h){const f=h.props.children,g=d.map(m=>m===h?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:m);return o.jsx(e,{...c,ref:i,children:y.isValidElement(f)?y.cloneElement(f,void 0,g):null})}return o.jsx(e,{...c,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}function E6(t){const e=y.forwardRef((n,r)=>{const{children:i,...l}=n;if(y.isValidElement(i)){const c=A6(i),d=R6(l,i.props);return i.type!==y.Fragment&&(d.ref=r?vi(r,c):c),y.cloneElement(i,d)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var P6=Symbol("radix.slottable");function T6(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===P6}function R6(t,e){const n={...e};for(const r in e){const i=t[r],l=e[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function A6(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var I6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Go=new WeakMap,hd=new WeakMap,fd={},Lm=0,RC=function(t){return t&&(t.host||RC(t.parentNode))},M6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=RC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},O6=function(t,e,n,r){var i=M6(e,Array.isArray(t)?t:[t]);fd[n]||(fd[n]=new WeakMap);var l=fd[n],c=[],d=new Set,h=new Set(i),f=function(m){!m||d.has(m)||(d.add(m),f(m.parentNode))};i.forEach(f);var g=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(v){if(d.has(v))g(v);else try{var b=v.getAttribute(r),k=b!==null&&b!=="false",N=(Go.get(v)||0)+1,S=(l.get(v)||0)+1;Go.set(v,N),l.set(v,S),c.push(v),N===1&&k&&hd.set(v,!0),S===1&&v.setAttribute(n,"true"),k||v.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",v,_)}})};return g(e),d.clear(),Lm++,function(){c.forEach(function(m){var v=Go.get(m)-1,b=l.get(m)-1;Go.set(m,v),l.set(m,b),v||(hd.has(m)||m.removeAttribute(r),hd.delete(m)),b||m.removeAttribute(n)}),Lm--,Lm||(Go=new WeakMap,Go=new WeakMap,hd=new WeakMap,fd={})}},AC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=I6(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),O6(r,i,n,"aria-hidden")):function(){return null}},Nr=function(){return Nr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Nr.apply(this,arguments)};function IC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function D6(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,l;r<i;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}var Ld="right-scroll-bar-position",Fd="width-before-scroll-bar",L6="with-scroll-bars-hidden",F6="--removed-body-scroll-bar-size";function Fm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $6(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var U6=typeof window<"u"?y.useLayoutEffect:y.useEffect,q1=new WeakMap;function B6(t,e){var n=$6(null,function(r){return t.forEach(function(i){return Fm(i,r)})});return U6(function(){var r=q1.get(n);if(r){var i=new Set(r),l=new Set(t),c=n.current;i.forEach(function(d){l.has(d)||Fm(d,null)}),l.forEach(function(d){i.has(d)||Fm(d,c)})}q1.set(n,t)},[t]),n}function V6(t){return t}function z6(t,e){e===void 0&&(e=V6);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var c=e(l,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(r=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(l),c=n}var h=function(){var g=c;c=[],g.forEach(l)},f=function(){return Promise.resolve().then(h)};f(),n={push:function(g){c.push(g),f()},filter:function(g){return c=c.filter(g),n}}}};return i}function W6(t){t===void 0&&(t={});var e=z6(null);return e.options=Nr({async:!0,ssr:!1},t),e}var MC=function(t){var e=t.sideCar,n=IC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Nr({},n))};MC.isSideCarExport=!0;function H6(t,e){return t.useMedium(e),MC}var OC=W6(),$m=function(){},af=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:$m,onWheelCapture:$m,onTouchMoveCapture:$m}),i=r[0],l=r[1],c=t.forwardProps,d=t.children,h=t.className,f=t.removeScrollBar,g=t.enabled,m=t.shards,v=t.sideCar,b=t.noRelative,k=t.noIsolation,N=t.inert,S=t.allowPinchZoom,_=t.as,E=_===void 0?"div":_,j=t.gapMode,P=IC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=v,O=B6([n,e]),R=Nr(Nr({},P),i);return y.createElement(y.Fragment,null,g&&y.createElement(A,{sideCar:OC,removeScrollBar:f,shards:m,noRelative:b,noIsolation:k,inert:N,setCallbacks:l,allowPinchZoom:!!S,lockRef:n,gapMode:j}),c?y.cloneElement(y.Children.only(d),Nr(Nr({},R),{ref:O})):y.createElement(E,Nr({},R,{className:h,ref:O}),d))});af.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};af.classNames={fullWidth:Fd,zeroRight:Ld};var G6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function K6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=G6();return e&&t.setAttribute("nonce",e),t}function q6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Y6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Q6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=K6())&&(q6(e,n),Y6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Z6=function(){var t=Q6();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},DC=function(){var t=Z6(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},X6={left:0,top:0,right:0,gap:0},Um=function(t){return parseInt(t||"",10)||0},J6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Um(n),Um(r),Um(i)]},e8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return X6;var e=J6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},t8=DC(),ua="data-scroll-locked",n8=function(t,e,n,r){var i=t.left,l=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(L6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(ua,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ld,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Fd,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Ld," .").concat(Ld,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fd," .").concat(Fd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ua,`] {
    `).concat(F6,": ").concat(d,`px;
  }
`)},Y1=function(){var t=parseInt(document.body.getAttribute(ua)||"0",10);return isFinite(t)?t:0},r8=function(){y.useEffect(function(){return document.body.setAttribute(ua,(Y1()+1).toString()),function(){var t=Y1()-1;t<=0?document.body.removeAttribute(ua):document.body.setAttribute(ua,t.toString())}},[])},s8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;r8();var l=y.useMemo(function(){return e8(i)},[i]);return y.createElement(t8,{styles:n8(l,!e,i,n?"":"!important")})},Gg=!1;if(typeof window<"u")try{var pd=Object.defineProperty({},"passive",{get:function(){return Gg=!0,!0}});window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{Gg=!1}var Ko=Gg?{passive:!1}:!1,i8=function(t){return t.tagName==="TEXTAREA"},LC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!i8(t)&&n[e]==="visible")},o8=function(t){return LC(t,"overflowY")},a8=function(t){return LC(t,"overflowX")},Q1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=FC(t,r);if(i){var l=$C(t,r),c=l[1],d=l[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},l8=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},c8=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},FC=function(t,e){return t==="v"?o8(e):a8(e)},$C=function(t,e){return t==="v"?l8(e):c8(e)},u8=function(t,e){return t==="h"&&e==="rtl"?-1:1},d8=function(t,e,n,r,i){var l=u8(t,window.getComputedStyle(e).direction),c=l*r,d=n.target,h=e.contains(d),f=!1,g=c>0,m=0,v=0;do{if(!d)break;var b=$C(t,d),k=b[0],N=b[1],S=b[2],_=N-S-l*k;(k||_)&&FC(t,d)&&(m+=_,v+=k);var E=d.parentNode;d=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(g&&Math.abs(m)<1||!g&&Math.abs(v)<1)&&(f=!0),f},md=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Z1=function(t){return[t.deltaX,t.deltaY]},X1=function(t){return t&&"current"in t?t.current:t},h8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},f8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},p8=0,qo=[];function m8(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(p8++)[0],l=y.useState(DC)[0],c=y.useRef(t);y.useEffect(function(){c.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var N=D6([t.lockRef.current],(t.shards||[]).map(X1),!0).filter(Boolean);return N.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=y.useCallback(function(N,S){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!c.current.allowPinchZoom;var _=md(N),E=n.current,j="deltaX"in N?N.deltaX:E[0]-_[0],P="deltaY"in N?N.deltaY:E[1]-_[1],A,O=N.target,R=Math.abs(j)>Math.abs(P)?"h":"v";if("touches"in N&&R==="h"&&O.type==="range")return!1;var T=Q1(R,O);if(!T)return!0;if(T?A=R:(A=R==="v"?"h":"v",T=Q1(R,O)),!T)return!1;if(!r.current&&"changedTouches"in N&&(j||P)&&(r.current=A),!A)return!0;var I=r.current||A;return d8(I,S,N,I==="h"?j:P)},[]),h=y.useCallback(function(N){var S=N;if(!(!qo.length||qo[qo.length-1]!==l)){var _="deltaY"in S?Z1(S):md(S),E=e.current.filter(function(A){return A.name===S.type&&(A.target===S.target||S.target===A.shadowParent)&&h8(A.delta,_)})[0];if(E&&E.should){S.cancelable&&S.preventDefault();return}if(!E){var j=(c.current.shards||[]).map(X1).filter(Boolean).filter(function(A){return A.contains(S.target)}),P=j.length>0?d(S,j[0]):!c.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),f=y.useCallback(function(N,S,_,E){var j={name:N,delta:S,target:_,should:E,shadowParent:g8(_)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(P){return P!==j})},1)},[]),g=y.useCallback(function(N){n.current=md(N),r.current=void 0},[]),m=y.useCallback(function(N){f(N.type,Z1(N),N.target,d(N,t.lockRef.current))},[]),v=y.useCallback(function(N){f(N.type,md(N),N.target,d(N,t.lockRef.current))},[]);y.useEffect(function(){return qo.push(l),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",h,Ko),document.addEventListener("touchmove",h,Ko),document.addEventListener("touchstart",g,Ko),function(){qo=qo.filter(function(N){return N!==l}),document.removeEventListener("wheel",h,Ko),document.removeEventListener("touchmove",h,Ko),document.removeEventListener("touchstart",g,Ko)}},[]);var b=t.removeScrollBar,k=t.inert;return y.createElement(y.Fragment,null,k?y.createElement(l,{styles:f8(i)}):null,b?y.createElement(s8,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function g8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const y8=H6(OC,m8);var pv=y.forwardRef(function(t,e){return y.createElement(af,Nr({},t,{ref:e,sideCar:y8}))});pv.classNames=af.classNames;var Kg=["Enter"," "],v8=["ArrowDown","PageUp","Home"],UC=["ArrowUp","PageDown","End"],x8=[...v8,...UC],w8={ltr:[...Kg,"ArrowRight"],rtl:[...Kg,"ArrowLeft"]},b8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hc="Menu",[vc,S8,N8]=Hh(Hc),[go,BC]=Un(Hc,[N8,$h,of]),lf=$h(),VC=of(),[k8,yo]=go(Hc),[_8,Gc]=go(Hc),zC=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:l,modal:c=!0}=t,d=lf(e),[h,f]=y.useState(null),g=y.useRef(!1),m=fn(l),v=sf(i);return y.useEffect(()=>{const b=()=>{g.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>g.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),o.jsx(e_,{...d,children:o.jsx(k8,{scope:e,open:n,onOpenChange:m,content:h,onContentChange:f,children:o.jsx(_8,{scope:e,onClose:y.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:v,modal:c,children:r})})})};zC.displayName=Hc;var j8="MenuAnchor",mv=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=lf(n);return o.jsx(t_,{...i,...r,ref:e})});mv.displayName=j8;var gv="MenuPortal",[C8,WC]=go(gv,{forceMount:void 0}),HC=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,l=yo(gv,e);return o.jsx(C8,{scope:e,forceMount:n,children:o.jsx(ur,{present:n||l.open,children:o.jsx(Uh,{asChild:!0,container:i,children:r})})})};HC.displayName=gv;var Ln="MenuContent",[E8,yv]=go(Ln),GC=y.forwardRef((t,e)=>{const n=WC(Ln,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,l=yo(Ln,t.__scopeMenu),c=Gc(Ln,t.__scopeMenu);return o.jsx(vc.Provider,{scope:t.__scopeMenu,children:o.jsx(ur,{present:r||l.open,children:o.jsx(vc.Slot,{scope:t.__scopeMenu,children:c.modal?o.jsx(P8,{...i,ref:e}):o.jsx(T8,{...i,ref:e})})})})}),P8=y.forwardRef((t,e)=>{const n=yo(Ln,t.__scopeMenu),r=y.useRef(null),i=Ye(e,r);return y.useEffect(()=>{const l=r.current;if(l)return AC(l)},[]),o.jsx(vv,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),T8=y.forwardRef((t,e)=>{const n=yo(Ln,t.__scopeMenu);return o.jsx(vv,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),R8=C6("MenuContent.ScrollLock"),vv=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:v,onDismiss:b,disableOutsideScroll:k,...N}=t,S=yo(Ln,n),_=Gc(Ln,n),E=lf(n),j=VC(n),P=S8(n),[A,O]=y.useState(null),R=y.useRef(null),T=Ye(e,R,S.onContentChange),I=y.useRef(0),$=y.useRef(""),Y=y.useRef(0),W=y.useRef(null),Z=y.useRef("right"),Q=y.useRef(0),ue=k?pv:y.Fragment,ce=k?{as:R8,allowPinchZoom:!0}:void 0,ie=B=>{var oe,ae;const X=$.current+B,F=P().filter(be=>!be.disabled),G=document.activeElement,me=(oe=F.find(be=>be.ref.current===G))==null?void 0:oe.textValue,_e=F.map(be=>be.textValue),Re=z8(_e,X,me),K=(ae=F.find(be=>be.textValue===Re))==null?void 0:ae.ref.current;(function be(Ge){$.current=Ge,window.clearTimeout(I.current),Ge!==""&&(I.current=window.setTimeout(()=>be(""),1e3))})(X),K&&setTimeout(()=>K.focus())};y.useEffect(()=>()=>window.clearTimeout(I.current),[]),SC();const V=y.useCallback(B=>{var F,G;return Z.current===((F=W.current)==null?void 0:F.side)&&H8(B,(G=W.current)==null?void 0:G.area)},[]);return o.jsx(E8,{scope:n,searchRef:$,onItemEnter:y.useCallback(B=>{V(B)&&B.preventDefault()},[V]),onItemLeave:y.useCallback(B=>{var X;V(B)||((X=R.current)==null||X.focus(),O(null))},[V]),onTriggerLeave:y.useCallback(B=>{V(B)&&B.preventDefault()},[V]),pointerGraceTimerRef:Y,onPointerGraceIntentChange:y.useCallback(B=>{W.current=B},[]),children:o.jsx(ue,{...ce,children:o.jsx(fv,{asChild:!0,trapped:i,onMountAutoFocus:ye(l,B=>{var X;B.preventDefault(),(X=R.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:o.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:v,onDismiss:b,children:o.jsx(PC,{asChild:!0,...j,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:O,onEntryFocus:ye(h,B=>{_.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(n_,{role:"menu","aria-orientation":"vertical","data-state":lE(S.open),"data-radix-menu-content":"",dir:_.dir,...E,...N,ref:T,style:{outline:"none",...N.style},onKeyDown:ye(N.onKeyDown,B=>{const F=B.target.closest("[data-radix-menu-content]")===B.currentTarget,G=B.ctrlKey||B.altKey||B.metaKey,me=B.key.length===1;F&&(B.key==="Tab"&&B.preventDefault(),!G&&me&&ie(B.key));const _e=R.current;if(B.target!==_e||!x8.includes(B.key))return;B.preventDefault();const K=P().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);UC.includes(B.key)&&K.reverse(),B8(K)}),onBlur:ye(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(I.current),$.current="")}),onPointerMove:ye(t.onPointerMove,xc(B=>{const X=B.target,F=Q.current!==B.clientX;if(B.currentTarget.contains(X)&&F){const G=B.clientX>Q.current?"right":"left";Z.current=G,Q.current=B.clientX}}))})})})})})})});GC.displayName=Ln;var A8="MenuGroup",xv=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx($e.div,{role:"group",...r,ref:e})});xv.displayName=A8;var I8="MenuLabel",KC=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx($e.div,{...r,ref:e})});KC.displayName=I8;var dh="MenuItem",J1="menu.itemSelect",cf=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,l=y.useRef(null),c=Gc(dh,t.__scopeMenu),d=yv(dh,t.__scopeMenu),h=Ye(e,l),f=y.useRef(!1),g=()=>{const m=l.current;if(!n&&m){const v=new CustomEvent(J1,{bubbles:!0,cancelable:!0});m.addEventListener(J1,b=>r==null?void 0:r(b),{once:!0}),My(m,v),v.defaultPrevented?f.current=!1:c.onClose()}};return o.jsx(qC,{...i,ref:h,disabled:n,onClick:ye(t.onClick,g),onPointerDown:m=>{var v;(v=t.onPointerDown)==null||v.call(t,m),f.current=!0},onPointerUp:ye(t.onPointerUp,m=>{var v;f.current||(v=m.currentTarget)==null||v.click()}),onKeyDown:ye(t.onKeyDown,m=>{const v=d.searchRef.current!=="";n||v&&m.key===" "||Kg.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});cf.displayName=dh;var qC=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...l}=t,c=yv(dh,n),d=VC(n),h=y.useRef(null),f=Ye(e,h),[g,m]=y.useState(!1),[v,b]=y.useState("");return y.useEffect(()=>{const k=h.current;k&&b((k.textContent??"").trim())},[l.children]),o.jsx(vc.ItemSlot,{scope:n,disabled:r,textValue:i??v,children:o.jsx(TC,{asChild:!0,...d,focusable:!r,children:o.jsx($e.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:f,onPointerMove:ye(t.onPointerMove,xc(k=>{r?c.onItemLeave(k):(c.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(t.onPointerLeave,xc(k=>c.onItemLeave(k))),onFocus:ye(t.onFocus,()=>m(!0)),onBlur:ye(t.onBlur,()=>m(!1))})})})}),M8="MenuCheckboxItem",YC=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return o.jsx(eE,{scope:t.__scopeMenu,checked:n,children:o.jsx(cf,{role:"menuitemcheckbox","aria-checked":hh(n)?"mixed":n,...i,ref:e,"data-state":bv(n),onSelect:ye(i.onSelect,()=>r==null?void 0:r(hh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});YC.displayName=M8;var QC="MenuRadioGroup",[O8,D8]=go(QC,{value:void 0,onValueChange:()=>{}}),ZC=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,l=fn(r);return o.jsx(O8,{scope:t.__scopeMenu,value:n,onValueChange:l,children:o.jsx(xv,{...i,ref:e})})});ZC.displayName=QC;var XC="MenuRadioItem",JC=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=D8(XC,t.__scopeMenu),l=n===i.value;return o.jsx(eE,{scope:t.__scopeMenu,checked:l,children:o.jsx(cf,{role:"menuitemradio","aria-checked":l,...r,ref:e,"data-state":bv(l),onSelect:ye(r.onSelect,()=>{var c;return(c=i.onValueChange)==null?void 0:c.call(i,n)},{checkForDefaultPrevented:!1})})})});JC.displayName=XC;var wv="MenuItemIndicator",[eE,L8]=go(wv,{checked:!1}),tE=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,l=L8(wv,n);return o.jsx(ur,{present:r||hh(l.checked)||l.checked===!0,children:o.jsx($e.span,{...i,ref:e,"data-state":bv(l.checked)})})});tE.displayName=wv;var F8="MenuSeparator",nE=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx($e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});nE.displayName=F8;var $8="MenuArrow",rE=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=lf(n);return o.jsx(r_,{...i,...r,ref:e})});rE.displayName=$8;var U8="MenuSub",[xG,sE]=go(U8),Wl="MenuSubTrigger",iE=y.forwardRef((t,e)=>{const n=yo(Wl,t.__scopeMenu),r=Gc(Wl,t.__scopeMenu),i=sE(Wl,t.__scopeMenu),l=yv(Wl,t.__scopeMenu),c=y.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=l,f={__scopeMenu:t.__scopeMenu},g=y.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return y.useEffect(()=>g,[g]),y.useEffect(()=>{const m=d.current;return()=>{window.clearTimeout(m),h(null)}},[d,h]),o.jsx(mv,{asChild:!0,...f,children:o.jsx(qC,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":lE(n.open),...t,ref:vi(e,i.onTriggerChange),onClick:m=>{var v;(v=t.onClick)==null||v.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(t.onPointerMove,xc(m=>{l.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:ye(t.onPointerLeave,xc(m=>{var b,k;g();const v=(b=n.content)==null?void 0:b.getBoundingClientRect();if(v){const N=(k=n.content)==null?void 0:k.dataset.side,S=N==="right",_=S?-5:5,E=v[S?"left":"right"],j=v[S?"right":"left"];l.onPointerGraceIntentChange({area:[{x:m.clientX+_,y:m.clientY},{x:E,y:v.top},{x:j,y:v.top},{x:j,y:v.bottom},{x:E,y:v.bottom}],side:N}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(m),m.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:ye(t.onKeyDown,m=>{var b;const v=l.searchRef.current!=="";t.disabled||v&&m.key===" "||w8[r.dir].includes(m.key)&&(n.onOpenChange(!0),(b=n.content)==null||b.focus(),m.preventDefault())})})})});iE.displayName=Wl;var oE="MenuSubContent",aE=y.forwardRef((t,e)=>{const n=WC(Ln,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,l=yo(Ln,t.__scopeMenu),c=Gc(Ln,t.__scopeMenu),d=sE(oE,t.__scopeMenu),h=y.useRef(null),f=Ye(e,h);return o.jsx(vc.Provider,{scope:t.__scopeMenu,children:o.jsx(ur,{present:r||l.open,children:o.jsx(vc.Slot,{scope:t.__scopeMenu,children:o.jsx(vv,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:f,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var m;c.isUsingKeyboardRef.current&&((m=h.current)==null||m.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:ye(t.onFocusOutside,g=>{g.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:ye(t.onEscapeKeyDown,g=>{c.onClose(),g.preventDefault()}),onKeyDown:ye(t.onKeyDown,g=>{var b;const m=g.currentTarget.contains(g.target),v=b8[c.dir].includes(g.key);m&&v&&(l.onOpenChange(!1),(b=d.trigger)==null||b.focus(),g.preventDefault())})})})})})});aE.displayName=oE;function lE(t){return t?"open":"closed"}function hh(t){return t==="indeterminate"}function bv(t){return hh(t)?"indeterminate":t?"checked":"unchecked"}function B8(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function V8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function z8(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let c=V8(t,Math.max(l,0));i.length===1&&(c=c.filter(f=>f!==n));const h=c.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function W8(t,e){const{x:n,y:r}=t;let i=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l],h=e[c],f=d.x,g=d.y,m=h.x,v=h.y;g>r!=v>r&&n<(m-f)*(r-g)/(v-g)+f&&(i=!i)}return i}function H8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return W8(n,e)}function xc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var G8=zC,K8=mv,q8=HC,Y8=GC,Q8=xv,Z8=KC,X8=cf,J8=YC,e$=ZC,t$=JC,n$=tE,r$=nE,s$=rE,i$=iE,o$=aE,uf="DropdownMenu",[a$]=Un(uf,[BC]),nn=BC(),[l$,cE]=a$(uf),uE=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:l,onOpenChange:c,modal:d=!0}=t,h=nn(e),f=y.useRef(null),[g,m]=xi({prop:i,defaultProp:l??!1,onChange:c,caller:uf});return o.jsx(l$,{scope:e,triggerId:Xi(),triggerRef:f,contentId:Xi(),open:g,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(v=>!v),[m]),modal:d,children:o.jsx(G8,{...h,open:g,onOpenChange:m,dir:r,modal:d,children:n})})};uE.displayName=uf;var dE="DropdownMenuTrigger",hE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,l=cE(dE,n),c=nn(n);return o.jsx(K8,{asChild:!0,...c,children:o.jsx($e.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:vi(e,l.triggerRef),onPointerDown:ye(t.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:ye(t.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});hE.displayName=dE;var c$="DropdownMenuPortal",fE=t=>{const{__scopeDropdownMenu:e,...n}=t,r=nn(e);return o.jsx(q8,{...r,...n})};fE.displayName=c$;var pE="DropdownMenuContent",mE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=cE(pE,n),l=nn(n),c=y.useRef(!1);return o.jsx(Y8,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...r,ref:e,onCloseAutoFocus:ye(t.onCloseAutoFocus,d=>{var h;c.current||(h=i.triggerRef.current)==null||h.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:ye(t.onInteractOutside,d=>{const h=d.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,g=h.button===2||f;(!i.modal||g)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mE.displayName=pE;var u$="DropdownMenuGroup",d$=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return o.jsx(Q8,{...i,...r,ref:e})});d$.displayName=u$;var h$="DropdownMenuLabel",gE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return o.jsx(Z8,{...i,...r,ref:e})});gE.displayName=h$;var f$="DropdownMenuItem",yE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return o.jsx(X8,{...i,...r,ref:e})});yE.displayName=f$;var p$="DropdownMenuCheckboxItem",vE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return o.jsx(J8,{...i,...r,ref:e})});vE.displayName=p$;var m$="DropdownMenuRadioGroup",g$=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return o.jsx(e$,{...i,...r,ref:e})});g$.displayName=m$;var y$="DropdownMenuRadioItem",xE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return o.jsx(t$,{...i,...r,ref:e})});xE.displayName=y$;var v$="DropdownMenuItemIndicator",wE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return o.jsx(n$,{...i,...r,ref:e})});wE.displayName=v$;var x$="DropdownMenuSeparator",bE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return o.jsx(r$,{...i,...r,ref:e})});bE.displayName=x$;var w$="DropdownMenuArrow",b$=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return o.jsx(s$,{...i,...r,ref:e})});b$.displayName=w$;var S$="DropdownMenuSubTrigger",SE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return o.jsx(i$,{...i,...r,ref:e})});SE.displayName=S$;var N$="DropdownMenuSubContent",NE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return o.jsx(o$,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NE.displayName=N$;var k$=uE,_$=hE,j$=fE,kE=mE,_E=gE,jE=yE,CE=vE,EE=xE,PE=wE,TE=bE,RE=SE,AE=NE;const IE=k$,ME=_$,C$=y.forwardRef(({className:t,inset:e,children:n,...r},i)=>o.jsxs(RE,{ref:i,className:De("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(V_,{className:"ml-auto h-4 w-4"})]}));C$.displayName=RE.displayName;const E$=y.forwardRef(({className:t,...e},n)=>o.jsx(AE,{ref:n,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));E$.displayName=AE.displayName;const Sv=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(j$,{children:o.jsx(kE,{ref:r,sideOffset:e,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Sv.displayName=kE.displayName;const ri=y.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(jE,{ref:r,className:De("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ri.displayName=jE.displayName;const P$=y.forwardRef(({className:t,children:e,checked:n,...r},i)=>o.jsxs(CE,{ref:i,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(PE,{children:o.jsx(qh,{className:"h-4 w-4"})})}),e]}));P$.displayName=CE.displayName;const T$=y.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(EE,{ref:r,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(PE,{children:o.jsx(W_,{className:"h-2 w-2 fill-current"})})}),e]}));T$.displayName=EE.displayName;const OE=y.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(_E,{ref:r,className:De("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));OE.displayName=_E.displayName;const qg=y.forwardRef(({className:t,...e},n)=>o.jsx(TE,{ref:n,className:De("-mx-1 my-1 h-px bg-muted",t),...e}));qg.displayName=TE.displayName;function R$(){var v,b,k,N;const{user:t,isAuthenticated:e}=Nn(),[n,r]=cr(),[i,l]=y.useState(""),[c,d]=y.useState(!1),h=S=>{S.preventDefault(),i.trim()?r(`/discover?search=${encodeURIComponent(i.trim())}`):r("/discover")},f=S=>{S.key==="Enter"&&h(S)},{data:g=[]}=ci({queryKey:["/api/notifications/history"],queryFn:async()=>{try{const S=await tt("/api/notifications/history");if(!S.ok)throw new Error("Failed to fetch notifications");return await S.json()}catch(S){return console.debug("Failed to fetch notifications:",S),[]}},enabled:e}),m=g&&Array.isArray(g)?g.filter(S=>!S.isRead).length:0;return e?o.jsx("header",{className:"fixed top-0 left-0 right-0 z-[9999] w-full border-b border-slate-800/50 bg-black backdrop-blur-md",style:{position:"fixed"},children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex h-16 items-center justify-between",children:[o.jsx(Pt,{href:"/",children:o.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-10 h-8 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative group-hover:scale-105 transition-transform duration-300",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:o.jsx("div",{className:"text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),o.jsxs("div",{className:"block",children:[o.jsxs("span",{className:"text-xl sm:text-2xl",children:[o.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent font-black",children:"Binge"}),o.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]}),o.jsx("div",{className:"text-xs text-teal-400 font-medium tracking-widest uppercase opacity-75 hidden sm:block",children:"Entertainment Hub"})]})]})}),o.jsx("div",{className:"flex-1 max-w-lg mx-8 hidden md:block",children:o.jsx("form",{onSubmit:h,className:"relative",children:o.jsxs("div",{className:"relative",children:[o.jsx(ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(Jt,{type:"text",placeholder:"Search shows, movies, actors...",value:i,onChange:S=>l(S.target.value),onKeyDown:f,onFocus:()=>d(!0),onBlur:()=>d(!1),className:`pl-10 pr-4 py-2 bg-slate-800/50 border-slate-700 text-white placeholder-gray-400 focus:border-teal-500 focus:ring-1 focus:ring-teal-500 transition-all duration-200 ${c?"bg-slate-800/80 border-teal-500":"hover:bg-slate-800/70"}`})]})})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"md:hidden",children:o.jsx(le,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white",onClick:()=>r("/discover"),children:o.jsx(ja,{className:"h-5 w-5"})})}),o.jsx(Pt,{href:"/notifications",children:o.jsxs(le,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white relative",children:[o.jsx(io,{className:"h-5 w-5"}),m>0&&o.jsx(Be,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs min-w-0",children:m>9?"9+":m})]})}),o.jsxs(IE,{children:[o.jsx(ME,{asChild:!0,children:o.jsx(le,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:o.jsxs(fo,{className:"h-10 w-10",children:[o.jsx(po,{src:(t==null?void 0:t.profileImageUrl)||void 0,alt:(t==null?void 0:t.firstName)||"User"}),o.jsx(mo,{className:"bg-gradient-to-br from-cyan-500 to-blue-500 text-white",children:((b=(v=t==null?void 0:t.firstName)==null?void 0:v[0])==null?void 0:b.toUpperCase())||((N=(k=t==null?void 0:t.email)==null?void 0:k[0])==null?void 0:N.toUpperCase())||"U"})]})})}),o.jsxs(Sv,{className:"w-56 bg-slate-800 border-slate-700 mr-4 z-[10000]",align:"end",alignOffset:-8,sideOffset:8,forceMount:!0,style:{zIndex:1e4},children:[o.jsx(OE,{className:"font-normal",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none text-white",children:t!=null&&t.firstName&&(t!=null&&t.lastName)?`${t.firstName} ${t.lastName}`:(t==null?void 0:t.email)||"User"}),(t==null?void 0:t.email)&&o.jsx("p",{className:"text-xs leading-none text-gray-400",children:t.email})]})}),o.jsx(qg,{className:"bg-slate-700"}),o.jsx(ri,{className:"text-gray-300 hover:text-white hover:bg-slate-700 cursor-pointer",children:o.jsxs(Pt,{href:"/profile",className:"flex items-center w-full",children:[o.jsx(Qh,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]})}),o.jsx(ri,{className:"text-gray-300 hover:text-white hover:bg-slate-700 cursor-pointer",children:o.jsxs(Pt,{href:"/pricing",className:"flex items-center w-full",children:[o.jsx(_O,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Upgrade to Premium"})]})}),o.jsx(ri,{className:"text-gray-300 hover:text-white hover:bg-slate-700 cursor-pointer",children:o.jsxs(Pt,{href:"/settings",className:"flex items-center w-full",children:[o.jsx(Yh,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]})}),o.jsx(qg,{className:"bg-slate-700"}),o.jsxs(ri,{className:"text-gray-300 hover:text-white hover:bg-slate-700 cursor-pointer",onClick:async()=>{console.log(" MANUAL LOGOUT BUTTON CLICKED - Starting logout process..."),console.trace(" Stack trace for logout button click:");try{const{auth:S}=await yt(async()=>{const{auth:_}=await Promise.resolve().then(()=>dC);return{auth:_}},void 0);await qj(S),console.log(" Firebase client signout successful")}catch(S){console.error(" Firebase signout error:",S)}try{const S=await fetch("/api/auth/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});S.ok?console.log(" Backend session cleared successfully"):console.error(" Backend logout failed:",S.status)}catch(S){console.error(" Backend logout error:",S)}console.log(" Redirecting to home page..."),window.location.href="/"},children:[o.jsx(G_,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]})]})]})})}):o.jsx("header",{className:"nav-opaque border-b border-slate-800 sticky top-0 z-[60]",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs(Pt,{href:"/",className:"flex items-center space-x-3",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-10 h-8 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:o.jsx("div",{className:"text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),o.jsxs("div",{className:"block",children:[o.jsxs("span",{className:"text-xl sm:text-2xl",children:[o.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent font-black",children:"Binge"}),o.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]}),o.jsx("div",{className:"text-xs text-teal-400 font-medium tracking-widest uppercase opacity-75 hidden sm:block",children:"Entertainment Hub"})]})]}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsx(Pt,{href:"/login",children:o.jsx(le,{className:"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white font-semibold px-6 py-2",children:"Log In"})})})]})})})}const A$=Ze.memo(R$),Qe=y.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:De("bg-gray-800 text-white shadow-md rounded-lg border border-gray-700",t),...e}));Qe.displayName="Card";const Et=y.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:De("flex flex-col space-y-1.5 p-6",t),...e}));Et.displayName="CardHeader";const Lt=y.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:De("text-2xl font-semibold leading-none tracking-tight",t),...e}));Lt.displayName="CardTitle";const DE=y.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:De("text-sm text-gray-400",t),...e}));DE.displayName="CardDescription";const Xe=y.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:De("p-6 pt-0",t),...e}));Xe.displayName="CardContent";const I$=y.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:De("flex items-center p-6 pt-0",t),...e}));I$.displayName="CardFooter";function Nv(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var df="Switch",[M$]=Un(df),[O$,D$]=M$(df),LE=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:l,required:c,disabled:d,value:h="on",onCheckedChange:f,form:g,...m}=t,[v,b]=y.useState(null),k=Ye(e,j=>b(j)),N=y.useRef(!1),S=v?g||!!v.closest("form"):!0,[_,E]=xi({prop:i,defaultProp:l??!1,onChange:f,caller:df});return o.jsxs(O$,{scope:n,checked:_,disabled:d,children:[o.jsx($e.button,{type:"button",role:"switch","aria-checked":_,"aria-required":c,"data-state":BE(_),"data-disabled":d?"":void 0,disabled:d,value:h,...m,ref:k,onClick:ye(t.onClick,j=>{E(P=>!P),S&&(N.current=j.isPropagationStopped(),N.current||j.stopPropagation())})}),S&&o.jsx(UE,{control:v,bubbles:!N.current,name:r,value:h,checked:_,required:c,disabled:d,form:g,style:{transform:"translateX(-100%)"}})]})});LE.displayName=df;var FE="SwitchThumb",$E=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=D$(FE,n);return o.jsx($e.span,{"data-state":BE(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});$E.displayName=FE;var L$="SwitchBubbleInput",UE=y.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},l)=>{const c=y.useRef(null),d=Ye(c,l),h=Nv(n),f=Fh(e);return y.useEffect(()=>{const g=c.current;if(!g)return;const m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(h!==n&&b){const k=new Event("click",{bubbles:r});b.call(g,n),g.dispatchEvent(k)}},[h,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});UE.displayName=L$;function BE(t){return t?"checked":"unchecked"}var VE=LE,F$=$E;const Rn=y.forwardRef(({className:t,...e},n)=>o.jsx(VE,{className:De("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(F$,{className:De("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rn.displayName=VE.displayName;class $${constructor(e){this.cache=new Map,this.gistId=null,this.baseUrl="https://api.github.com",this.githubToken=e}getHeaders(){return{Authorization:`token ${this.githubToken}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"}}async findOrCreateGist(){try{const e=await fetch(`${this.baseUrl}/gists`,{headers:this.getHeaders()});if(!e.ok)return console.error("Failed to fetch gists:",e.status),null;const r=(await e.json()).find(c=>c.description==="BingeBoard User Data"&&c.files["bingeboard-data.json"]);if(r)return this.gistId=r.id,console.log(" Found existing BingeBoard gist"),r.id;const i=await fetch(`${this.baseUrl}/gists`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({description:"BingeBoard User Data",public:!1,files:{"bingeboard-data.json":{content:JSON.stringify({})}}})});if(!i.ok)return console.error("Failed to create gist:",i.status),null;const l=await i.json();return this.gistId=l.id,console.log(" Created new BingeBoard gist"),l.id}catch(e){return console.error(" Error with gist operations:",e),null}}async getUserData(e){var n;try{if(this.cache.has(e))return this.cache.get(e);if(!this.gistId&&(this.gistId=await this.findOrCreateGist(),!this.gistId))return null;const r=await fetch(`${this.baseUrl}/gists/${this.gistId}`,{headers:this.getHeaders()});if(!r.ok)return console.error("Failed to fetch gist:",r.status),null;const l=(n=(await r.json()).files["bingeboard-data.json"])==null?void 0:n.content;if(!l)return console.log("No data file found in gist"),null;const d=JSON.parse(l)[e];return d&&(this.cache.set(e,d),console.log(" Loaded user data from GitHub")),d||null}catch(r){return console.error(" Error loading user data:",r),null}}async saveUserData(e){var n;try{if(!this.gistId&&(this.gistId=await this.findOrCreateGist(),!this.gistId))return!1;const r=await fetch(`${this.baseUrl}/gists/${this.gistId}`,{headers:this.getHeaders()});let i={};if(r.ok){const d=(n=(await r.json()).files["bingeboard-data.json"])==null?void 0:n.content;d&&(i=JSON.parse(d))}i[e.userId]=e;const l=await fetch(`${this.baseUrl}/gists/${this.gistId}`,{method:"PATCH",headers:this.getHeaders(),body:JSON.stringify({files:{"bingeboard-data.json":{content:JSON.stringify(i,null,2)}}})});return l.ok?(this.cache.set(e.userId,e),console.log(" Saved user data to GitHub"),!0):(console.error("Failed to update gist:",l.status),!1)}catch(r){return console.error(" Error saving user data:",r),!1}}clearCache(){this.cache.clear()}async deleteUserData(e){var n;try{if(!this.gistId&&(this.gistId=await this.findOrCreateGist(),!this.gistId))return!1;const r=await fetch(`${this.baseUrl}/gists/${this.gistId}`,{headers:this.getHeaders()});if(!r.ok)return!1;const l=(n=(await r.json()).files["bingeboard-data.json"])==null?void 0:n.content;if(!l)return!0;const c=JSON.parse(l);return delete c[e],(await fetch(`${this.baseUrl}/gists/${this.gistId}`,{method:"PATCH",headers:this.getHeaders(),body:JSON.stringify({files:{"bingeboard-data.json":{content:JSON.stringify(c,null,2)}}})})).ok?(this.cache.delete(e),console.log(" Deleted user data from GitHub"),!0):!1}catch(r){return console.error(" Error deleting user data:",r),!1}}}class U${constructor(){this.githubService=null,this.currentUser=null}async initialize(e){try{return e?(this.githubService=new $$(e),console.log(" GitHub user data service initialized"),!0):(console.log(" No GitHub token provided, using localStorage fallback"),!0)}catch(n){return console.error(" Failed to initialize user data service:",n),!1}}async getCurrentUser(){const e=He.currentUser;return e?await this.getUserData(e.uid):(console.log(" No authenticated user"),null)}async getUserData(e){try{if(this.githubService){const r=await this.githubService.getUserData(e);if(r)return this.currentUser=r,r}const n=localStorage.getItem(`bingeboard-user-${e}`);if(n){const r=JSON.parse(n);return this.currentUser=r,console.log(" Loaded user data from localStorage"),r}return null}catch(n){return console.error(" Error loading user data:",n),null}}async createUserFromFirebase(e){const n={userId:e.uid,email:e.email||"",displayName:e.displayName||"User",createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString(),preferences:{favoriteGenres:[],watchingGoals:"",experience:"",notifications:!0,privacy:"private"},watchlists:{watching:[],completed:[],planToWatch:[],dropped:[]},stats:{showsWatched:0,moviesWatched:0,totalHours:0,favoriteGenres:[]},social:{friends:[],following:[],followers:[]}};return await this.saveUserData(n),this.currentUser=n,console.log(" Created new user profile"),n}async saveUserData(e){try{return e.lastUpdated=new Date().toISOString(),this.githubService&&await this.githubService.saveUserData(e)?(this.currentUser=e,localStorage.setItem(`bingeboard-user-${e.userId}`,JSON.stringify(e)),!0):(localStorage.setItem(`bingeboard-user-${e.userId}`,JSON.stringify(e)),this.currentUser=e,console.log(" Saved user data to localStorage"),!0)}catch(n){return console.error(" Error saving user data:",n),!1}}async updatePreferences(e){const n=He.currentUser;if(!n)return console.error(" No authenticated user"),!1;let r=await this.getUserData(n.uid);return r||(r=await this.createUserFromFirebase(n)),r.preferences={...r.preferences,...e},await this.saveUserData(r)}async addToWatchlist(e,n="planToWatch"){const r=He.currentUser;if(!r)return console.error(" No authenticated user"),!1;let i=await this.getUserData(r.uid);i||(i=await this.createUserFromFirebase(r));const l={...e,dateAdded:new Date().toISOString(),notes:"",rating:void 0};return i.watchlists[n].some(d=>d.id===e.id)?!0:(i.watchlists[n].push(l),await this.saveUserData(i))}getUserStats(){var e;return((e=this.currentUser)==null?void 0:e.stats)||null}getUserWatchlists(){var e;return((e=this.currentUser)==null?void 0:e.watchlists)||null}getUserPreferences(){var e;return((e=this.currentUser)==null?void 0:e.preferences)||null}clearCurrentUser(){this.currentUser=null,this.githubService&&this.githubService.clearCache()}}const Yg=new U$;function B$({isOpen:t,onComplete:e,userDisplayName:n,userData:r}){console.log(" PREMIUM ONBOARDING MODAL RENDERED",{isOpen:t,userDisplayName:n,userData:r==null?void 0:r.email});const[i,l]=y.useState(1),[c,d]=y.useState(!1),[h,f]=y.useState({userProfile:{firstName:(r==null?void 0:r.firstName)||"",lastName:(r==null?void 0:r.lastName)||"",email:(r==null?void 0:r.email)||"",phone:"",location:"",birthday:""},favoriteGenres:[],favoriteTeams:[],contentTypes:[],streamingPlatforms:[],viewingHabits:{preferredTime:"evening",bingeDuration:"2-3 hours",weeklyGoal:"5-10 hours"},privacy:"private",shareActivity:!1,findFriends:!1,allowRecommendations:!0,notifications:{newEpisodes:!0,friendActivity:!1,recommendations:!0,weeklyRecap:!1,trendingContent:!1},importHistory:!1,connectPlatforms:[],uploadedFiles:[],discoveryPreferences:{showRecommendations:!0,includePopular:!0,includeCriticsChoice:!1,includeHidden:!1},contentFilters:{hideAdult:!0,hideViolence:!1,maxRating:"R"},theme:"dark",selectedPlan:"free"}),g=["Action","Adventure","Animation","Comedy","Crime","Documentary","Drama","Family","Fantasy","History","Horror","Music","Mystery","Romance","Sci-Fi","Sports","Thriller","War","Western"],m=["TV Series","Movies","Documentaries","Anime","Reality TV","Talk Shows","News","Sports","Kids Content","International"],v=["Netflix","Disney+","HBO Max","Amazon Prime","Hulu","Apple TV+","Paramount+","Peacock","YouTube","Crunchyroll","Other"],b={NFL:["Arizona Cardinals","Atlanta Falcons","Baltimore Ravens","Buffalo Bills","Carolina Panthers","Chicago Bears","Cincinnati Bengals","Cleveland Browns","Dallas Cowboys","Denver Broncos","Detroit Lions","Green Bay Packers","Houston Texans","Indianapolis Colts","Jacksonville Jaguars","Kansas City Chiefs","Las Vegas Raiders","Los Angeles Chargers","Los Angeles Rams","Miami Dolphins","Minnesota Vikings","New England Patriots","New Orleans Saints","New York Giants","New York Jets","Philadelphia Eagles","Pittsburgh Steelers","San Francisco 49ers","Seattle Seahawks","Tampa Bay Buccaneers","Tennessee Titans","Washington Commanders"],NBA:["Atlanta Hawks","Boston Celtics","Brooklyn Nets","Charlotte Hornets","Chicago Bulls","Cleveland Cavaliers","Dallas Mavericks","Denver Nuggets","Detroit Pistons","Golden State Warriors","Houston Rockets","Indiana Pacers","Los Angeles Clippers","Los Angeles Lakers","Memphis Grizzlies","Miami Heat","Milwaukee Bucks","Minnesota Timberwolves","New Orleans Pelicans","New York Knicks","Oklahoma City Thunder","Orlando Magic","Philadelphia 76ers","Phoenix Suns","Portland Trail Blazers","Sacramento Kings","San Antonio Spurs","Toronto Raptors","Utah Jazz","Washington Wizards"],MLB:["Arizona Diamondbacks","Atlanta Braves","Baltimore Orioles","Boston Red Sox","Chicago Cubs","Chicago White Sox","Cincinnati Reds","Cleveland Guardians","Colorado Rockies","Detroit Tigers","Houston Astros","Kansas City Royals","Los Angeles Angels","Los Angeles Dodgers","Miami Marlins","Milwaukee Brewers","Minnesota Twins","New York Mets","New York Yankees","Oakland Athletics","Philadelphia Phillies","Pittsburgh Pirates","San Diego Padres","San Francisco Giants","Seattle Mariners","St. Louis Cardinals","Tampa Bay Rays","Texas Rangers","Toronto Blue Jays","Washington Nationals"],NHL:["Anaheim Ducks","Arizona Coyotes","Boston Bruins","Buffalo Sabres","Calgary Flames","Carolina Hurricanes","Chicago Blackhawks","Colorado Avalanche","Columbus Blue Jackets","Dallas Stars","Detroit Red Wings","Edmonton Oilers","Florida Panthers","Los Angeles Kings","Minnesota Wild","Montreal Canadiens","Nashville Predators","New Jersey Devils","New York Islanders","New York Rangers","Ottawa Senators","Philadelphia Flyers","Pittsburgh Penguins","San Jose Sharks","Seattle Kraken","St. Louis Blues","Tampa Bay Lightning","Toronto Maple Leafs","Vancouver Canucks","Vegas Golden Knights","Washington Capitals","Winnipeg Jets"]},k=[{value:"dark",name:"Dark Mode",description:"Easy on the eyes for late-night binges",icon:ir,gradient:"bg-gradient-to-br from-slate-700 to-slate-900"},{value:"light",name:"Light Mode",description:"Clean and bright for daytime viewing",icon:Rt,gradient:"bg-gradient-to-br from-blue-400 to-cyan-400"},{value:"cinema",name:"Cinema Mode",description:"Immersive dark theme for the full movie experience",icon:At,gradient:"bg-gradient-to-br from-red-600 to-red-800"},{value:"neon",name:"Neon Nights",description:"Vibrant colors for a modern streaming experience",icon:fi,gradient:"bg-gradient-to-br from-purple-500 to-pink-500"}],N=()=>h.favoriteGenres.includes("Sports"),S=()=>N()?14:13,_=(T,I)=>{f($=>({...$,[I]:$[I].includes(T)?$[I].filter(Y=>Y!==T):[...$[I],T]}))};if(y.useEffect(()=>{r?(console.log(" OnboardingModal: userData received:",r),f(T=>{const I={...T,userProfile:{...T.userProfile,firstName:r.firstName||T.userProfile.firstName,lastName:r.lastName||T.userProfile.lastName,email:r.email||T.userProfile.email}};return console.log(" OnboardingModal: Form data updated from:",T.userProfile,"to:",I.userProfile),I})):console.log(" OnboardingModal: No userData available for auto-population")},[r]),!t)return console.log(" Premium onboarding not showing because isOpen is:",t),null;const E=()=>{switch(i){case 1:return o.jsx("div",{className:"text-center",children:o.jsxs("div",{className:"relative mx-auto space-y-8",children:[o.jsxs("div",{className:"relative mx-auto mb-6",children:[o.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 rounded-full blur-xl opacity-30 animate-pulse"}),o.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl flex items-center justify-center shadow-2xl border border-slate-600",children:o.jsxs("div",{className:"w-12 h-10 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-sm flex items-center justify-center",children:o.jsx("div",{className:"text-lg font-black text-white tracking-tight",children:"B"})}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-white/20 to-transparent rounded-sm"})]})})]}),o.jsxs("div",{className:"space-y-6 relative z-10",children:[o.jsxs("h1",{className:"text-5xl font-bold text-white leading-tight",children:["Welcome to"," ",o.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"BingeBoard"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("p",{className:"text-2xl text-gray-200 font-medium",children:["Hi ",n,"!"]}),o.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Let's customize your entertainment experience and get you started."})]})]})]})});case 2:return console.log(" Step 2 rendering with formData.userProfile:",h.userProfile,"and userData:",r),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(Qh,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Tell us about yourself "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Help us personalize your BingeBoard experience"}),r&&o.jsx("div",{className:"text-center",children:o.jsxs(Be,{variant:"secondary",className:"text-sm px-3 py-1",children:[r.provider==="google"?" Google Account":r.provider==="facebook"?" Facebook Account":" Email Account"," - Some fields pre-filled"]})})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Et,{children:o.jsx(Lt,{className:"text-xl text-white",children:"Profile Information"})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-white",children:"First Name *"}),o.jsx("input",{type:"text",value:h.userProfile.firstName,onChange:T=>f(I=>({...I,userProfile:{...I.userProfile,firstName:T.target.value}})),className:`w-full px-4 py-3 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.userProfile.firstName?"bg-blue-500/10 border-blue-500/40":"bg-slate-800/50 border-slate-600"}`,placeholder:"Enter your first name"}),h.userProfile.firstName&&o.jsx("p",{className:"text-xs text-blue-400",children:" Auto-filled from your account"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-white",children:"Last Name *"}),o.jsx("input",{type:"text",value:h.userProfile.lastName,onChange:T=>f(I=>({...I,userProfile:{...I.userProfile,lastName:T.target.value}})),className:`w-full px-4 py-3 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.userProfile.lastName?"bg-blue-500/10 border-blue-500/40":"bg-slate-800/50 border-slate-600"}`,placeholder:"Enter your last name"}),h.userProfile.lastName&&o.jsx("p",{className:"text-xs text-blue-400",children:" Auto-filled from your account"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-white flex items-center gap-2",children:[o.jsx(eh,{className:"h-4 w-4"}),"Email Address *"]}),o.jsx("input",{type:"email",value:h.userProfile.email,onChange:T=>f(I=>({...I,userProfile:{...I.userProfile,email:T.target.value}})),className:`w-full px-4 py-3 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.userProfile.email?"bg-blue-500/10 border-blue-500/40":"bg-slate-800/50 border-slate-600"}`,placeholder:"Enter your email address"}),h.userProfile.email&&o.jsx("p",{className:"text-xs text-blue-400",children:" Auto-filled from your account"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-white flex items-center gap-2",children:[o.jsx(DO,{className:"h-4 w-4"}),"Mobile Phone *"]}),o.jsx("input",{type:"tel",value:h.userProfile.phone,onChange:T=>f(I=>({...I,userProfile:{...I.userProfile,phone:T.target.value}})),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your mobile phone number"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Required for password recovery via SMS"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-white flex items-center gap-2",children:[o.jsx(xO,{className:"h-4 w-4"}),"Birthday *"]}),o.jsx("input",{type:"date",value:h.userProfile.birthday,onChange:T=>f(I=>({...I,userProfile:{...I.userProfile,birthday:T.target.value}})),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Helps us recommend age-appropriate content"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-white flex items-center gap-2",children:[o.jsx(IO,{className:"h-4 w-4"}),"Location (Optional)"]}),o.jsx("input",{type:"text",value:h.userProfile.location,onChange:T=>f(I=>({...I,userProfile:{...I.userProfile,location:T.target.value}})),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"City, State/Country"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Helps us show local content and streaming availability"})]}),o.jsx("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:o.jsxs("p",{className:"text-sm text-blue-300",children:[o.jsx(_a,{className:"h-4 w-4 inline mr-2"}),"Your information is secure and will only be used to personalize your experience and provide better recommendations."]})})]})]})]});case 3:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(Ji,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"What genres do you love?"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Select your favorite genres (choose at least 3)"})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Et,{className:"text-center pb-4",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:" Scroll to explore all genres "})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"max-h-80 overflow-y-auto scroll-container pr-2",children:o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(T=>o.jsx(le,{variant:h.favoriteGenres.includes(T)?"default":"outline",onClick:()=>_(T,"favoriteGenres"),className:`h-14 text-base font-medium transition-all duration-300 ${h.favoriteGenres.includes(T)?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg":"glass-effect hover:bg-white/10 hover:border-teal-400/40"}`,children:T},T))})}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs(Be,{variant:"secondary",className:"text-sm px-4 py-2",children:["Selected: ",h.favoriteGenres.length," / ",g.length," genres"]})})]})]})]});case 4:return N()?o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(TO,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Choose Your Sports Teams! "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Select your favorite teams to get sports content recommendations"})]}),o.jsxs("div",{className:"space-y-6",children:[Object.entries(b).map(([T,I])=>o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Et,{children:o.jsx(Lt,{className:"text-xl text-white",children:T})}),o.jsx(Xe,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 max-h-64 overflow-y-auto",children:I.map($=>o.jsx(le,{variant:h.favoriteTeams.includes($)?"default":"outline",onClick:()=>_($,"favoriteTeams"),className:`h-12 text-sm font-medium transition-all duration-300 ${h.favoriteTeams.includes($)?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg":"glass-effect hover:bg-white/10 hover:border-green-400/40"}`,children:$},$))})})]},T)),o.jsx("div",{className:"text-center",children:o.jsxs(Be,{variant:"secondary",className:"text-sm px-4 py-2",children:["Selected: ",h.favoriteTeams.length," teams"]})})]})]}):null;case 5:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(At,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Which platforms do you use? "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Select your streaming services"})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(T=>o.jsx(le,{variant:h.streamingPlatforms.includes(T)?"default":"outline",onClick:()=>_(T,"streamingPlatforms"),className:`h-16 text-base font-medium transition-all duration-300 ${h.streamingPlatforms.includes(T)?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg":"glass-effect hover:bg-white/10 hover:border-blue-400/40"}`,children:T},T))})]});case 6:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-pink-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(hi,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"What type of content do you love? "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Select all that you enjoy watching"})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:m.map(T=>o.jsx(le,{variant:h.contentTypes.includes(T)?"default":"outline",onClick:()=>_(T,"contentTypes"),className:`h-16 text-base font-medium transition-all duration-300 ${h.contentTypes.includes(T)?"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-lg scale-105":"glass-effect hover:bg-white/10 hover:border-red-400/40 hover:scale-105"}`,children:T},T))}),o.jsx("div",{className:"text-center",children:o.jsxs(Be,{variant:"secondary",className:"text-sm px-4 py-2",children:["Selected: ",h.contentTypes.length," content types"]})})]});case 7:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(io,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Notification Preferences "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Choose what you'd like to be notified about"})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Et,{children:o.jsx(Lt,{className:"text-xl text-white",children:"Notification Settings"})}),o.jsx(Xe,{className:"space-y-6",children:[{key:"newEpisodes",label:"New episodes available",desc:"When shows you're watching release new episodes",icon:At},{key:"friendActivity",label:"Friend activity",desc:"When friends finish shows or add new ones",icon:_r},{key:"recommendations",label:"Personalized recommendations",desc:"Show and movie suggestions tailored for you",icon:Ig},{key:"weeklyRecap",label:"Weekly recap",desc:"Summary of your watching activity each week",icon:Ga},{key:"trendingContent",label:"Trending content",desc:"Popular shows and movies everyone's talking about",icon:ii}].map(T=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(T.icon,{className:"h-5 w-5 text-orange-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:T.label}),o.jsx("p",{className:"text-sm text-muted-foreground",children:T.desc})]})]}),o.jsx(Rn,{checked:h.notifications[T.key],onCheckedChange:I=>f($=>({...$,notifications:{...$.notifications,[T.key]:I}}))})]},T.key))})]})]});case 8:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(i1,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Import Your Viewing History "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Upload your watch history files or connect your streaming accounts"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Et,{children:o.jsx(Lt,{className:"text-xl text-white",children:"Import Options"})}),o.jsx(Xe,{className:"space-y-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(i1,{className:"h-5 w-5 text-blue-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Import my viewing history"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload files or connect streaming accounts"})]})]}),o.jsx(Rn,{checked:h.importHistory,onCheckedChange:T=>f(I=>({...I,importHistory:T}))})]})})]}),h.importHistory&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsxs(Et,{children:[o.jsxs(Lt,{className:"text-lg text-white flex items-center gap-2",children:[o.jsx(l1,{className:"h-5 w-5"}),"Upload History Files"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload CSV or JSON files from your streaming platforms"})]}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsx("div",{className:"border-2 border-dashed border-slate-600 rounded-lg p-8 text-center hover:border-blue-400 transition-colors duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(l1,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"Drop your files here or click to browse"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Supports: CSV, JSON, TXT files (max 10MB each)"})]}),o.jsx(le,{variant:"outline",className:"bg-transparent border-blue-400 text-blue-400 hover:bg-blue-400/10",children:"Choose Files"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-center",children:[o.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[o.jsx("div",{className:"text-blue-400 font-medium",children:"CSV"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Comma-separated"})]}),o.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[o.jsx("div",{className:"text-purple-400 font-medium",children:"JSON"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Data export"})]}),o.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[o.jsx("div",{className:"text-green-400 font-medium",children:"TXT"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Plain text lists"})]})]})]})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsxs(Et,{children:[o.jsxs(Lt,{className:"text-lg text-white flex items-center gap-2",children:[o.jsx(ir,{className:"h-5 w-5"}),"How to Export from Popular Platforms"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Step-by-step guides for exporting your viewing history"})]}),o.jsx(Xe,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-8 h-8 bg-red-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"N"})}),o.jsx("h4",{className:"text-white font-semibold",children:"Netflix"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[o.jsxs("p",{children:["1. Go to ",o.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"netflix.com/account"})]}),o.jsx("p",{children:'2. Scroll to "Profile & Parental Controls"'}),o.jsx("p",{children:'3. Click "Download your information"'}),o.jsx("p",{children:'4. Select "Viewing Activity" and download CSV'}),o.jsxs("div",{className:"mt-2 p-2 bg-red-500/10 border border-red-500/20 rounded text-red-300 text-xs",children:[o.jsx("strong",{children:"Format:"})," CSV with titles, dates, and duration"]})]})]}),o.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"D+"})}),o.jsx("h4",{className:"text-white font-semibold",children:"Disney+"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[o.jsxs("p",{children:["1. Visit ",o.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"disneyplus.com/account"})]}),o.jsx("p",{children:'2. Go to "Privacy Settings"'}),o.jsx("p",{children:'3. Click "Download My Data"'}),o.jsx("p",{children:"4. Request viewing history export (JSON format)"}),o.jsxs("div",{className:"mt-2 p-2 bg-blue-500/10 border border-blue-500/20 rounded text-blue-300 text-xs",children:[o.jsx("strong",{children:"Note:"})," May take 24-48 hours to receive download link"]})]})]}),o.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-8 h-8 bg-orange-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"P"})}),o.jsx("h4",{className:"text-white font-semibold",children:"Amazon Prime Video"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[o.jsxs("p",{children:["1. Go to ",o.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"amazon.com/gp/privacyprefs"})]}),o.jsx("p",{children:'2. Click "Request My Data"'}),o.jsx("p",{children:'3. Select "Prime Video Watch History"'}),o.jsx("p",{children:"4. Choose CSV format and submit request"}),o.jsxs("div",{className:"mt-2 p-2 bg-orange-500/10 border border-orange-500/20 rounded text-orange-300 text-xs",children:[o.jsx("strong",{children:"Processing:"})," Usually takes 1-2 business days"]})]})]}),o.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"H"})}),o.jsx("h4",{className:"text-white font-semibold",children:"HBO Max"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[o.jsxs("p",{children:["1. Visit ",o.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"hbomax.com/account"})]}),o.jsx("p",{children:'2. Go to "Privacy" section'}),o.jsx("p",{children:'3. Click "Download Your Information"'}),o.jsx("p",{children:"4. Select viewing history and download JSON"}),o.jsxs("div",{className:"mt-2 p-2 bg-purple-500/10 border border-purple-500/20 rounded text-purple-300 text-xs",children:[o.jsx("strong",{children:"Alternative:"})," Use browser history or manually create list"]})]})]}),o.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-8 h-8 bg-green-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"H"})}),o.jsx("h4",{className:"text-white font-semibold",children:"Hulu"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[o.jsxs("p",{children:["1. Go to ",o.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"hulu.com/account"})]}),o.jsx("p",{children:'2. Click "Manage Your Data"'}),o.jsx("p",{children:'3. Request "Viewing History Export"'}),o.jsx("p",{children:"4. Download CSV file when ready"}),o.jsxs("div",{className:"mt-2 p-2 bg-green-500/10 border border-green-500/20 rounded text-green-300 text-xs",children:[o.jsx("strong",{children:"Tip:"}),' Also check "Keep Watching" section for recent items']})]})]}),o.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"TV"})}),o.jsx("h4",{className:"text-white font-semibold",children:"Apple TV+"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[o.jsxs("p",{children:["1. Visit ",o.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"privacy.apple.com"})]}),o.jsx("p",{children:'2. Sign in and click "Request a copy of your data"'}),o.jsx("p",{children:'3. Select "Apple TV & Apple Music"'}),o.jsx("p",{children:"4. Download when processing is complete"}),o.jsxs("div",{className:"mt-2 p-2 bg-gray-500/10 border border-gray-500/20 rounded text-gray-300 text-xs",children:[o.jsx("strong",{children:"Format:"})," JSON file with detailed viewing data"]})]})]})]})})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsxs(Et,{children:[o.jsxs(Lt,{className:"text-lg text-white flex items-center gap-2",children:[o.jsx(OO,{className:"h-5 w-5"}),"Manual Entry"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Can't export? Tell us your favorite shows and we'll help you get started"})]}),o.jsx(Xe,{children:o.jsxs(le,{variant:"outline",className:"w-full h-12 border-dashed border-gray-500 text-gray-300 hover:bg-white/5",onClick:()=>{console.log("Open manual entry modal")},children:[o.jsx(ds,{className:"h-4 w-4 mr-2"}),"Add Shows & Movies Manually"]})})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsxs(Et,{children:[o.jsxs(Lt,{className:"text-lg text-white flex items-center gap-2",children:[o.jsx(RO,{className:"h-5 w-5"}),"Connect Accounts",o.jsx(Be,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white text-xs",children:"Premium"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct platform integration for automatic sync"})]}),o.jsxs(Xe,{children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:v.slice(0,6).map(T=>o.jsxs(le,{variant:"outline",disabled:!0,className:"h-12 opacity-50 cursor-not-allowed relative",children:[T,o.jsx(Rt,{className:"h-3 w-3 text-yellow-400 absolute top-1 right-1"})]},T))}),o.jsx("div",{className:"mt-4 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-300",children:[" ",o.jsx("strong",{children:"Coming Soon:"})," Direct account connections for automatic history sync. For now, please use the file upload method above."]})})]})]})]})]})]});case 9:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(ir,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Content Discovery "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Customize how you discover new content"})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Et,{children:o.jsx(Lt,{className:"text-xl text-white",children:"Discovery Preferences"})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ig,{className:"h-5 w-5 text-green-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Show personalized recommendations"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Content suggestions based on your preferences"})]})]}),o.jsx(Rn,{checked:h.discoveryPreferences.showRecommendations,onCheckedChange:T=>f(I=>({...I,discoveryPreferences:{...I.discoveryPreferences,showRecommendations:T}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ii,{className:"h-5 w-5 text-green-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Include popular content"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Show trending and most-watched content"})]})]}),o.jsx(Rn,{checked:h.discoveryPreferences.includePopular,onCheckedChange:T=>f(I=>({...I,discoveryPreferences:{...I.discoveryPreferences,includePopular:T}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(B_,{className:"h-5 w-5 text-green-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Include critics' choice"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Show critically acclaimed content"})]})]}),o.jsx(Rn,{checked:h.discoveryPreferences.includeCriticsChoice,onCheckedChange:T=>f(I=>({...I,discoveryPreferences:{...I.discoveryPreferences,includeCriticsChoice:T}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ji,{className:"h-5 w-5 text-green-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Include hidden gems"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Discover lesser-known quality content"})]})]}),o.jsx(Rn,{checked:h.discoveryPreferences.includeHidden,onCheckedChange:T=>f(I=>({...I,discoveryPreferences:{...I.discoveryPreferences,includeHidden:T}}))})]})]})]})]});case 10:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-emerald-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(_r,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Social & Privacy "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Control how you interact with others on BingeBoard"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Et,{children:o.jsx(Lt,{className:"text-xl text-white",children:"Profile Visibility"})}),o.jsx(Xe,{className:"space-y-4",children:[{value:"public",label:"Public",desc:"Anyone can see my activity",icon:H_},{value:"friends",label:"Friends only",desc:"Only friends can see my activity",icon:_r},{value:"private",label:"Private",desc:"Keep my activity to myself",icon:_a}].map(T=>o.jsxs(le,{variant:h.privacy===T.value?"default":"outline",onClick:()=>f(I=>({...I,privacy:T.value})),className:`w-full h-16 justify-start text-left transition-all duration-300 ${h.privacy===T.value?"bg-gradient-to-r from-teal-500 to-emerald-500 text-white shadow-lg":"glass-effect hover:bg-white/10"}`,children:[o.jsx(T.icon,{className:"h-5 w-5 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:T.label}),o.jsx("div",{className:"text-sm opacity-80",children:T.desc})]})]},T.value))})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Et,{children:o.jsx(Lt,{className:"text-xl text-white",children:"Social Features"})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Y_,{className:"h-5 w-5 text-teal-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Share my watching activity"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Let friends see what you're watching"})]})]}),o.jsx(Rn,{checked:h.shareActivity,onCheckedChange:T=>f(I=>({...I,shareActivity:T}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(qy,{className:"h-5 w-5 text-teal-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Find friends with similar tastes"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get friend suggestions based on preferences"})]})]}),o.jsx(Rn,{checked:h.findFriends,onCheckedChange:T=>f(I=>({...I,findFriends:T}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ii,{className:"h-5 w-5 text-teal-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Allow personalized recommendations"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Use my data to suggest better content"})]})]}),o.jsx(Rn,{checked:h.allowRecommendations,onCheckedChange:T=>f(I=>({...I,allowRecommendations:T}))})]})]})]})]})]});case 11:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-500 to-purple-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(a1,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Choose Your Theme "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Select a theme that matches your style"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.map(T=>o.jsx(Qe,{className:`cursor-pointer transition-all duration-300 ${h.theme===T.value?"ring-2 ring-violet-500 bg-gradient-to-br from-violet-500/20 to-purple-500/20":"glass-effect hover:bg-white/10"}`,onClick:()=>f(I=>({...I,theme:T.value})),children:o.jsxs(Xe,{className:"p-6 text-center space-y-4",children:[o.jsx("div",{className:`w-16 h-16 rounded-xl flex items-center justify-center mx-auto ${T.gradient}`,children:o.jsx(T.icon,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:T.name}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:T.description})]})]})},T.value))}),o.jsx("div",{className:"text-center",children:o.jsx(Qe,{className:"glass-effect border-yellow-500/30 bg-gradient-to-r from-yellow-500/10 to-orange-500/10",children:o.jsx(Xe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(Rt,{className:"h-4 w-4 text-yellow-400"}),o.jsx("span",{className:"text-yellow-300 text-sm font-medium",children:"Premium includes 12+ additional themes and a custom theme builder"})]})})})})]});case 12:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-500 to-indigo-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(is,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Content Filters "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Customize your content preferences and safety settings"})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Et,{children:o.jsx(Lt,{className:"text-xl text-white",children:"Content Safety"})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(is,{className:"h-5 w-5 text-violet-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Hide adult content"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Filter out mature content from recommendations"})]})]}),o.jsx(Rn,{checked:h.contentFilters.hideAdult,onCheckedChange:T=>f(I=>({...I,contentFilters:{...I.contentFilters,hideAdult:T}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(is,{className:"h-5 w-5 text-violet-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Hide violent content"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduce violent content in recommendations"})]})]}),o.jsx(Rn,{checked:h.contentFilters.hideViolence,onCheckedChange:T=>f(I=>({...I,contentFilters:{...I.contentFilters,hideViolence:T}}))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-white font-medium",children:"Maximum content rating"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Set the highest content rating you want to see"}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:["G","PG","PG-13","R","NC-17"].map(T=>o.jsx(le,{variant:h.contentFilters.maxRating===T?"default":"outline",onClick:()=>f(I=>({...I,contentFilters:{...I.contentFilters,maxRating:T}})),className:`h-10 transition-all duration-300 ${h.contentFilters.maxRating===T?"bg-gradient-to-r from-violet-500 to-indigo-500 text-white":"glass-effect hover:bg-white/10"}`,children:T},T))}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[o.jsx("strong",{children:"G:"})," General audiences  ",o.jsx("strong",{children:"PG:"})," Parental guidance  ",o.jsx("strong",{children:"PG-13:"})," Parents strongly cautioned  ",o.jsx("strong",{children:"R:"})," Restricted  ",o.jsx("strong",{children:"NC-17:"})," Adults only"]})]})]})]})})]});case 13:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(Rt,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Unlock Premium Features "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Get the most out of your BingeBoard experience"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsxs(Et,{children:[o.jsxs(Lt,{className:"text-xl text-white flex items-center gap-2",children:[o.jsx(Xd,{className:"h-5 w-5 text-green-400"}),"Free Plan"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Perfect for getting started"})]}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:["Basic recommendations","Track up to 50 shows/movies","Standard themes (4 options)","Basic notifications","Public profile sharing","Manual viewing history import"].map((T,I)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(qh,{className:"h-4 w-4 text-green-400"}),o.jsx("span",{className:"text-gray-300 text-sm",children:T})]},I))}),o.jsx(le,{variant:"outline",className:"w-full mt-6 border-gray-600 text-gray-300",onClick:()=>f(T=>({...T,selectedPlan:"free"})),children:"Continue with Free"})]})]}),o.jsxs(Qe,{className:"glass-effect border-yellow-500/50 bg-gradient-to-br from-yellow-500/10 to-orange-500/10",children:[o.jsxs(Et,{children:[o.jsxs(Lt,{className:"text-xl text-white flex items-center gap-2",children:[o.jsx(Rt,{className:"h-5 w-5 text-yellow-400"}),"Premium Plan",o.jsx(Be,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white ml-2",children:"Recommended"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Everything you need for the ultimate experience"})]}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsxs("div",{className:"text-3xl font-bold text-white",children:["$4.99",o.jsx("span",{className:"text-lg text-gray-400",children:"/month"})]}),o.jsx("p",{className:"text-sm text-yellow-400",children:"First month free!"})]}),o.jsx("div",{className:"space-y-3",children:["AI-powered recommendations","Unlimited show/movie tracking","Premium themes + custom theme builder","Advanced notifications & insights","Private groups & watch parties","Automatic platform sync","Detailed viewing analytics","Priority customer support","Early access to new features"].map((T,I)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Rt,{className:"h-4 w-4 text-yellow-400"}),o.jsx("span",{className:"text-white text-sm font-medium",children:T})]},I))}),o.jsx(le,{className:"w-full mt-6 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-semibold",onClick:()=>f(T=>({...T,selectedPlan:"premium"})),children:"Start Free Trial"}),o.jsx("p",{className:"text-xs text-center text-gray-400 mt-2",children:"Cancel anytime. No commitment."})]})]})]}),o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-400",children:"You can always upgrade later from your account settings"})})]});case 14:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-6",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto shadow-2xl",children:o.jsx(Xd,{className:"h-10 w-10 text-white"})}),o.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-green-400 to-emerald-400 bg-clip-text text-transparent",children:"Welcome to BingeBoard! "}),o.jsxs("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:["Hi ",n,"! Let's customize your entertainment experience and get you started."]})]}),o.jsx(Qe,{className:"glass-effect border-green-500/20 p-8",children:o.jsxs(Xe,{className:"space-y-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-white text-center mb-6",children:"Your Profile Summary"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ji,{className:"h-5 w-5 text-teal-400"}),o.jsx("span",{className:"text-white font-medium",children:"Favorite Genres:"}),o.jsxs(Be,{variant:"secondary",children:[h.favoriteGenres.length," selected"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(fi,{className:"h-5 w-5 text-purple-400"}),o.jsx("span",{className:"text-white font-medium",children:"Content Types:"}),o.jsxs(Be,{variant:"secondary",children:[h.contentTypes.length," selected"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(At,{className:"h-5 w-5 text-blue-400"}),o.jsx("span",{className:"text-white font-medium",children:"Platforms:"}),o.jsxs(Be,{variant:"secondary",children:[h.streamingPlatforms.length," selected"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(oo,{className:"h-5 w-5 text-indigo-400"}),o.jsx("span",{className:"text-white font-medium",children:"Viewing Time:"}),o.jsx(Be,{variant:"secondary",className:"capitalize",children:h.viewingHabits.preferredTime})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_r,{className:"h-5 w-5 text-teal-400"}),o.jsx("span",{className:"text-white font-medium",children:"Privacy:"}),o.jsx(Be,{variant:"secondary",className:"capitalize",children:h.privacy})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(a1,{className:"h-5 w-5 text-violet-400"}),o.jsx("span",{className:"text-white font-medium",children:"Theme:"}),o.jsx(Be,{variant:"secondary",className:"capitalize",children:h.theme})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(io,{className:"h-5 w-5 text-orange-400"}),o.jsx("span",{className:"text-white font-medium",children:"Notifications:"}),o.jsx(Be,{variant:"secondary",children:"Configured"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Yh,{className:"h-5 w-5 text-violet-400"}),o.jsx("span",{className:"text-white font-medium",children:"Preferences:"}),o.jsx(Be,{variant:"secondary",children:"Customized"})]})]})]}),o.jsx("div",{className:"mt-8 p-6 bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-xl",children:o.jsxs("div",{className:"text-center space-y-3",children:[o.jsx("h4",{className:"text-lg font-semibold text-white",children:"You're all set!"}),o.jsx("p",{className:"text-green-300",children:"Your personalized BingeBoard experience is ready. Start discovering, tracking, and enjoying your favorite content!"})]})})]})}),o.jsx("div",{className:"text-center space-y-6",children:o.jsx(le,{onClick:R,disabled:c,className:"bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 hover:from-green-700 hover:via-emerald-700 hover:to-teal-700 text-white px-12 py-6 text-xl font-semibold rounded-xl shadow-2xl transition-all duration-300 hover:scale-105",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin mr-3"}),"Completing Setup..."]}):o.jsx(o.Fragment,{children:"Complete Setup & Enter BingeBoard "})})})]});default:return null}},j=i/S()*100,P=()=>{if(i<S()){let T=i+1;T===4&&!N()&&(console.log(" Skipping Sports Teams step (4) because Sports genre not selected"),T=5),console.log(` Navigation: Step ${i}  Step ${T}`),l(T)}},A=()=>{if(i>1){let T=i-1;T===4&&!N()&&(console.log(" Skipping Sports Teams step (4) in reverse because Sports genre not selected"),T=3),console.log(` Navigation: Step ${i}  Step ${T}`),l(T)}},O=()=>{i<S()&&l(i+1)},R=async()=>{d(!0);try{console.log(" ONBOARDING COMPLETED! Here's what we collected:"),console.log(" Complete Form Data:",{userProfile:h.userProfile,favoriteGenres:h.favoriteGenres,favoriteTeams:h.favoriteTeams,streamingPlatforms:h.streamingPlatforms,contentTypes:h.contentTypes,notifications:h.notifications,importHistory:h.importHistory,discoveryPreferences:h.discoveryPreferences,privacy:h.privacy,shareActivity:h.shareActivity,findFriends:h.findFriends,allowRecommendations:h.allowRecommendations,theme:h.theme,selectedPlan:h.selectedPlan,contentFilters:h.contentFilters}),console.log(" Summary:"),console.log(` User: ${h.userProfile.firstName} ${h.userProfile.lastName}`),console.log(` Email: ${h.userProfile.email}`),console.log(` Favorite Genres: ${h.favoriteGenres.join(", ")}`),console.log(` Streaming Platforms: ${h.streamingPlatforms.join(", ")}`),console.log(` Sports Teams: ${h.favoriteTeams.join(", ")}`),console.log(` Theme: ${h.theme}`),console.log(` Plan: ${h.selectedPlan}`),console.log(" Saving onboarding data to database...");const T=await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({firstName:h.userProfile.firstName,lastName:h.userProfile.lastName,phoneNumber:h.userProfile.phone,location:h.userProfile.location,birthday:h.userProfile.birthday})});T.ok?console.log(" Profile saved successfully"):console.error("Failed to save profile:",await T.text());const I=await fetch("/api/user/preferences",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({preferredGenres:h.favoriteGenres,preferredNetworks:h.streamingPlatforms,contentRating:h.contentFilters.maxRating,languagePreferences:["English"],aiPersonality:"balanced",notificationFrequency:"weekly",favoriteSports:h.favoriteTeams.length>0?["Sports"]:[],favoriteTeams:h.favoriteTeams,sportsNotifications:h.notifications.trendingContent,watchingHabits:JSON.stringify({theme:h.theme,privacy:h.privacy,preferredTime:h.viewingHabits.preferredTime,bingeDuration:h.viewingHabits.bingeDuration,weeklyGoal:h.viewingHabits.weeklyGoal})})});I.ok?console.log(" Preferences saved successfully"):console.error("Failed to save preferences:",await I.text());const $=await fetch("/api/notifications/preferences",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({newEpisodes:h.notifications.newEpisodes,friendActivity:h.notifications.friendActivity,recommendations:h.notifications.recommendations,weeklyRecap:h.notifications.weeklyRecap,trendingContent:h.notifications.trendingContent})});$.ok?console.log(" Notifications saved successfully"):console.error("Failed to save notifications:",await $.text());const Y=await fetch("/api/user/onboarding/complete",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({onboardingData:{profile:h.userProfile,preferences:{genres:h.favoriteGenres,platforms:h.streamingPlatforms,teams:h.favoriteTeams,contentTypes:h.contentTypes,theme:h.theme,plan:h.selectedPlan},settings:{notifications:h.notifications,privacy:h.privacy,discoveryPreferences:h.discoveryPreferences,contentFilters:h.contentFilters}}})});Y.ok?console.log(" Onboarding marked as complete"):console.error("Failed to complete onboarding:",await Y.text()),console.log(" All onboarding data saved successfully to the database!"),setTimeout(()=>{d(!1),e()},1e3)}catch(T){console.error(" Error saving onboarding data:",T),d(!1),e()}console.log(` Email: ${h.userProfile.email}`),console.log(` Phone: ${h.userProfile.phone}`),console.log(` Genres: ${h.favoriteGenres.join(", ")}`),console.log(` Sports Teams: ${h.favoriteTeams.join(", ")}`),console.log(` Platforms: ${h.streamingPlatforms.join(", ")}`),console.log(` Content Types: ${h.contentTypes.join(", ")}`),console.log(` Privacy: ${h.privacy}`),console.log(` Theme: ${h.theme}`),console.log(` Plan: ${h.selectedPlan}`);try{await Yg.updatePreferences({favoriteGenres:h.favoriteGenres,watchingGoals:"entertainment",experience:"casual"}),console.log(" Onboarding data saved to user manager successfully"),(await fetch("/api/user/preferences/sync-onboarding",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({onboardingData:{favoriteGenres:h.favoriteGenres,streamingPlatforms:h.streamingPlatforms,contentTypes:h.contentTypes,favoriteTeams:h.favoriteTeams,viewingHabits:{preferredTime:"evening",bingeDuration:"2-3 hours",weeklyGoal:"5-10 hours"},theme:h.theme,userProfile:h.userProfile,privacy:h.privacy}})})).ok?console.log(" Onboarding data synced to server successfully"):console.warn(" Failed to sync onboarding data to server, but continuing"),setTimeout(()=>{e()},1e3)}catch(T){console.error(" Error saving onboarding data:",T),e()}finally{d(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-xl z-50 flex items-center justify-center p-6",children:o.jsxs("div",{className:"w-full max-w-4xl max-h-[95vh] bg-slate-900/95 backdrop-blur-xl border border-slate-700/50 rounded-2xl shadow-2xl flex flex-col",children:[o.jsx("div",{className:"flex-shrink-0 p-4 border-b border-slate-700/50 bg-gradient-to-r from-slate-900/80 to-slate-800/80 rounded-t-2xl",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold text-white",children:"Welcome to BingeBoard"}),o.jsxs("p",{className:"text-xs text-gray-400",children:["Hi ",n,"! Let's customize your entertainment experience and get you started."]})]}),o.jsx(le,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-400 hover:text-white hover:bg-slate-800/50 rounded-lg p-1.5",title:"Close onboarding",children:o.jsx(gs,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[o.jsxs("span",{children:["Step ",i," of ",S()]}),o.jsxs("span",{children:[Math.round(j),"% complete"]})]}),o.jsx("div",{className:"w-full bg-slate-800 rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 via-cyan-500 to-blue-500 transition-all duration-500 ease-out",style:{width:`${j}%`}})})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:E()}),o.jsx("div",{className:"flex-shrink-0 p-4 border-t border-slate-700/50 bg-slate-900/50",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(le,{variant:"outline",onClick:A,disabled:i===1,className:"border-slate-600 text-gray-300 hover:bg-slate-700/50 px-6 py-3 rounded-xl transition-all duration-300 disabled:opacity-50",children:[o.jsx(vO,{className:"h-4 w-4 mr-2"}),"Previous"]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[i>=5&&i<=10&&o.jsx(le,{variant:"ghost",onClick:O,className:"text-gray-400 hover:text-white px-4 py-3",children:"Skip"}),i<S()?o.jsxs(le,{onClick:P,className:"bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 hover:from-teal-700 hover:via-cyan-700 hover:to-blue-700 text-white px-8 py-3 text-base font-semibold shadow-lg transition-all duration-300 hover:scale-105 rounded-xl",disabled:i===2&&(!h.userProfile.firstName.trim()||!h.userProfile.lastName.trim()||!h.userProfile.email.trim()||!h.userProfile.phone.trim()||!h.userProfile.birthday)||i===3&&h.favoriteGenres.length<3||i===5&&h.streamingPlatforms.length===0||i===6&&h.contentTypes.length===0,children:["Next Step ",o.jsx(U_,{className:"h-4 w-4 ml-2"})]}):null]})]})})]})})}function V$(){const[t]=cr(),e=[{path:"/",label:"Home"},{path:"/discover",label:"Discover"},{path:"/upcoming",label:"Upcoming"},{path:"/friends",label:"Binge Friends"}];return o.jsx("nav",{className:"sticky top-0 z-50 bg-binge-charcoal/95 backdrop-blur-md border-b border-binge-gray",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Pt,{href:"/",className:"flex items-center space-x-3 group",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-teal-500/25 transition-all duration-300 group-hover:scale-105",children:o.jsx("span",{className:"text-white font-black text-lg tracking-tight",children:"B"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-xl font-black tracking-tight bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:["Binge",o.jsx("span",{className:"font-light",children:"Board"})]}),o.jsx("div",{className:"text-[10px] text-teal-400 font-medium tracking-widest uppercase opacity-75 -mt-1",children:"Entertainment Hub"})]})]}),o.jsx("div",{className:"hidden md:flex space-x-6",children:e.map(n=>o.jsx(Pt,{href:n.path,className:`transition-colors ${t===n.path?"text-binge-purple":"text-muted-foreground hover:text-binge-purple"}`,children:n.label},n.path))})]})})})}function z$({onAccept:t,onDecline:e}){const[n,r]=y.useState(!1);y.useEffect(()=>{localStorage.getItem("bingeboard-consent")||r(!0)},[]);const i=()=>{localStorage.setItem("bingeboard-consent","accepted"),localStorage.setItem("bingeboard-consent-date",new Date().toISOString()),r(!1),t()},l=()=>{localStorage.setItem("bingeboard-consent","declined"),localStorage.setItem("bingeboard-consent-date",new Date().toISOString()),r(!1),e()},c=()=>{r(!1)};return n?o.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[60] p-4 bg-black/95 backdrop-blur-sm border-t border-gray-700",children:o.jsx(Qe,{className:"max-w-4xl mx-auto bg-gray-900 border-gray-700",children:o.jsxs(Xe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-teal-500/20 rounded-lg flex items-center justify-center flex-shrink-0 mt-1",children:o.jsx(is,{className:"h-5 w-5 text-teal-400"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Privacy & Data Consent"}),o.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"We value your privacy and are committed to protecting your personal data. By using BingeBoard, you consent to our collection and use of information as described in our Privacy Policy."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(kO,{className:"h-4 w-4 text-teal-400"}),o.jsx("span",{className:"text-sm text-gray-300",children:"Essential cookies for functionality"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ir,{className:"h-4 w-4 text-teal-400"}),o.jsx("span",{className:"text-sm text-gray-300",children:"Analytics to improve our service"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(is,{className:"h-4 w-4 text-teal-400"}),o.jsx("span",{className:"text-sm text-gray-300",children:"Secure data encryption"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[o.jsx(Pt,{href:"/privacy-policy",className:"text-teal-400 hover:text-teal-300 underline",children:"Privacy Policy"}),o.jsx("span",{className:"text-gray-500",children:""}),o.jsx(Pt,{href:"/terms-of-service",className:"text-teal-400 hover:text-teal-300 underline",children:"Terms of Service"}),o.jsx("span",{className:"text-gray-500",children:""}),o.jsx(Pt,{href:"/eula",className:"text-teal-400 hover:text-teal-300 underline",children:"EULA"})]})]})]}),o.jsx(le,{variant:"ghost",size:"sm",onClick:c,className:"text-gray-400 hover:text-white flex-shrink-0",children:o.jsx(gs,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[o.jsx(le,{variant:"outline",onClick:l,className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Decline"}),o.jsx(le,{onClick:i,className:"bg-teal-600 hover:bg-teal-700 text-white",children:"Accept & Continue"})]})]})})}):null}class W$ extends Ze.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){if(this.state.hasError){const e=this.props.fallback||H$;return o.jsx(e,{error:this.state.error})}return this.props.children}}function H$({error:t}){return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"text-red-400 text-xl",children:"Something went wrong"}),o.jsx("div",{className:"text-gray-400 text-sm",children:t.message||"An unexpected error occurred"}),o.jsx("button",{onClick:()=>window.location.reload(),className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded",children:"Reload Page"})]})})}function Bm({component:t,lazy:e=!1,requireAuth:n=!1,fallback:r=o.jsx("div",{className:"p-6 text-gray-400",children:"Loading"})}){const{isAuthenticated:i,isLoading:l,user:c}=Nn(),[d,h]=y.useState(!1);return y.useEffect(()=>{if(n&&!i&&!c&&!l){const f=setTimeout(()=>{h(!0)},300);return()=>clearTimeout(f)}else h(!1)},[n,i,c,l]),l?o.jsx("div",{className:"p-6 text-gray-400",children:" Loading..."}):d&&n?(console.log(" Redirecting unauthenticated user to /login"),o.jsx(jd,{to:"/login"})):n&&!i&&!c?o.jsx("div",{className:"p-6 text-gray-400",children:" Checking authentication..."}):e?o.jsx(y.Suspense,{fallback:r,children:o.jsx(t,{})}):o.jsx(t,{})}const G$=({isOpen:t,onClose:e,title:n,embedUrl:r,thumbnail:i})=>{const[l,c]=y.useState(!0);if(y.useEffect(()=>(t?(document.body.style.overflow="hidden",c(!0)):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const d=f=>{f.target===f.currentTarget&&e()},h=()=>{c(!1)};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 p-4",onClick:d,children:o.jsxs("div",{className:"relative w-full max-w-4xl bg-slate-900 rounded-lg overflow-hidden shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800 border-b border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-white truncate pr-4",children:n}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-700 rounded-full transition-colors","aria-label":"Close modal",children:o.jsx(gs,{className:"w-5 h-5 text-gray-400"})})]}),o.jsxs("div",{className:"relative aspect-video bg-black",children:[l&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-800",children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-gray-400",children:"Loading trailer..."})]})}),o.jsx("iframe",{src:r,title:n,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:h})]}),o.jsx("div",{className:"p-4 bg-slate-800 border-t border-slate-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-gray-400",children:["Press ",o.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded text-xs",children:"ESC"})," to close"]}),o.jsx("button",{onClick:e,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded transition-colors",children:"Close"})]})})]})})};let Bs=null;const K$=({children:t})=>{const[e,n]=y.useState(null);return y.useEffect(()=>{Bs={open:l=>{n({...l,isOpen:!0,onClose:()=>n(null)})},close:()=>n(null)};const r=l=>{Bs==null||Bs.open(l.detail)};window.addEventListener("openTrailerModal",r);const i=l=>{l.key==="Escape"&&(e!=null&&e.isOpen)&&(Bs==null||Bs.close())};return document.addEventListener("keydown",i),()=>{window.removeEventListener("openTrailerModal",r),document.removeEventListener("keydown",i),Bs=null}},[e==null?void 0:e.isOpen]),o.jsxs(o.Fragment,{children:[t,e&&o.jsx(G$,{...e})]})};var zE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},eS=Ze.createContext&&Ze.createContext(zE),q$=["attr","size","title"];function Y$(t,e){if(t==null)return{};var n=Q$(t,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q$(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(r){Z$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z$(t,e,n){return e=X$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X$(t){var e=J$(t,"string");return typeof e=="symbol"?e:e+""}function J$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WE(t){return t&&t.map((e,n)=>Ze.createElement(e.tag,ph({key:n},e.attr),WE(e.child)))}function HE(t){return e=>Ze.createElement(eU,fh({attr:ph({},t.attr)},e),WE(t.child))}function eU(t){var e=n=>{var{attr:r,size:i,title:l}=t,c=Y$(t,q$),d=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Ze.createElement("svg",fh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:h,style:ph(ph({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Ze.createElement("title",null,l),t.children)};return eS!==void 0?Ze.createElement(eS.Consumer,null,n=>e(n)):e(zE)}function kv(t){return HE({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(t)}function _v(t){return HE({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}const gd={Netflix:"/logos/icons8-netflix (1).svg","Prime Video":"/logos/icons8-amazon-prime-video (1).svg","Disney+":"/logos/icons8-disney-plus.svg",Max:"/logos/icons8-hbo-max.svg","Apple TV+":"/logos/Apple-tv-plus-official.svg",Peacock:"/logos/icons8-peacock-tv.svg","Paramount+":"/logos/icons8-paramount-plus.svg",Crunchyroll:"/logos/icons8-crunchyroll.svg",Starz:"/logos/Starz--Streamline-Simple-Icons.svg",Showtime:"/logos/Showtime--Streamline-Simple-Icons.svg",Hulu:"/logos/hulu-official.svg","YouTube TV":"/logos/icons8-youtube-tv.svg","Discovery+":"/logos/icons8-discovery-plus.svg",ESPN:"/logos/icons8-espn.svg",netflix:"/logos/icons8-netflix (1).svg","prime video":"/logos/icons8-amazon-prime-video (1).svg","disney+":"/logos/icons8-disney-plus.svg",max:"/logos/icons8-hbo-max.svg","apple tv+":"/logos/Apple-tv-plus-official.svg",peacock:"/logos/icons8-peacock-tv.svg","paramount+":"/logos/icons8-paramount-plus.svg",crunchyroll:"/logos/icons8-crunchyroll.svg",starz:"/logos/Starz--Streamline-Simple-Icons.svg",showtime:"/logos/Showtime--Streamline-Simple-Icons.svg",hulu:"/logos/hulu-official.svg","youtube tv":"/logos/icons8-youtube-tv.svg","discovery+":"/logos/icons8-discovery-plus.svg",espn:"/logos/icons8-espn.svg"},tU={"amazon prime video":"Prime Video","amazon prime video with ads":"Prime Video","prime video":"Prime Video","amazon video":"Prime Video","amazon prime":"Prime Video",prime:"Prime Video",netflix:"Netflix","netflix standard with ads":"Netflix","disney plus":"Disney+","disney+":"Disney+",disney:"Disney+","hbo max":"Max",max:"Max","hbo max amazon channel":"Max","hbo max  amazon channel":"Max","apple tv":"Apple TV+","apple tv+":"Apple TV+","apple tv plus":"Apple TV+","paramount+":"Paramount+","paramount plus":"Paramount+",paramount:"Paramount+","paramount plus apple tv channel":"Paramount+","paramount+ amazon channel":"Paramount+","paramount+ roku premium channel":"Paramount+","paramount+ originals amazon channel":"Paramount+","paramount+ mtv amazon channel":"Paramount+",hulu:"Hulu",crunchyroll:"Crunchyroll","crunchyroll amazon channel":"Crunchyroll",peacock:"Peacock","peacock premium":"Peacock",starz:"Starz","starz amazon channel":"Starz",showtime:"Showtime","showtime amazon channel":"Showtime","discovery+":"Discovery+","discovery plus":"Discovery+",espn:"ESPN","espn+":"ESPN","espn plus":"ESPN","adult swim":"Adult Swim",tbs:"TBS",tnt:"TNT","youtube premium":"YouTube Premium","youtube tv":"YouTube TV","fandango at home":"Vudu","google play movies":"Google Play","spectrum on demand":"Spectrum",fubotv:"fuboTV","amc+":"AMC+","amc plus":"AMC+"};function nU(t){if(!t||typeof t!="string")return"Unknown";const e=t.toLowerCase().trim();return tU[e]||t}const hf=t=>{const e=typeof t=="string"?t:(t==null?void 0:t.name)||(t==null?void 0:t.provider_name),n=e?nU(e):"Unknown",r=gd[n]||gd[n.toLowerCase()];if(r)return r;const i=[e,e==null?void 0:e.toLowerCase(),e==null?void 0:e.replace(/\s+/g,""),e==null?void 0:e.replace(/\+/g," Plus")];for(const l of i)if(l&&gd[l])return gd[l];return rU(n)};function rU(t){const e=["#E50914","#113CCF","#002BE7","#00A8E1","#1CE783","#000000","#0064FF","#FA6B00","#FF6600","#FF0000","#0077C8"],r=t.toLowerCase().trim().split("").reduce((d,h)=>d+h.charCodeAt(0),0)%e.length,i=e[r],l=t.charAt(0).toUpperCase(),c=`<svg width="32" height="24" xmlns="http://www.w3.org/2000/svg">
    <rect width="32" height="24" fill="${i}" rx="4"/>
    <text x="16" y="16" font-family="Arial, sans-serif" font-size="12" font-weight="bold" 
          text-anchor="middle" fill="white">${l}</text>
  </svg>`;return`data:image/svg+xml;base64,${btoa(c)}`}const sU=({platforms:t,maxVisible:e=1,size:n="sm",className:r})=>{if(!t||t.length===0)return null;const i=t.slice(0,e),l=t.length-i.length,c=n==="xs"?"h-5 w-5 text-[10px]":"h-6 w-6 text-xs",d=h=>{const f=h.provider_name||"",g=hf(f);return g&&!g.includes("default.svg")?g:h.logo_path?h.logo_path.startsWith("http")?h.logo_path:`https://image.tmdb.org/t/p/w45${h.logo_path}`:g};return o.jsx(x_,{children:o.jsxs("div",{className:"flex items-center gap-1 flex-wrap "+(r||""),children:[i.map(h=>{const f=h.provider_name||"Unknown",g=d(h);return o.jsxs(Xb,{children:[o.jsx(Jb,{asChild:!0,children:o.jsx("img",{src:g,alt:f,className:`rounded-sm object-contain bg-white/10 p-0.5 ${c}`,loading:"lazy",onError:m=>{const v=m.target;v.src.includes("default.svg")||(v.src="/logos/default.svg")}})}),o.jsx(Eg,{children:f})]},h.provider_id||f)}),l>0&&o.jsxs(Xb,{children:[o.jsx(Jb,{asChild:!0,children:o.jsxs(Be,{variant:"outline",className:"cursor-default",children:["+",l]})}),o.jsx(Eg,{className:"max-w-xs",children:o.jsx("div",{className:"text-xs space-y-1",children:t.slice(e).map(h=>o.jsx("div",{children:h.provider_name},h.provider_id||h.provider_name))})})]})]})})};function iU(t,e=[]){let n=[];function r(l,c){const d=y.createContext(c);d.displayName=l+"Context";const h=n.length;n=[...n,c];const f=m=>{var _;const{scope:v,children:b,...k}=m,N=((_=v==null?void 0:v[t])==null?void 0:_[h])||d,S=y.useMemo(()=>k,Object.values(k));return o.jsx(N.Provider,{value:S,children:b})};f.displayName=l+"Provider";function g(m,v){var N;const b=((N=v==null?void 0:v[t])==null?void 0:N[h])||d,k=y.useContext(b);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${l}\``)}return[f,g]}const i=()=>{const l=n.map(c=>y.createContext(c));return function(d){const h=(d==null?void 0:d[t])||l;return y.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return i.scopeName=t,[r,oU(i,...e)]}function oU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=r.reduce((d,{useScope:h,scopeName:f})=>{const m=h(l)[`__scope${f}`];return{...d,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var aU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],GE=aU.reduce((t,e)=>{const n=uv(`Primitive.${e}`),r=y.forwardRef((i,l)=>{const{asChild:c,...d}=i,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...d,ref:l})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),jv="Progress",Cv=100,[lU]=iU(jv),[cU,uU]=lU(jv),KE=y.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:l=dU,...c}=t;(i||i===0)&&!nS(i)&&console.error(hU(`${i}`,"Progress"));const d=nS(i)?i:Cv;r!==null&&!rS(r,d)&&console.error(fU(`${r}`,"Progress"));const h=rS(r,d)?r:null,f=mh(h)?l(h,d):void 0;return o.jsx(cU,{scope:n,value:h,max:d,children:o.jsx(GE.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":mh(h)?h:void 0,"aria-valuetext":f,role:"progressbar","data-state":QE(h,d),"data-value":h??void 0,"data-max":d,...c,ref:e})})});KE.displayName=jv;var qE="ProgressIndicator",YE=y.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=uU(qE,n);return o.jsx(GE.div,{"data-state":QE(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});YE.displayName=qE;function dU(t,e){return`${Math.round(t/e*100)}%`}function QE(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function mh(t){return typeof t=="number"}function nS(t){return mh(t)&&!isNaN(t)&&t>0}function rS(t,e){return mh(t)&&!isNaN(t)&&t<=e&&t>=0}function hU(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Cv}\`.`}function fU(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Cv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ZE=KE,pU=YE;const XE=y.forwardRef(({className:t,value:e,...n},r)=>o.jsx(ZE,{ref:r,className:De("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(pU,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));XE.displayName=ZE.displayName;const gh=[{id:"streammax",name:"StreamMax",weight:30,active:!0,commissionRate:.08},{id:"cinemahub",name:"CinemaHub",weight:25,active:!0,commissionRate:.06},{id:"techvision",name:"TechVision",weight:20,active:!0,commissionRate:.05},{id:"snacktime",name:"SnackTime",weight:15,active:!0,commissionRate:.04},{id:"gamezone",name:"GameZone",weight:10,active:!0,commissionRate:.07}],Qg=[{id:"ad_streaming_001",partnerId:"streammax",title:"Stream Unlimited Movies & Shows",description:"Get access to thousands of movies and TV shows with StreamMax Premium",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",clickUrl:"https://streammax.example.com/signup?ref=bingeboard",advertiser:"StreamMax",duration:15,skipAfter:5,category:"streaming",targetAudience:["movie-lovers","tv-fans"],active:!0},{id:"ad_tech_001",partnerId:"techvision",title:"Upgrade Your Home Theater",description:"Experience cinema-quality sound and picture with TechVision Smart TVs",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",clickUrl:"https://techvision.example.com/smart-tv?ref=bingeboard",advertiser:"TechVision",duration:20,skipAfter:8,category:"tech",targetAudience:["tech-enthusiasts","home-theater"],active:!0},{id:"ad_food_001",partnerId:"snacktime",title:"Perfect Movie Night Snacks",description:"Gourmet popcorn and snacks delivered to your door",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",clickUrl:"https://snacktime.example.com/movie-snacks?ref=bingeboard",advertiser:"SnackTime",duration:10,skipAfter:3,category:"food",targetAudience:["snack-lovers","movie-fans"],active:!0},{id:"ad_cinema_001",partnerId:"cinemahub",title:"Local Cinema Experience",description:"Book premium movie tickets at your local CinemaHub theater",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",clickUrl:"https://cinemahub.example.com/tickets?ref=bingeboard",advertiser:"CinemaHub",duration:12,skipAfter:4,category:"entertainment",targetAudience:["cinema-goers","date-night"],active:!0},{id:"ad_gaming_001",partnerId:"gamezone",title:"Level Up Your Gaming",description:"Discover the latest games and gaming gear at GameZone",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4",clickUrl:"https://gamezone.example.com/latest?ref=bingeboard",advertiser:"GameZone",duration:18,skipAfter:6,category:"entertainment",targetAudience:["gamers","tech-enthusiasts"],active:!0}];class mU{static getActivePartners(){return gh.filter(e=>e.active)}static getActiveAds(){const e=this.getActivePartners().map(n=>n.id);return Qg.filter(n=>n.active&&e.includes(n.partnerId))}static selectAd(e){const n=this.getActiveAds();if(n.length===0)return null;if(e&&e.length>0){const r=n.filter(i=>{var l;return(l=i.targetAudience)==null?void 0:l.some(c=>e.includes(c))});if(r.length>0)return this.weightedRandomSelection(r)}return this.weightedRandomSelection(n)}static weightedRandomSelection(e){const n=e.map(l=>{const c=gh.find(d=>d.id===l.partnerId);return{ad:l,weight:(c==null?void 0:c.weight)||1}}),r=n.reduce((l,c)=>l+c.weight,0);let i=Math.random()*r;for(const l of n)if(i-=l.weight,i<=0)return l.ad;return e[0]}static selectMultipleAds(e=3,n){const r=this.getActiveAds(),i=[],l=new Set;for(let c=0;c<e&&c<r.length&&r.filter(f=>!l.has(f.partnerId)&&!i.includes(f)).length!==0;c++){const h=this.selectAd(n);h&&!i.includes(h)&&(i.push(h),l.add(h.partnerId))}return i}}class yd{static async trackAdView(e,n,r){try{await fetch("/api/analytics/ad-view",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adId:e,userId:n,context:r,timestamp:new Date().toISOString()})})}catch(i){console.error("Failed to track ad view:",i)}}static async trackAdClick(e,n,r){try{await fetch("/api/analytics/ad-click",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adId:e,userId:n,clickUrl:r,timestamp:new Date().toISOString()})})}catch(i){console.error("Failed to track ad click:",i)}}static async trackAdCompletion(e,n,r){try{await fetch("/api/analytics/ad-completion",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adId:e,userId:n,watchTime:r,timestamp:new Date().toISOString()})})}catch(i){console.error("Failed to track ad completion:",i)}}}class sS{static calculateAdRevenue(e,n=!1){const r=Qg.find(h=>h.id===e);if(!r)return 0;const i=gh.find(h=>h.id===r.partnerId);if(!i)return 0;const l=.002,c=n?1.5:.7,d=i.commissionRate||.05;return l*c*(1+d)}static calculateClickRevenue(e){const n=Qg.find(c=>c.id===e);if(!n)return 0;const r=gh.find(c=>c.id===n.partnerId);if(!r)return 0;const i=.05,l=r.commissionRate||.05;return i*(1+l*2)}}function gU({onAdComplete:t,onSkip:e,skipAfter:n=5,duration:r=15,className:i="",userPreferences:l=[]}){const[c,d]=y.useState(null),[h,f]=y.useState(r),[g,m]=y.useState(!1),[v,b]=y.useState(!1),[k,N]=y.useState(!1),[S,_]=y.useState(!1),[E,j]=y.useState(0),P=y.useRef(null),{toast:A}=Ha(),{user:O}=Nn();y.useEffect(()=>{const W=mU.selectAd(l);W&&(d(W),f(W.duration),O&&yd.trackAdView(W.id,O.id||O.uid,"trailer-monetization"))},[l,O]),y.useEffect(()=>{if(!c||!k)return;const W=setInterval(()=>{f(Q=>{if(Q<=1){if(O&&c){const ue=Date.now()-E;yd.trackAdCompletion(c.id,O.id||O.uid,ue)}return t(),0}return Q-1})},1e3),Z=setTimeout(()=>{m(!0)},(c.skipAfter||n)*1e3);return()=>{clearInterval(W),clearTimeout(Z)}},[c,t,n,k,O,E]);const R=()=>{var W;N(!0),j(Date.now()),(W=P.current)==null||W.play()},T=()=>{if(g&&e){if(O&&c){const W=Date.now()-E;yd.trackAdCompletion(c.id,O.id||O.uid,W)}e()}},I=()=>{c!=null&&c.clickUrl&&O&&(yd.trackAdClick(c.id,O.id||O.uid,c.clickUrl),console.log(" Ad clicked - Estimated revenue:",sS.calculateClickRevenue(c.id)),window.open(c.clickUrl,"_blank"),A({title:"Opening advertiser page",description:"You'll continue to your trailer after the ad"}))},$=()=>{b(!v),P.current&&(P.current.muted=!v)},Y=c?(c.duration-h)/c.duration*100:0;return c?o.jsxs(Qe,{className:`relative overflow-hidden bg-black ${i}`,children:[o.jsxs("div",{className:"relative aspect-video bg-black",children:[k?o.jsxs(o.Fragment,{children:[o.jsx("video",{ref:P,src:c.videoUrl,className:"w-full h-full object-cover",autoPlay:!0,muted:v,onEnded:t,onClick:()=>_(!0)}),S&&c.clickUrl&&o.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center cursor-pointer",onClick:I,onMouseLeave:()=>_(!1),children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-4 text-center",children:[o.jsx(Zl,{className:"w-6 h-6 mx-auto mb-2"}),o.jsx("div",{className:"font-medium",children:"Visit Advertiser"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:c.advertiser})]})})]}):o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-purple-900/50 to-blue-900/50",children:o.jsxs("div",{className:"text-center text-white space-y-4",children:[o.jsx("div",{className:"text-sm opacity-75",children:"Advertisement"}),o.jsx("h3",{className:"text-xl font-bold",children:c.title}),o.jsx("p",{className:"text-sm opacity-90",children:c.description}),o.jsxs(le,{onClick:R,size:"lg",className:"gap-2",children:[o.jsx(At,{className:"w-5 h-5"}),"Play Ad (",c.duration,"s)"]}),o.jsxs("div",{className:"text-xs opacity-75",children:["by ",c.advertiser]})]})}),k&&o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-black/30",children:[o.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-white text-sm",children:[o.jsxs("div",{className:"bg-red-600 px-2 py-1 rounded text-xs font-medium flex items-center gap-1",children:["AD",o.jsx(jO,{className:"w-3 h-3"})]}),o.jsx("span",{children:c.advertiser}),o.jsxs(Be,{variant:"outline",className:"border-green-500 text-green-400 text-xs",children:["Revenue: $",sS.calculateAdRevenue(c.id,!1).toFixed(3)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(le,{variant:"ghost",size:"sm",onClick:$,className:"text-white hover:bg-white/20",children:v?o.jsx(WO,{className:"w-4 h-4"}):o.jsx(zO,{className:"w-4 h-4"})}),g&&o.jsxs(le,{variant:"secondary",size:"sm",onClick:T,className:"gap-1",children:[o.jsx(gs,{className:"w-3 h-3"}),"Skip"]})]})]}),o.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-2",children:[o.jsx(XE,{value:Y,className:"h-1"}),o.jsxs("div",{className:"flex items-center justify-between text-white text-sm",children:[o.jsx("div",{className:"flex items-center gap-2",children:c.clickUrl&&o.jsxs(le,{variant:"outline",size:"sm",onClick:I,className:"gap-1 text-white border-white/30 hover:bg-white/20",children:[o.jsx(Zl,{className:"w-3 h-3"}),"Learn More"]})}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs opacity-75",children:"Ad ends in"}),o.jsxs("div",{className:"font-medium",children:[h,"s"]})]})]})]}),!g&&o.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-1 rounded text-sm",children:["Skip in ",Math.max(0,(c.skipAfter||n)-(c.duration-h)),"s"]})]})]}),o.jsx("div",{className:"p-3 bg-muted/50 border-t",children:o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:c.title}),o.jsx("div",{className:"text-muted-foreground",children:c.description})]}),o.jsxs("div",{className:"text-right text-muted-foreground",children:[o.jsx("div",{children:"Sponsored by"}),o.jsx("div",{className:"font-medium",children:c.advertiser})]})]})})]}):o.jsx("div",{className:"flex items-center justify-center h-64 bg-black/50 rounded-lg",children:o.jsx("div",{className:"text-white",children:"Loading advertisement..."})})}function yU({trailerUrl:t,showTitle:e,children:n}){const[r,i]=y.useState(!0),[l,c]=y.useState(!1),d=()=>{i(!1),c(!0)},h=()=>{i(!1),c(!0)};return r?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-center",children:o.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:['Watch a short ad to continue to "',e,'" trailer']})}),o.jsx(gU,{onAdComplete:d,onSkip:h})]}):o.jsxs("div",{className:"space-y-4",children:[l&&o.jsx("div",{className:"text-center text-sm text-green-600 mb-2",children:"Ad completed! Enjoy your trailer."}),n]})}function Ev(t,e,n){return ci({queryKey:["trailer",e,t],enabled:!!t&&(e==="movie"||e==="tv"),queryFn:async()=>{const r=await tt(`/api/multi-api/trailer/${e}/${t}?title=${encodeURIComponent(n||"")}`);if(!r.ok)throw new Error("Failed to load trailer");return r.json()},staleTime:1e3*60*30})}function wc({show:t,variant:e="outline",size:n="sm",className:r="",showLabel:i=!0}){var v;const[l,c]=y.useState(!1);Nn();const{data:d,isLoading:h,error:f}=Ev(t.tmdbId||t.id,"tv",t.title),g=()=>{d!=null&&d.primaryTrailer&&c(!0)},m=b=>{var k;return b.includes("youtube.com/watch")?`https://www.youtube.com/embed/${(k=b.split("v=")[1])==null?void 0:k.split("&")[0]}?autoplay=1&rel=0`:b};return o.jsxs(o.Fragment,{children:[o.jsxs(le,{variant:e,size:n,className:`${r} ${h?"opacity-75":""} bg-red-600 hover:bg-red-700 text-white border-red-500`,onClick:g,disabled:h||!(d!=null&&d.primaryTrailer),children:[o.jsx(At,{className:"h-3 w-3 mr-1"}),i?h?"Loading...":"Trailer":""]}),l&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"fixed inset-0 bg-black/80",onClick:()=>c(!1)}),o.jsxs("div",{className:"relative bg-slate-900 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-auto mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mg,{className:"h-5 w-5"}),o.jsxs("h2",{className:"text-lg font-semibold",children:[t.title," - Trailer"]})]}),o.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-white",children:""})]}),o.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Watch this trailer after a brief ad"}),f||!(d!=null&&d.primaryTrailer)?o.jsx("div",{className:"aspect-video bg-black rounded-lg flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(Mg,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No trailer available for this show"})]})}):o.jsx(yU,{trailerUrl:m(d.primaryTrailer.url),showTitle:t.title,children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Source: ",d.primaryTrailer.source,"  ",((v=d.stats)==null?void 0:v.total)||0," trailers found"]}),o.jsx("div",{className:"aspect-video bg-black rounded-lg",children:o.jsx("iframe",{width:"100%",height:"100%",src:m(d.primaryTrailer.url),title:`${t.title} Trailer`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-lg"})})]})})]})]})]})}function iS(t){var e,n;return((e=t==null?void 0:t.message)==null?void 0:e.includes("401"))||((n=t==null?void 0:t.message)==null?void 0:n.includes("Unauthorized"))||(t==null?void 0:t.status)===401}function vU(t={}){const{toast:e}=Ha(),n=uo(),r=lc({mutationFn:async d=>{const h=await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...d,status:d.status||"want_to_watch"})});if(!h.ok)throw h.status===401?new Error("401: Unauthorized"):new Error("Failed to add to watchlist");return h.json()},onSuccess:()=>{var d;n.invalidateQueries({queryKey:["/api/watchlist"]}),e({title:"Success",description:"Added to your watchlist!"}),(d=t.onSuccess)==null||d.call(t,"addToWatchlist")},onError:d=>{var h;if(iS(d)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}e({title:"Error",description:"Failed to add to watchlist",variant:"destructive"}),(h=t.onError)==null||h.call(t,d,"addToWatchlist")}}),i=lc({mutationFn:async d=>{const h=await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...d,status:"watched"})});if(!h.ok)throw h.status===401?new Error("401: Unauthorized"):new Error("Failed to mark as seen");return h.json()},onSuccess:()=>{var d;n.invalidateQueries({queryKey:["/api/watchlist"]}),e({title:"Success",description:"Marked as seen!"}),(d=t.onSuccess)==null||d.call(t,"markAsSeen")},onError:d=>{var h;if(iS(d)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}e({title:"Error",description:"Failed to mark as seen",variant:"destructive"}),(h=t.onError)==null||h.call(t,d,"markAsSeen")}});return{addToWatchlist:d=>r.mutate({tmdbId:d}),markAsSeen:d=>i.mutate({tmdbId:d}),share:async d=>{var h,f;try{const g=`${window.location.origin}/show/${d}`;navigator.share?await navigator.share({title:"Check out this show!",url:g}):(await navigator.clipboard.writeText(g),e({title:"Success",description:"Link copied to clipboard!"})),(h=t.onSuccess)==null||h.call(t,"share")}catch(g){e({title:"Error",description:"Failed to share",variant:"destructive"}),(f=t.onError)==null||f.call(t,g,"share")}},playTrailer:d=>{var h,f;try{window.open(d,"_blank"),(h=t.onSuccess)==null||h.call(t,"playTrailer")}catch(g){e({title:"Error",description:"Failed to open trailer",variant:"destructive"}),(f=t.onError)==null||f.call(t,g,"playTrailer")}},isLoading:{addToWatchlist:r.isPending,markAsSeen:i.isPending}}}const xU=y.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));xU.displayName="Textarea";const wU=Kh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),bU=y.forwardRef(({className:t,...e},n)=>o.jsx("label",{ref:n,className:De(wU(),t),...e}));bU.displayName="Label";var Pv="Radio",[SU,JE]=Un(Pv),[NU,kU]=SU(Pv),eP=y.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:l,disabled:c,value:d="on",onCheck:h,form:f,...g}=t,[m,v]=y.useState(null),b=Ye(e,S=>v(S)),k=y.useRef(!1),N=m?f||!!m.closest("form"):!0;return o.jsxs(NU,{scope:n,checked:i,disabled:c,children:[o.jsx($e.button,{type:"button",role:"radio","aria-checked":i,"data-state":sP(i),"data-disabled":c?"":void 0,disabled:c,value:d,...g,ref:b,onClick:ye(t.onClick,S=>{i||h==null||h(),N&&(k.current=S.isPropagationStopped(),k.current||S.stopPropagation())})}),N&&o.jsx(rP,{control:m,bubbles:!k.current,name:r,value:d,checked:i,required:l,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});eP.displayName=Pv;var tP="RadioIndicator",nP=y.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,l=kU(tP,n);return o.jsx(ur,{present:r||l.checked,children:o.jsx($e.span,{"data-state":sP(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:e})})});nP.displayName=tP;var _U="RadioBubbleInput",rP=y.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...i},l)=>{const c=y.useRef(null),d=Ye(c,l),h=Nv(n),f=Fh(e);return y.useEffect(()=>{const g=c.current;if(!g)return;const m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(h!==n&&b){const k=new Event("click",{bubbles:r});b.call(g,n),g.dispatchEvent(k)}},[h,n,r]),o.jsx($e.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rP.displayName=_U;function sP(t){return t?"checked":"unchecked"}var jU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ff="RadioGroup",[CU]=Un(ff,[of,JE]),iP=of(),oP=JE(),[EU,PU]=CU(ff),aP=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:l,required:c=!1,disabled:d=!1,orientation:h,dir:f,loop:g=!0,onValueChange:m,...v}=t,b=iP(n),k=sf(f),[N,S]=xi({prop:l,defaultProp:i??null,onChange:m,caller:ff});return o.jsx(EU,{scope:n,name:r,required:c,disabled:d,value:N,onValueChange:S,children:o.jsx(PC,{asChild:!0,...b,orientation:h,dir:k,loop:g,children:o.jsx($e.div,{role:"radiogroup","aria-required":c,"aria-orientation":h,"data-disabled":d?"":void 0,dir:k,...v,ref:e})})})});aP.displayName=ff;var lP="RadioGroupItem",cP=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,l=PU(lP,n),c=l.disabled||r,d=iP(n),h=oP(n),f=y.useRef(null),g=Ye(e,f),m=l.value===i.value,v=y.useRef(!1);return y.useEffect(()=>{const b=N=>{jU.includes(N.key)&&(v.current=!0)},k=()=>v.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",k)}},[]),o.jsx(TC,{asChild:!0,...d,focusable:!c,active:m,children:o.jsx(eP,{disabled:c,required:l.required,checked:m,...h,...i,name:l.name,ref:g,onCheck:()=>l.onValueChange(i.value),onKeyDown:ye(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:ye(i.onFocus,()=>{var b;v.current&&((b=f.current)==null||b.click())})})})});cP.displayName=lP;var TU="RadioGroupIndicator",uP=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=oP(n);return o.jsx(nP,{...i,...r,ref:e})});uP.displayName=TU;var dP=aP,hP=cP,RU=uP;const AU=y.forwardRef(({className:t,...e},n)=>o.jsx(dP,{className:De("grid gap-2",t),...e,ref:n}));AU.displayName=dP.displayName;const IU=y.forwardRef(({className:t,...e},n)=>o.jsx(hP,{ref:n,className:De("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(RU,{className:"flex items-center justify-center",children:o.jsx(W_,{className:"h-2.5 w-2.5 fill-current text-current"})})}));IU.displayName=hP.displayName;function fP(t,[e,n]){return Math.min(n,Math.max(e,t))}var pP=["PageUp","PageDown"],mP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],gP={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ka="Slider",[Zg,MU,OU]=Hh(Ka),[yP]=Un(Ka,[OU]),[DU,pf]=yP(Ka),vP=y.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:l=1,orientation:c="horizontal",disabled:d=!1,minStepsBetweenThumbs:h=0,defaultValue:f=[r],value:g,onValueChange:m=()=>{},onValueCommit:v=()=>{},inverted:b=!1,form:k,...N}=t,S=y.useRef(new Set),_=y.useRef(0),j=c==="horizontal"?LU:FU,[P=[],A]=xi({prop:g,defaultProp:f,onChange:Y=>{var Z;(Z=[...S.current][_.current])==null||Z.focus(),m(Y)}}),O=y.useRef(P);function R(Y){const W=zU(P,Y);$(Y,W)}function T(Y){$(Y,_.current)}function I(){const Y=O.current[_.current];P[_.current]!==Y&&v(P)}function $(Y,W,{commit:Z}={commit:!1}){const Q=KU(l),ue=qU(Math.round((Y-r)/l)*l+r,Q),ce=fP(ue,[r,i]);A((ie=[])=>{const V=BU(ie,ce,W);if(GU(V,h*l)){_.current=V.indexOf(ce);const B=String(V)!==String(ie);return B&&Z&&v(V),B?V:ie}else return ie})}return o.jsx(DU,{scope:t.__scopeSlider,name:n,disabled:d,min:r,max:i,valueIndexToChangeRef:_,thumbs:S.current,values:P,orientation:c,form:k,children:o.jsx(Zg.Provider,{scope:t.__scopeSlider,children:o.jsx(Zg.Slot,{scope:t.__scopeSlider,children:o.jsx(j,{"aria-disabled":d,"data-disabled":d?"":void 0,...N,ref:e,onPointerDown:ye(N.onPointerDown,()=>{d||(O.current=P)}),min:r,max:i,inverted:b,onSlideStart:d?void 0:R,onSlideMove:d?void 0:T,onSlideEnd:d?void 0:I,onHomeKeyDown:()=>!d&&$(r,0,{commit:!0}),onEndKeyDown:()=>!d&&$(i,P.length-1,{commit:!0}),onStepKeyDown:({event:Y,direction:W})=>{if(!d){const ue=pP.includes(Y.key)||Y.shiftKey&&mP.includes(Y.key)?10:1,ce=_.current,ie=P[ce],V=l*ue*W;$(ie+V,ce,{commit:!0})}}})})})})});vP.displayName=Ka;var[xP,wP]=yP(Ka,{startEdge:"left",endEdge:"right",size:"width",direction:1}),LU=y.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:l,onSlideStart:c,onSlideMove:d,onSlideEnd:h,onStepKeyDown:f,...g}=t,[m,v]=y.useState(null),b=Ye(e,j=>v(j)),k=y.useRef(void 0),N=sf(i),S=N==="ltr",_=S&&!l||!S&&l;function E(j){const P=k.current||m.getBoundingClientRect(),A=[0,P.width],R=Tv(A,_?[n,r]:[r,n]);return k.current=P,R(j-P.left)}return o.jsx(xP,{scope:t.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:o.jsx(bP,{dir:N,"data-orientation":"horizontal",...g,ref:b,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const P=E(j.clientX);c==null||c(P)},onSlideMove:j=>{const P=E(j.clientX);d==null||d(P)},onSlideEnd:()=>{k.current=void 0,h==null||h()},onStepKeyDown:j=>{const A=gP[_?"from-left":"from-right"].includes(j.key);f==null||f({event:j,direction:A?-1:1})}})})}),FU=y.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...f}=t,g=y.useRef(null),m=Ye(e,g),v=y.useRef(void 0),b=!i;function k(N){const S=v.current||g.current.getBoundingClientRect(),_=[0,S.height],j=Tv(_,b?[r,n]:[n,r]);return v.current=S,j(N-S.top)}return o.jsx(xP,{scope:t.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:o.jsx(bP,{"data-orientation":"vertical",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:N=>{const S=k(N.clientY);l==null||l(S)},onSlideMove:N=>{const S=k(N.clientY);c==null||c(S)},onSlideEnd:()=>{v.current=void 0,d==null||d()},onStepKeyDown:N=>{const _=gP[b?"from-bottom":"from-top"].includes(N.key);h==null||h({event:N,direction:_?-1:1})}})})}),bP=y.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:d,onStepKeyDown:h,...f}=t,g=pf(Ka,n);return o.jsx($e.span,{...f,ref:e,onKeyDown:ye(t.onKeyDown,m=>{m.key==="Home"?(c(m),m.preventDefault()):m.key==="End"?(d(m),m.preventDefault()):pP.concat(mP).includes(m.key)&&(h(m),m.preventDefault())}),onPointerDown:ye(t.onPointerDown,m=>{const v=m.target;v.setPointerCapture(m.pointerId),m.preventDefault(),g.thumbs.has(v)?v.focus():r(m)}),onPointerMove:ye(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:ye(t.onPointerUp,m=>{const v=m.target;v.hasPointerCapture(m.pointerId)&&(v.releasePointerCapture(m.pointerId),l(m))})})}),SP="SliderTrack",NP=y.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=pf(SP,n);return o.jsx($e.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});NP.displayName=SP;var Xg="SliderRange",kP=y.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=pf(Xg,n),l=wP(Xg,n),c=y.useRef(null),d=Ye(e,c),h=i.values.length,f=i.values.map(v=>CP(v,i.min,i.max)),g=h>1?Math.min(...f):0,m=100-Math.max(...f);return o.jsx($e.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:d,style:{...t.style,[l.startEdge]:g+"%",[l.endEdge]:m+"%"}})});kP.displayName=Xg;var Jg="SliderThumb",_P=y.forwardRef((t,e)=>{const n=MU(t.__scopeSlider),[r,i]=y.useState(null),l=Ye(e,d=>i(d)),c=y.useMemo(()=>r?n().findIndex(d=>d.ref.current===r):-1,[n,r]);return o.jsx($U,{...t,ref:l,index:c})}),$U=y.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...l}=t,c=pf(Jg,n),d=wP(Jg,n),[h,f]=y.useState(null),g=Ye(e,E=>f(E)),m=h?c.form||!!h.closest("form"):!0,v=Fh(h),b=c.values[r],k=b===void 0?0:CP(b,c.min,c.max),N=VU(r,c.values.length),S=v==null?void 0:v[d.size],_=S?WU(S,k,d.direction):0;return y.useEffect(()=>{if(h)return c.thumbs.add(h),()=>{c.thumbs.delete(h)}},[h,c.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${k}% + ${_}px)`},children:[o.jsx(Zg.ItemSlot,{scope:t.__scopeSlider,children:o.jsx($e.span,{role:"slider","aria-label":t["aria-label"]||N,"aria-valuemin":c.min,"aria-valuenow":b,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:g,style:b===void 0?{display:"none"}:t.style,onFocus:ye(t.onFocus,()=>{c.valueIndexToChangeRef.current=r})})}),m&&o.jsx(jP,{name:i??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:b},r)]})});_P.displayName=Jg;var UU="RadioBubbleInput",jP=y.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=y.useRef(null),l=Ye(i,r),c=Nv(e);return y.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&g){const m=new Event("input",{bubbles:!0});g.call(d,e),d.dispatchEvent(m)}},[c,e]),o.jsx($e.input,{style:{display:"none"},...n,ref:l,defaultValue:e})});jP.displayName=UU;function BU(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,l)=>i-l)}function CP(t,e,n){const l=100/(n-e)*(t-e);return fP(l,[0,100])}function VU(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function zU(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function WU(t,e,n){const r=t/2,l=Tv([0,50],[0,r]);return(r-l(e)*n)*n}function HU(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function GU(t,e){if(e>0){const n=HU(t);return Math.min(...n)>=e}return!0}function Tv(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function KU(t){return(String(t).split(".")[1]||"").length}function qU(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var EP=vP,YU=NP,QU=kP,ZU=_P;const XU=y.forwardRef(({className:t,...e},n)=>o.jsxs(EP,{ref:n,className:De("relative flex w-full touch-none select-none items-center",t),...e,children:[o.jsx(YU,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(QU,{className:"absolute h-full bg-primary"})}),o.jsx(ZU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));XU.displayName=EP.displayName;function JU(){const{toast:t}=Ha(),e=uo(),n=lc({mutationFn:async({contentId:r,contentType:i,feedbackType:l,rating:c=7})=>{const d=await fetch("/api/user-feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:"user-id",content_id:r,content_type:i,rating:c,feedback_type:l,watch_status:"want_to_watch",tags:[]})});if(!d.ok)throw new Error("Failed to submit feedback");return d.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/user-feedback"]}),t({title:"Feedback Submitted",description:"Thank you for your feedback!",duration:2e3})}});return{submitQuickFeedback:n.mutate,isSubmitting:n.isPending}}function eB({show:t,isInWatchlist:e=!1,isSeen:n=!1,customActions:r,variant:i="default",onInteraction:l}){const[c,d]=y.useState(!1),[h,f]=y.useState(!1),g=vU({onSuccess:P=>l==null?void 0:l(P,t.tmdbId)}),{submitQuickFeedback:m,isSubmitting:v}=JU(),b=()=>{r!=null&&r.onAddToWatchlist?r.onAddToWatchlist(t.tmdbId):g.addToWatchlist(t.tmdbId)},k=()=>{r!=null&&r.onMarkAsSeen?r.onMarkAsSeen(t.tmdbId):g.markAsSeen(t.tmdbId)},N=()=>{r!=null&&r.onShare?r.onShare(t.tmdbId):g.share(t.tmdbId)},S=P=>{m({contentId:t.tmdbId,contentType:"movie",feedbackType:P,rating:P==="love"?9:P==="like"?7:P==="recommend"?8:3}),l==null||l(P,t.tmdbId)},_=()=>{window.location.href=`/show/${t.tmdbId}`,l==null||l("navigate",t.tmdbId)},E=()=>{const P="recommendation-card glass-effect border-white/10 flex-shrink-0 transition-all duration-300 hover:scale-105 cursor-pointer group";switch(i){case"compact":return`${P} w-36 md:w-40`;case"large":return`${P} w-52 md:w-56`;default:return`${P} w-44 md:w-48`}},j=()=>{switch(i){case"compact":return"h-48";case"large":return"h-80";default:return"h-64"}};return o.jsx(Qe,{className:E(),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),tabIndex:0,onFocus:()=>d(!0),onBlur:()=>d(!1),children:o.jsxs(Xe,{className:"p-0",children:[o.jsxs("div",{className:"relative",onClick:_,role:"button",tabIndex:-1,children:[t.posterPath?o.jsx("img",{src:t.posterPath,alt:`${t.title} poster`,className:`w-full ${j()} object-cover rounded-t-lg`}):o.jsx("div",{className:`w-full ${j()} bg-binge-gray rounded-t-lg flex items-center justify-center`,children:o.jsx(At,{className:"w-12 h-12 text-gray-400"})}),o.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center gap-2 bg-black/60 rounded-t-lg transition-opacity duration-200 ${c?"opacity-100":"opacity-0 pointer-events-none md:group-hover:opacity-100 md:pointer-events-auto"}`,onClick:P=>P.stopPropagation(),children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(le,{size:"icon",variant:e?"secondary":"outline",className:"rounded-full",title:e?"In Watchlist":"Add to Watchlist",onClick:b,disabled:e||g.isLoading.addToWatchlist,children:e?o.jsx(qh,{className:"w-5 h-5"}):o.jsx(ds,{className:"w-5 h-5"})}),o.jsx(wc,{show:{id:t.tmdbId,tmdbId:t.tmdbId,title:t.title},variant:"outline",size:"sm",showLabel:!1,className:"rounded-full w-10 h-10 p-0"}),o.jsx(le,{size:"icon",variant:n?"secondary":"outline",className:"rounded-full",title:n?"Seen":"Mark as Seen",onClick:k,disabled:n||g.isLoading.markAsSeen,children:o.jsx(ir,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(le,{size:"icon",variant:"outline",className:"rounded-full h-8 w-8 text-pink-500 hover:bg-pink-500/20",title:"Love It",onClick:()=>S("love"),disabled:v,children:o.jsx(hi,{className:"w-4 h-4"})}),o.jsx(le,{size:"icon",variant:"outline",className:"rounded-full h-8 w-8 text-green-500 hover:bg-green-500/20",title:"Like It",onClick:()=>S("like"),disabled:v,children:o.jsx(UO,{className:"w-4 h-4"})}),o.jsx(le,{size:"icon",variant:"outline",className:"rounded-full h-8 w-8 text-yellow-500 hover:bg-yellow-500/20",title:"Recommend",onClick:()=>S("recommend"),disabled:v,children:o.jsx(Rt,{className:"w-4 h-4"})}),o.jsx(le,{size:"icon",variant:"outline",className:"rounded-full h-8 w-8",title:"Share",onClick:N,children:o.jsx(LO,{className:"w-4 h-4"})})]})]})]}),o.jsxs("div",{className:"p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("h3",{className:"font-semibold text-sm leading-tight line-clamp-2 cursor-pointer hover:text-binge-purple transition-colors",onClick:_,children:t.title}),t.rating&&o.jsxs("span",{className:"flex items-center text-[10px] font-medium text-yellow-400",children:[o.jsx(Rt,{className:"w-3 h-3 mr-0.5"}),t.rating]})]}),t.streamingPlatforms&&t.streamingPlatforms.length>0&&o.jsx(sU,{platforms:t.streamingPlatforms,maxVisible:4,size:"xs"}),t.overview&&o.jsx("p",{className:"text-[11px] text-gray-400 line-clamp-3",children:t.overview})]})]})})}const Vm=[{name:"Netflix",color:"#E50914"},{name:"Disney+",color:"#113CCF"},{name:"Max",color:"#002BE7"},{name:"Prime Video",color:"#00A8E1"},{name:"Hulu",color:"#1CE783"},{name:"Apple TV+",color:"#FFFFFF"},{name:"Paramount+",color:"#0064FF"},{name:"Peacock",color:"#FA6B00"},{name:"Crunchyroll",color:"#FF6600"},{name:"Showtime",color:"#FF0000"},{name:"Starz",color:"#FFFFFF"}];function tB(){const t=[...Vm,...Vm,...Vm];return o.jsxs("section",{className:"py-16 bg-gradient-to-r from-slate-950 via-slate-900 to-slate-950 overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-teal-600/5"}),o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-transparent via-slate-900/50 to-transparent"}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:["Watch from ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-blue-500",children:"Everywhere"})]}),o.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"BingeBoard aggregates content from all major streaming platforms, so you never miss what's worth watching."})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-0 top-0 w-32 h-full bg-gradient-to-r from-slate-950 via-slate-950/80 to-transparent z-20 pointer-events-none"}),o.jsx("div",{className:"absolute right-0 top-0 w-32 h-full bg-gradient-to-l from-slate-950 via-slate-950/80 to-transparent z-20 pointer-events-none"}),o.jsx("div",{className:"flex overflow-hidden",children:o.jsx("div",{className:"flex animate-marquee-left space-x-16 py-8",children:t.map((e,n)=>o.jsx("div",{className:"flex-shrink-0 group cursor-pointer flex flex-col items-center",children:o.jsxs("div",{className:"w-20 h-20 flex items-center justify-center relative group-hover:scale-110 transition-all duration-300",children:[o.jsx("img",{src:hf(e.name),alt:e.name,className:`max-w-full max-h-full object-contain group-hover:brightness-125 transition-all duration-300 drop-shadow-2xl ${e.name==="Apple TV+"||e.name==="Starz"||e.name==="Showtime"||e.name==="Max"||e.name==="Peacock"||e.color==="#FFFFFF"?"filter invert brightness-100":"filter brightness-110"}`,style:{maxWidth:"64px",maxHeight:"48px"}}),o.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-30 transition-opacity duration-300 blur-xl scale-150",style:{backgroundColor:e.color}})]})},`${e.name}-${n}`))})})]}),o.jsxs("div",{className:"text-center mt-12",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Track, discover, and organize content from all major streaming platforms"}),o.jsx("div",{className:"flex flex-wrap justify-center gap-3"})]})]})]})}function Yo({icon:t,title:e,description:n,highlight:r}){return o.jsx(Qe,{className:"glass-effect border-teal-500/20 h-full group hover:border-teal-400/40 transition-all duration-300",children:o.jsxs(Xe,{className:"p-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-blue-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:o.jsx(t,{className:"h-8 w-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:e}),r&&o.jsx(Be,{className:"mb-3 bg-red-500/20 text-red-300 border-red-400/30",children:r}),o.jsx("p",{className:"text-gray-400 leading-relaxed",children:n})]})})}function PP(){var N;const[t,e]=cr(),{toast:n}=Ha(),[r,i]=y.useState(!1),{refreshSession:l,isAuthenticated:c,user:d}=Nn();console.log(" LANDING COMPONENT RENDERED - isAuthenticated:",c,"user:",(d==null?void 0:d.email)||"null");const[h,f]=y.useState(null);y.useEffect(()=>{(async()=>{try{const{getRedirectResult:_}=await yt(async()=>{const{getRedirectResult:P}=await Promise.resolve().then(()=>Ks);return{getRedirectResult:P}},void 0),E=await g(),j=await _(E);if(j!=null&&j.user){console.log(" Redirect login successful:",j.user.email),console.log(" Starting backend session creation...");const P=await m(j.user);console.log(" Backend session created:",P),console.log(" REDIRECT - FORCING AUTH STATE REFRESH - Attempt 1"),await l(),console.log(" REDIRECT - Waiting for state propagation..."),await new Promise(A=>setTimeout(A,200)),console.log(" REDIRECT - FORCING AUTH STATE REFRESH - Attempt 2"),await l(),console.log(" REDIRECT - Final wait before navigation..."),await new Promise(A=>setTimeout(A,300)),console.log(" REDIRECT - Navigating to dashboard..."),e("/")}}catch(_){console.error(" Redirect login failed:",_),_.code!=="auth/null-user"&&n({title:"Sign-in Failed",description:_.message,variant:"destructive"})}})()},[]);const g=async()=>{const{auth:S}=await yt(async()=>{const{auth:_}=await Promise.resolve().then(()=>dC);return{auth:_}},void 0);return S},m=async S=>{try{console.log(" Creating backend session for:",S.email);const _=await S.getIdToken();console.log(" Firebase ID token obtained");const E={firebaseToken:_,user:{uid:S.uid,email:S.email,displayName:S.displayName,photoURL:S.photoURL}};console.log(" Sending session request to backend...");const j=await tt("/api/auth/firebase-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},credentials:"include",body:JSON.stringify(E)});if(console.log(" Backend response status:",j.status),!j.ok){const A=await j.text();throw console.error(" Backend session creation failed:",A),new Error(`Failed to create backend session: ${j.status} ${A}`)}const P=await j.json();return console.log(" Backend session created successfully:",P),P}catch(_){throw console.error(" Backend session creation failed:",_),_}},v=async()=>{var S,_;console.log(" Google login button clicked!"),i(!0);try{console.log(" Starting Google login process..."),console.log(" Current URL:",window.location.href),console.log(" Firebase config check:"),console.log("  - API Key:"," Set"),console.log("  - Auth Domain:","your-project-id.firebaseapp.com"),console.log("  - Project ID:","your-project-id");const{GoogleAuthProvider:E,signInWithPopup:j}=await yt(async()=>{const{GoogleAuthProvider:I,signInWithPopup:$}=await Promise.resolve().then(()=>Ks);return{GoogleAuthProvider:I,signInWithPopup:$}},void 0);console.log(" Firebase auth imports loaded");const P=await g();console.log(" Firebase auth instance obtained:",(_=(S=P==null?void 0:P.app)==null?void 0:S.options)==null?void 0:_.projectId);const A=new E;console.log(" Google provider created"),A.addScope("email"),A.addScope("profile"),A.setCustomParameters({prompt:"select_account"}),console.log(" Current origin:",window.location.origin),console.log(" Development mode:",!1);const O=window.open("","_blank","width=1,height=1");if(!O||O.closed||typeof O.closed>"u"){console.warn(" Popup might be blocked by browser"),n({title:"Popup Blocked",description:"Please allow popups for this site and try again.",variant:"destructive"});return}else O.close(),console.log(" Popup test passed");console.log(" Attempting Google popup sign-in...");const R=await j(P,A);console.log(" Google popup login successful:"),console.log("  - User ID:",R.user.uid),console.log("  - Email:",R.user.email),console.log("  - Display Name:",R.user.displayName),console.log("  - Photo URL:",R.user.photoURL),console.log(" Starting backend session creation...");const T=await m(R.user);console.log(" Backend session created:",T),console.log(" FORCING AUTH STATE REFRESH - Attempt 1"),await l(),console.log(" Waiting for state propagation..."),await new Promise(I=>setTimeout(I,200)),console.log(" FORCING AUTH STATE REFRESH - Attempt 2"),await l(),console.log(" Final wait before navigation..."),await new Promise(I=>setTimeout(I,300)),console.log(" Navigating to dashboard..."),e("/")}catch(E){console.error(" Google login error:",E),console.error("Error code:",E.code),console.error("Error message:",E.message),console.error("Error stack:",E.stack);let j=E.message;E.code==="auth/popup-blocked"?j="Popup was blocked by browser. Please allow popups and try again.":E.code==="auth/popup-closed-by-user"?j="Sign-in was cancelled.":E.code==="auth/operation-not-allowed"?j="Google sign-in is not enabled in Firebase Console.":E.code==="auth/configuration-not-found"?j="Firebase configuration error. Please check the setup.":E.code==="auth/unauthorized-domain"?j="This domain is not authorized for OAuth operations in Firebase Console.":E.code==="auth/network-request-failed"&&(j="Network error. Please check your internet connection."),n({title:"Sign-in Failed",description:j,variant:"destructive"})}finally{console.log(" Setting loading to false"),i(!1)}},b=async()=>{var S,_;console.log(" Facebook login button clicked!"),i(!0);try{console.log(" Starting Facebook login process..."),console.log(" Current URL:",window.location.href),console.log(" Firebase config check:"),console.log("  - API Key:"," Set"),console.log("  - Auth Domain:","your-project-id.firebaseapp.com"),console.log("  - Project ID:","your-project-id");const{FacebookAuthProvider:E,signInWithPopup:j}=await yt(async()=>{const{FacebookAuthProvider:I,signInWithPopup:$}=await Promise.resolve().then(()=>Ks);return{FacebookAuthProvider:I,signInWithPopup:$}},void 0);console.log(" Firebase auth imports loaded");const P=await g();console.log(" Firebase auth instance obtained:",(_=(S=P==null?void 0:P.app)==null?void 0:S.options)==null?void 0:_.projectId);const A=new E;console.log(" Facebook provider created"),A.addScope("email"),A.setCustomParameters({display:"popup"}),console.log(" Current origin:",window.location.origin),console.log(" Development mode:",!1);const O=window.open("","_blank","width=1,height=1");if(!O||O.closed||typeof O.closed>"u"){console.warn(" Popup might be blocked by browser"),n({title:"Popup Blocked",description:"Please allow popups for this site and try again.",variant:"destructive"});return}else O.close(),console.log(" Popup test passed");console.log(" Attempting Facebook popup sign-in...");const R=await j(P,A);console.log(" Facebook popup login successful:"),console.log("  - User ID:",R.user.uid),console.log("  - Email:",R.user.email),console.log("  - Display Name:",R.user.displayName),console.log("  - Photo URL:",R.user.photoURL),console.log(" Starting backend session creation...");const T=await m(R.user);console.log(" Backend session created:",T),console.log(" FORCING AUTH STATE REFRESH - Attempt 1"),await l(),console.log(" Waiting for state propagation..."),await new Promise(I=>setTimeout(I,200)),console.log(" FORCING AUTH STATE REFRESH - Attempt 2"),await l(),console.log(" Final wait before navigation..."),await new Promise(I=>setTimeout(I,300)),console.log(" Navigating to dashboard..."),e("/")}catch(E){console.error(" Facebook login error:",E),console.error("Error code:",E.code),console.error("Error message:",E.message),console.error("Error stack:",E.stack);let j=E.message;E.code==="auth/popup-blocked"?j="Popup was blocked by browser. Please allow popups and try again.":E.code==="auth/popup-closed-by-user"?j="Sign-in was cancelled.":E.code==="auth/operation-not-allowed"?j="Facebook sign-in is not enabled in Firebase Console.":E.code==="auth/configuration-not-found"?j="Firebase configuration error. Please check the setup.":E.code==="auth/unauthorized-domain"?j="This domain is not authorized for OAuth operations in Firebase Console.":E.code==="auth/network-request-failed"&&(j="Network error. Please check your internet connection."),n({title:"Sign-in Failed",description:j,variant:"destructive"})}finally{console.log(" Setting loading to false"),i(!1)}},k=async S=>{try{console.log(` Fetching: ${S}`);const _=await tt(S);if(console.log(` Response status: ${_.status} ${_.statusText}`),console.log(` Content-Type: ${_.headers.get("content-type")}`),_.ok){const E=_.headers.get("content-type");if(E&&E.includes("application/json")){const j=await _.json();return console.log(" JSON data received:",j),j}else{const j=await _.text();return console.error(" Expected JSON but got HTML/text:",j.substring(0,200)+"..."),console.warn("Response is not JSON, likely HTML error page"),null}}else{const E=await _.text();return console.error(` HTTP ${_.status}: ${E.substring(0,200)}...`),null}}catch(_){return console.error(" Fetch failed:",_),null}};return y.useEffect(()=>{(async()=>{console.log(" Loading trending shows...");const _=await k("/api/trending/tv/day?includeStreaming=true");console.log(" Trending shows data:",_),f(_)})()},[]),o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsxs("div",{className:"hero-section relative overflow-hidden bg-gradient-to-br from-black via-slate-900 to-black",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('/grid.svg?v=2')] bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"}),o.jsx("div",{className:"relative container mx-auto px-4 py-12 min-h-screen flex flex-col justify-center",children:o.jsxs("div",{className:"text-center space-y-8 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col items-center space-y-4 mb-8",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-16 h-12 md:w-20 md:h-16 bg-gradient-to-br from-slate-700 to-slate-900 rounded-xl shadow-2xl border-2 border-slate-600 relative",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-lg flex items-center justify-center",children:o.jsx("div",{className:"text-2xl md:text-3xl font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 8px rgba(0,0,0,0.8), 0 0 4px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-4 h-1.5 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-6 h-1.5 bg-slate-600 rounded-sm"})]})}),o.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black leading-tight",children:[o.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Binge"}),o.jsx("span",{className:"text-white font-light",children:"Board"})]})]}),o.jsxs("p",{className:"text-lg md:text-xl lg:text-2xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:["Your ",o.jsx("span",{className:"text-teal-400 font-semibold",children:"ultimate entertainment hub"})," for tracking shows, movies, and sports"]}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-sm",children:[o.jsxs(Be,{className:"bg-teal-500/20 text-teal-300 border-teal-400/30 px-4 py-2",children:[o.jsx(Ji,{className:"w-4 h-4 mr-2"}),"AI Recommendations"]}),o.jsxs(Be,{className:"bg-blue-500/20 text-blue-300 border-blue-400/30 px-4 py-2",children:[o.jsx(_r,{className:"w-4 h-4 mr-2"}),"Social Features"]}),o.jsxs(Be,{className:"bg-purple-500/20 text-purple-300 border-purple-400/30 px-4 py-2",children:[o.jsx(is,{className:"w-4 h-4 mr-2"}),"Privacy First"]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center items-center pt-8",children:[o.jsxs(le,{onClick:v,disabled:r,className:"group relative bg-white/5 backdrop-blur-sm hover:bg-white/10 border border-white/10 hover:border-red-400/50 text-white font-medium px-6 py-3 text-sm inline-flex items-center gap-2 transition-all duration-300 hover:scale-[1.02] rounded-lg w-full sm:w-auto",children:[o.jsx(_v,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{children:r?"Signing in...":"Join with Google"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"})]}),o.jsxs(le,{onClick:b,disabled:r,className:"group relative bg-white/5 backdrop-blur-sm hover:bg-white/10 border border-white/10 hover:border-blue-400/50 text-white font-medium px-6 py-3 text-sm inline-flex items-center gap-2 transition-all duration-300 hover:scale-[1.02] rounded-lg w-full sm:w-auto",children:[o.jsx(kv,{className:"w-4 h-4 text-blue-400"}),o.jsx("span",{children:r?"Signing in...":"Join with Facebook"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"})]}),o.jsxs("a",{href:"/signup",className:"group relative bg-white/5 backdrop-blur-sm hover:bg-white/10 border border-white/10 hover:border-teal-400/50 text-white font-medium px-6 py-3 text-sm inline-flex items-center gap-2 transition-all duration-300 hover:scale-[1.02] rounded-lg w-full sm:w-auto",children:[o.jsx(U_,{className:"w-4 h-4 text-teal-400"}),o.jsx("span",{children:"Create Account"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"})]})]}),o.jsx("div",{className:"text-center space-y-3",children:o.jsxs("div",{className:"pt-4 text-base text-gray-300",children:[o.jsx("span",{children:"Already have an account? "}),o.jsx("a",{href:"/login",className:"text-teal-400 hover:text-teal-300 underline font-semibold text-lg",children:"Sign in"})]})})]})})]}),o.jsx(tB,{}),o.jsx("div",{className:"py-24 bg-gradient-to-b from-black to-slate-900",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Everything You Need in One Place"}),o.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Powerful features designed for modern entertainment enthusiasts"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[o.jsx(Yo,{icon:At,title:"Smart Tracking",description:"Automatically track your viewing progress across all platforms with intelligent episode detection and seamless syncing."}),o.jsx(Yo,{icon:_r,title:"Social Discovery",description:"Connect with friends, share recommendations, and discover trending content through our vibrant community."}),o.jsx(Yo,{icon:fi,title:"AI Recommendations",description:"Get personalized suggestions powered by advanced AI that learns from your viewing habits and preferences.",highlight:"AI Powered"}),o.jsx(Yo,{icon:ii,title:"Real-time Stats",description:"Track your viewing statistics, discover patterns, and see how your taste evolves over time."}),o.jsx(Yo,{icon:H_,title:"Multi-Platform",description:"Works seamlessly across web, mobile, and tablet with real-time synchronization of all your data."}),o.jsx(Yo,{icon:is,title:"Privacy First",description:"Your data stays secure with end-to-end encryption and transparent privacy controls you can trust."})]})]})}),h&&o.jsx("div",{className:"py-16 bg-black",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white",children:"Trending Now"}),o.jsx(Be,{className:"bg-red-500/20 text-red-300 border-red-400/30",children:"Live Data"})]}),o.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",children:(N=h.results)==null?void 0:N.filter(S=>S&&S.vote_average!=null).slice(0,8).map(S=>{var _;return o.jsx(eB,{show:{tmdbId:S.id,title:S.name||S.title||"Unknown Title",posterPath:S.poster_path?`https://image.tmdb.org/t/p/w300${S.poster_path}`:void 0,rating:((_=S.vote_average)==null?void 0:_.toFixed(1))||"N/A",streamingPlatforms:S.streamingPlatforms},variant:"compact",onInteraction:(E,j)=>{console.log(`Landing page trending interaction: ${E} on ${j}`)}},S.id)})})]})}),o.jsx("footer",{className:"bg-slate-900 py-12 border-t border-slate-800",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[o.jsxs("div",{className:"flex flex-col items-center md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-3 mb-4 md:mb-0",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-12 h-10 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:o.jsx("div",{className:"text-lg font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),o.jsxs("span",{className:"text-xl select-none text-center md:text-left",children:[o.jsx("span",{className:"font-black bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Binge"}),o.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]})]}),o.jsxs("div",{className:"flex space-x-6 text-gray-400",children:[o.jsx(Pt,{href:"/terms",className:"hover:text-white transition-colors",children:"Terms"}),o.jsx(Pt,{href:"/privacy",className:"hover:text-white transition-colors",children:"Privacy"}),o.jsx(Pt,{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})]})]}),o.jsx("div",{className:"mt-8 pt-8 border-t border-slate-800 text-center text-gray-400",children:o.jsx("p",{children:" 2024 BingeBoard. All rights reserved."})})]})})]})}async function vd(t){return(await tt("/api/auth/firebase-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebaseToken:t})})).ok}function oS(){const t=navigator.userAgent;return/iPhone|iPad|iPod/i.test(t)&&/Safari/i.test(t)&&!/CriOS|FxiOS|EdgiOS/i.test(t)}function nB(){const[,t]=cr(),{toast:e}=Ha(),{isAuthenticated:n,user:r,isLoading:i}=Nn(),[l,c]=y.useState(!0),[d,h]=y.useState(!1),[f,g]=y.useState(!1),[m,v]=y.useState(!1),[b,k]=y.useState(!1),[N,S]=y.useState({email:"",password:"",firstName:"",lastName:""});y.useEffect(()=>{n&&r&&!i&&(console.log(" User already authenticated, redirecting to dashboard:",r.email),t("/"))},[n,r,i,t]),y.useEffect(()=>{},[]);const _=async R=>{if(R.preventDefault(),!d){if(!N.email.includes("@")||N.password.length<6){e({title:"Invalid input",description:"Please provide a valid email and password (min 6 characters).",variant:"destructive"});return}h(!0);try{if(l){console.log(" Firebase email/password login attempt for:",N.email.trim());const I=(await Wj(He,N.email.trim(),N.password.trim())).user;console.log(" Firebase email/password login successful:",I.email);const $=await I.getIdToken();await vd($)?(console.log(" Backend session created successfully"),b?(localStorage.setItem("rememberLogin","true"),localStorage.setItem("userEmail",N.email)):(localStorage.removeItem("rememberLogin"),localStorage.removeItem("userEmail")),console.log(" Session created, navigating to dashboard"),t("/")):(console.error(" Failed to create backend session"),await He.signOut(),e({title:"Login failed",description:"Failed to complete authentication. Please try again.",variant:"destructive"}))}else{console.log(" Firebase email/password registration attempt for:",N.email.trim());const I=(await nv(He,N.email.trim(),N.password.trim())).user;console.log(" Firebase email/password registration successful:",I.email);const $=await I.getIdToken();(await tt("/api/auth/firebase-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebaseToken:$,user:{firstName:N.firstName.trim(),lastName:N.lastName.trim(),email:N.email.trim()}})})).ok?(console.log(" Backend session created successfully"),console.log(" Session created, navigating to dashboard"),t("/")):(console.error(" Failed to create backend session"),await He.signOut(),e({title:"Registration failed",description:"Failed to complete registration. Please try again.",variant:"destructive"}))}}catch(T){console.error("Authentication error:",T);let I="Authentication failed. Please try again.",$="Error";if(T.code)switch(T.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":$="Login Failed",I="Invalid email or password. Please check your credentials and try again.";break;case"auth/email-already-in-use":$="Account Exists",I="An account with this email already exists. Try logging in instead.";break;case"auth/weak-password":$="Weak Password",I="Password should be at least 6 characters long.";break;case"auth/invalid-email":$="Invalid Email",I="Please enter a valid email address.";break;case"auth/network-request-failed":$="Network Error",I="Unable to connect. Please check your internet connection and try again.";break;case"auth/too-many-requests":$="Too Many Attempts",I="Too many failed attempts. Please try again later.";break;default:$="Authentication Error",I=T.message||"Failed to authenticate. Please try again."}else $="Network Error",I="Unable to connect to server. Please check your connection and try again.";e({title:$,description:I,variant:"destructive"})}finally{h(!1)}}},E=async()=>{if(!N.email){e({title:"Email required",description:"Please enter your email address first.",variant:"destructive"});return}h(!0);try{const R=await tt("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:N.email})}),T=await R.json();R.ok?(e({title:"Password reset email sent",description:"Check your email for password reset instructions."}),v(!1)):e({title:"Error",description:T.message||"Failed to send password reset email",variant:"destructive"})}catch{e({title:"Error",description:"Network error. Please try again.",variant:"destructive"})}finally{h(!1)}};y.useEffect(()=>{(async()=>{try{console.log(" Checking for OAuth redirect result on login page...");const T=await lv(He);if(T&&T.user){console.log(" OAuth redirect result found:",T.user.email),h(!0);const I=await T.user.getIdToken();await vd(I)?(console.log(" Backend session created successfully"),console.log(" Session created, navigating to dashboard"),t("/")):(console.error(" Failed to create backend session"),await He.signOut(),e({title:"Login failed",description:"Failed to complete authentication. Please try again.",variant:"destructive"}),h(!1))}else console.log(" No OAuth redirect result found")}catch(T){console.error(" OAuth redirect error:",T),T.message.includes("popup-closed-by-user")||e({title:"Authentication error",description:T.message||"Failed to complete authentication",variant:"destructive"}),h(!1)}})()},[e]);const j=R=>{S({...N,[R.target.name]:R.target.value})},P=R=>{k(R),R||(localStorage.removeItem("rememberLogin"),localStorage.removeItem("userEmail"),console.log(" Cleared remembered credentials"))},A=async()=>{try{if(console.log(" Starting Google authentication..."),h(!0),oS()){console.log(" Mobile Safari detected, using redirect flow"),await zg(He,Ta);return}console.log(" Using popup flow for Google auth"),h(!0);const R=await gc(He,Ta);if(R.user){console.log(" Google popup authentication successful:",R.user.email);const T=await R.user.getIdToken();await vd(T)?(console.log(" Backend session created successfully"),b&&R.user.email&&(localStorage.setItem("rememberLogin","true"),localStorage.setItem("userEmail",R.user.email)),console.log(" Session created, navigating to dashboard"),t("/")):(console.error(" Failed to create backend session"),await He.signOut(),e({title:"Login failed",description:"Failed to complete authentication. Please try again.",variant:"destructive"}))}}catch(R){console.error(" Google authentication error:",R),R.code==="auth/popup-closed-by-user"?e({title:"Authentication cancelled",description:"Google login was cancelled",variant:"default"}):R.code==="auth/popup-blocked"?e({title:"Popup blocked",description:"Please allow popups for this site and try again",variant:"destructive"}):e({title:"Authentication Error",description:R.message||"Failed to authenticate with Google",variant:"destructive"})}finally{h(!1)}},O=async()=>{try{if(console.log(" Starting Facebook authentication..."),h(!0),oS()){console.log(" Mobile Safari detected, using redirect flow"),await zg(He,yc);return}console.log(" Using popup flow for Facebook auth"),h(!0);const R=await gc(He,yc);if(R.user){console.log(" Facebook popup authentication successful:",R.user.email);const T=await R.user.getIdToken();await vd(T)?(console.log(" Backend session created successfully"),b&&R.user.email&&(localStorage.setItem("rememberLogin","true"),localStorage.setItem("userEmail",R.user.email)),console.log(" Session created, navigating to dashboard"),t("/")):(console.error(" Failed to create backend session"),await He.signOut(),e({title:"Login failed",description:"Failed to complete authentication. Please try again.",variant:"destructive"}))}}catch(R){console.error(" Facebook authentication error:",R),R.code==="auth/popup-closed-by-user"?e({title:"Authentication cancelled",description:"Facebook login was cancelled",variant:"default"}):R.code==="auth/popup-blocked"?e({title:"Popup blocked",description:"Please allow popups for this site and try again",variant:"destructive"}):e({title:"Authentication Error",description:R.message||"Failed to authenticate with Facebook",variant:"destructive"})}finally{h(!1)}};return o.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:o.jsx(Qe,{className:"w-full max-w-md glass-effect border-slate-700/50",children:o.jsxs(Xe,{className:"pt-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-12 h-10 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:o.jsx("div",{className:"text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),o.jsxs("div",{className:"block",children:[o.jsxs("span",{className:"text-xl sm:text-2xl select-none",children:[o.jsx("span",{className:"font-black bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Binge"}),o.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]}),o.jsx("div",{className:"text-xs text-teal-400 font-medium tracking-widest uppercase opacity-75 hidden sm:block",children:"Entertainment Hub"})]})]})}),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&o.jsx("div",{className:"mb-6 p-3 bg-amber-900/20 border border-amber-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full flex-shrink-0"}),o.jsx("p",{className:"text-amber-200 text-xs",children:"Mobile authentication optimized for better compatibility."})]})}),m?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Reset your password"}),o.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"Enter your email address and we'll send you a password reset link."})]}),o.jsxs("div",{className:"relative",children:[o.jsx(eh,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Jt,{type:"email",name:"email",placeholder:"Email address",value:N.email,onChange:j,className:"bg-gray-800/50 border-slate-600/50 text-white pl-10 focus:border-teal-500/50 focus:ring-teal-500/20",required:!0})]}),o.jsx(le,{onClick:E,disabled:d,className:"w-full bg-gradient-to-r from-teal-600 to-blue-600 hover:from-teal-700 hover:to-blue-700 text-white font-semibold",children:d?"Sending...":"Send Reset Link"}),o.jsx(le,{variant:"link",onClick:()=>v(!1),className:"w-full text-teal-400 hover:text-teal-300",children:"Back to Login"})]}):o.jsxs("div",{children:[o.jsx("div",{className:"text-center mb-6",children:o.jsx("p",{className:"text-gray-400 text-sm",children:l?"Welcome back to your entertainment hub":"Join the ultimate entertainment hub"})}),o.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(eh,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Jt,{type:"email",name:"email",placeholder:"Email address",value:N.email,onChange:j,className:"bg-gray-800/50 border-slate-600/50 text-white pl-10 focus:border-teal-500/50 focus:ring-teal-500/20",required:!0})]}),o.jsxs("div",{className:"relative",children:[o.jsx(_a,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Jt,{type:f?"text":"password",name:"password",placeholder:"Password",value:N.password,onChange:j,className:"bg-gray-800/50 border-slate-600/50 text-white pl-10 pr-10 focus:border-teal-500/50 focus:ring-teal-500/20",required:!0}),o.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-300","aria-label":f?"Hide password":"Show password",children:f?o.jsx(Jd,{className:"h-4 w-4"}):o.jsx(ir,{className:"h-4 w-4"})})]}),!l&&o.jsx("div",{className:"relative",children:o.jsx(Jt,{type:"text",name:"firstName",placeholder:"First Name",value:N.firstName,onChange:j,className:"bg-gray-800/50 border-slate-600/50 text-white focus:border-teal-500/50 focus:ring-teal-500/20",required:!0})}),!l&&o.jsx("div",{className:"relative",children:o.jsx(Jt,{type:"text",name:"lastName",placeholder:"Last Name",value:N.lastName,onChange:j,className:"bg-gray-800/50 border-slate-600/50 text-white focus:border-teal-500/50 focus:ring-teal-500/20",required:!0})}),l&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"remember",checked:b,onChange:R=>P(R.target.checked),className:"h-4 w-4 rounded border-slate-600/50 bg-gray-800/50 text-teal-600 focus:ring-teal-500/20"}),o.jsx("label",{htmlFor:"remember",className:"text-sm text-gray-300 cursor-pointer",children:"Remember me"})]}),o.jsx(le,{type:"button",variant:"link",onClick:()=>v(!0),className:"text-teal-400 hover:text-teal-300 p-0 h-auto",children:"Forgot password?"})]}),o.jsx(le,{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-teal-600 to-blue-600 hover:from-teal-700 hover:to-blue-700 text-white font-semibold",children:d?"Please wait...":l?"Log In":"Create Account"}),o.jsx("div",{className:"text-center",children:o.jsx(le,{type:"button",variant:"link",onClick:()=>c(!l),className:"text-teal-400 hover:text-teal-300",children:l?"Need an account? Sign up":"Already have an account? Log in"})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-slate-600/50"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-black px-2 text-gray-400",children:"Or continue with"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(le,{type:"button",variant:"outline",onClick:A,disabled:d,className:"bg-gray-800/50 border-slate-600/50 text-white hover:bg-gray-700/50",children:[o.jsx(_v,{className:"h-4 w-4 mr-2"}),"Google"]}),o.jsxs(le,{type:"button",variant:"outline",onClick:O,disabled:d,className:"bg-gray-800/50 border-slate-600/50 text-white hover:bg-gray-700/50",children:[o.jsx(kv,{className:"h-4 w-4 mr-2"}),"Facebook"]})]})]})]})]})})})}const Rv=new nr,TP=new tr;Rv.addScope("email");Rv.addScope("profile");TP.addScope("email");const Av=t=>({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL}),rB=async()=>{try{console.log("Starting Google sign-in...");const e=(await gc(He,Rv)).user;return console.log("Google sign-in successful:",e.email),Av(e)}catch(t){throw console.error("Google sign-in error:",t),t.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled"):t.code==="auth/popup-blocked"?new Error("Pop-up was blocked by browser. Please allow pop-ups for this site."):t.code==="auth/cancelled-popup-request"?new Error("Sign-in was cancelled"):new Error(t.message||"Google sign-in failed")}},sB=async()=>{try{console.log("Starting Facebook sign-in...");const e=(await gc(He,TP)).user;return console.log("Facebook sign-in successful:",e.email),Av(e)}catch(t){throw console.error("Facebook sign-in error:",t),t.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled"):t.code==="auth/popup-blocked"?new Error("Pop-up was blocked by browser. Please allow pop-ups for this site."):t.code==="auth/account-exists-with-different-credential"?new Error("An account already exists with the same email address but different sign-in credentials."):new Error(t.message||"Facebook sign-in failed")}},iB=async(t,e,n)=>{try{if(console.log(" Starting email sign-up for:",t),console.log(" Password length:",e.length),console.log(" Display name:",n),!t||!e)throw new Error("Email and password are required");if(!t.includes("@"))throw new Error("Please enter a valid email address");if(e.length<6)throw new Error("Password must be at least 6 characters");const r=await nv(He,t,e);return console.log(" Email sign-up successful:",r.user.email),Av(r.user)}catch(r){if(console.error(" Email sign-up error:",r),console.error(" Error code:",r.code),console.error(" Error message:",r.message),r.code==="auth/email-already-in-use"){try{const i=await rv(He,t);if(i.length>0){const l=i.map(c=>c.includes("google")?"Google":c.includes("facebook")?"Facebook":c==="password"?"Email/Password":c).join(", ");throw new Error(`This email is already registered with ${l}. Please use that sign-in method instead.`)}}catch(i){console.warn("Could not check existing sign-in methods:",i)}throw new Error("An account already exists with this email address. Please sign in instead.")}else{if(r.code==="auth/invalid-email")throw new Error("Invalid email address");if(r.code==="auth/operation-not-allowed")throw new Error("Email/password accounts are not enabled for this project");if(r.code==="auth/weak-password")throw new Error("Password should be at least 6 characters")}throw new Error(r.message||"Sign-up failed")}},oB=`
To enable proper Firebase token verification in production:

1. Install Firebase Admin SDK:
   npm install firebase-admin

2. Set environment variables:
   FIREBASE_PROJECT_ID=your-project-id
   FIREBASE_CLIENT_EMAIL=your-service-account-email
   FIREBASE_PRIVATE_KEY=your-private-key

3. Uncomment the Firebase Admin code in getAuthUser function

4. Use requireAuth middleware on protected routes:
   app.get('/api/protected', requireAuth, (req, res) => {
     // req.user will contain the authenticated user
   });

5. Use authenticatedFetch on the client:
   const response = await authenticatedFetch('/api/protected');
`;console.log(" Auth module loaded. For production Firebase setup:");console.log(oB);function aB(){const[,t]=cr(),[e,n]=y.useState(1),[r,i]=y.useState(!1),[l,c]=y.useState(!1),[d,h]=y.useState(null),[f,g]=y.useState(null),[m,v]=y.useState({email:"",password:"",firstName:"",lastName:"",favoriteGenres:[],watchingGoals:"",experience:""}),[b,k]=y.useState(!1),N=R=>{h(R),g(null),setTimeout(()=>h(null),6e3)},S=R=>{g(R),h(null),console.log("",R)},_=async()=>{c(!0),h(null),k(!0);try{console.log(" Starting Google signup...");const R=await rB();S(`Welcome ${R.displayName||R.email}! `),setTimeout(()=>{console.log(" Moving to onboarding after Google signup..."),n(2),k(!1)},1e3)}catch(R){console.error(" Google signup error:",R),N(R.message),k(!1)}finally{c(!1)}},E=async()=>{c(!0),h(null),k(!0);try{console.log(" Starting Facebook signup...");const R=await sB();S(`Welcome ${R.displayName||R.email}! `),setTimeout(()=>{console.log(" Moving to onboarding after Facebook signup..."),n(2),k(!1)},1e3)}catch(R){console.error(" Facebook signup error:",R),N(R.message),k(!1)}finally{c(!1)}},j=async R=>{R.preventDefault(),c(!0),h(null),k(!0);try{console.log(" Starting email signup process...");const T=`${m.firstName} ${m.lastName}`.trim(),I=await iB(m.email,m.password,T||void 0);console.log(" Signup successful, showing onboarding..."),S(`Account created for ${I.email}! Welcome to BingeBoard! `),setTimeout(()=>{console.log(" Moving to onboarding step..."),n(2),k(!1)},1e3)}catch(T){if(console.error(" Signup error:",T),k(!1),T.message.includes("already registered")||T.message.includes("already exists"))try{const I=await rv(He,m.email);if(I.length>0){const $=I.some(W=>W.includes("google")),Y=I.some(W=>W.includes("facebook"));if($||Y){const W=[];$&&W.push("Google"),Y&&W.push("Facebook"),N(`This email is already registered with ${W.join(" and ")}. Please use the "${W[0]} Sign-in" button above instead.`)}else N("This email is already registered. Please use the login page instead.")}else N(T.message)}catch{N(T.message)}else N(T.message)}finally{c(!1)}},P=async R=>{R.preventDefault(),c(!0);try{await Yg.initialize();const T=await Yg.updatePreferences({favoriteGenres:m.favoriteGenres,watchingGoals:m.watchingGoals,experience:m.experience});try{(await fetch("/api/user/preferences/sync-onboarding",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({onboardingData:{favoriteGenres:m.favoriteGenres,watchingGoals:[m.watchingGoals],experience:m.experience,streamingPlatforms:[],contentTypes:["Movies","TV Series"],viewingHabits:{preferredTime:"evening",bingeDuration:"2-3 hours",weeklyGoal:"5-10 hours"},theme:"dark"}})})).ok&&console.log(" Onboarding data synced to server successfully")}catch(I){console.warn(" Failed to sync onboarding data to server:",I)}T?(console.log(" Saved onboarding data to user profile"),S("Profile setup complete! Welcome to BingeBoard! "),setTimeout(()=>{console.log(" Navigating to dashboard..."),t("/")},1500)):(console.warn(" Failed to save preferences, but continuing to dashboard"),S("Welcome to BingeBoard! "),setTimeout(()=>t("/"),1500))}catch(T){console.error(" Error saving onboarding data:",T),S("Welcome to BingeBoard! "),setTimeout(()=>t("/"),1500)}finally{c(!1)}},A=["Action","Adventure","Comedy","Drama","Horror","Sci-Fi","Fantasy","Romance","Thriller","Documentary","Animation","Crime"],O=R=>{v(T=>({...T,favoriteGenres:T.favoriteGenres.includes(R)?T.favoriteGenres.filter(I=>I!==R):[...T.favoriteGenres,R]}))};return e===2?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx(Pt,{href:"/",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-6 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-sm flex items-center justify-center",children:o.jsx("div",{className:"text-xs font-black text-white",children:"B"})})}),o.jsxs("span",{className:"text-lg font-bold text-white",children:[o.jsx("span",{className:"font-black",children:"Binge"}),o.jsx("span",{className:"bg-gradient-to-r from-teal-400 to-cyan-400 bg-clip-text text-transparent font-light",children:"Board"})]})]})})}),o.jsxs(Qe,{className:"w-full max-w-2xl glass-effect border-slate-700/50",children:[o.jsxs(Et,{className:"text-center",children:[o.jsx(Lt,{className:"text-3xl font-bold text-white mb-2",children:"Welcome to BingeBoard! "}),o.jsx("p",{className:"text-gray-400",children:"Let's personalize your experience"})]}),o.jsx(Xe,{children:o.jsxs("form",{onSubmit:P,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"What genres do you love? (Select all that apply)"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:A.map(R=>o.jsx(le,{type:"button",variant:m.favoriteGenres.includes(R)?"default":"outline",className:`text-sm ${m.favoriteGenres.includes(R)?"bg-gradient-to-r from-teal-600 to-blue-600 text-white":"border-slate-700 text-gray-300 hover:text-white"}`,onClick:()=>O(R),children:R},R))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"What's your main goal?"}),o.jsx("div",{className:"space-y-2",children:["Discover new shows and movies","Keep track of what I'm watching","Get recommendations from friends","Organize my watchlist","Just for fun!"].map(R=>o.jsxs(le,{type:"button",variant:m.watchingGoals===R?"default":"outline",className:`w-full justify-start text-left ${m.watchingGoals===R?"bg-gradient-to-r from-teal-600 to-blue-600 text-white":"border-slate-700 text-gray-300 hover:text-white"}`,onClick:()=>v(T=>({...T,watchingGoals:R})),children:[m.watchingGoals===R&&o.jsx(Xd,{className:"h-4 w-4 mr-2"}),R]},R))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"How would you describe yourself?"}),o.jsx("div",{className:"space-y-2",children:["Casual viewer - I watch occasionally","Regular watcher - I always have something on","Binge expert - I finish series in one sitting","Completionist - I track everything I watch"].map(R=>o.jsxs(le,{type:"button",variant:m.experience===R?"default":"outline",className:`w-full justify-start text-left ${m.experience===R?"bg-gradient-to-r from-teal-600 to-blue-600 text-white":"border-slate-700 text-gray-300 hover:text-white"}`,onClick:()=>v(T=>({...T,experience:R})),children:[m.experience===R&&o.jsx(Xd,{className:"h-4 w-4 mr-2"}),R]},R))})]}),o.jsx(le,{type:"submit",className:"w-full bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 hover:from-teal-700 hover:via-cyan-700 hover:to-blue-700",size:"lg",children:"Complete Setup & Start Exploring"})]})})]})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx(Pt,{href:"/",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-6 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-sm flex items-center justify-center",children:o.jsx("div",{className:"text-xs font-black text-white",children:"B"})})}),o.jsxs("span",{className:"text-lg font-bold text-white",children:[o.jsx("span",{className:"font-black",children:"Binge"}),o.jsx("span",{className:"bg-gradient-to-r from-teal-400 to-cyan-400 bg-clip-text text-transparent font-light",children:"Board"})]})]})})}),o.jsxs(Qe,{className:"w-full max-w-md glass-effect border-slate-700/50",children:[o.jsxs(Et,{className:"text-center",children:[o.jsx(Lt,{className:"text-2xl font-bold text-white",children:"Join BingeBoard"}),o.jsx("p",{className:"text-gray-400",children:"Start tracking your entertainment journey"})]}),o.jsxs(Xe,{className:"space-y-6",children:[d&&o.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-300 text-sm backdrop-blur-sm animate-slide-down",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"}),o.jsx("span",{className:"font-medium",children:d})]})}),f&&o.jsx("div",{className:"p-4 rounded-xl bg-green-500/10 border border-green-500/20 text-green-300 text-sm backdrop-blur-sm animate-slide-down",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ji,{className:"h-4 w-4 text-green-400 animate-pulse"}),o.jsx("span",{className:"font-medium",children:f})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(le,{variant:"outline",className:"w-full border-slate-700 bg-white/5 hover:bg-white/10 text-white transition-all duration-200 hover:scale-105 hover:shadow-lg group",onClick:_,disabled:l,children:[l?o.jsx(Rd,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(_v,{className:"h-4 w-4 mr-2 group-hover:scale-110 transition-transform"}),"Sign up with Google"]}),o.jsxs(le,{variant:"outline",className:"w-full border-slate-700 bg-blue-600/10 hover:bg-blue-600/20 text-white transition-all duration-200 hover:scale-105 hover:shadow-lg group",onClick:E,disabled:l,children:[l?o.jsx(Rd,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(kv,{className:"h-4 w-4 mr-2 group-hover:scale-110 transition-transform"}),"Sign up with Facebook"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-slate-700"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-slate-950 px-2 text-slate-400",children:"Or"})})]}),o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Qh,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Jt,{type:"text",placeholder:"First name",value:m.firstName,onChange:R=>v({...m,firstName:R.target.value}),className:"pl-10 bg-slate-800/50 border-slate-700 text-white placeholder:text-gray-400",required:!0})]}),o.jsx("div",{children:o.jsx(Jt,{type:"text",placeholder:"Last name",value:m.lastName,onChange:R=>v({...m,lastName:R.target.value}),className:"bg-slate-800/50 border-slate-700 text-white placeholder:text-gray-400",required:!0})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(eh,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Jt,{type:"email",placeholder:"Email address",value:m.email,onChange:R=>v({...m,email:R.target.value}),className:"pl-10 bg-slate-800/50 border-slate-700 text-white placeholder:text-gray-400",required:!0})]}),o.jsxs("div",{className:"relative",children:[o.jsx(_a,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Jt,{type:r?"text":"password",placeholder:"Password (min 6 characters)",value:m.password,onChange:R=>v({...m,password:R.target.value}),className:"pl-10 pr-10 bg-slate-800/50 border-slate-700 text-white placeholder:text-gray-400",required:!0,minLength:6}),o.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:r?o.jsx(Jd,{className:"h-4 w-4"}):o.jsx(ir,{className:"h-4 w-4"})})]}),o.jsx(le,{type:"submit",className:"w-full bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 hover:from-teal-700 hover:via-cyan-700 hover:to-blue-700",disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(Rd,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Account..."]}):"Create Account"})]}),o.jsx("div",{className:"text-center",children:o.jsx(Pt,{href:"/login",children:o.jsx("button",{className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Already have an account? Sign in"})})}),o.jsx("div",{className:"text-center",children:o.jsx(Pt,{href:"/",children:o.jsx("button",{className:"text-sm text-teal-400 hover:text-teal-300 transition-colors",children:" Back to Home"})})})]})]})]})}function lB(){const[,t]=cr(),[e,n]=y.useState(""),[r,i]=y.useState(""),[l,c]=y.useState(!1),[d,h]=y.useState(!1),[f,g]=y.useState(""),[m,v]=y.useState(!1),[b,k]=y.useState("");y.useEffect(()=>{const _=new URLSearchParams(window.location.search).get("token");_?g(_):k("Invalid or missing reset token")},[]);const N=async S=>{if(S.preventDefault(),v(!0),k(""),e!==r){k("Passwords do not match"),v(!1);return}if(e.length<6){k("Password must be at least 6 characters long"),v(!1);return}try{const _=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:f,password:e})}),E=await _.json();_.ok?(k("Password reset successful! Redirecting to login..."),setTimeout(()=>{t("/login")},2e3)):k(E.message||"Password reset failed")}catch{k("Network error. Please try again.")}finally{v(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[hsl(228,25%,3%)] via-[hsl(226,22%,6%)] to-[hsl(224,20%,8%)] flex items-center justify-center p-4",children:o.jsxs(Qe,{className:"w-full max-w-md bg-gray-900/50 border-gray-700 backdrop-blur-sm",children:[o.jsxs(Et,{className:"space-y-1 pb-4 text-center",children:[o.jsxs(Lt,{className:"text-2xl text-white flex items-center justify-center",children:[o.jsx(is,{className:"w-6 h-6 mr-2 text-teal-400"}),"Reset Password"]}),o.jsx(DE,{className:"text-gray-400",children:"Enter your new password below"})]}),o.jsxs(Xe,{className:"space-y-6",children:[f?o.jsxs("form",{onSubmit:N,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-300",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(_a,{className:"h-5 w-5 text-gray-400"})}),o.jsx(Jt,{type:l?"text":"password",placeholder:"Enter new password",value:e,onChange:S=>n(S.target.value),className:"pl-10 pr-10 bg-gray-800/50 border-gray-600 text-white placeholder-gray-400 focus:border-teal-400 focus:ring-teal-400",required:!0}),o.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?o.jsx(Jd,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):o.jsx(ir,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(_a,{className:"h-5 w-5 text-gray-400"})}),o.jsx(Jt,{type:d?"text":"password",placeholder:"Confirm new password",value:r,onChange:S=>i(S.target.value),className:"pl-10 pr-10 bg-gray-800/50 border-gray-600 text-white placeholder-gray-400 focus:border-teal-400 focus:ring-teal-400",required:!0}),o.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?o.jsx(Jd,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):o.jsx(ir,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]})]}),o.jsx(le,{type:"submit",disabled:m,className:"w-full bg-teal-600 hover:bg-teal-700",children:m?"Resetting...":"Reset Password"})]}):o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx("p",{children:"Invalid or missing reset token. Please request a new password reset."}),o.jsx(le,{variant:"outline",onClick:()=>t("/login"),className:"mt-4",children:"Back to Login"})]}),b&&o.jsx("div",{className:`text-center text-sm ${b.includes("successful")?"text-green-400":"text-red-400"}`,children:b})]})]})})}const Iv=y.createContext({});function Mv(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const mf=y.createContext(null),Ov=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class cB extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function uB({children:t,isPresent:e}){const n=y.useId(),r=y.useRef(null),i=y.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=y.useContext(Ov);return y.useInsertionEffect(()=>{const{width:c,height:d,top:h,left:f}=i.current;if(e||!r.current||!c||!d)return;r.current.dataset.motionPopId=n;const g=document.createElement("style");return l&&(g.nonce=l),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            top: ${h}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),o.jsx(cB,{isPresent:e,childRef:r,sizeRef:i,children:y.cloneElement(t,{ref:r})})}const dB=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:l,mode:c})=>{const d=Mv(hB),h=y.useId(),f=y.useCallback(m=>{d.set(m,!0);for(const v of d.values())if(!v)return;r&&r()},[d,r]),g=y.useMemo(()=>({id:h,initial:e,isPresent:n,custom:i,onExitComplete:f,register:m=>(d.set(m,!1),()=>d.delete(m))}),l?[Math.random(),f]:[n,f]);return y.useMemo(()=>{d.forEach((m,v)=>d.set(v,!1))},[n]),y.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),c==="popLayout"&&(t=o.jsx(uB,{isPresent:n,children:t})),o.jsx(mf.Provider,{value:g,children:t})};function hB(){return new Map}function RP(t=!0){const e=y.useContext(mf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,l=y.useId();y.useEffect(()=>{t&&i(l)},[t]);const c=y.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const xd=t=>t.key||"";function aS(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const Dv=typeof window<"u",AP=Dv?y.useLayoutEffect:y.useEffect,Ra=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:l="sync",propagate:c=!1})=>{const[d,h]=RP(c),f=y.useMemo(()=>aS(t),[t]),g=c&&!d?[]:f.map(xd),m=y.useRef(!0),v=y.useRef(f),b=Mv(()=>new Map),[k,N]=y.useState(f),[S,_]=y.useState(f);AP(()=>{m.current=!1,v.current=f;for(let P=0;P<S.length;P++){const A=xd(S[P]);g.includes(A)?b.delete(A):b.get(A)!==!0&&b.set(A,!1)}},[S,g.length,g.join("-")]);const E=[];if(f!==k){let P=[...f];for(let A=0;A<S.length;A++){const O=S[A],R=xd(O);g.includes(R)||(P.splice(A,0,O),E.push(O))}l==="wait"&&E.length&&(P=E),_(aS(P)),N(f);return}const{forceRender:j}=y.useContext(Iv);return o.jsx(o.Fragment,{children:S.map(P=>{const A=xd(P),O=c&&!d?!1:f===S||g.includes(A),R=()=>{if(b.has(A))b.set(A,!0);else return;let T=!0;b.forEach(I=>{I||(T=!1)}),T&&(j==null||j(),_(v.current),c&&(h==null||h()),r&&r())};return o.jsx(dB,{isPresent:O,initial:!m.current||n?void 0:!1,custom:O?void 0:e,presenceAffectsLayout:i,mode:l,onExitComplete:O?void 0:R,children:P},A)})})},bn=t=>t;let IP=bn;function Lv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Aa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},os=t=>t*1e3,as=t=>t/1e3,fB={useManualTiming:!1};function pB(t){let e=new Set,n=new Set,r=!1,i=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(f){l.has(f)&&(h.schedule(f),t()),f(c)}const h={schedule:(f,g=!1,m=!1)=>{const b=m&&r?e:n;return g&&l.add(f),b.has(f)||b.add(f),f},cancel:f=>{n.delete(f),l.delete(f)},process:f=>{if(c=f,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,i&&(i=!1,h.process(f))}};return h}const wd=["read","resolveKeyframes","update","preRender","render","postRender"],mB=40;function MP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=wd.reduce((_,E)=>(_[E]=pB(l),_),{}),{read:d,resolveKeyframes:h,update:f,preRender:g,render:m,postRender:v}=c,b=()=>{const _=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,mB),1),i.timestamp=_,i.isProcessing=!0,d.process(i),h.process(i),f.process(i),g.process(i),m.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},k=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:wd.reduce((_,E)=>{const j=c[E];return _[E]=(P,A=!1,O=!1)=>(n||k(),j.schedule(P,A,O)),_},{}),cancel:_=>{for(let E=0;E<wd.length;E++)c[wd[E]].cancel(_)},state:i,steps:c}}const{schedule:at,cancel:mi,state:Ut,steps:zm}=MP(typeof requestAnimationFrame<"u"?requestAnimationFrame:bn,!0),OP=y.createContext({strict:!1}),lS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ia={};for(const t in lS)Ia[t]={isEnabled:e=>lS[t].some(n=>!!e[n])};function gB(t){for(const e in t)Ia[e]={...Ia[e],...t[e]}}const yB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yB.has(t)}let DP=t=>!yh(t);function vB(t){t&&(DP=e=>e.startsWith("on")?!yh(e):t(e))}try{vB(require("@emotion/is-prop-valid").default)}catch{}function xB(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(DP(i)||n===!0&&yh(i)||!e&&!yh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function wB(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const gf=y.createContext({});function bc(t){return typeof t=="string"||Array.isArray(t)}function yf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Fv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$v=["initial",...Fv];function vf(t){return yf(t.animate)||$v.some(e=>bc(t[e]))}function LP(t){return!!(vf(t)||t.variants)}function bB(t,e){if(vf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||bc(n)?n:void 0,animate:bc(r)?r:void 0}}return t.inherit!==!1?e:{}}function SB(t){const{initial:e,animate:n}=bB(t,y.useContext(gf));return y.useMemo(()=>({initial:e,animate:n}),[cS(e),cS(n)])}function cS(t){return Array.isArray(t)?t.join(" "):t}const NB=Symbol.for("motionComponentSymbol");function Xo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function kB(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Xo(n)&&(n.current=r))},[e])}const Uv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_B="framerAppearId",FP="data-"+Uv(_B),{schedule:Bv}=MP(queueMicrotask,!1),$P=y.createContext({});function jB(t,e,n,r,i){var l,c;const{visualElement:d}=y.useContext(gf),h=y.useContext(OP),f=y.useContext(mf),g=y.useContext(Ov).reducedMotion,m=y.useRef(null);r=r||h.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:d,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const v=m.current,b=y.useContext($P);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&CB(m.current,n,i,b);const k=y.useRef(!1);y.useInsertionEffect(()=>{v&&k.current&&v.update(n,f)});const N=n[FP],S=y.useRef(!!N&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,N))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,N)));return AP(()=>{v&&(k.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Bv.render(v.render),S.current&&v.animationState&&v.animationState.animateChanges())}),y.useEffect(()=>{v&&(!S.current&&v.animationState&&v.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,N)}),S.current=!1))}),v}function CB(t,e,n,r){const{layoutId:i,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:UP(t.parent)),t.projection.setOptions({layoutId:i,layout:l,alwaysMeasureLayout:!!c||d&&Xo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:f})}function UP(t){if(t)return t.options.allowProjection!==!1?t.projection:UP(t.parent)}function EB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var l,c;t&&gB(t);function d(f,g){let m;const v={...y.useContext(Ov),...f,layoutId:PB(f)},{isStatic:b}=v,k=SB(f),N=r(f,b);if(!b&&Dv){TB();const S=RB(v);m=S.MeasureLayout,k.visualElement=jB(i,N,v,e,S.ProjectionNode)}return o.jsxs(gf.Provider,{value:k,children:[m&&k.visualElement?o.jsx(m,{visualElement:k.visualElement,...v}):null,n(i,f,kB(N,k.visualElement,g),N,b,k.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(c=(l=i.displayName)!==null&&l!==void 0?l:i.name)!==null&&c!==void 0?c:""})`}`;const h=y.forwardRef(d);return h[NB]=i,h}function PB({layoutId:t}){const e=y.useContext(Iv).id;return e&&t!==void 0?e+"-"+t:t}function TB(t,e){y.useContext(OP).strict}function RB(t){const{drag:e,layout:n}=Ia;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const AB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vv(t){return typeof t!="string"||t.includes("-")?!1:!!(AB.indexOf(t)>-1||/[A-Z]/u.test(t))}function uS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function zv(t,e,n,r){if(typeof e=="function"){const[i,l]=uS(r);e=e(n!==void 0?n:t.custom,i,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,l]=uS(r);e=e(n!==void 0?n:t.custom,i,l)}return e}const ey=t=>Array.isArray(t),IB=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),MB=t=>ey(t)?t[t.length-1]||0:t,Gt=t=>!!(t&&t.getVelocity);function $d(t){const e=Gt(t)?t.get():t;return IB(e)?e.toValue():e}function OB({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,l){const c={latestValues:DB(r,i,l,t),renderState:e()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const BP=t=>(e,n)=>{const r=y.useContext(gf),i=y.useContext(mf),l=()=>OB(t,e,r,i);return n?l():Mv(l)};function DB(t,e,n,r){const i={},l=r(t,{});for(const v in l)i[v]=$d(l[v]);let{initial:c,animate:d}=t;const h=vf(t),f=LP(t);e&&f&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const m=g?d:c;if(m&&typeof m!="boolean"&&!yf(m)){const v=Array.isArray(m)?m:[m];for(let b=0;b<v.length;b++){const k=zv(t,v[b]);if(k){const{transitionEnd:N,transition:S,..._}=k;for(const E in _){let j=_[E];if(Array.isArray(j)){const P=g?j.length-1:0;j=j[P]}j!==null&&(i[E]=j)}for(const E in N)i[E]=N[E]}}}return i}const qa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vo=new Set(qa),VP=t=>e=>typeof e=="string"&&e.startsWith(t),zP=VP("--"),LB=VP("var(--"),Wv=t=>LB(t)?FB.test(t.split("/*")[0].trim()):!1,FB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,WP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ps=(t,e,n)=>n>e?e:n<t?t:n,Ya={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sc={...Ya,transform:t=>ps(0,1,t)},bd={...Ya,default:1},Kc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hs=Kc("deg"),Pr=Kc("%"),Pe=Kc("px"),$B=Kc("vh"),UB=Kc("vw"),dS={...Pr,parse:t=>Pr.parse(t)/100,transform:t=>Pr.transform(t*100)},BB={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe},VB={rotate:Hs,rotateX:Hs,rotateY:Hs,rotateZ:Hs,scale:bd,scaleX:bd,scaleY:bd,scaleZ:bd,skew:Hs,skewX:Hs,skewY:Hs,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Sc,originX:dS,originY:dS,originZ:Pe},hS={...Ya,transform:Math.round},Hv={...BB,...VB,zIndex:hS,size:Pe,fillOpacity:Sc,strokeOpacity:Sc,numOctaves:hS},zB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WB=qa.length;function HB(t,e,n){let r="",i=!0;for(let l=0;l<WB;l++){const c=qa[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const f=WP(d,Hv[c]);if(!h){i=!1;const g=zB[c]||c;r+=`${g}(${f}) `}n&&(e[c]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Gv(t,e,n){const{style:r,vars:i,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const f=e[h];if(vo.has(h)){c=!0;continue}else if(zP(h)){i[h]=f;continue}else{const g=WP(f,Hv[h]);h.startsWith("origin")?(d=!0,l[h]=g):r[h]=g}}if(e.transform||(c||n?r.transform=HB(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:g=0}=l;r.transformOrigin=`${h} ${f} ${g}`}}const GB={offset:"stroke-dashoffset",array:"stroke-dasharray"},KB={offset:"strokeDashoffset",array:"strokeDasharray"};function qB(t,e,n=1,r=0,i=!0){t.pathLength=1;const l=i?GB:KB;t[l.offset]=Pe.transform(-r);const c=Pe.transform(e),d=Pe.transform(n);t[l.array]=`${c} ${d}`}function fS(t,e,n){return typeof t=="string"?t:Pe.transform(e+n*t)}function YB(t,e,n){const r=fS(e,t.x,t.width),i=fS(n,t.y,t.height);return`${r} ${i}`}function Kv(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...f},g,m){if(Gv(t,f,m),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b,dimensions:k}=t;v.transform&&(k&&(b.transform=v.transform),delete v.transform),k&&(i!==void 0||l!==void 0||b.transform)&&(b.transformOrigin=YB(k,i!==void 0?i:.5,l!==void 0?l:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),c!==void 0&&qB(v,c,d,h,!1)}const qv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),HP=()=>({...qv(),attrs:{}}),Yv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GP(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const KP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qP(t,e,n,r){GP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(KP.has(i)?i:Uv(i),e.attrs[i])}const vh={};function QB(t){Object.assign(vh,t)}function YP(t,{layout:e,layoutId:n}){return vo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vh[t]||t==="opacity")}function Qv(t,e,n){var r;const{style:i}=t,l={};for(const c in i)(Gt(i[c])||e.style&&Gt(e.style[c])||YP(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=i[c]);return l}function QP(t,e,n){const r=Qv(t,e,n);for(const i in t)if(Gt(t[i])||Gt(e[i])){const l=qa.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[l]=t[i]}return r}function ZB(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const pS=["x","y","width","height","cx","cy","r"],XB={useVisualState:BP({scrapeMotionValuesFromProps:QP,createRenderState:HP,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in i)if(vo.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<pS.length;d++){const h=pS[d];t[h]!==e[h]&&(c=!0)}c&&at.read(()=>{ZB(n,r),at.render(()=>{Kv(r,i,Yv(n.tagName),t.transformTemplate),qP(n,r)})})}})},JB={useVisualState:BP({scrapeMotionValuesFromProps:Qv,createRenderState:qv})};function ZP(t,e,n){for(const r in e)!Gt(e[r])&&!YP(r,n)&&(t[r]=e[r])}function eV({transformTemplate:t},e){return y.useMemo(()=>{const n=qv();return Gv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function tV(t,e){const n=t.style||{},r={};return ZP(r,n,t),Object.assign(r,eV(t,e)),r}function nV(t,e){const n={},r=tV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function rV(t,e,n,r){const i=y.useMemo(()=>{const l=HP();return Kv(l,e,Yv(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};ZP(l,t.style,t),i.style={...l,...i.style}}return i}function sV(t=!1){return(n,r,i,{latestValues:l},c)=>{const h=(Vv(n)?rV:nV)(r,l,c,n),f=xB(r,typeof n=="string",t),g=n!==y.Fragment?{...f,...h,ref:i}:{},{children:m}=r,v=y.useMemo(()=>Gt(m)?m.get():m,[m]);return y.createElement(n,{...g,children:v})}}function iV(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...Vv(r)?XB:JB,preloadedFeatures:t,useRender:sV(i),createVisualElement:e,Component:r};return EB(c)}}function XP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function xf(t,e,n){const r=t.getProps();return zv(r,e,n!==void 0?n:r.custom,t)}const oV=Lv(()=>window.ScrollTimeline!==void 0);class aV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(oV()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,l)=>{i&&i(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class lV extends aV{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Zv(t,e){return t?t[e]||t.default||t:void 0}const ty=2e4;function JP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ty;)e+=n,r=t.next(e);return e>=ty?1/0:e}function Xv(t){return typeof t=="function"}function mS(t,e){t.timeline=e,t.onfinish=null}const Jv=t=>Array.isArray(t)&&typeof t[0]=="number",cV={linearEasing:void 0};function uV(t,e){const n=Lv(t);return()=>{var r;return(r=cV[e])!==null&&r!==void 0?r:n()}}const xh=uV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eT=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let l=0;l<i;l++)r+=t(Aa(0,i-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function tT(t){return!!(typeof t=="function"&&xh()||!t||typeof t=="string"&&(t in ny||xh())||Jv(t)||Array.isArray(t)&&t.every(tT))}const Hl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ny={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hl([0,.65,.55,1]),circOut:Hl([.55,0,1,.45]),backIn:Hl([.31,.01,.66,-.59]),backOut:Hl([.33,1.53,.69,.99])};function nT(t,e){if(t)return typeof t=="function"&&xh()?eT(t,e):Jv(t)?Hl(t):Array.isArray(t)?t.map(n=>nT(n,e)||ny.easeOut):ny[t]}const Xn={x:!1,y:!1};function rT(){return Xn.x||Xn.y}function dV(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const l=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function sT(t,e){const n=dV(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function gS(t){return e=>{e.pointerType==="touch"||rT()||t(e)}}function hV(t,e,n={}){const[r,i,l]=sT(t,n),c=gS(d=>{const{target:h}=d,f=e(d);if(typeof f!="function"||!h)return;const g=gS(m=>{f(m),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,i)});return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),l}const iT=(t,e)=>e?t===e?!0:iT(t,e.parentElement):!1,e0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,fV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pV(t){return fV.has(t.tagName)||t.tabIndex!==-1}const Gl=new WeakSet;function yS(t){return e=>{e.key==="Enter"&&t(e)}}function Wm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mV=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=yS(()=>{if(Gl.has(n))return;Wm(n,"down");const i=yS(()=>{Wm(n,"up")}),l=()=>Wm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function vS(t){return e0(t)&&!rT()}function gV(t,e,n={}){const[r,i,l]=sT(t,n),c=d=>{const h=d.currentTarget;if(!vS(d)||Gl.has(h))return;Gl.add(h);const f=e(d),g=(b,k)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),!(!vS(b)||!Gl.has(h))&&(Gl.delete(h),typeof f=="function"&&f(b,{success:k}))},m=b=>{g(b,n.useGlobalTarget||iT(h,b.target))},v=b=>{g(b,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",v,i)};return r.forEach(d=>{!pV(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d.addEventListener("focus",f=>mV(f,i),i)}),l}function yV(t){return t==="x"||t==="y"?Xn[t]?null:(Xn[t]=!0,()=>{Xn[t]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}const oT=new Set(["width","height","top","left","right","bottom",...qa]);let Ud;function vV(){Ud=void 0}const Tr={now:()=>(Ud===void 0&&Tr.set(Ut.isProcessing||fB.useManualTiming?Ut.timestamp:performance.now()),Ud),set:t=>{Ud=t,queueMicrotask(vV)}};function t0(t,e){t.indexOf(e)===-1&&t.push(e)}function n0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class r0{constructor(){this.subscriptions=[]}add(e){return t0(this.subscriptions,e),()=>n0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let l=0;l<i;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function aT(t,e){return e?t*(1e3/e):0}const xS=30,xV=t=>!isNaN(parseFloat(t));class wV{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const l=Tr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Tr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new r0);const r=this.events[e].add(n);return e==="change"?()=>{r(),at.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xS);return aT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nc(t,e){return new wV(t,e)}function bV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nc(n))}function SV(t,e){const n=xf(t,e);let{transitionEnd:r={},transition:i={},...l}=n||{};l={...l,...r};for(const c in l){const d=MB(l[c]);bV(t,c,d)}}function NV(t){return!!(Gt(t)&&t.add)}function ry(t,e){const n=t.getValue("willChange");if(NV(n))return n.add(e)}function lT(t){return t.props[FP]}const cT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,kV=1e-7,_V=12;function jV(t,e,n,r,i){let l,c,d=0;do c=e+(n-e)/2,l=cT(c,r,i)-t,l>0?n=c:e=c;while(Math.abs(l)>kV&&++d<_V);return c}function qc(t,e,n,r){if(t===e&&n===r)return bn;const i=l=>jV(l,0,1,t,n);return l=>l===0||l===1?l:cT(i(l),e,r)}const uT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dT=t=>e=>1-t(1-e),hT=qc(.33,1.53,.69,.99),s0=dT(hT),fT=uT(s0),pT=t=>(t*=2)<1?.5*s0(t):.5*(2-Math.pow(2,-10*(t-1))),i0=t=>1-Math.sin(Math.acos(t)),mT=dT(i0),gT=uT(i0),yT=t=>/^0[^.\s]+$/u.test(t);function CV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||yT(t):!0}const ec=t=>Math.round(t*1e5)/1e5,o0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EV(t){return t==null}const PV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,a0=(t,e)=>n=>!!(typeof n=="string"&&PV.test(n)&&n.startsWith(t)||e&&!EV(n)&&Object.prototype.hasOwnProperty.call(n,e)),vT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,l,c,d]=r.match(o0);return{[t]:parseFloat(i),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},TV=t=>ps(0,255,t),Hm={...Ya,transform:t=>Math.round(TV(t))},Bi={test:a0("rgb","red"),parse:vT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Hm.transform(t)+", "+Hm.transform(e)+", "+Hm.transform(n)+", "+ec(Sc.transform(r))+")"};function RV(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const sy={test:a0("#"),parse:RV,transform:Bi.transform},Jo={test:a0("hsl","hue"),parse:vT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Pr.transform(ec(e))+", "+Pr.transform(ec(n))+", "+ec(Sc.transform(r))+")"},Ht={test:t=>Bi.test(t)||sy.test(t)||Jo.test(t),parse:t=>Bi.test(t)?Bi.parse(t):Jo.test(t)?Jo.parse(t):sy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Bi.transform(t):Jo.transform(t)},AV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IV(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(o0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(AV))===null||n===void 0?void 0:n.length)||0)>0}const xT="number",wT="color",MV="var",OV="var(",wS="${}",DV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let l=0;const d=e.replace(DV,h=>(Ht.test(h)?(r.color.push(l),i.push(wT),n.push(Ht.parse(h))):h.startsWith(OV)?(r.var.push(l),i.push(MV),n.push(h)):(r.number.push(l),i.push(xT),n.push(parseFloat(h))),++l,wS)).split(wS);return{values:n,split:d,indexes:r,types:i}}function bT(t){return kc(t).values}function ST(t){const{split:e,types:n}=kc(t),r=e.length;return i=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],i[c]!==void 0){const d=n[c];d===xT?l+=ec(i[c]):d===wT?l+=Ht.transform(i[c]):l+=i[c]}return l}}const LV=t=>typeof t=="number"?0:t;function FV(t){const e=bT(t);return ST(t)(e.map(LV))}const gi={test:IV,parse:bT,createTransformer:ST,getAnimatableNone:FV},$V=new Set(["brightness","contrast","saturate","opacity"]);function UV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(o0)||[];if(!r)return t;const i=n.replace(r,"");let l=$V.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+i+")"}const BV=/\b([a-z-]*)\(.*?\)/gu,iy={...gi,getAnimatableNone:t=>{const e=t.match(BV);return e?e.map(UV).join(" "):t}},VV={...Hv,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:iy,WebkitFilter:iy},l0=t=>VV[t];function NT(t,e){let n=l0(t);return n!==iy&&(n=gi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zV=new Set(["auto","none","0"]);function WV(t,e,n){let r=0,i;for(;r<t.length&&!i;){const l=t[r];typeof l=="string"&&!zV.has(l)&&kc(l).values.length&&(i=t[r]),r++}if(i&&n)for(const l of e)t[l]=NT(n,i)}const bS=t=>t===Ya||t===Pe,SS=(t,e)=>parseFloat(t.split(", ")[e]),NS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return SS(i[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?SS(l[1],t):0}},HV=new Set(["x","y","z"]),GV=qa.filter(t=>!HV.has(t));function KV(t){const e=[];return GV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ma={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:NS(4,13),y:NS(5,14)};Ma.translateX=Ma.x;Ma.translateY=Ma.y;const eo=new Set;let oy=!1,ay=!1;function kT(){if(ay){const t=Array.from(eo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=KV(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([l,c])=>{var d;(d=r.getValue(l))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ay=!1,oy=!1,eo.forEach(t=>t.complete()),eo.clear()}function _T(){eo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ay=!0)})}function qV(){_T(),kT()}class c0{constructor(e,n,r,i,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(eo.add(this),oy||(oy=!0,at.read(_T),at.resolveKeyframes(kT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=i==null?void 0:i.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const h=r.readValue(n,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),i&&c===void 0&&i.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),eo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,eo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const jT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),YV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QV(t){const e=YV.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function CT(t,e,n=1){const[r,i]=QV(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return jT(c)?parseFloat(c):c}return Wv(i)?CT(i,e,n+1):i}const ET=t=>e=>e.test(t),ZV={test:t=>t==="auto",parse:t=>t},PT=[Ya,Pe,Pr,Hs,UB,$B,ZV],kS=t=>PT.find(ET(t));class TT extends c0{constructor(e,n,r,i,l){super(e,n,r,i,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),Wv(f))){const g=CT(f,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!oT.has(r)||e.length!==2)return;const[i,l]=e,c=kS(i),d=kS(l);if(c!==d)if(bS(c)&&bS(d))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)CV(e[i])&&r.push(i);r.length&&WV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ma[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=Ma[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{n.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const _S=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gi.test(t)||t==="0")&&!t.startsWith("url("));function XV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function JV(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=_S(i,e),d=_S(l,e);return!c||!d?!1:XV(t)||(n==="spring"||Xv(n))&&r}const ez=t=>t!==null;function wf(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(ez),l=e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const tz=40;class RT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Tr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>tz?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&qV(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Tr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:l,delay:c,onComplete:d,onUpdate:h,isGenerator:f}=this.options;if(!f&&!JV(e,r,i,l))if(c)this.options.duration=0;else{h&&h(wf(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ft=(t,e,n)=>t+(e-t)*n;function Gm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function nz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,l=0,c=0;if(!e)i=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;i=Gm(h,d,t+1/3),l=Gm(h,d,t),c=Gm(h,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function wh(t,e){return n=>n>0?e:t}const Km=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},rz=[sy,Bi,Jo],sz=t=>rz.find(e=>e.test(t));function jS(t){const e=sz(t);if(!e)return!1;let n=e.parse(t);return e===Jo&&(n=nz(n)),n}const CS=(t,e)=>{const n=jS(t),r=jS(e);if(!n||!r)return wh(t,e);const i={...n};return l=>(i.red=Km(n.red,r.red,l),i.green=Km(n.green,r.green,l),i.blue=Km(n.blue,r.blue,l),i.alpha=ft(n.alpha,r.alpha,l),Bi.transform(i))},iz=(t,e)=>n=>e(t(n)),Yc=(...t)=>t.reduce(iz),ly=new Set(["none","hidden"]);function oz(t,e){return ly.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function az(t,e){return n=>ft(t,e,n)}function u0(t){return typeof t=="number"?az:typeof t=="string"?Wv(t)?wh:Ht.test(t)?CS:uz:Array.isArray(t)?AT:typeof t=="object"?Ht.test(t)?CS:lz:wh}function AT(t,e){const n=[...t],r=n.length,i=t.map((l,c)=>u0(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=i[c](l);return n}}function lz(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=u0(t[i])(t[i],e[i]));return i=>{for(const l in r)n[l]=r[l](i);return n}}function cz(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][i[c]],h=(n=t.values[d])!==null&&n!==void 0?n:0;r[l]=h,i[c]++}return r}const uz=(t,e)=>{const n=gi.createTransformer(e),r=kc(t),i=kc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ly.has(t)&&!i.values.length||ly.has(e)&&!r.values.length?oz(t,e):Yc(AT(cz(r,i),i.values),n):wh(t,e)};function IT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ft(t,e,n):u0(t)(t,e)}const dz=5;function MT(t,e,n){const r=Math.max(e-dz,0);return aT(n-t(r),e-r)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qm=.001;function hz({duration:t=gt.duration,bounce:e=gt.bounce,velocity:n=gt.velocity,mass:r=gt.mass}){let i,l,c=1-e;c=ps(gt.minDamping,gt.maxDamping,c),t=ps(gt.minDuration,gt.maxDuration,as(t)),c<1?(i=f=>{const g=f*c,m=g*t,v=g-n,b=cy(f,c),k=Math.exp(-m);return qm-v/b*k},l=f=>{const m=f*c*t,v=m*n+n,b=Math.pow(c,2)*Math.pow(f,2)*t,k=Math.exp(-m),N=cy(Math.pow(f,2),c);return(-i(f)+qm>0?-1:1)*((v-b)*k)/N}):(i=f=>{const g=Math.exp(-f*t),m=(f-n)*t+1;return-qm+g*m},l=f=>{const g=Math.exp(-f*t),m=(n-f)*(t*t);return g*m});const d=5/t,h=pz(i,l,d);if(t=os(t),isNaN(h))return{stiffness:gt.stiffness,damping:gt.damping,duration:t};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:c*2*Math.sqrt(r*f),duration:t}}}const fz=12;function pz(t,e,n){let r=n;for(let i=1;i<fz;i++)r=r-t(r)/e(r);return r}function cy(t,e){return t*Math.sqrt(1-e*e)}const mz=["duration","bounce"],gz=["stiffness","damping","mass"];function ES(t,e){return e.some(n=>t[n]!==void 0)}function yz(t){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...t};if(!ES(t,gz)&&ES(t,mz))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,l=2*ps(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:gt.mass,stiffness:i,damping:l}}else{const n=hz(t);e={...e,...n,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function OT(t=gt.visualDuration,e=gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:f,mass:g,duration:m,velocity:v,isResolvedFromDuration:b}=yz({...n,velocity:-as(n.velocity||0)}),k=v||0,N=f/(2*Math.sqrt(h*g)),S=c-l,_=as(Math.sqrt(h/g)),E=Math.abs(S)<5;r||(r=E?gt.restSpeed.granular:gt.restSpeed.default),i||(i=E?gt.restDelta.granular:gt.restDelta.default);let j;if(N<1){const A=cy(_,N);j=O=>{const R=Math.exp(-N*_*O);return c-R*((k+N*_*S)/A*Math.sin(A*O)+S*Math.cos(A*O))}}else if(N===1)j=A=>c-Math.exp(-_*A)*(S+(k+_*S)*A);else{const A=_*Math.sqrt(N*N-1);j=O=>{const R=Math.exp(-N*_*O),T=Math.min(A*O,300);return c-R*((k+N*_*S)*Math.sinh(T)+A*S*Math.cosh(T))/A}}const P={calculatedDuration:b&&m||null,next:A=>{const O=j(A);if(b)d.done=A>=m;else{let R=0;N<1&&(R=A===0?os(k):MT(j,A,O));const T=Math.abs(R)<=r,I=Math.abs(c-O)<=i;d.done=T&&I}return d.value=d.done?c:O,d},toString:()=>{const A=Math.min(JP(P),ty),O=eT(R=>P.next(A*R).value,A,30);return A+"ms "+O}};return P}function PS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:f=.5,restSpeed:g}){const m=t[0],v={done:!1,value:m},b=T=>d!==void 0&&T<d||h!==void 0&&T>h,k=T=>d===void 0?h:h===void 0||Math.abs(d-T)<Math.abs(h-T)?d:h;let N=n*e;const S=m+N,_=c===void 0?S:c(S);_!==S&&(N=_-m);const E=T=>-N*Math.exp(-T/r),j=T=>_+E(T),P=T=>{const I=E(T),$=j(T);v.done=Math.abs(I)<=f,v.value=v.done?_:$};let A,O;const R=T=>{b(v.value)&&(A=T,O=OT({keyframes:[v.value,k(v.value)],velocity:MT(j,T,v.value),damping:i,stiffness:l,restDelta:f,restSpeed:g}))};return R(0),{calculatedDuration:null,next:T=>{let I=!1;return!O&&A===void 0&&(I=!0,P(T),R(T)),A!==void 0&&T>=A?O.next(T-A):(!I&&P(T),v)}}}const vz=qc(.42,0,1,1),xz=qc(0,0,.58,1),DT=qc(.42,0,.58,1),wz=t=>Array.isArray(t)&&typeof t[0]!="number",bz={linear:bn,easeIn:vz,easeInOut:DT,easeOut:xz,circIn:i0,circInOut:gT,circOut:mT,backIn:s0,backInOut:fT,backOut:hT,anticipate:pT},TS=t=>{if(Jv(t)){IP(t.length===4);const[e,n,r,i]=t;return qc(e,n,r,i)}else if(typeof t=="string")return bz[t];return t};function Sz(t,e,n){const r=[],i=n||IT,l=t.length-1;for(let c=0;c<l;c++){let d=i(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||bn:e;d=Yc(h,d)}r.push(d)}return r}function Nz(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const l=t.length;if(IP(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=Sz(e,r,i),h=d.length,f=g=>{if(c&&g<t[0])return e[0];let m=0;if(h>1)for(;m<t.length-2&&!(g<t[m+1]);m++);const v=Aa(t[m],t[m+1],g);return d[m](v)};return n?g=>f(ps(t[0],t[l-1],g)):f}function kz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Aa(0,e,r);t.push(ft(n,1,i))}}function _z(t){const e=[0];return kz(e,t.length-1),e}function jz(t,e){return t.map(n=>n*e)}function Cz(t,e){return t.map(()=>e||DT).splice(0,t.length-1)}function bh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=wz(r)?r.map(TS):TS(r),l={done:!1,value:e[0]},c=jz(n&&n.length===e.length?n:_z(e),t),d=Nz(c,e,{ease:Array.isArray(i)?i:Cz(e,i)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const Ez=t=>{const e=({timestamp:n})=>t(n);return{start:()=>at.update(e,!0),stop:()=>mi(e),now:()=>Ut.isProcessing?Ut.timestamp:Tr.now()}},Pz={decay:PS,inertia:PS,tween:bh,keyframes:bh,spring:OT},Tz=t=>t/100;class d0 extends RT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:i,keyframes:l}=this.options,c=(i==null?void 0:i.KeyframeResolver)||c0,d=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new c(l,d,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:l,velocity:c=0}=this.options,d=Xv(n)?n:Pz[n]||bh;let h,f;d!==bh&&typeof e[0]!="number"&&(h=Yc(Tz,IT(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});l==="mirror"&&(f=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=JP(g));const{calculatedDuration:m}=g,v=m+i,b=v*(r+1)-i;return{generator:g,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:m,resolvedDuration:v,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:f,totalDuration:g,resolvedDuration:m}=r;if(this.startTime===null)return l.next(0);const{delay:v,repeat:b,repeatType:k,repeatDelay:N,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-v*(this.speed>=0?1:-1),E=this.speed>=0?_<0:_>g;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let j=this.currentTime,P=l;if(b){const T=Math.min(this.currentTime,g)/m;let I=Math.floor(T),$=T%1;!$&&T>=1&&($=1),$===1&&I--,I=Math.min(I,b+1),!!(I%2)&&(k==="reverse"?($=1-$,N&&($-=N/m)):k==="mirror"&&(P=c)),j=ps(0,1,$)*m}const A=E?{done:!1,value:h[0]}:P.next(j);d&&(A.value=d(A.value));let{done:O}=A;!E&&f!==null&&(O=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return R&&i!==void 0&&(A.value=wf(h,this.options,i)),S&&S(A.value),R&&this.finish(),A}get duration(){const{resolved:e}=this;return e?as(e.calculatedDuration):0}get time(){return as(this.currentTime)}set time(e){e=os(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=as(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Ez,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Rz=new Set(["opacity","clipPath","filter","transform"]);function Az(t,e,n,{delay:r=0,duration:i=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:h}={}){const f={[e]:n};h&&(f.offset=h);const g=nT(d,i);return Array.isArray(g)&&(f.easing=g),t.animate(f,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const Iz=Lv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Sh=10,Mz=2e4;function Oz(t){return Xv(t.type)||t.type==="spring"||!tT(t.ease)}function Dz(t,e){const n=new d0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let l=0;for(;!r.done&&l<Mz;)r=n.sample(l),i.push(r.value),l+=Sh;return{times:void 0,keyframes:i,duration:l-Sh,ease:"linear"}}const LT={anticipate:pT,backInOut:fT,circInOut:gT};function Lz(t){return t in LT}class RS extends RT{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:l}=this.options;this.resolver=new TT(l,(c,d)=>this.onKeyframesResolved(c,d),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:l,type:c,motionValue:d,name:h,startTime:f}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&xh()&&Lz(l)&&(l=LT[l]),Oz(this.options)){const{onComplete:m,onUpdate:v,motionValue:b,element:k,...N}=this.options,S=Dz(e,N);e=S.keyframes,e.length===1&&(e[1]=e[0]),r=S.duration,i=S.times,l=S.ease,c="keyframes"}const g=Az(d.owner.current,h,e,{...this.options,duration:r,times:i,ease:l});return g.startTime=f??this.calcStartTime(),this.pendingTimeline?(mS(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:m}=this.options;d.set(wf(e,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:i,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return as(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return as(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=os(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return bn;const{animation:r}=n;mS(r,e)}return bn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:l,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:g,onComplete:m,element:v,...b}=this.options,k=new d0({...b,keyframes:r,duration:i,type:l,ease:c,times:d,isGenerator:!0}),N=os(this.time);f.setWithVelocity(k.sample(N-Sh).value,k.sample(N).value,Sh)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:l,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=n.owner.getProps();return Iz()&&r&&Rz.has(r)&&!h&&!f&&!i&&l!=="mirror"&&c!==0&&d!=="inertia"}}const Fz={type:"spring",stiffness:500,damping:25,restSpeed:10},$z=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Uz={type:"keyframes",duration:.8},Bz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vz=(t,{keyframes:e})=>e.length>2?Uz:vo.has(t)?t.startsWith("scale")?$z(e[1]):Fz:Bz;function zz({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:f,...g}){return!!Object.keys(g).length}const h0=(t,e,n,r={},i,l)=>c=>{const d=Zv(r,t)||{},h=d.delay||r.delay||0;let{elapsed:f=0}=r;f=f-os(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-f,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:i};zz(d)||(g={...g,...Vz(t,g)}),g.duration&&(g.duration=os(g.duration)),g.repeatDelay&&(g.repeatDelay=os(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let m=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(m=!0)),m&&!l&&e.get()!==void 0){const v=wf(g.keyframes,d);if(v!==void 0)return at.update(()=>{g.onUpdate(v),g.onComplete()}),new lV([])}return!l&&RS.supports(g)?new RS(g):new d0(g)};function Wz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function FT(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...h}=e;r&&(c=r);const f=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const m in h){const v=t.getValue(m,(l=t.latestValues[m])!==null&&l!==void 0?l:null),b=h[m];if(b===void 0||g&&Wz(g,m))continue;const k={delay:n,...Zv(c||{},m)};let N=!1;if(window.MotionHandoffAnimation){const _=lT(t);if(_){const E=window.MotionHandoffAnimation(_,m,at);E!==null&&(k.startTime=E,N=!0)}}ry(t,m),v.start(h0(m,v,b,t.shouldReduceMotion&&oT.has(m)?{type:!1}:k,t,N));const S=v.animation;S&&f.push(S)}return d&&Promise.all(f).then(()=>{at.update(()=>{d&&SV(t,d)})}),f}function uy(t,e,n={}){var r;const i=xf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(l=n.transitionOverride);const c=i?()=>Promise.all(FT(t,i,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:m,staggerDirection:v}=l;return Hz(t,e,g+f,m,v,n)}:()=>Promise.resolve(),{when:h}=l;if(h){const[f,g]=h==="beforeChildren"?[c,d]:[d,c];return f().then(()=>g())}else return Promise.all([c(),d(n.delay)])}function Hz(t,e,n=0,r=0,i=1,l){const c=[],d=(t.variantChildren.size-1)*r,h=i===1?(f=0)=>f*r:(f=0)=>d-f*r;return Array.from(t.variantChildren).sort(Gz).forEach((f,g)=>{f.notify("AnimationStart",e),c.push(uy(f,e,{...l,delay:n+h(g)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(c)}function Gz(t,e){return t.sortNodePosition(e)}function Kz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(l=>uy(t,l,n));r=Promise.all(i)}else if(typeof e=="string")r=uy(t,e,n);else{const i=typeof e=="function"?xf(t,e,n.custom):e;r=Promise.all(FT(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const qz=$v.length;function $T(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$T(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<qz;n++){const r=$v[n],i=t.props[r];(bc(i)||i===!1)&&(e[r]=i)}return e}const Yz=[...Fv].reverse(),Qz=Fv.length;function Zz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Kz(t,n,r)))}function Xz(t){let e=Zz(t),n=AS(),r=!0;const i=h=>(f,g)=>{var m;const v=xf(t,g,h==="exit"?(m=t.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(v){const{transition:b,transitionEnd:k,...N}=v;f={...f,...N,...k}}return f};function l(h){e=h(t)}function c(h){const{props:f}=t,g=$T(t.parent)||{},m=[],v=new Set;let b={},k=1/0;for(let S=0;S<Qz;S++){const _=Yz[S],E=n[_],j=f[_]!==void 0?f[_]:g[_],P=bc(j),A=_===h?E.isActive:null;A===!1&&(k=S);let O=j===g[_]&&j!==f[_]&&P;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),E.protectedKeys={...b},!E.isActive&&A===null||!j&&!E.prevProp||yf(j)||typeof j=="boolean")continue;const R=Jz(E.prevProp,j);let T=R||_===h&&E.isActive&&!O&&P||S>k&&P,I=!1;const $=Array.isArray(j)?j:[j];let Y=$.reduce(i(_),{});A===!1&&(Y={});const{prevResolvedValues:W={}}=E,Z={...W,...Y},Q=ie=>{T=!0,v.has(ie)&&(I=!0,v.delete(ie)),E.needsAnimating[ie]=!0;const V=t.getValue(ie);V&&(V.liveStyle=!1)};for(const ie in Z){const V=Y[ie],B=W[ie];if(b.hasOwnProperty(ie))continue;let X=!1;ey(V)&&ey(B)?X=!XP(V,B):X=V!==B,X?V!=null?Q(ie):v.add(ie):V!==void 0&&v.has(ie)?Q(ie):E.protectedKeys[ie]=!0}E.prevProp=j,E.prevResolvedValues=Y,E.isActive&&(b={...b,...Y}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(O&&R)||I)&&m.push(...$.map(ie=>({animation:ie,options:{type:_}})))}if(v.size){const S={};v.forEach(_=>{const E=t.getBaseTarget(_),j=t.getValue(_);j&&(j.liveStyle=!0),S[_]=E??null}),m.push({animation:S})}let N=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(m):Promise.resolve()}function d(h,f){var g;if(n[h].isActive===f)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(v=>{var b;return(b=v.animationState)===null||b===void 0?void 0:b.setActive(h,f)}),n[h].isActive=f;const m=c(h);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=AS(),r=!0}}}function Jz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!XP(e,t):!1}function Oi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AS(){return{animate:Oi(!0),whileInView:Oi(),whileHover:Oi(),whileTap:Oi(),whileDrag:Oi(),whileFocus:Oi(),exit:Oi()}}class bi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class e7 extends bi{constructor(e){super(e),e.animationState||(e.animationState=Xz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let t7=0;class n7 extends bi{constructor(){super(...arguments),this.id=t7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const r7={animation:{Feature:e7},exit:{Feature:n7}};function _c(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Qc(t){return{point:{x:t.pageX,y:t.pageY}}}const s7=t=>e=>e0(e)&&t(e,Qc(e));function tc(t,e,n,r){return _c(t,e,s7(n),r)}const IS=(t,e)=>Math.abs(t-e);function i7(t,e){const n=IS(t.x,e.x),r=IS(t.y,e.y);return Math.sqrt(n**2+r**2)}class UT{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Qm(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=i7(m.offset,{x:0,y:0})>=3;if(!v&&!b)return;const{point:k}=m,{timestamp:N}=Ut;this.history.push({...k,timestamp:N});const{onStart:S,onMove:_}=this.handlers;v||(S&&S(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ym(v,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:b,onSessionEnd:k,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Qm(m.type==="pointercancel"?this.lastMoveEventInfo:Ym(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,S),k&&k(m,S)},!e0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const c=Qc(e),d=Ym(c,this.transformPagePoint),{point:h}=d,{timestamp:f}=Ut;this.history=[{...h,timestamp:f}];const{onSessionStart:g}=n;g&&g(e,Qm(d,this.history)),this.removeListeners=Yc(tc(this.contextWindow,"pointermove",this.handlePointerMove),tc(this.contextWindow,"pointerup",this.handlePointerUp),tc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mi(this.updatePoint)}}function Ym(t,e){return e?{point:e(t.point)}:t}function MS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qm({point:t},e){return{point:t,delta:MS(t,BT(e)),offset:MS(t,o7(e)),velocity:a7(e,.1)}}function o7(t){return t[0]}function BT(t){return t[t.length-1]}function a7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=BT(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>os(e)));)n--;if(!r)return{x:0,y:0};const l=as(i.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(i.x-r.x)/l,y:(i.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const VT=1e-4,l7=1-VT,c7=1+VT,zT=.01,u7=0-zT,d7=0+zT;function Sn(t){return t.max-t.min}function h7(t,e,n){return Math.abs(t-e)<=n}function OS(t,e,n,r=.5){t.origin=r,t.originPoint=ft(e.min,e.max,t.origin),t.scale=Sn(n)/Sn(e),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=l7&&t.scale<=c7||isNaN(t.scale))&&(t.scale=1),(t.translate>=u7&&t.translate<=d7||isNaN(t.translate))&&(t.translate=0)}function nc(t,e,n,r){OS(t.x,e.x,n.x,r?r.originX:void 0),OS(t.y,e.y,n.y,r?r.originY:void 0)}function DS(t,e,n){t.min=n.min+e.min,t.max=t.min+Sn(e)}function f7(t,e,n){DS(t.x,e.x,n.x),DS(t.y,e.y,n.y)}function LS(t,e,n){t.min=e.min-n.min,t.max=t.min+Sn(e)}function rc(t,e,n){LS(t.x,e.x,n.x),LS(t.y,e.y,n.y)}function p7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ft(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ft(n,t,r.max):Math.min(t,n)),t}function FS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function m7(t,{top:e,left:n,bottom:r,right:i}){return{x:FS(t.x,n,i),y:FS(t.y,e,r)}}function $S(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function g7(t,e){return{x:$S(t.x,e.x),y:$S(t.y,e.y)}}function y7(t,e){let n=.5;const r=Sn(t),i=Sn(e);return i>r?n=Aa(e.min,e.max-r,t.min):r>i&&(n=Aa(t.min,t.max-i,e.min)),ps(0,1,n)}function v7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dy=.35;function x7(t=dy){return t===!1?t=0:t===!0&&(t=dy),{x:US(t,"left","right"),y:US(t,"top","bottom")}}function US(t,e,n){return{min:BS(t,e),max:BS(t,n)}}function BS(t,e){return typeof t=="number"?t:t[e]||0}const VS=()=>({translate:0,scale:1,origin:0,originPoint:0}),ea=()=>({x:VS(),y:VS()}),zS=()=>({min:0,max:0}),wt=()=>({x:zS(),y:zS()});function An(t){return[t("x"),t("y")]}function WT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function w7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function b7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zm(t){return t===void 0||t===1}function hy({scale:t,scaleX:e,scaleY:n}){return!Zm(t)||!Zm(e)||!Zm(n)}function Li(t){return hy(t)||HT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function HT(t){return WS(t.x)||WS(t.y)}function WS(t){return t&&t!=="0%"}function Nh(t,e,n){const r=t-n,i=e*r;return n+i}function HS(t,e,n,r,i){return i!==void 0&&(t=Nh(t,i,r)),Nh(t,n,r)+e}function fy(t,e=0,n=1,r,i){t.min=HS(t.min,e,n,r,i),t.max=HS(t.max,e,n,r,i)}function GT(t,{x:e,y:n}){fy(t.x,e.translate,e.scale,e.originPoint),fy(t.y,n.translate,n.scale,n.originPoint)}const GS=.999999999999,KS=1.0000000000001;function S7(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let l,c;for(let d=0;d<i;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&na(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,GT(t,c)),r&&Li(l.latestValues)&&na(t,l.latestValues))}e.x<KS&&e.x>GS&&(e.x=1),e.y<KS&&e.y>GS&&(e.y=1)}function ta(t,e){t.min=t.min+e,t.max=t.max+e}function qS(t,e,n,r,i=.5){const l=ft(t.min,t.max,i);fy(t,e,n,l,r)}function na(t,e){qS(t.x,e.x,e.scaleX,e.scale,e.originX),qS(t.y,e.y,e.scaleY,e.scale,e.originY)}function KT(t,e){return WT(b7(t.getBoundingClientRect(),e))}function N7(t,e,n){const r=KT(t,n),{scroll:i}=e;return i&&(ta(r.x,i.offset.x),ta(r.y,i.offset.y)),r}const qT=({current:t})=>t?t.ownerDocument.defaultView:null,k7=new WeakMap;class _7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qc(g).point)},l=(g,m)=>{const{drag:v,dragPropagation:b,onDragStart:k}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yV(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),An(S=>{let _=this.getAxisMotionValue(S).get()||0;if(Pr.test(_)){const{projection:E}=this.visualElement;if(E&&E.layout){const j=E.layout.layoutBox[S];j&&(_=Sn(j)*(parseFloat(_)/100))}}this.originPoint[S]=_}),k&&at.postRender(()=>k(g,m)),ry(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(g,m)=>{const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:k,onDrag:N}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:S}=m;if(b&&this.currentDirection===null){this.currentDirection=j7(S),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",m.point,S),this.updateAxis("y",m.point,S),this.visualElement.render(),N&&N(g,m)},d=(g,m)=>this.stop(g,m),h=()=>An(g=>{var m;return this.getAnimationState(g)==="paused"&&((m=this.getAxisMotionValue(g).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new UT(e,{onSessionStart:i,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:qT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&at.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Sd(e,i,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=p7(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Xo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=m7(i.layoutBox,n):this.constraints=!1,this.elastic=x7(r),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&An(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=v7(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=N7(r,i.root,this.visualElement.getTransformPagePoint());let c=g7(i.layout.layoutBox,l);if(n){const d=n(w7(c));this.hasMutatedConstraints=!!d,d&&(c=WT(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},f=An(g=>{if(!Sd(g,n,this.currentDirection))return;let m=h&&h[g]||{};c&&(m={min:0,max:0});const v=i?200:1e6,b=i?40:1e7,k={type:"inertia",velocity:r?e[g]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...m};return this.startAxisValueAnimation(g,k)});return Promise.all(f).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ry(this.visualElement,e),r.start(h0(e,r,0,n,this.visualElement,!1))}stopAnimation(){An(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){An(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){An(n=>{const{drag:r}=this.getProps();if(!Sd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];l.set(e[n]-ft(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};An(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();i[c]=y7({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),An(c=>{if(!Sd(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:f}=this.constraints[c];d.set(ft(h,f,i[c]))})}addListeners(){if(!this.visualElement.current)return;k7.set(this.visualElement,this);const e=this.visualElement.current,n=tc(e,"pointerdown",h=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Xo(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),at.read(r);const c=_c(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(An(g=>{const m=this.getAxisMotionValue(g);m&&(this.originPoint[g]+=h[g].translate,m.set(m.get()+h[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:c=dy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Sd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function j7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class C7 extends bi{constructor(e){super(e),this.removeGroupControls=bn,this.removeListeners=bn,this.controls=new _7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const YS=t=>(e,n)=>{t&&at.postRender(()=>t(e,n))};class E7 extends bi{constructor(){super(...arguments),this.removePointerDownListener=bn}onPointerDown(e){this.session=new UT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:YS(e),onStart:YS(n),onMove:r,onEnd:(l,c)=>{delete this.session,i&&at.postRender(()=>i(l,c))}}}mount(){this.removePointerDownListener=tc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=QS(t,e.target.x),r=QS(t,e.target.y);return`${n}% ${r}%`}},P7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=gi.parse(t);if(i.length>5)return r;const l=gi.createTransformer(t),c=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;i[0+c]/=d,i[1+c]/=h;const f=ft(d,h,.5);return typeof i[2+c]=="number"&&(i[2+c]/=f),typeof i[3+c]=="number"&&(i[3+c]/=f),l(i)}};class T7 extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:l}=e;QB(R7),l&&(n.group&&n.group.add(l),r&&r.register&&i&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Bd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,i||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||at.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YT(t){const[e,n]=RP(),r=y.useContext(Iv);return o.jsx(T7,{...t,layoutGroup:r,switchLayoutGroup:y.useContext($P),isPresent:e,safeToRemove:n})}const R7={borderRadius:{...Fl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fl,borderTopRightRadius:Fl,borderBottomLeftRadius:Fl,borderBottomRightRadius:Fl,boxShadow:P7};function A7(t,e,n){const r=Gt(t)?t:Nc(t);return r.start(h0("",r,e,n)),r.animation}function I7(t){return t instanceof SVGElement&&t.tagName!=="svg"}const M7=(t,e)=>t.depth-e.depth;class O7{constructor(){this.children=[],this.isDirty=!1}add(e){t0(this.children,e),this.isDirty=!0}remove(e){n0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(M7),this.isDirty=!1,this.children.forEach(e)}}function D7(t,e){const n=Tr.now(),r=({timestamp:i})=>{const l=i-n;l>=e&&(mi(r),t(l-e))};return at.read(r,!0),()=>mi(r)}const QT=["TopLeft","TopRight","BottomLeft","BottomRight"],L7=QT.length,ZS=t=>typeof t=="string"?parseFloat(t):t,XS=t=>typeof t=="number"||Pe.test(t);function F7(t,e,n,r,i,l){i?(t.opacity=ft(0,n.opacity!==void 0?n.opacity:1,$7(r)),t.opacityExit=ft(e.opacity!==void 0?e.opacity:1,0,U7(r))):l&&(t.opacity=ft(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<L7;c++){const d=`border${QT[c]}Radius`;let h=JS(e,d),f=JS(n,d);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||XS(h)===XS(f)?(t[d]=Math.max(ft(ZS(h),ZS(f),r),0),(Pr.test(f)||Pr.test(h))&&(t[d]+="%")):t[d]=f}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,r))}function JS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $7=ZT(0,.5,mT),U7=ZT(.5,.95,bn);function ZT(t,e,n){return r=>r<t?0:r>e?1:n(Aa(t,e,r))}function eN(t,e){t.min=e.min,t.max=e.max}function Tn(t,e){eN(t.x,e.x),eN(t.y,e.y)}function tN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nN(t,e,n,r,i){return t-=e,t=Nh(t,1/n,r),i!==void 0&&(t=Nh(t,1/i,r)),t}function B7(t,e=0,n=1,r=.5,i,l=t,c=t){if(Pr.test(e)&&(e=parseFloat(e),e=ft(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=ft(l.min,l.max,r);t===l&&(d-=e),t.min=nN(t.min,e,n,d,i),t.max=nN(t.max,e,n,d,i)}function rN(t,e,[n,r,i],l,c){B7(t,e[n],e[r],e[i],e.scale,l,c)}const V7=["x","scaleX","originX"],z7=["y","scaleY","originY"];function sN(t,e,n,r){rN(t.x,e,V7,n?n.x:void 0,r?r.x:void 0),rN(t.y,e,z7,n?n.y:void 0,r?r.y:void 0)}function iN(t){return t.translate===0&&t.scale===1}function XT(t){return iN(t.x)&&iN(t.y)}function oN(t,e){return t.min===e.min&&t.max===e.max}function W7(t,e){return oN(t.x,e.x)&&oN(t.y,e.y)}function aN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function JT(t,e){return aN(t.x,e.x)&&aN(t.y,e.y)}function lN(t){return Sn(t.x)/Sn(t.y)}function cN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class H7{constructor(){this.members=[]}add(e){t0(this.members,e),e.scheduleRender()}remove(e){if(n0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function G7(t,e,n){let r="";const i=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||l||c)&&(r=`translate3d(${i}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:m,rotateY:v,skewX:b,skewY:k}=n;f&&(r=`perspective(${f}px) ${r}`),g&&(r+=`rotate(${g}deg) `),m&&(r+=`rotateX(${m}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),k&&(r+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const Fi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Kl=typeof window<"u"&&window.MotionDebug!==void 0,Xm=["","X","Y","Z"],K7={visibility:"hidden"},uN=1e3;let q7=0;function Jm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function e2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(i||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&e2(r)}function t2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=e==null?void 0:e()){this.id=q7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Kl&&(Fi.totalNodes=Fi.resolvedTargetDeltas=Fi.recalculatedProjection=0),this.nodes.forEach(Z7),this.nodes.forEach(n9),this.nodes.forEach(r9),this.nodes.forEach(X7),Kl&&window.MotionDebug.record(Fi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new O7)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new r0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=I7(c),this.instance=c;const{layoutId:h,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(f||h)&&(this.isLayoutDirty=!0),t){let m;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=D7(v,250),Bd.hasAnimatedSinceResize&&(Bd.hasAnimatedSinceResize=!1,this.nodes.forEach(hN))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeTargetChanged:b,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||l9,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=g.getProps(),E=!this.targetLayout||!JT(this.targetLayout,k)||b,j=!v&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||v&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,j);const P={...Zv(N,"layout"),onPlay:S,onComplete:_};(g.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else v||hN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(s9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&e2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const m=this.path[g];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dN);return}this.isUpdating||this.nodes.forEach(e9),this.isUpdating=!1,this.nodes.forEach(t9),this.nodes.forEach(Y7),this.nodes.forEach(Q7),this.clearAllSnapshots();const d=Tr.now();Ut.delta=ps(0,1e3/60,d-Ut.timestamp),Ut.timestamp=d,Ut.isProcessing=!0,zm.update.process(Ut),zm.preRender.process(Ut),zm.render.process(Ut),Ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(J7),this.sharedNodes.forEach(i9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!XT(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;c&&(d||Li(this.latestValues)||g)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),c9(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return wt();const h=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(u9))){const{scroll:g}=this.root;g&&(ta(h.x,g.offset.x),ta(h.y,g.offset.y))}return h}removeElementScroll(c){var d;const h=wt();if(Tn(h,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:m,options:v}=g;g!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&Tn(h,c),ta(h.x,m.offset.x),ta(h.y,m.offset.y))}return h}applyTransform(c,d=!1){const h=wt();Tn(h,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&na(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Li(g.latestValues)&&na(h,g.latestValues)}return Li(this.latestValues)&&na(h,this.latestValues),h}removeTransform(c){const d=wt();Tn(d,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Li(f.latestValues))continue;hy(f.latestValues)&&f.updateSnapshot();const g=wt(),m=f.measurePageBox();Tn(g,m),sN(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return Li(this.latestValues)&&sN(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=Ut.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),rc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),f7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),GT(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),rc(this.relativeTargetOrigin,this.target,b.target),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Kl&&Fi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hy(this.parent.latestValues)||HT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let f=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ut.timestamp&&(f=!1),f)return;const{layout:g,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||m))return;Tn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;S7(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=wt());const{target:k}=d;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tN(this.prevProjectionDelta.x,this.projectionDelta.x),tN(this.prevProjectionDelta.y,this.projectionDelta.y)),nc(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!cN(this.projectionDelta.x,this.prevProjectionDelta.x)||!cN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),Kl&&Fi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ea(),this.projectionDelta=ea(),this.projectionDeltaWithTransform=ea()}setAnimationOrigin(c,d=!1){const h=this.snapshot,f=h?h.latestValues:{},g={...this.latestValues},m=ea();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=wt(),b=h?h.source:void 0,k=this.layout?this.layout.source:void 0,N=b!==k,S=this.getStack(),_=!S||S.members.length<=1,E=!!(N&&!_&&this.options.crossfade===!0&&!this.path.some(a9));this.animationProgress=0;let j;this.mixTargetDelta=P=>{const A=P/1e3;fN(m.x,c.x,A),fN(m.y,c.y,A),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),o9(this.relativeTarget,this.relativeTargetOrigin,v,A),j&&W7(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=wt()),Tn(j,this.relativeTarget)),N&&(this.animationValues=g,F7(g,f,this.latestValues,A,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{Bd.hasAnimatedSinceResize=!0,this.currentAnimation=A7(0,uN,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:f,latestValues:g}=c;if(!(!d||!h||!f)){if(this!==c&&this.layout&&f&&n2(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||wt();const m=Sn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+m;const v=Sn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}Tn(d,h),na(d,g),nc(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new H7),this.sharedNodes.get(c).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const f={};h.z&&Jm("z",c,f,this.animationValues);for(let g=0;g<Xm.length;g++)Jm(`rotate${Xm[g]}`,c,f,this.animationValues),Jm(`skew${Xm[g]}`,c,f,this.animationValues);c.render();for(const g in f)c.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);c.scheduleRender()}getProjectionStyles(c){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return K7;const f={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=$d(c==null?void 0:c.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none",f;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=$d(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Li(this.latestValues)&&(N.transform=g?g({},""):"none",this.hasProjected=!1),N}const v=m.animationValues||m.latestValues;this.applyTransformsToTarget(),f.transform=G7(this.projectionDeltaWithTransform,this.treeScale,v),g&&(f.transform=g(v,f.transform));const{x:b,y:k}=this.projectionDelta;f.transformOrigin=`${b.origin*100}% ${k.origin*100}% 0`,m.animationValues?f.opacity=m===this?(h=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:f.opacity=m===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in vh){if(v[N]===void 0)continue;const{correct:S,applyTo:_}=vh[N],E=f.transform==="none"?v[N]:S(v[N],m);if(_){const j=_.length;for(let P=0;P<j;P++)f[_[P]]=E}else f[N]=E}return this.options.layoutId&&(f.pointerEvents=m===this?$d(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(dN),this.root.sharedNodes.clear()}}}function Y7(t){t.updateLayout()}function Q7(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?An(m=>{const v=c?n.measuredBox[m]:n.layoutBox[m],b=Sn(v);v.min=r[m].min,v.max=v.min+b}):n2(l,n.layoutBox,r)&&An(m=>{const v=c?n.measuredBox[m]:n.layoutBox[m],b=Sn(r[m]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+b)});const d=ea();nc(d,r,n.layoutBox);const h=ea();c?nc(h,t.applyTransform(i,!0),n.measuredBox):nc(h,r,n.layoutBox);const f=!XT(d);let g=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:b}=m;if(v&&b){const k=wt();rc(k,n.layoutBox,v.layoutBox);const N=wt();rc(N,r,b.layoutBox),JT(k,N)||(g=!0),m.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=k,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:d,hasLayoutChanged:f,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Z7(t){Kl&&Fi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function X7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function J7(t){t.clearSnapshot()}function dN(t){t.clearMeasurements()}function e9(t){t.isLayoutDirty=!1}function t9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function n9(t){t.resolveTargetDelta()}function r9(t){t.calcProjection()}function s9(t){t.resetSkewAndRotation()}function i9(t){t.removeLeadSnapshot()}function fN(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pN(t,e,n,r){t.min=ft(e.min,n.min,r),t.max=ft(e.max,n.max,r)}function o9(t,e,n,r){pN(t.x,e.x,n.x,r),pN(t.y,e.y,n.y,r)}function a9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const l9={duration:.45,ease:[.4,0,.1,1]},mN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gN=mN("applewebkit/")&&!mN("chrome/")?Math.round:bn;function yN(t){t.min=gN(t.min),t.max=gN(t.max)}function c9(t){yN(t.x),yN(t.y)}function n2(t,e,n){return t==="position"||t==="preserve-aspect"&&!h7(lN(e),lN(n),.2)}function u9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const d9=t2({attachResizeListener:(t,e)=>_c(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eg={current:void 0},r2=t2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!eg.current){const t=new d9({});t.mount(window),t.setOptions({layoutScroll:!0}),eg.current=t}return eg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),h9={pan:{Feature:E7},drag:{Feature:C7,ProjectionNode:r2,MeasureLayout:YT}};function vN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,l=r[i];l&&at.postRender(()=>l(e,Qc(e)))}class f9 extends bi{mount(){const{current:e}=this.node;e&&(this.unmount=hV(e,n=>(vN(this.node,n,"Start"),r=>vN(this.node,r,"End"))))}unmount(){}}class p9 extends bi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yc(_c(this.node.current,"focus",()=>this.onFocus()),_c(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xN(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),l=r[i];l&&at.postRender(()=>l(e,Qc(e)))}class m9 extends bi{mount(){const{current:e}=this.node;e&&(this.unmount=gV(e,n=>(xN(this.node,n,"Start"),(r,{success:i})=>xN(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const py=new WeakMap,tg=new WeakMap,g9=t=>{const e=py.get(t.target);e&&e(t)},y9=t=>{t.forEach(g9)};function v9({root:t,...e}){const n=t||document;tg.has(n)||tg.set(n,{});const r=tg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(y9,{root:t,...e})),r[i]}function x9(t,e,n){const r=v9(e);return py.set(t,n),r.observe(t),()=>{py.delete(t),r.unobserve(t)}}const w9={some:0,all:1};class b9 extends bi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:w9[i]},d=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:m}=this.node.getProps(),v=f?g:m;v&&v(h)};return x9(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(S9(e,n))&&this.startObserver()}unmount(){}}function S9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const N9={inView:{Feature:b9},tap:{Feature:m9},focus:{Feature:p9},hover:{Feature:f9}},k9={layout:{ProjectionNode:r2,MeasureLayout:YT}},my={current:null},s2={current:!1};function _9(){if(s2.current=!0,!!Dv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>my.current=t.matches;t.addListener(e),e()}else my.current=!1}const j9=[...PT,Ht,gi],C9=t=>j9.find(ET(t)),wN=new WeakMap;function E9(t,e,n){for(const r in e){const i=e[r],l=n[r];if(Gt(i))t.addValue(r,i);else if(Gt(l))t.addValue(r,Nc(i,{owner:t}));else if(l!==i)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(r);t.addValue(r,Nc(c!==void 0?c:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const bN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class P9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=c0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Tr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,at.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:g}=c;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=vf(n),this.isVariantNode=LP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const k=v[b];h[b]!==void 0&&Gt(k)&&k.set(h[b],!1)}}mount(e){this.current=e,wN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),s2.current||_9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:my.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){wN.delete(this.current),this.projection&&this.projection.unmount(),mi(this.notifyUpdate),mi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=vo.has(e),i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&at.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ia){const n=Ia[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<bN.length;r++){const i=bN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const l="on"+i,c=e[l];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=E9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Nc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(jT(i)||yT(i))?i=parseFloat(i):!C9(i)&&gi.test(n)&&(i=NT(e,n)),this.setBaseTarget(e,Gt(i)?i.get():i)),Gt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=zv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(i=c[e])}if(r&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Gt(l)?l:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new r0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class i2 extends P9{constructor(){super(...arguments),this.KeyframeResolver=TT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function T9(t){return window.getComputedStyle(t)}class R9 extends i2{constructor(){super(...arguments),this.type="html",this.renderInstance=GP}readValueFromInstance(e,n){if(vo.has(n)){const r=l0(n);return r&&r.default||0}else{const r=T9(e),i=(zP(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return KT(e,n)}build(e,n,r){Gv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Qv(e,n,r)}}class A9 extends i2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vo.has(n)){const r=l0(n);return r&&r.default||0}return n=KP.has(n)?n:Uv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return QP(e,n,r)}build(e,n,r){Kv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){qP(e,n,r,i)}mount(e){this.isSVGTag=Yv(e.tagName),super.mount(e)}}const I9=(t,e)=>Vv(t)?new A9(e):new R9(e,{allowProjection:t!==y.Fragment}),M9=iV({...r7,...N9,...h9,...k9},I9),Te=wB(M9);function O9(t,e=300){const[n,r]=y.useState(t);return y.useEffect(()=>{const i=setTimeout(()=>r(t),e);return()=>clearTimeout(i)},[t,e]),n}var qe;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const l={};for(const c of i)l[c]=c;return l},t.getValidEnumValues=i=>{const l=t.objectKeys(i).filter(d=>typeof i[i[d]]!="number"),c={};for(const d of l)c[d]=i[d];return t.objectValues(c)},t.objectValues=i=>t.objectKeys(i).map(function(l){return i[l]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const l=[];for(const c in i)Object.prototype.hasOwnProperty.call(i,c)&&l.push(c);return l},t.find=(i,l)=>{for(const c of i)if(l(c))return c},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,l=" | "){return i.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}t.joinValues=r,t.jsonStringifyReplacer=(i,l)=>typeof l=="bigint"?l.toString():l})(qe||(qe={}));var SN;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(SN||(SN={}));const xe=qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gs=t=>{switch(typeof t){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return Number.isNaN(t)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(t)?xe.array:t===null?xe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?xe.promise:typeof Map<"u"&&t instanceof Map?xe.map:typeof Set<"u"&&t instanceof Set?xe.set:typeof Date<"u"&&t instanceof Date?xe.date:xe.object;default:return xe.unknown}},re=qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ms extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(l){return l.message},r={_errors:[]},i=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(i);else if(c.code==="invalid_return_type")i(c.returnTypeError);else if(c.code==="invalid_arguments")i(c.argumentsError);else if(c.path.length===0)r._errors.push(n(c));else{let d=r,h=0;for(;h<c.path.length;){const f=c.path[h];h===c.path.length-1?(d[f]=d[f]||{_errors:[]},d[f]._errors.push(n(c))):d[f]=d[f]||{_errors:[]},d=d[f],h++}}};return i(this),r}static assert(e){if(!(e instanceof ms))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const l=i.path[0];n[l]=n[l]||[],n[l].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ms.create=t=>new ms(t);const gy=(t,e)=>{let n;switch(t.code){case re.invalid_type:t.received===xe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,qe.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:n=`Unrecognized key(s) in object: ${qe.joinValues(t.keys,", ")}`;break;case re.invalid_union:n="Invalid input";break;case re.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${qe.joinValues(t.options)}`;break;case re.invalid_enum_value:n=`Invalid enum value. Expected ${qe.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:n="Invalid function arguments";break;case re.invalid_return_type:n="Invalid function return type";break;case re.invalid_date:n="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:qe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case re.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case re.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case re.custom:n="Invalid input";break;case re.invalid_intersection_types:n="Intersection results could not be merged";break;case re.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:n="Number must be finite";break;default:n=e.defaultError,qe.assertNever(t)}return{message:n}};let D9=gy;function L9(){return D9}const F9=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,l=[...n,...i.path||[]],c={...i,path:l};if(i.message!==void 0)return{...i,path:l,message:i.message};let d="";const h=r.filter(f=>!!f).slice().reverse();for(const f of h)d=f(c,{data:e,defaultError:d}).message;return{...i,path:l,message:d}};function he(t,e){const n=L9(),r=F9({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===gy?void 0:gy].filter(i=>!!i)});t.common.issues.push(r)}class tn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Me;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const l=await i.key,c=await i.value;r.push({key:l,value:c})}return tn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:l,value:c}=i;if(l.status==="aborted"||c.status==="aborted")return Me;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||i.alwaysSet)&&(r[l.value]=c.value)}return{status:e.value,value:r}}}const Me=Object.freeze({status:"aborted"}),ql=t=>({status:"dirty",value:t}),Bn=t=>({status:"valid",value:t}),NN=t=>t.status==="aborted",kN=t=>t.status==="dirty",Oa=t=>t.status==="valid",kh=t=>typeof Promise<"u"&&t instanceof Promise;var Ne;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ne||(Ne={}));class Ir{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _N=(t,e)=>{if(Oa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ms(t.common.issues);return this._error=n,this._error}}};function Fe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(c,d)=>{const{message:h}=t;return c.code==="invalid_enum_value"?{message:h??d.defaultError}:typeof d.data>"u"?{message:h??r??d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:h??n??d.defaultError}},description:i}}class ze{get description(){return this._def.description}_getType(e){return Gs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Gs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new tn,ctx:{common:e.parent.common,data:e.data,parsedType:Gs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(kh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gs(e)},i=this._parseSync({data:e,path:r.path,parent:r});return _N(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gs(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:n});return Oa(l)?{value:l.value}:{issues:n.common.issues}}catch(l){(i=(r=l==null?void 0:l.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(l=>Oa(l)?{value:l.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gs(e)},i=this._parse({data:e,path:r.path,parent:r}),l=await(kh(i)?i:Promise.resolve(i));return _N(r,l)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,l)=>{const c=e(i),d=()=>l.addIssue({code:re.custom,...r(i)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Fa({schema:this,typeName:Ie.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return li.create(this,this._def)}nullable(){return $a.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Rr.create(this)}promise(){return Ph.create(this,this._def)}or(e){return jh.create([this,e],this._def)}and(e){return Ch.create(this,e,this._def)}transform(e){return new Fa({...Fe(this._def),schema:this,typeName:Ie.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new wy({...Fe(this._def),innerType:this,defaultValue:n,typeName:Ie.ZodDefault})}brand(){return new aW({typeName:Ie.ZodBranded,type:this,...Fe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new by({...Fe(this._def),innerType:this,catchValue:n,typeName:Ie.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return f0.create(this,e)}readonly(){return Sy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $9=/^c[^\s-]{8,}$/i,U9=/^[0-9a-z]+$/,B9=/^[0-9A-HJKMNP-TV-Z]{26}$/i,V9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,z9=/^[a-z0-9_-]{21}$/i,W9=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,H9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,G9=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,K9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ng;const q9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Y9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Q9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Z9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,X9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,J9=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,o2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eW=new RegExp(`^${o2}$`);function a2(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function tW(t){return new RegExp(`^${a2(t)}$`)}function nW(t){let e=`${o2}T${a2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function rW(t,e){return!!((e==="v4"||!e)&&q9.test(t)||(e==="v6"||!e)&&Q9.test(t))}function sW(t,e){if(!W9.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function iW(t,e){return!!((e==="v4"||!e)&&Y9.test(t)||(e==="v6"||!e)&&Z9.test(t))}class ss extends ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==xe.string){const l=this._getOrReturnCtx(e);return he(l,{code:re.invalid_type,expected:xe.string,received:l.parsedType}),Me}const r=new tn;let i;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:re.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),r.dirty());else if(l.kind==="max")e.data.length>l.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:re.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),r.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,d=e.data.length<l.value;(c||d)&&(i=this._getOrReturnCtx(e,i),c?he(i,{code:re.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&he(i,{code:re.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),r.dirty())}else if(l.kind==="email")G9.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"email",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="emoji")ng||(ng=new RegExp(K9,"u")),ng.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"emoji",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="uuid")V9.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"uuid",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="nanoid")z9.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"nanoid",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="cuid")$9.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"cuid",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="cuid2")U9.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"cuid2",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="ulid")B9.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"ulid",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),he(i,{validation:"url",code:re.invalid_string,message:l.message}),r.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"regex",code:re.invalid_string,message:l.message}),r.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(i=this._getOrReturnCtx(e,i),he(i,{code:re.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),r.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(i=this._getOrReturnCtx(e,i),he(i,{code:re.invalid_string,validation:{startsWith:l.value},message:l.message}),r.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(i=this._getOrReturnCtx(e,i),he(i,{code:re.invalid_string,validation:{endsWith:l.value},message:l.message}),r.dirty()):l.kind==="datetime"?nW(l).test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:re.invalid_string,validation:"datetime",message:l.message}),r.dirty()):l.kind==="date"?eW.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:re.invalid_string,validation:"date",message:l.message}),r.dirty()):l.kind==="time"?tW(l).test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:re.invalid_string,validation:"time",message:l.message}),r.dirty()):l.kind==="duration"?H9.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"duration",code:re.invalid_string,message:l.message}),r.dirty()):l.kind==="ip"?rW(e.data,l.version)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"ip",code:re.invalid_string,message:l.message}),r.dirty()):l.kind==="jwt"?sW(e.data,l.alg)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"jwt",code:re.invalid_string,message:l.message}),r.dirty()):l.kind==="cidr"?iW(e.data,l.version)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"cidr",code:re.invalid_string,message:l.message}),r.dirty()):l.kind==="base64"?X9.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"base64",code:re.invalid_string,message:l.message}),r.dirty()):l.kind==="base64url"?J9.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"base64url",code:re.invalid_string,message:l.message}),r.dirty()):qe.assertNever(l);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:re.invalid_string,...Ne.errToObj(r)})}_addCheck(e){return new ss({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ne.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ne.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ne.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ne.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ne.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ne.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ne.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ne.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ne.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ne.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ne.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ne.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ne.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ne.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ne.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ne.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ne.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ne.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ne.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ne.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ne.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ne.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ne.errToObj(n)})}nonempty(e){return this.min(1,Ne.errToObj(e))}trim(){return new ss({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ss({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ss({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ss.create=t=>new ss({checks:[],typeName:Ie.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Fe(t)});function oW(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,l=Number.parseInt(t.toFixed(i).replace(".","")),c=Number.parseInt(e.toFixed(i).replace(".",""));return l%c/10**i}class Da extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==xe.number){const l=this._getOrReturnCtx(e);return he(l,{code:re.invalid_type,expected:xe.number,received:l.parsedType}),Me}let r;const i=new tn;for(const l of this._def.checks)l.kind==="int"?qe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:re.invalid_type,expected:"integer",received:"float",message:l.message}),i.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:re.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),i.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:re.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),i.dirty()):l.kind==="multipleOf"?oW(e.data,l.value)!==0&&(r=this._getOrReturnCtx(e,r),he(r,{code:re.not_multiple_of,multipleOf:l.value,message:l.message}),i.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:re.not_finite,message:l.message}),i.dirty()):qe.assertNever(l);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,i){return new Da({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new Da({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ne.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ne.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Da.create=t=>new Da({checks:[],typeName:Ie.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Fe(t)});class jc extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==xe.bigint)return this._getInvalidInput(e);let r;const i=new tn;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:re.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),i.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:re.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),i.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),he(r,{code:re.not_multiple_of,multipleOf:l.value,message:l.message}),i.dirty()):qe.assertNever(l);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return he(n,{code:re.invalid_type,expected:xe.bigint,received:n.parsedType}),Me}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,i){return new jc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new jc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}jc.create=t=>new jc({checks:[],typeName:Ie.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Fe(t)});class yy extends ze{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==xe.boolean){const r=this._getOrReturnCtx(e);return he(r,{code:re.invalid_type,expected:xe.boolean,received:r.parsedType}),Me}return Bn(e.data)}}yy.create=t=>new yy({typeName:Ie.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Fe(t)});class _h extends ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==xe.date){const l=this._getOrReturnCtx(e);return he(l,{code:re.invalid_type,expected:xe.date,received:l.parsedType}),Me}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return he(l,{code:re.invalid_date}),Me}const r=new tn;let i;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:re.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),r.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:re.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),r.dirty()):qe.assertNever(l);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new _h({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ne.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ne.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}_h.create=t=>new _h({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ie.ZodDate,...Fe(t)});class jN extends ze{_parse(e){if(this._getType(e)!==xe.symbol){const r=this._getOrReturnCtx(e);return he(r,{code:re.invalid_type,expected:xe.symbol,received:r.parsedType}),Me}return Bn(e.data)}}jN.create=t=>new jN({typeName:Ie.ZodSymbol,...Fe(t)});class CN extends ze{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:re.invalid_type,expected:xe.undefined,received:r.parsedType}),Me}return Bn(e.data)}}CN.create=t=>new CN({typeName:Ie.ZodUndefined,...Fe(t)});class EN extends ze{_parse(e){if(this._getType(e)!==xe.null){const r=this._getOrReturnCtx(e);return he(r,{code:re.invalid_type,expected:xe.null,received:r.parsedType}),Me}return Bn(e.data)}}EN.create=t=>new EN({typeName:Ie.ZodNull,...Fe(t)});class vy extends ze{constructor(){super(...arguments),this._any=!0}_parse(e){return Bn(e.data)}}vy.create=t=>new vy({typeName:Ie.ZodAny,...Fe(t)});class PN extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Bn(e.data)}}PN.create=t=>new PN({typeName:Ie.ZodUnknown,...Fe(t)});class yi extends ze{_parse(e){const n=this._getOrReturnCtx(e);return he(n,{code:re.invalid_type,expected:xe.never,received:n.parsedType}),Me}}yi.create=t=>new yi({typeName:Ie.ZodNever,...Fe(t)});class TN extends ze{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:re.invalid_type,expected:xe.void,received:r.parsedType}),Me}return Bn(e.data)}}TN.create=t=>new TN({typeName:Ie.ZodVoid,...Fe(t)});class Rr extends ze{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==xe.array)return he(n,{code:re.invalid_type,expected:xe.array,received:n.parsedType}),Me;if(i.exactLength!==null){const c=n.data.length>i.exactLength.value,d=n.data.length<i.exactLength.value;(c||d)&&(he(n,{code:c?re.too_big:re.too_small,minimum:d?i.exactLength.value:void 0,maximum:c?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(he(n,{code:re.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(he(n,{code:re.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((c,d)=>i.type._parseAsync(new Ir(n,c,n.path,d)))).then(c=>tn.mergeArray(r,c));const l=[...n.data].map((c,d)=>i.type._parseSync(new Ir(n,c,n.path,d)));return tn.mergeArray(r,l)}get element(){return this._def.type}min(e,n){return new Rr({...this._def,minLength:{value:e,message:Ne.toString(n)}})}max(e,n){return new Rr({...this._def,maxLength:{value:e,message:Ne.toString(n)}})}length(e,n){return new Rr({...this._def,exactLength:{value:e,message:Ne.toString(n)}})}nonempty(e){return this.min(1,e)}}Rr.create=(t,e)=>new Rr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ie.ZodArray,...Fe(e)});function Qo(t){if(t instanceof kt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=li.create(Qo(r))}return new kt({...t._def,shape:()=>e})}else return t instanceof Rr?new Rr({...t._def,type:Qo(t.element)}):t instanceof li?li.create(Qo(t.unwrap())):t instanceof $a?$a.create(Qo(t.unwrap())):t instanceof lo?lo.create(t.items.map(e=>Qo(e))):t}class kt extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=qe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==xe.object){const f=this._getOrReturnCtx(e);return he(f,{code:re.invalid_type,expected:xe.object,received:f.parsedType}),Me}const{status:r,ctx:i}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof yi&&this._def.unknownKeys==="strip"))for(const f in i.data)c.includes(f)||d.push(f);const h=[];for(const f of c){const g=l[f],m=i.data[f];h.push({key:{status:"valid",value:f},value:g._parse(new Ir(i,m,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof yi){const f=this._def.unknownKeys;if(f==="passthrough")for(const g of d)h.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if(f==="strict")d.length>0&&(he(i,{code:re.unrecognized_keys,keys:d}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const g of d){const m=i.data[g];h.push({key:{status:"valid",value:g},value:f._parse(new Ir(i,m,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const g of h){const m=await g.key,v=await g.value;f.push({key:m,value:v,alwaysSet:g.alwaysSet})}return f}).then(f=>tn.mergeObjectSync(r,f)):tn.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(e){return Ne.errToObj,new kt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var l,c;const i=((c=(l=this._def).errorMap)==null?void 0:c.call(l,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ne.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new kt({...this._def,unknownKeys:"strip"})}passthrough(){return new kt({...this._def,unknownKeys:"passthrough"})}extend(e){return new kt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ie.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new kt({...this._def,catchall:e})}pick(e){const n={};for(const r of qe.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new kt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of qe.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new kt({...this._def,shape:()=>n})}deepPartial(){return Qo(this)}partial(e){const n={};for(const r of qe.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new kt({...this._def,shape:()=>n})}required(e){const n={};for(const r of qe.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let l=this.shape[r];for(;l instanceof li;)l=l._def.innerType;n[r]=l}return new kt({...this._def,shape:()=>n})}keyof(){return l2(qe.objectKeys(this.shape))}}kt.create=(t,e)=>new kt({shape:()=>t,unknownKeys:"strip",catchall:yi.create(),typeName:Ie.ZodObject,...Fe(e)});kt.strictCreate=(t,e)=>new kt({shape:()=>t,unknownKeys:"strict",catchall:yi.create(),typeName:Ie.ZodObject,...Fe(e)});kt.lazycreate=(t,e)=>new kt({shape:t,unknownKeys:"strip",catchall:yi.create(),typeName:Ie.ZodObject,...Fe(e)});class jh extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(l){for(const d of l)if(d.result.status==="valid")return d.result;for(const d of l)if(d.result.status==="dirty")return n.common.issues.push(...d.ctx.common.issues),d.result;const c=l.map(d=>new ms(d.ctx.common.issues));return he(n,{code:re.invalid_union,unionErrors:c}),Me}if(n.common.async)return Promise.all(r.map(async l=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(i);{let l;const c=[];for(const h of r){const f={...n,common:{...n.common,issues:[]},parent:null},g=h._parseSync({data:n.data,path:n.path,parent:f});if(g.status==="valid")return g;g.status==="dirty"&&!l&&(l={result:g,ctx:f}),f.common.issues.length&&c.push(f.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const d=c.map(h=>new ms(h));return he(n,{code:re.invalid_union,unionErrors:d}),Me}}get options(){return this._def.options}}jh.create=(t,e)=>new jh({options:t,typeName:Ie.ZodUnion,...Fe(e)});function xy(t,e){const n=Gs(t),r=Gs(e);if(t===e)return{valid:!0,data:t};if(n===xe.object&&r===xe.object){const i=qe.objectKeys(e),l=qe.objectKeys(t).filter(d=>i.indexOf(d)!==-1),c={...t,...e};for(const d of l){const h=xy(t[d],e[d]);if(!h.valid)return{valid:!1};c[d]=h.data}return{valid:!0,data:c}}else if(n===xe.array&&r===xe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let l=0;l<t.length;l++){const c=t[l],d=e[l],h=xy(c,d);if(!h.valid)return{valid:!1};i.push(h.data)}return{valid:!0,data:i}}else return n===xe.date&&r===xe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ch extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(l,c)=>{if(NN(l)||NN(c))return Me;const d=xy(l.value,c.value);return d.valid?((kN(l)||kN(c))&&n.dirty(),{status:n.value,value:d.data}):(he(r,{code:re.invalid_intersection_types}),Me)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([l,c])=>i(l,c)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ch.create=(t,e,n)=>new Ch({left:t,right:e,typeName:Ie.ZodIntersection,...Fe(n)});class lo extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.array)return he(r,{code:re.invalid_type,expected:xe.array,received:r.parsedType}),Me;if(r.data.length<this._def.items.length)return he(r,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Me;!this._def.rest&&r.data.length>this._def.items.length&&(he(r,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...r.data].map((c,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new Ir(r,c,r.path,d)):null}).filter(c=>!!c);return r.common.async?Promise.all(l).then(c=>tn.mergeArray(n,c)):tn.mergeArray(n,l)}get items(){return this._def.items}rest(e){return new lo({...this._def,rest:e})}}lo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new lo({items:t,typeName:Ie.ZodTuple,rest:null,...Fe(e)})};class Eh extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.object)return he(r,{code:re.invalid_type,expected:xe.object,received:r.parsedType}),Me;const i=[],l=this._def.keyType,c=this._def.valueType;for(const d in r.data)i.push({key:l._parse(new Ir(r,d,r.path,d)),value:c._parse(new Ir(r,r.data[d],r.path,d)),alwaysSet:d in r.data});return r.common.async?tn.mergeObjectAsync(n,i):tn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ze?new Eh({keyType:e,valueType:n,typeName:Ie.ZodRecord,...Fe(r)}):new Eh({keyType:ss.create(),valueType:e,typeName:Ie.ZodRecord,...Fe(n)})}}class RN extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.map)return he(r,{code:re.invalid_type,expected:xe.map,received:r.parsedType}),Me;const i=this._def.keyType,l=this._def.valueType,c=[...r.data.entries()].map(([d,h],f)=>({key:i._parse(new Ir(r,d,r.path,[f,"key"])),value:l._parse(new Ir(r,h,r.path,[f,"value"]))}));if(r.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of c){const f=await h.key,g=await h.value;if(f.status==="aborted"||g.status==="aborted")return Me;(f.status==="dirty"||g.status==="dirty")&&n.dirty(),d.set(f.value,g.value)}return{status:n.value,value:d}})}else{const d=new Map;for(const h of c){const f=h.key,g=h.value;if(f.status==="aborted"||g.status==="aborted")return Me;(f.status==="dirty"||g.status==="dirty")&&n.dirty(),d.set(f.value,g.value)}return{status:n.value,value:d}}}}RN.create=(t,e,n)=>new RN({valueType:e,keyType:t,typeName:Ie.ZodMap,...Fe(n)});class Cc extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.set)return he(r,{code:re.invalid_type,expected:xe.set,received:r.parsedType}),Me;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(he(r,{code:re.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(he(r,{code:re.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const l=this._def.valueType;function c(h){const f=new Set;for(const g of h){if(g.status==="aborted")return Me;g.status==="dirty"&&n.dirty(),f.add(g.value)}return{status:n.value,value:f}}const d=[...r.data.values()].map((h,f)=>l._parse(new Ir(r,h,r.path,f)));return r.common.async?Promise.all(d).then(h=>c(h)):c(d)}min(e,n){return new Cc({...this._def,minSize:{value:e,message:Ne.toString(n)}})}max(e,n){return new Cc({...this._def,maxSize:{value:e,message:Ne.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Cc.create=(t,e)=>new Cc({valueType:t,minSize:null,maxSize:null,typeName:Ie.ZodSet,...Fe(e)});class AN extends ze{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}AN.create=(t,e)=>new AN({getter:t,typeName:Ie.ZodLazy,...Fe(e)});class IN extends ze{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return he(n,{received:n.data,code:re.invalid_literal,expected:this._def.value}),Me}return{status:"valid",value:e.data}}get value(){return this._def.value}}IN.create=(t,e)=>new IN({value:t,typeName:Ie.ZodLiteral,...Fe(e)});function l2(t,e){return new La({values:t,typeName:Ie.ZodEnum,...Fe(e)})}class La extends ze{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return he(n,{expected:qe.joinValues(r),received:n.parsedType,code:re.invalid_type}),Me}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return he(n,{received:n.data,code:re.invalid_enum_value,options:r}),Me}return Bn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return La.create(e,{...this._def,...n})}exclude(e,n=this._def){return La.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}La.create=l2;class MN extends ze{_parse(e){const n=qe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==xe.string&&r.parsedType!==xe.number){const i=qe.objectValues(n);return he(r,{expected:qe.joinValues(i),received:r.parsedType,code:re.invalid_type}),Me}if(this._cache||(this._cache=new Set(qe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=qe.objectValues(n);return he(r,{received:r.data,code:re.invalid_enum_value,options:i}),Me}return Bn(e.data)}get enum(){return this._def.values}}MN.create=(t,e)=>new MN({values:t,typeName:Ie.ZodNativeEnum,...Fe(e)});class Ph extends ze{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xe.promise&&n.common.async===!1)return he(n,{code:re.invalid_type,expected:xe.promise,received:n.parsedType}),Me;const r=n.parsedType===xe.promise?n.data:Promise.resolve(n.data);return Bn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ph.create=(t,e)=>new Ph({type:t,typeName:Ie.ZodPromise,...Fe(e)});class Fa extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,l={addIssue:c=>{he(r,c),c.fatal?n.abort():n.dirty()},get path(){return r.path}};if(l.addIssue=l.addIssue.bind(l),i.type==="preprocess"){const c=i.transform(r.data,l);if(r.common.async)return Promise.resolve(c).then(async d=>{if(n.value==="aborted")return Me;const h=await this._def.schema._parseAsync({data:d,path:r.path,parent:r});return h.status==="aborted"?Me:h.status==="dirty"||n.value==="dirty"?ql(h.value):h});{if(n.value==="aborted")return Me;const d=this._def.schema._parseSync({data:c,path:r.path,parent:r});return d.status==="aborted"?Me:d.status==="dirty"||n.value==="dirty"?ql(d.value):d}}if(i.type==="refinement"){const c=d=>{const h=i.refinement(d,l);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return d.status==="aborted"?Me:(d.status==="dirty"&&n.dirty(),c(d.value),{status:n.value,value:d.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>d.status==="aborted"?Me:(d.status==="dirty"&&n.dirty(),c(d.value).then(()=>({status:n.value,value:d.value}))))}if(i.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Oa(c))return Me;const d=i.transform(c.value,l);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:d}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>Oa(c)?Promise.resolve(i.transform(c.value,l)).then(d=>({status:n.value,value:d})):Me);qe.assertNever(i)}}Fa.create=(t,e,n)=>new Fa({schema:t,typeName:Ie.ZodEffects,effect:e,...Fe(n)});Fa.createWithPreprocess=(t,e,n)=>new Fa({schema:e,effect:{type:"preprocess",transform:t},typeName:Ie.ZodEffects,...Fe(n)});class li extends ze{_parse(e){return this._getType(e)===xe.undefined?Bn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}li.create=(t,e)=>new li({innerType:t,typeName:Ie.ZodOptional,...Fe(e)});class $a extends ze{_parse(e){return this._getType(e)===xe.null?Bn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$a.create=(t,e)=>new $a({innerType:t,typeName:Ie.ZodNullable,...Fe(e)});class wy extends ze{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===xe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}wy.create=(t,e)=>new wy({innerType:t,typeName:Ie.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Fe(e)});class by extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return kh(i)?i.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new ms(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ms(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}by.create=(t,e)=>new by({innerType:t,typeName:Ie.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Fe(e)});class ON extends ze{_parse(e){if(this._getType(e)!==xe.nan){const r=this._getOrReturnCtx(e);return he(r,{code:re.invalid_type,expected:xe.nan,received:r.parsedType}),Me}return{status:"valid",value:e.data}}}ON.create=t=>new ON({typeName:Ie.ZodNaN,...Fe(t)});class aW extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class f0 extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Me:l.status==="dirty"?(n.dirty(),ql(l.value)):this._def.out._parseAsync({data:l.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Me:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new f0({in:e,out:n,typeName:Ie.ZodPipeline})}}class Sy extends ze{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Oa(i)&&(i.value=Object.freeze(i.value)),i);return kh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Sy.create=(t,e)=>new Sy({innerType:t,typeName:Ie.ZodReadonly,...Fe(e)});var Ie;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ie||(Ie={}));const ht=ss.create,bt=Da.create,c2=yy.create,ra=vy.create;yi.create;const Sr=Rr.create,rr=kt.create;jh.create;Ch.create;lo.create;const u2=Eh.create;La.create;Ph.create;li.create;$a.create;const lW=rr({id:bt(),title:ht().optional(),name:ht().optional(),poster_path:ht().nullable().optional(),backdrop_path:ht().nullable().optional(),release_date:ht().optional(),first_air_date:ht().optional(),genre_ids:Sr(bt()).optional(),media_type:ht().optional(),overview:ht().optional(),vote_average:bt().optional(),popularity:bt().optional(),adult:c2().optional()}).strip(),cW=rr({results:Sr(lW).optional()}).strip(),uW=rr({id:bt(),title:ht().optional(),name:ht().optional(),poster_path:ht().nullable().optional(),backdrop_path:ht().nullable().optional(),release_date:ht().optional(),first_air_date:ht().optional(),overview:ht().nullable().optional(),genres:Sr(rr({id:bt().optional(),name:ht().optional()})).optional(),vote_average:bt().optional(),popularity:bt().optional(),adult:c2().optional(),runtime:bt().nullable().optional(),episode_run_time:Sr(bt()).optional(),status:ht().optional(),videos:rr({results:Sr(ra()).optional()}).optional(),external_ids:rr({imdb_id:ht().nullable().optional()}).optional(),homepage:ht().nullable().optional(),tagline:ht().nullable().optional(),production_companies:Sr(ra()).optional(),credits:rr({cast:Sr(ra()).optional(),crew:Sr(ra()).optional()}).optional()}).strip(),dW=rr({provider_id:bt().optional(),provider_name:ht().optional(),logo_path:ht().nullable().optional(),display_priority:bt().optional(),monetization_type:ht().optional()}).strip();rr({platforms:Sr(dW).optional(),totalPlatforms:bt().optional(),affiliatePlatforms:bt().optional(),premiumPlatforms:bt().optional(),freePlatforms:bt().optional(),sources:u2(ra()).optional()}).strip();rr({results:u2(ra()).default({}),order:Sr(bt()).optional(),stats:rr({requested:bt().optional(),processed:bt().optional(),returned:bt().optional(),durationMs:bt().optional()}).optional()}).strip();function hW(t,e){return t.ok?t.data:e}function fW(t){return t.ok?t.data:void 0}function pW(t){return{id:t.id.toString(),title:t.title||t.name||"Untitled",poster:t.poster_path?`https://image.tmdb.org/t/p/w300${t.poster_path}`:null,year:(t.release_date||t.first_air_date||"").split("-")[0]||"",genres:t.genre_ids||[],type:t.media_type==="tv"||!t.title&&t.name?"tv":"movie",synopsis:t.overview||"",vote_average:t.vote_average||0,popularity:t.popularity||0,adult:t.adult||!1}}async function d2(t){if(!t.ok){const e=await t.text().catch(()=>"");throw new Error(`HTTP ${t.status} ${t.statusText} ${e}`)}return t.json()}function h2(t,e,n){const r=t.safeParse(e);if(!r.success)throw new Error(`Validation failed for ${n}: ${r.error.issues.map(i=>i.path.join(".")+" "+i.message).slice(0,5).join("; ")}`);return r.data}async function f2(t){try{if(!t||t.trim().length<2)return{ok:!0,data:[]};const e=await fetch(`/api/streaming/enhanced-search?query=${encodeURIComponent(t)}&type=multi`),n=await d2(e);return{ok:!0,data:(h2(cW,n,"searchShowsApi results").results||[]).map(l=>pW(l))}}catch(e){return{ok:!1,error:e}}}async function mW(t,e="movie"){var n,r,i,l,c,d,h,f,g,m,v,b;try{if(!t)throw new Error("Missing id");const k=await fetch(`/api/tmdb/${e}/${t}`),N=await d2(k),S=h2(uW,N,"fetchShowDetailsApi TMDB details");let _=null;try{const j=await fetch(`/api/streaming/comprehensive/${e}/${t}?title=${encodeURIComponent(S.title||S.name||"")}&imdbId=${((n=S.external_ids)==null?void 0:n.imdb_id)||""}`);j.ok&&(_=await j.json())}catch(j){console.warn("Failed to fetch streaming data:",j)}return{ok:!0,data:{id:S.id.toString(),title:S.title||S.name||"Untitled",poster:S.poster_path?`https://image.tmdb.org/t/p/w500${S.poster_path}`:null,backdrop:S.backdrop_path?`https://image.tmdb.org/t/p/w1280${S.backdrop_path}`:null,year:(S.release_date||S.first_air_date||"").split("-")[0]||"",genres:((r=S.genres)==null?void 0:r.map(j=>j.name))||[],vote_average:S.vote_average||0,synopsis:S.overview||"",popularity:S.popularity||0,adult:S.adult||!1,runtime:S.runtime||((i=S.episode_run_time)==null?void 0:i[0])||null,status:S.status||"",type:e,streaming:(_==null?void 0:_.platforms)||[],streamingStats:_?{totalPlatforms:_.totalPlatforms,affiliatePlatforms:_.affiliatePlatforms,premiumPlatforms:_.premiumPlatforms,freePlatforms:_.freePlatforms,sources:_.sources}:null,trailer:((d=(c=(l=S.videos)==null?void 0:l.results)==null?void 0:c.find(j=>j.type==="Trailer"&&j.site==="YouTube"))==null?void 0:d.key)||null,imdbId:((h=S.external_ids)==null?void 0:h.imdb_id)||null,homepage:S.homepage||null,tagline:S.tagline||null,productionCompanies:S.production_companies||[],cast:((g=(f=S.credits)==null?void 0:f.cast)==null?void 0:g.slice(0,10))||[],crew:((b=(v=(m=S.credits)==null?void 0:m.crew)==null?void 0:v.filter(j=>["Director","Producer","Executive Producer"].includes(j.job)))==null?void 0:b.slice(0,5))||[]}}}catch(k){return{ok:!1,error:k}}}function gW(t){const e=O9(t,300);return ci({queryKey:["search-shows",e],queryFn:async()=>hW(await f2(e),[]),enabled:!!e&&e.length>=2,staleTime:1e3*60*5,gcTime:1e3*60*10})}const se={primary:"#FF4F64",primaryLight:"#FF6B7D",secondaryLight:"#2A2A2A",accent:"#FFD369",background:"#0F0F0F",backgroundCard:"#1A1A1A",backgroundOverlay:"rgba(0, 0, 0, 0.6)",text:"#FFFFFF",textSecondary:"#B3B3B3",textMuted:"#666666",textDark:"#000000",success:"#4ADE80",info:"#3B82F6",focus:"rgba(255, 79, 100, 0.2)",border:"rgba(255, 255, 255, 0.1)",borderLight:"rgba(255, 255, 255, 0.2)"},Yl={primary:"linear-gradient(135deg, #FF4F64 0%, #E63946 100%)",accent:"linear-gradient(135deg, #FFD369 0%, #FFB627 100%)"},Nt={sm:"4px",md:"8px",lg:"12px",xl:"16px","2xl":"20px"},Zo={"2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",glow:"0 0 20px rgba(255, 79, 100, 0.3)",glowAccent:"0 0 20px rgba(255, 211, 105, 0.3)"},yW=y.forwardRef(function({results:e,loading:n,highlightedIndex:r,onHoverIndex:i,onChoose:l,onWatchTrailer:c,onAddToWatchlist:d,listboxId:h,optionIdForIndex:f},g){const m=y.useRef(null);y.useEffect(()=>(e.length>0||n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e.length,n]);const v=k=>{k.key==="ArrowDown"?(k.preventDefault(),i(Math.min(e.length-1,r+1))):k.key==="ArrowUp"?(k.preventDefault(),i(Math.max(0,r-1))):k.key==="Enter"?(k.preventDefault(),e[r]&&l(e[r])):k.key==="Escape"&&k.preventDefault()},b=()=>o.jsxs("div",{className:"p-4 space-y-4","data-testid":"loading-skeleton",role:"status","aria-live":"polite",children:[o.jsx("div",{className:"text-center text-sm font-medium",style:{color:se.textSecondary},children:"Searching BingeBoard..."}),[...Array(4)].map((k,N)=>o.jsxs("div",{className:"flex gap-4 animate-pulse",children:[o.jsx("div",{className:"rounded-md",style:{width:56,height:80,backgroundColor:se.secondaryLight}}),o.jsxs("div",{className:"flex flex-col flex-1 space-y-2",children:[o.jsx("div",{className:"h-5 rounded w-3/4",style:{backgroundColor:se.secondaryLight}}),o.jsx("div",{className:"h-3 rounded w-1/4",style:{backgroundColor:se.secondaryLight}}),o.jsx("div",{className:"h-3 rounded w-full max-w-sm",style:{backgroundColor:se.secondaryLight}})]})]},N))]});return o.jsx(Ra,{children:(n||e.length>0)&&o.jsxs(Te.div,{ref:k=>{m.current=k,typeof g=="function"?g(k):g&&typeof g=="object"&&(g.current=k)},tabIndex:0,role:"listbox",id:h,"aria-label":"Search Results","aria-activedescendant":f?f(r):`result-${r}`,onKeyDown:v,initial:{opacity:0,y:-8,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 mt-3 w-full max-w-xl overflow-hidden max-h-[26rem] md:max-h-[30rem]",style:{background:`${se.backgroundCard}dd`,backdropFilter:"blur(20px)",border:`1px solid ${se.borderLight}`,borderRadius:Nt["2xl"],boxShadow:Zo["2xl"],outline:"none",WebkitOverflowScrolling:"touch"},children:[n&&o.jsx(b,{}),!n&&e.length===0&&o.jsxs("div",{className:"p-8 text-center text-sm font-medium",role:"alert","aria-live":"polite",style:{color:se.textMuted},children:[o.jsx("div",{className:"mb-3",children:o.jsx("div",{className:"w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-4",style:{backgroundColor:se.secondaryLight},children:o.jsx(At,{className:"w-8 h-8",style:{color:se.textMuted}})})}),o.jsx("p",{style:{color:se.textSecondary},children:"No results found"}),o.jsx("p",{className:"text-xs mt-1",style:{color:se.textMuted},children:"Try searching for a different show or movie"})]}),o.jsx("div",{className:"max-h-[22rem] overflow-y-auto",style:{scrollBehavior:"smooth"},children:e.map((k,N)=>{const S=N===r;return o.jsxs(Te.div,{id:f?f(N):`result-${N}`,role:"option","aria-selected":S,tabIndex:S?0:-1,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.05,duration:.3},onMouseEnter:()=>i(N),onFocus:()=>i(N),onClick:()=>l(k),className:"w-full cursor-pointer text-left flex gap-4 items-start p-4 transition-all duration-300 group relative overflow-hidden",style:{background:S?`linear-gradient(135deg, ${se.primary}20 0%, ${se.primaryLight}10 100%)`:"transparent",borderLeft:S?`4px solid ${se.primary}`:"4px solid transparent",outline:"none"},onKeyDown:_=>{(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),l(k))},children:[S&&o.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 opacity-30",style:{background:Yl.primary,filter:"blur(20px)",zIndex:0},"aria-hidden":"true"}),o.jsxs("div",{className:"relative flex-shrink-0 overflow-hidden shadow-lg",children:[o.jsx("img",{src:k.poster||"/placeholder.png",alt:k.title,className:"w-14 h-20 object-cover transition-transform duration-300 group-hover:scale-105",style:{borderRadius:Nt.md},onError:_=>{_.currentTarget.src="/placeholder.png"}}),o.jsx(Te.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute inset-0 flex items-center justify-center",style:{background:se.backgroundOverlay,borderRadius:Nt.md},"aria-hidden":"true",children:o.jsx(At,{className:"w-6 h-6",style:{color:se.primary},fill:"currentColor"})})]}),o.jsxs("div",{className:"flex-1 min-w-0 relative z-10 select-none",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[o.jsx("h4",{className:"font-semibold text-base leading-tight truncate transition-colors duration-200",style:{color:se.text,textShadow:S?`0 0 10px ${se.primary}40`:"none"},children:k.title}),k.type&&o.jsx("span",{className:"px-2 py-1 text-xs font-medium uppercase tracking-wide flex-shrink-0",style:{backgroundColor:k.type==="movie"?se.accent:se.info,color:se.textDark,borderRadius:Nt.sm},children:k.type})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs mb-2",style:{color:se.textSecondary},children:[k.year&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Ga,{className:"w-3 h-3"}),k.year]}),k.vote_average&&k.vote_average>0&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Rt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400","aria-label":`Rating: ${k.vote_average.toFixed(1)}`}),k.vote_average.toFixed(1)]})]}),k.synopsis&&o.jsx("p",{className:"text-xs line-clamp-2 leading-relaxed transition-colors duration-200 mb-3",style:{color:S?se.textSecondary:se.textMuted},children:k.synopsis.length>120?`${k.synopsis.slice(0,120)}...`:k.synopsis}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{type:"button",onClick:_=>{_.stopPropagation(),c(k)},className:"flex items-center gap-1 text-xs font-semibold px-2 py-1 rounded transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-pink-500",style:{color:se.primary,backgroundColor:`${se.primary}15`,border:`1px solid ${se.primary}30`},"aria-label":`Watch trailer for ${k.title}`,children:[o.jsx(Mg,{className:"w-3 h-3"}),"Trailer"]}),o.jsxs("button",{type:"button",onClick:_=>{_.stopPropagation(),d(k)},className:"flex items-center gap-1 text-xs font-semibold px-2 py-1 rounded transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-yellow-400",style:{color:se.accent,backgroundColor:`${se.accent}15`,border:`1px solid ${se.accent}30`},"aria-label":`Add ${k.title} to watchlist`,children:[o.jsx(ds,{className:"w-3 h-3"}),"Watchlist"]})]})]}),o.jsx(Te.div,{initial:{scale:0},animate:{scale:S?1:0},className:"absolute right-4 top-1/2 transform -translate-y-1/2 rounded-full",style:{backgroundColor:se.primary,width:8,height:8},"aria-hidden":"true"})]},k.id)})}),e.length>0&&o.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"px-4 py-3 text-xs border-t select-none",style:{color:se.textMuted,borderColor:se.border,background:`${se.backgroundCard}80`},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Use  to navigate"}),o.jsx("span",{children:"Press Enter to select"})]})})]})})});function vW(t){const e=xW(t),n=y.forwardRef((r,i)=>{const{children:l,...c}=r,d=y.Children.toArray(l),h=d.find(bW);if(h){const f=h.props.children,g=d.map(m=>m===h?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:m);return o.jsx(e,{...c,ref:i,children:y.isValidElement(f)?y.cloneElement(f,void 0,g):null})}return o.jsx(e,{...c,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}function xW(t){const e=y.forwardRef((n,r)=>{const{children:i,...l}=n;if(y.isValidElement(i)){const c=NW(i),d=SW(l,i.props);return i.type!==y.Fragment&&(d.ref=r?vi(r,c):c),y.cloneElement(i,d)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wW=Symbol("radix.slottable");function bW(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wW}function SW(t,e){const n={...e};for(const r in e){const i=t[r],l=e[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function NW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bf="Dialog",[p2]=Un(bf),[kW,hr]=p2(bf),m2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,d=y.useRef(null),h=y.useRef(null),[f,g]=xi({prop:r,defaultProp:i??!1,onChange:l,caller:bf});return o.jsx(kW,{scope:e,triggerRef:d,contentRef:h,contentId:Xi(),titleId:Xi(),descriptionId:Xi(),open:f,onOpenChange:g,onOpenToggle:y.useCallback(()=>g(m=>!m),[g]),modal:c,children:n})};m2.displayName=bf;var g2="DialogTrigger",_W=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hr(g2,n),l=Ye(e,i.triggerRef);return o.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":g0(i.open),...r,ref:l,onClick:ye(t.onClick,i.onOpenToggle)})});_W.displayName=g2;var p0="DialogPortal",[jW,y2]=p2(p0,{forceMount:void 0}),v2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,l=hr(p0,e);return o.jsx(jW,{scope:e,forceMount:n,children:y.Children.map(r,c=>o.jsx(ur,{present:n||l.open,children:o.jsx(Uh,{asChild:!0,container:i,children:c})}))})};v2.displayName=p0;var Th="DialogOverlay",x2=y.forwardRef((t,e)=>{const n=y2(Th,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,l=hr(Th,t.__scopeDialog);return l.modal?o.jsx(ur,{present:r||l.open,children:o.jsx(EW,{...i,ref:e})}):null});x2.displayName=Th;var CW=vW("DialogOverlay.RemoveScroll"),EW=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hr(Th,n);return o.jsx(pv,{as:CW,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx($e.div,{"data-state":g0(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),co="DialogContent",w2=y.forwardRef((t,e)=>{const n=y2(co,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,l=hr(co,t.__scopeDialog);return o.jsx(ur,{present:r||l.open,children:l.modal?o.jsx(PW,{...i,ref:e}):o.jsx(TW,{...i,ref:e})})});w2.displayName=co;var PW=y.forwardRef((t,e)=>{const n=hr(co,t.__scopeDialog),r=y.useRef(null),i=Ye(e,n.contentRef,r);return y.useEffect(()=>{const l=r.current;if(l)return AC(l)},[]),o.jsx(b2,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,l=>l.preventDefault())})}),TW=y.forwardRef((t,e)=>{const n=hr(co,t.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return o.jsx(b2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),l.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:l=>{var h,f;(h=t.onInteractOutside)==null||h.call(t,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;((f=n.triggerRef.current)==null?void 0:f.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),b2=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=t,d=hr(co,n),h=y.useRef(null),f=Ye(e,h);return SC(),o.jsxs(o.Fragment,{children:[o.jsx(fv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:o.jsx(Mc,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":g0(d.open),...c,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(RW,{titleId:d.titleId}),o.jsx(IW,{contentRef:h,descriptionId:d.descriptionId})]})]})}),m0="DialogTitle",S2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hr(m0,n);return o.jsx($e.h2,{id:i.titleId,...r,ref:e})});S2.displayName=m0;var N2="DialogDescription",k2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hr(N2,n);return o.jsx($e.p,{id:i.descriptionId,...r,ref:e})});k2.displayName=N2;var _2="DialogClose",j2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hr(_2,n);return o.jsx($e.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>i.onOpenChange(!1))})});j2.displayName=_2;function g0(t){return t?"open":"closed"}var C2="DialogTitleWarning",[bG,E2]=KI(C2,{contentName:co,titleName:m0,docsSlug:"dialog"}),RW=({titleId:t})=>{const e=E2(C2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},AW="DialogDescriptionWarning",IW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${E2(AW).contentName}}.`;return y.useEffect(()=>{var l;const i=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},MW=m2,OW=v2,P2=x2,T2=w2,R2=S2,A2=k2,DW=j2;const DN=MW,LW=OW,I2=y.forwardRef(({className:t,...e},n)=>o.jsx(P2,{ref:n,className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));I2.displayName=P2.displayName;const Ny=y.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(LW,{children:[o.jsx(I2,{}),o.jsxs(T2,{ref:r,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(DW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(gs,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ny.displayName=T2.displayName;const Vd=({className:t,...e})=>o.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Vd.displayName="DialogHeader";const zd=y.forwardRef(({className:t,...e},n)=>o.jsx(R2,{ref:n,className:De("text-lg font-semibold leading-none tracking-tight",t),...e}));zd.displayName=R2.displayName;const FW=y.forwardRef(({className:t,...e},n)=>o.jsx(A2,{ref:n,className:De("text-sm text-muted-foreground",t),...e}));FW.displayName=A2.displayName;const M2=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,LN=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,FN=/\.(m3u8)($|\?)/i,$W=/\.(mpd)($|\?)/i,UW=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,BW=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,VW=/vimeo\.com\/(?!progressive_redirect).+/,zW=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,WW=/open\.spotify\.com\/(\w+)\/(\w+)/i,HW=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,GW=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,sc=(t,e)=>{if(Array.isArray(t)){for(const n of t)if(typeof n=="string"&&sc(n,e)||sc(n.src,e))return!0;return!1}return e(t)},vr={html:t=>sc(t,e=>M2.test(e)||LN.test(e)),hls:t=>sc(t,e=>FN.test(e)),dash:t=>sc(t,e=>$W.test(e)),mux:t=>UW.test(t),youtube:t=>BW.test(t),vimeo:t=>VW.test(t)&&!LN.test(t)&&!FN.test(t),wistia:t=>zW.test(t),spotify:t=>WW.test(t),twitch:t=>HW.test(t),tiktok:t=>GW.test(t)},KW=Ze.forwardRef((t,e)=>{const n=M2.test(`${t.src}`)?"audio":"video";return Ze.createElement(n,{...t,ref:e},t.children)});var qW=KW;const YW=[{key:"hls",name:"hls.js",canPlay:vr.hls,canEnablePIP:()=>!0,player:y.lazy(()=>yt(()=>import("./react-CxaGRSq5.js"),__vite__mapDeps([0,1,2])))},{key:"dash",name:"dash.js",canPlay:vr.dash,canEnablePIP:()=>!0,player:y.lazy(()=>yt(()=>import("./react-CZXRBl7M.js"),__vite__mapDeps([3,1])))},{key:"mux",name:"Mux",canPlay:vr.mux,canEnablePIP:()=>!0,player:y.lazy(()=>yt(()=>import("./index-onKJ7-KF.js"),__vite__mapDeps([4,2,1])))},{key:"youtube",name:"YouTube",canPlay:vr.youtube,player:y.lazy(()=>yt(()=>import("./react-B63wjhwX.js"),[]))},{key:"vimeo",name:"Vimeo",canPlay:vr.vimeo,player:y.lazy(()=>yt(()=>import("./react-2tjNpFFI.js"),[]))},{key:"wistia",name:"Wistia",canPlay:vr.wistia,canEnablePIP:()=>!0,player:y.lazy(()=>yt(()=>import("./react-BXwF_Fvq.js"),[]))},{key:"spotify",name:"Spotify",canPlay:vr.spotify,canEnablePIP:()=>!1,player:y.lazy(()=>yt(()=>import("./react-B8jLANEW.js"),[]))},{key:"twitch",name:"Twitch",canPlay:vr.twitch,canEnablePIP:()=>!1,player:y.lazy(()=>yt(()=>import("./react-CxKrArXb.js"),[]))},{key:"tiktok",name:"TikTok",canPlay:vr.tiktok,canEnablePIP:()=>!1,player:y.lazy(()=>yt(()=>import("./react-c9UaidW0.js"),[]))},{key:"html",name:"html",canPlay:vr.html,canEnablePIP:()=>!0,player:qW}];var ky=YW;const QW={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},O2=Ze.forwardRef((t,e)=>{const{playing:n,pip:r}=t,i=t.activePlayer,l=y.useRef(null),c=y.useRef(!0);y.useEffect(()=>{var m,v;l.current&&(l.current.paused&&n===!0&&l.current.play(),!l.current.paused&&n===!1&&l.current.pause(),l.current.playbackRate=(m=t.playbackRate)!=null?m:1,l.current.volume=(v=t.volume)!=null?v:1)}),y.useEffect(()=>{var m,v,b,k,N;if(!(!l.current||!globalThis.document)){if(r&&!document.pictureInPictureElement)try{(v=(m=l.current).requestPictureInPicture)==null||v.call(m)}catch{}if(!r&&document.pictureInPictureElement)try{(k=(b=l.current).exitPictureInPicture)==null||k.call(b),(N=document.exitPictureInPicture)==null||N.call(document)}catch{}}},[r]);const d=m=>{var v,b;c.current=!0,(v=t.onReady)==null||v.call(t),(b=t.onLoadStart)==null||b.call(t,m)},h=m=>{var v,b;c.current&&(c.current=!1,(v=t.onStart)==null||v.call(t,m)),(b=t.onPlay)==null||b.call(t,m)};if(!i)return null;const f={},g=["onReady","onStart"];for(const m in t)m.startsWith("on")&&!g.includes(m)&&(f[m]=t[m]);return Ze.createElement(i,{...f,style:t.style,className:t.className,slot:t.slot,ref:y.useCallback(m=>{l.current=m,typeof e=="function"?e(m):e!==null&&(e.current=m)},[e]),src:t.src,crossOrigin:t.crossOrigin,preload:t.preload,controls:t.controls,muted:t.muted,autoPlay:t.autoPlay,loop:t.loop,playsInline:t.playsInline,config:t.config,onLoadStart:d,onPlay:h},t.children)});O2.displayName="Player";var ZW=O2;const XW=y.lazy(()=>yt(()=>import("./Preview-D1hfF1T6.js"),[])),$l=[],JW=(t,e)=>{const n=i=>{for(const l of[...$l,...t])if(i&&l.canPlay(i))return l;return e||null},r=Ze.forwardRef((i,l)=>{const c={...QW,...i},{src:d,slot:h,className:f,style:g,width:m,height:v,fallback:b,wrapper:k}=c,[N,S]=y.useState(!!c.light);y.useEffect(()=>{c.light?S(!0):S(!1)},[c.light]);const _=O=>{var R;S(!1),(R=c.onClickPreview)==null||R.call(c,O)},E=O=>{if(!O)return null;const{light:R,playIcon:T,previewTabIndex:I,oEmbedUrl:$,previewAriaLabel:Y}=c;return Ze.createElement(XW,{src:O,light:R,playIcon:T,previewTabIndex:I,previewAriaLabel:Y,oEmbedUrl:$,onClickPreview:_})},j=O=>{var R,T;const I=n(O);if(!I)return null;const{style:$,width:Y,height:W,wrapper:Z}=c,Q=(R=c.config)==null?void 0:R[I.key];return Ze.createElement(ZW,{...c,ref:l,activePlayer:(T=I.player)!=null?T:I,slot:Z?void 0:h,className:Z?void 0:f,style:Z?{display:"block",width:"100%",height:"100%"}:{display:"block",width:Y,height:W,...$},config:Q})},P=k??$N,A=b===!1?$N:y.Suspense;return Ze.createElement(P,{slot:h,className:f,style:{width:m,height:v,...g}},Ze.createElement(A,{fallback:b},N?E(d):j(d)))});return r.displayName="ReactPlayer",r.addCustomPlayer=i=>{$l.push(i)},r.removeCustomPlayers=()=>{$l.length=0},r.canPlay=i=>{if(i){for(const l of[...$l,...t])if(l.canPlay(i))return!0}return!1},r.canEnablePIP=i=>{var l;if(i){for(const c of[...$l,...t])if(c.canPlay(i)&&((l=c.canEnablePIP)!=null&&l.call(c)))return!0}return!1},r},$N=({children:t})=>t,eH=ky[ky.length-1];var tH=JW(ky,eH);function nH(t,e="movie"){return ci({queryKey:["show-details",t,e],queryFn:async()=>fW(await mW(t,e)),enabled:!!t,staleTime:1e3*60*10,gcTime:1e3*60*30})}const D2=({platforms:t,compact:e=!1,className:n})=>{if(!t||t.length===0)return null;const r=e?t.slice(0,3):t;return o.jsxs("div",{className:`streaming-platforms ${n||""}`.trim(),children:[r.map(i=>o.jsxs("div",{className:"platform-badge",children:[o.jsx("span",{className:"platform-name",children:i.provider_name}),i.affiliate_supported&&o.jsx("span",{className:"affiliate-badge",title:"Affiliate supported",children:""})]},i.provider_id)),e&&t.length>3&&o.jsxs("span",{className:"more-platforms",children:["+",t.length-3," more"]})]})};function rH({showId:t,showType:e="movie",open:n,onClose:r,onAddToWatchlist:i,onWatchNow:l}){var P;const[c,d]=y.useState(!1),[h,f]=y.useState(!1),g=uo(),{data:m,isLoading:v}=nH(t,e),b=lc({mutationFn:async A=>{f(!0);const O=await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({showId:A})});if(!O.ok)throw new Error("Failed to add to watchlist");return O.json()},onMutate:async A=>{await g.cancelQueries({queryKey:["watchlist"]});const O=g.getQueryData(["watchlist"]);return g.setQueryData(["watchlist"],R=>[...R||[],{id:A,pending:!0,title:m==null?void 0:m.title}]),{previousWatchlist:O}},onError:(A,O,R)=>{g.setQueryData(["watchlist"],R==null?void 0:R.previousWatchlist)},onSettled:()=>{f(!1),g.invalidateQueries({queryKey:["watchlist"]})}}),k=()=>{m&&(b.mutate(parseInt(m.id)),i==null||i(parseInt(m.id)))},{data:N,isLoading:S}=Ev(m?m.id:null,e,m==null?void 0:m.title),_=()=>{d(!0)},E=()=>{m&&(l==null||l(m))},j=t?`show-${t}-description`:"show-generic-description";return o.jsx(DN,{open:n,onOpenChange:()=>r(),children:o.jsxs(Ny,{className:"max-w-6xl p-0 border-0 overflow-hidden",style:{backgroundColor:se.background,borderRadius:Nt["2xl"],boxShadow:Zo["2xl"]},"aria-describedby":j,children:[o.jsx(Ra,{children:v||!m?o.jsxs(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-12 text-center",children:[o.jsx(Vd,{children:o.jsx(zd,{className:"sr-only",children:"Loading show details"})}),o.jsx("div",{className:"animate-spin w-12 h-12 border-4 rounded-full mx-auto mb-6",style:{borderColor:se.primary,borderTopColor:"transparent"}}),o.jsx("p",{style:{color:se.textSecondary},children:"Loading show details..."})]}):o.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.4,ease:"easeOut"},children:[m.backdrop&&o.jsxs("div",{className:"relative h-80 bg-cover bg-center",style:{backgroundImage:`url(${m.backdrop})`,borderRadius:`${Nt["2xl"]} ${Nt["2xl"]} 0 0`},children:[o.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(to bottom, transparent 0%, ${se.background}40 50%, ${se.background} 100%)`,borderRadius:`${Nt["2xl"]} ${Nt["2xl"]} 0 0`}}),o.jsx(Te.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2},onClick:r,className:"absolute top-6 right-6 p-2 rounded-full transition-all duration-200 z-10",style:{backgroundColor:`${se.background}80`,backdropFilter:"blur(10px)",border:`1px solid ${se.border}`},children:o.jsx(gs,{className:"w-6 h-6",style:{color:se.text}})}),o.jsxs(Te.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"absolute bottom-8 left-8 right-8",children:[o.jsxs(Vd,{children:[o.jsxs(zd,{className:"text-4xl font-bold mb-4",style:{color:se.text,textShadow:`0 2px 10px ${se.background}80`},children:[m.title,m.year&&o.jsxs("span",{className:"text-2xl font-normal ml-3",style:{color:se.textSecondary},children:["(",m.year,")"]})]}),o.jsx("p",{id:j,className:"sr-only",children:m.synopsis||"Show details dialog"})]}),o.jsxs("div",{className:"flex items-center gap-6 text-lg",children:[m.vote_average>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rt,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),o.jsx("span",{style:{color:se.text,fontWeight:600},children:m.vote_average.toFixed(1)})]}),m.runtime&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(oo,{className:"w-5 h-5",style:{color:se.textSecondary}}),o.jsxs("span",{style:{color:se.textSecondary},children:[m.runtime," min"]})]}),m.year&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ga,{className:"w-5 h-5",style:{color:se.textSecondary}}),o.jsx("span",{style:{color:se.textSecondary},children:m.year})]})]})]})]}),o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[!m.backdrop&&o.jsx(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.3},className:"lg:col-span-1",children:o.jsx("img",{src:m.poster||"/placeholder.png",alt:m.title,className:"w-full h-auto object-cover shadow-2xl",style:{borderRadius:Nt.xl},onError:A=>{A.currentTarget.src="/placeholder.png"}})}),o.jsxs("div",{className:`${m.backdrop?"lg:col-span-3":"lg:col-span-2"} space-y-6`,children:[!m.backdrop&&o.jsx(Vd,{children:o.jsxs(zd,{className:"text-3xl font-bold",style:{color:se.text},children:[m.title,m.year&&o.jsxs("span",{className:"text-xl font-normal ml-3",style:{color:se.textSecondary},children:["(",m.year,")"]})]})}),o.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:o.jsx("p",{className:"text-lg leading-relaxed",style:{color:se.textSecondary},children:m.synopsis})}),Array.isArray(m.genres)&&m.genres.length>0&&o.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},className:"flex flex-wrap gap-3",children:m.genres.map(A=>o.jsx(Be,{variant:"secondary",className:"px-3 py-1 text-sm font-medium",style:{backgroundColor:se.secondaryLight,color:se.text,border:`1px solid ${se.border}`,borderRadius:Nt.lg},children:A},A))}),o.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.3},className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs(le,{size:"lg",className:"gap-3 text-lg font-semibold px-8 py-4 transition-all duration-200 hover:scale-105",style:{background:Yl.primary,color:se.text,borderRadius:Nt.xl,boxShadow:Zo.glow},onClick:_,children:[o.jsx(At,{className:"w-5 h-5",fill:"currentColor"}),"Watch Trailer"]}),o.jsxs(le,{size:"lg",variant:"secondary",className:"gap-3 text-lg font-semibold px-8 py-4 transition-all duration-200 hover:scale-105",style:{backgroundColor:se.backgroundCard,color:se.text,border:`1px solid ${se.border}`,borderRadius:Nt.xl},onClick:k,disabled:h,children:[h?o.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):o.jsx(hi,{className:"w-5 h-5"}),h?"Adding...":"Add to Watchlist"]}),o.jsxs(le,{size:"lg",variant:"outline",className:"gap-3 text-lg font-semibold px-8 py-4 transition-all duration-200 hover:scale-105",style:{borderColor:se.border,color:se.textSecondary,borderRadius:Nt.xl},onClick:E,children:[o.jsx(Zl,{className:"w-5 h-5"}),"Watch Now"]})]}),m.streaming&&m.streaming.length>0&&o.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.3},className:"pt-6 border-t",style:{borderColor:se.border},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-lg font-semibold",style:{color:se.text},children:"Available on"}),m.streamingStats&&o.jsxs("div",{className:"flex gap-2 text-xs",children:[o.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:se.success+"20",color:se.success},children:[m.streamingStats.freePlatforms," Free"]}),o.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:se.accent+"20",color:se.accent},children:[m.streamingStats.affiliatePlatforms," Affiliate"]})]})]}),o.jsx(D2,{platforms:m.streaming}),((P=m.streamingStats)==null?void 0:P.sources)&&o.jsx("div",{className:"mt-3 text-xs text-center",children:o.jsxs("span",{style:{color:se.textMuted},children:["Data from: ",Object.entries(m.streamingStats.sources).filter(([A,O])=>O).map(([A])=>A.toUpperCase()).join(", ")]})})]})]})]})})]})}),o.jsx(DN,{open:c,onOpenChange:d,children:o.jsx(Ny,{className:"max-w-4xl p-0 border-0",style:{backgroundColor:se.background,borderRadius:Nt.xl},children:o.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative aspect-video",children:[S&&o.jsx("div",{className:"flex items-center justify-center h-full",style:{backgroundColor:se.backgroundCard},children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-current border-t-transparent rounded-full animate-spin mx-auto mb-4",style:{color:se.primary}}),o.jsx("p",{style:{color:se.textSecondary},children:"Loading trailer..."})]})}),!S&&(N!=null&&N.primaryTrailer)?Ze.createElement(tH,{url:N.primaryTrailer.url,playing:!0,controls:!0,width:"100%",height:"100%",style:{borderRadius:Nt.xl},config:{youtube:{playerVars:{modestbranding:1,rel:0}}}}):!S&&o.jsx("div",{className:"flex items-center justify-center h-full",style:{backgroundColor:se.backgroundCard},children:o.jsxs("div",{className:"text-center",children:[o.jsx(At,{className:"w-16 h-16 mx-auto mb-4",style:{color:se.textMuted}}),o.jsx("p",{style:{color:se.textSecondary},children:"No trailer available for this title"})]})}),o.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"absolute bottom-4 left-4 right-4",children:m!=null&&m.streaming&&m.streaming.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:m.streaming.slice(0,2).map((A,O)=>o.jsxs(le,{size:"lg",className:"gap-3 text-base font-semibold py-3",style:{background:O===0?Yl.accent:Yl.primary,color:se.textDark,borderRadius:Nt.xl,boxShadow:O===0?Zo.glowAccent:Zo.glow},onClick:()=>{A.web_url?window.open(A.web_url,"_blank"):E()},children:[A.logo_path?o.jsx("img",{src:A.logo_path.startsWith("http")?A.logo_path:`https://image.tmdb.org/t/p/w92${A.logo_path}`,alt:A.provider_name,className:"w-5 h-5 object-contain"}):o.jsx(Zl,{className:"w-5 h-5"}),"Watch on ",A.provider_name,A.affiliate_supported&&o.jsx("span",{className:"text-xs opacity-75",children:"(Earn rewards)"})]},A.provider_id||O))}):o.jsxs(le,{size:"lg",className:"w-full gap-3 text-lg font-semibold py-4",style:{background:Yl.accent,color:se.textDark,borderRadius:Nt.xl,boxShadow:Zo.glowAccent},onClick:E,children:[o.jsx(Zl,{className:"w-5 h-5"}),"Find Where to Watch"]})})]})})})]})})}function UN({placeholder:t="Search shows, movies, people...",className:e="",onAddToWatchlist:n,onWatchNow:r}){const[i,l]=y.useState(""),[c,d]=y.useState(!1),[h,f]=y.useState(0),[g,m]=y.useState(null),[v,b]=y.useState("movie"),[k,N]=y.useState(!1),[S,_]=y.useState(!1),E=y.useRef(null),j=y.useRef(null),P=uo(),A=y.useId(),O=`${A}-search-results`,R=`${A}-search-input`,T=`${A}-search-status`,I=`${A}-search-instructions`,$=G=>`${O}-option-${G}`,[Y,W]=y.useState(""),{data:Z=[],isFetching:Q}=gW(i);y.useEffect(()=>{f(0),Z.length>0?W(`${Z.length} result${Z.length===1?"":"s"} available. Use up and down arrow keys to navigate.`):i.trim().length>=2?W("No results."):W("")},[Z,i]),y.useEffect(()=>{const G=me=>{j.current&&!j.current.contains(me.target)&&(d(!1),_(!1))};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);function ue(G){var me;if(G.key==="Escape"){d(!1),_(!1),(me=E.current)==null||me.blur();return}if(!(!Z||Z.length===0))switch(G.key){case"ArrowDown":G.preventDefault(),f(Re=>Math.min(Re+1,Z.length-1)),d(!0);break;case"ArrowUp":G.preventDefault(),f(Re=>Math.max(Re-1,0)),d(!0);break;case"Home":G.preventDefault(),f(0);break;case"End":G.preventDefault(),f(Z.length-1);break;case"PageDown":G.preventDefault(),f(Re=>Math.min(Re+5,Z.length-1));break;case"PageUp":G.preventDefault(),f(Re=>Math.max(Re-5,0));break;case"Enter":G.preventDefault();const _e=Z[h];_e?ce(_e.id,_e.type||"movie"):i.trim()&&(window.location.href=`/search?query=${encodeURIComponent(i.trim())}`,d(!1));break}}function ce(G,me="movie"){m(G),b(me),N(!0),d(!1),P.prefetchQuery({queryKey:["show-details",G,me],queryFn:()=>fetch(`/api/tmdb/${me}/${G}`).then(_e=>_e.json()),staleTime:1e3*60*10})}function ie(G){const me=G.target.value;l(me),d(!!me.trim())}function V(){_(!0),i.trim()&&d(!0)}const B=G=>{ce(G.id,G.type||"movie")},X=G=>{n&&G.id&&n(G.id)};function F(G){ce(G.id,G.type||"movie"),l("")}return o.jsxs("div",{ref:j,className:`relative w-full max-w-xl ${e}`,children:[o.jsxs(Te.div,{className:"relative",animate:{scale:S?1.02:1},transition:{duration:.2,ease:"easeOut"},children:[o.jsx(ja,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 z-10",size:18}),o.jsxs(Te.div,{className:"relative",style:{background:S?`linear-gradient(135deg, ${se.backgroundCard} 0%, ${se.secondaryLight} 100%)`:se.backgroundCard,borderRadius:Nt.xl,border:`1px solid ${S?se.primary:se.border}`,boxShadow:S?`0 0 20px ${se.focus}`:"none",transition:"all 0.3s ease"},children:[o.jsx(Jt,{ref:E,value:i,onChange:ie,onKeyDown:ue,onFocus:V,onBlur:()=>_(!1),placeholder:t,className:"pl-12 pr-4 py-3 bg-transparent border-0 text-white placeholder-slate-400 focus:ring-0 focus:outline-none",style:{borderRadius:Nt.xl,fontSize:"16px"},autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-controls":O,"aria-expanded":c,"aria-activedescendant":c&&Z.length>0?$(h):void 0,"aria-describedby":`${I} ${T}`,id:R}),Q&&o.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:o.jsx("div",{className:"w-4 h-4 border-2 rounded-full animate-spin",style:{borderColor:se.primary,borderTopColor:"transparent"}})})]})]}),c&&o.jsx(yW,{results:Z,loading:Q,highlightedIndex:h,listboxId:O,optionIdForIndex:$,onHoverIndex:G=>f(G),onChoose:F,onWatchTrailer:B,onAddToWatchlist:X}),o.jsx(rH,{showId:g,showType:v,open:k,onClose:()=>N(!1),onAddToWatchlist:n,onWatchNow:r}),g&&o.jsx("div",{className:"mt-4",children:(()=>{const G=Z.find(me=>me.id===g);return!G||!("streaming_platforms"in G)?null:o.jsx(D2,{platforms:G.streaming_platforms,compact:!0})})()}),o.jsx("div",{id:I,className:"sr-only",children:"Type to search. Results will update as you type."}),o.jsx("div",{id:T,className:"sr-only",role:"status","aria-live":"polite",children:Y})]})}function to(){var b,k;const[t,e]=cr(),{user:n,logout:r}=Nn(),[i,l]=y.useState(""),[c,d]=y.useState(!1);y.useEffect(()=>{d(!1)},[t]);const h=async()=>{try{console.log(" Navigation logout clicked"),await r(),console.log(" Redirecting to landing page immediately after logout"),e("/")}catch(N){console.error(" Navigation logout error:",N),e("/")}},f=()=>{e("/notifications")},g=async N=>{try{(await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({showId:N,status:"want_to_watch",tmdbId:N})})).ok&&console.log("Added to watchlist successfully")}catch(S){console.error("Failed to add to watchlist:",S)}},m=async N=>{const{getShowTitle:S,getStreamingPlatforms:_}=await yt(async()=>{const{getShowTitle:A,getStreamingPlatforms:O}=await import("./show-utils-Bz6NAtuJ.js");return{getShowTitle:A,getStreamingPlatforms:O}},[]),E=S(N),j=_(N),P=(A,O)=>{const R=encodeURIComponent(O);return{Netflix:`https://www.netflix.com/search?q=${R}`,"Disney+":`https://www.disneyplus.com/search?q=${R}`,Hulu:`https://www.hulu.com/search?q=${R}`,"Amazon Prime Video":`https://www.amazon.com/gp/video/search?phrase=${R}`,"HBO Max":`https://play.max.com/search?q=${R}`,"Apple TV+":`https://tv.apple.com/search?term=${R}`,"Paramount+":`https://www.paramountplus.com/search/?query=${R}`,Peacock:`https://www.peacocktv.com/search?q=${R}`}[A]||`https://www.netflix.com/search?q=${R}`};if(j&&j.length>0){const A=j[0],O=A.name||A.provider_name,R=P(O,E);window.open(R,"_blank")}else{const A=P("Netflix",E);window.open(A,"_blank")}},v=[{path:"/",label:"Dashboard",active:t==="/"},{path:"/discover",label:"Discover",active:t==="/discover"||t==="/upcoming"},{path:"/lists",label:"Lists",active:t==="/lists"},{path:"/friends",label:"Binge with Friends",active:t==="/friends"}];return o.jsx("nav",{className:"bg-black/95 backdrop-blur-lg border-b border-white/10 sticky top-0 z-50",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-8",children:[o.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-3 hover:scale-105 transition-transform",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-8 h-6 md:w-10 md:h-8 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:o.jsx("div",{className:"text-xs md:text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 md:w-3 h-1 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-3 md:w-5 h-1 bg-slate-600 rounded-sm"})]})}),o.jsxs("span",{className:"text-lg md:text-xl font-bold",children:[o.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent font-black",children:"Binge"}),o.jsx("span",{className:"text-white font-light ml-1",children:"Board"})]})]}),o.jsx("div",{className:"hidden md:flex space-x-1",children:v.map(N=>o.jsx("button",{onClick:()=>e(N.path),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${N.active?"bg-teal-500/20 text-teal-400 border border-teal-500/30":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:N.label},N.path))})]}),o.jsx("div",{className:"hidden sm:block flex-1 max-w-md mx-8",children:o.jsx(UN,{placeholder:"Search shows, movies...",onAddToWatchlist:g,onWatchNow:m})}),o.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[o.jsx(le,{variant:"ghost",size:"sm",onClick:()=>e("/discover"),className:"sm:hidden text-gray-300 hover:text-white hover:bg-white/5 p-2",children:o.jsx(ja,{className:"h-5 w-5"})}),o.jsx(le,{variant:"ghost",size:"sm",onClick:f,className:"text-gray-300 hover:text-white hover:bg-white/5 p-2",children:o.jsx(io,{className:"h-5 w-5"})}),o.jsxs(IE,{children:[o.jsx(ME,{asChild:!0,children:o.jsx(le,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:o.jsxs(fo,{className:"h-8 w-8",children:[o.jsx(po,{src:void 0,alt:(n==null?void 0:n.displayName)||"User"}),o.jsx(mo,{className:"bg-gradient-to-br from-teal-500 to-blue-500 text-white text-sm",children:((b=n==null?void 0:n.displayName)==null?void 0:b[0])||((k=n==null?void 0:n.email)==null?void 0:k[0])||"U"})]})})}),o.jsxs(Sv,{align:"end",className:"glass-effect border-white/20 bg-slate-900/95 text-white",children:[o.jsxs(ri,{onClick:()=>e("/profile"),className:"text-white hover:bg-white/10 focus:bg-white/10",children:[o.jsx(Qh,{className:"mr-2 h-4 w-4"}),"Profile"]}),o.jsxs(ri,{onClick:()=>e("/streaming"),className:"text-white hover:bg-white/10 focus:bg-white/10",children:[o.jsx(Yh,{className:"mr-2 h-4 w-4"}),"Settings"]}),o.jsxs(ri,{onClick:h,className:"text-white hover:bg-white/10 focus:bg-white/10",children:[o.jsx(G_,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),o.jsx(le,{variant:"ghost",size:"sm",onClick:()=>d(!c),className:"md:hidden text-gray-300 hover:text-white hover:bg-white/5 p-2",children:c?o.jsx(gs,{className:"h-5 w-5"}):o.jsx(MO,{className:"h-5 w-5"})})]})]}),c&&o.jsxs("div",{className:"md:hidden border-t border-white/10 py-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(UN,{placeholder:"Search shows, movies...",onAddToWatchlist:g,onWatchNow:m})}),o.jsx("div",{className:"space-y-2",children:v.map(N=>o.jsx("button",{onClick:()=>{e(N.path),d(!1)},className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors ${N.active?"bg-teal-500/20 text-teal-400 border border-teal-500/30":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:N.label},N.path))})]})]})})}const rg=({children:t,onClick:e,className:n="",variant:r="vertical"})=>{const i={vertical:"group cursor-pointer rounded-2xl bg-gradient-to-br from-slate-800/90 to-slate-900/90 border border-slate-700/50 hover:border-slate-500/50 shadow-xl hover:shadow-2xl transition-all duration-500 hover:scale-[1.02] overflow-visible",horizontal:"group cursor-pointer rounded-2xl bg-gradient-to-r from-slate-800/90 to-slate-900/90 border border-slate-700/50 hover:border-slate-500/50 shadow-xl hover:shadow-2xl transition-all duration-500 hover:scale-[1.01] overflow-visible",spotlight:"group cursor-pointer rounded-3xl bg-gradient-to-br from-slate-900/95 to-black/95 border border-slate-600/30 hover:border-slate-400/50 shadow-2xl hover:shadow-3xl transition-all duration-700 hover:scale-[1.01] overflow-hidden",compact:"group cursor-pointer rounded-xl bg-gradient-to-r from-slate-800/60 to-slate-900/60 border border-slate-700/30 hover:border-slate-500/50 shadow-lg hover:shadow-xl transition-all duration-400 hover:scale-[1.01] overflow-visible","spotlight-polished":"group cursor-pointer rounded-3xl bg-gradient-to-br from-slate-900/95 to-black/95 border border-slate-600/30 hover:border-slate-400/50 shadow-2xl hover:shadow-3xl transition-all duration-700 hover:scale-[1.01] overflow-hidden","vertical-polished":"group cursor-pointer rounded-2xl bg-gradient-to-br from-slate-800/90 to-slate-900/90 border border-slate-700/50 hover:border-slate-500/50 shadow-xl hover:shadow-2xl transition-all duration-500 hover:scale-[1.02] overflow-visible","spotlight-poster-backdrop":"group cursor-pointer rounded-3xl transition-all duration-700 hover:scale-[1.01] overflow-hidden"};return o.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onClick:e,className:`${i[r]} ${n}`,children:t})},Dn=({children:t,onClick:e,variant:n="secondary",size:r="md",className:i=""})=>{const l="transition-all duration-300 font-medium flex items-center justify-center gap-2 shadow-lg backdrop-blur-sm",c={primary:"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 hover:shadow-xl hover:scale-105 border border-blue-500/30",secondary:"bg-gradient-to-r from-slate-800/90 to-slate-700/90 text-white hover:from-slate-700/90 hover:to-slate-600/90 hover:shadow-xl hover:scale-105 border border-slate-500/30",floating:"bg-gradient-to-r from-black/80 to-slate-900/80 text-white hover:from-black/90 hover:to-slate-800/90 hover:shadow-2xl hover:scale-110 border border-white/10 backdrop-blur-md"},d={sm:"px-3 py-2 text-xs rounded-lg",md:"px-4 py-2.5 text-sm rounded-xl",lg:"px-6 py-3 text-base rounded-xl"};return o.jsx(Te.button,{whileHover:{scale:n==="floating"?1.1:1.05},whileTap:{scale:.95},onClick:e,className:`${l} ${c[n]} ${d[r]} ${i}`,children:t})},_y=({rating:t,className:e=""})=>o.jsxs(Te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:`inline-flex items-center px-2 py-1 rounded-full bg-gradient-to-r from-yellow-400/90 to-amber-500/90 backdrop-blur-sm shadow-lg border border-yellow-300/30 ${e}`,children:[o.jsx(Rt,{className:"w-3 h-3 mr-1 fill-yellow-900 text-yellow-900"}),o.jsx("span",{className:"text-xs font-semibold text-yellow-900",children:t})]}),sH=({posterUrl:t,backdropUrl:e,showRating:n=!0,rating:r,actions:i={watchNow:!0,trailer:!0,addToList:!0},onWatchNow:l,onAddToWatchlist:c,onWatchTrailer:d,firstStreamingLogo:h,showStreamingLogoInButton:f=!1,moveButtonsToBottom:g=!1,className:m="",variant:v="vertical"})=>{const b=v==null?void 0:v.includes("spotlight"),k=b?e:t,N=o.jsx(SO,{className:"w-12 h-12 text-slate-400"});return o.jsxs("div",{className:`relative w-full flex-shrink-0 ${m}`,children:[k?o.jsx(Te.img,{src:k,alt:"Media poster",className:"w-full h-full object-cover object-center rounded-t-2xl transition-transform duration-700 group-hover:scale-110",style:{aspectRatio:b?"16/9":"2/3",objectPosition:"center top"},loading:"lazy",whileHover:{scale:1.1},transition:{duration:.7}}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-700 to-slate-800 flex items-center justify-center rounded-t-2xl",style:{aspectRatio:b?"16/9":"2/3"},children:N}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-500 rounded-t-2xl"}),n&&r&&o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx(_y,{rating:r})}),h&&!f&&o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg p-1.5 shadow-lg border border-white/20",children:o.jsx("img",{src:h,alt:"Available on streaming platform",className:"w-6 h-6 rounded-sm object-contain"})})}),!g&&(i.watchNow||i.addToList||i.trailer)&&o.jsx(Te.div,{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 rounded-t-2xl",initial:{opacity:0},whileHover:{opacity:1},children:o.jsxs("div",{className:"flex gap-3 items-center justify-center",children:[i.watchNow&&o.jsxs(Dn,{variant:"floating",size:"md",onClick:S=>{S==null||S.stopPropagation(),l==null||l()},children:[o.jsx(At,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Watch"})]}),i.addToList&&o.jsxs(Dn,{variant:"floating",size:"md",onClick:S=>{S==null||S.stopPropagation(),c==null||c()},children:[o.jsx(ds,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Add"})]}),i.trailer&&o.jsxs(Dn,{variant:"floating",size:"md",onClick:S=>{S==null||S.stopPropagation(),d==null||d()},children:[o.jsx(z_,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Trailer"})]})]})})]})},iH=({title:t,year:e,genres:n=[],showReleaseDate:r=!1,showGenres:i=!1,showDescription:l=!1,description:c,config:d,className:h=""})=>o.jsx("div",{className:`${d.padding} flex-grow flex flex-col justify-between min-h-0 ${h}`,children:o.jsxs("div",{className:"space-y-2 flex-grow",children:[o.jsx("h3",{className:`${d.titleSize} font-bold text-white leading-tight line-clamp-2 group-hover:text-blue-300 transition-colors duration-300`,children:t}),r&&e&&o.jsx("p",{className:`${d.textSize} text-slate-400`,children:e}),i&&n.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1",children:n.map((f,g)=>o.jsx("span",{className:"px-2 py-1 bg-slate-700/70 text-slate-300 text-xs rounded-md backdrop-blur-sm",children:f},g))}),l&&c&&o.jsx("p",{className:`${d.textSize} text-slate-300 line-clamp-3 leading-relaxed`,children:c})]})}),oH=({actions:t={watchNow:!0,trailer:!0,addToList:!0},firstStreamingLogo:e,showStreamingLogoInButton:n=!1,onWatchNow:r,onAddToWatchlist:i,onWatchTrailer:l,className:c="",media:d})=>!t.watchNow&&!t.trailer&&!t.addToList?null:[t.watchNow,t.trailer,t.addToList].filter(Boolean).length===3?o.jsx("div",{className:`mt-3 pt-3 border-t border-slate-700/50 px-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ${c}`,children:o.jsxs("div",{className:"space-y-2",children:[t.watchNow&&o.jsxs(Dn,{size:"sm",variant:"primary",onClick:f=>{f==null||f.stopPropagation(),r==null||r()},className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-xs font-semibold",children:[o.jsx(At,{className:"w-3.5 h-3.5 flex-shrink-0"}),o.jsx("span",{children:"Watch"}),e&&n&&o.jsx("img",{src:e,alt:"Streaming",className:"w-4 h-4 rounded-sm bg-white/90 p-0.5 flex-shrink-0"})]}),o.jsxs("div",{className:"flex gap-2",children:[t.trailer&&d&&o.jsx(wc,{show:{id:d.id,tmdbId:d.id,title:d.title||d.name||"Unknown"},variant:"secondary",size:"sm",showLabel:!0,className:"flex-1 text-xs min-w-0"}),t.addToList&&o.jsxs(Dn,{size:"sm",variant:"secondary",onClick:f=>{f==null||f.stopPropagation(),i==null||i()},className:"flex-1 flex items-center justify-center gap-1.5 px-2 py-2 bg-slate-700 hover:bg-slate-600 border-slate-600 text-white min-w-0",children:[o.jsx(ds,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{className:"text-xs font-medium truncate",children:"Add"})]})]})]})}):o.jsx("div",{className:`mt-4 pt-4 border-t border-slate-700/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ${c}`,children:o.jsxs("div",{className:"flex gap-2 justify-center",children:[t.watchNow&&o.jsxs(Dn,{size:"sm",variant:"primary",onClick:f=>{f==null||f.stopPropagation(),r==null||r()},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 min-w-0",children:[o.jsx(At,{className:"w-3.5 h-3.5 flex-shrink-0"}),o.jsx("span",{className:"truncate text-xs font-medium",children:"Watch"})]}),t.trailer&&d&&o.jsx(wc,{show:{id:d.id,tmdbId:d.id,title:d.title||d.name||"Unknown"},variant:"secondary",size:"sm",showLabel:!0,className:"flex-1 text-xs"}),t.addToList&&o.jsxs(Dn,{size:"sm",variant:"secondary",onClick:f=>{f==null||f.stopPropagation(),i==null||i()},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-slate-700 hover:bg-slate-600 border-slate-600 text-white min-w-0",children:[o.jsx(ds,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{className:"truncate text-xs font-medium",children:"Add"})]})]})}),BN={vertical:{width:"w-full",height:"min-h-80",padding:"p-3",titleSize:"text-base",textSize:"text-sm",moveButtonsToBottom:!1,showOverlayButtons:!0},"vertical-polished":{width:"w-full",height:"min-h-96",padding:"p-4",titleSize:"text-lg",textSize:"text-base",moveButtonsToBottom:!0,showOverlayButtons:!1},horizontal:{width:"w-full",height:"h-48",padding:"p-3",titleSize:"text-md",textSize:"text-xs",moveButtonsToBottom:!1,showOverlayButtons:!0,layout:"horizontal"},spotlight:{width:"w-full",height:"h-96",padding:"p-6",titleSize:"text-3xl md:text-5xl",textSize:"text-sm md:text-base",moveButtonsToBottom:!1,showOverlayButtons:!1,layout:"spotlight"},"spotlight-polished":{width:"w-full",height:"h-96",padding:"p-6",titleSize:"text-4xl lg:text-5xl",textSize:"text-base",moveButtonsToBottom:!1,showOverlayButtons:!1,layout:"spotlight"},"spotlight-poster-backdrop":{width:"w-full",height:"h-96",padding:"p-6",titleSize:"text-3xl md:text-4xl lg:text-5xl",textSize:"text-base",moveButtonsToBottom:!1,showOverlayButtons:!1,layout:"spotlight-backdrop"},compact:{width:"w-full",height:"h-24",padding:"p-3",titleSize:"text-sm",textSize:"text-xs",moveButtonsToBottom:!1,showOverlayButtons:!1,layout:"compact"}},aH={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western",10759:"Action & Adventure",10762:"Kids",10763:"News",10764:"Reality",10765:"Sci-Fi & Fantasy",10766:"Soap",10767:"Talk",10768:"War & Politics"},lH={Netflix:"bg-red-600","Disney Plus":"bg-blue-600","Amazon Prime Video":"bg-blue-500","HBO Max":"bg-purple-600",Hulu:"bg-green-500","Apple TV Plus":"bg-black","Paramount Plus":"bg-blue-700",Peacock:"bg-purple-500",YouTube:"bg-red-500",Crunchyroll:"bg-orange-500"};function ic({providers:t=[],size:e="md",maxDisplayed:n=1}){if(!t||t.length===0)return null;const r={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-10 h-10"},i={sm:"text-xs",md:"text-sm",lg:"text-base"},l={Netflix:10,"Disney+":9,"Disney Plus":9,"Amazon Prime Video":8,"Prime Video":8,"Amazon Video":8,"Amazon Prime":8,"Amazon Prime Video with Ads":8,"HBO Max":7,Max:7,"Apple TV+":6,"Apple TV Plus":6,"Apple TV":6,Hulu:5,"Paramount+":4,"Paramount Plus":4,Peacock:3,Crunchyroll:2,"Discovery+":1,"Discovery Plus":1},c=new Set,h=t.filter(v=>{if(!v||!v.provider_name)return!1;let b=v.provider_name.toLowerCase().trim().replace(/\s+(with\s+ads?|standard|premium|plus|4k|uhd|hd).*$/i,"").replace(/\s+/g,"");return b.includes("amazon")||b.includes("prime")?b="amazon":b.includes("disney")?b="disney":b.includes("hbo")||b.includes("max")?b="hbo":b.includes("apple")?b="apple":b.includes("paramount")?b="paramount":b.includes("netflix")?b="netflix":b.includes("hulu")?b="hulu":b.includes("peacock")?b="peacock":b.includes("crunchyroll")?b="crunchyroll":b.includes("discovery")&&(b="discovery"),c.has(b)?!1:(c.add(b),!0)}).slice().sort((v,b)=>{const k=v.provider_name||"",N=b.provider_name||"",S=l[k]||0;return(l[N]||0)-S}),f=h.slice(0,Math.max(1,n)),g=Math.max(0,h.length-f.length),m=g>0;return o.jsxs("div",{className:"flex items-center gap-2",children:[f.map((v,b)=>{const k=hf(v.provider_name);return o.jsx("div",{className:`${r[e]} rounded-md overflow-hidden flex items-center justify-center bg-white p-1`,title:v.provider_name,children:o.jsx("img",{src:k,alt:v.provider_name,className:`${r[e]} object-contain`,onError:N=>{const S=N.target,_=S.parentElement;_&&!S.src.includes("data:image/svg")&&(_.innerHTML=`
                    <div class="${r[e]} ${lH[v.provider_name]||"bg-gray-600"} rounded-md flex items-center justify-center">
                      <span class="${i[e]} font-bold text-white">${v.provider_name.charAt(0)}</span>
                    </div>
                  `)}})},`${v.provider_id||b}-${v.provider_name}`)}),m&&o.jsxs("span",{className:"text-xs text-gray-400",children:["+",g," more"]})]})}const cH=({media:t,variant:e="vertical",size:n="md",actions:r={watchNow:!0,trailer:!0,addToList:!0},showStreamingLogos:i=!0,showSecondaryPoster:l=!1,showStreamingLogoInButton:c=!1,hideStreamingLogos:d=!1,streamingLogoInWatchNow:h=!1,moveButtonsToBottom:f=!1,showRating:g=!0,showGenres:m=!1,showReleaseDate:v=!1,showDescription:b=!1,onAddToWatchlist:k,onWatchTrailer:N,onCardClick:S,onShareContent:_,onWatchNow:E,genreMap:j=aH,className:P=""})=>{var V;const A=t.title||t.name||"Unknown Title",O=t.release_date||t.first_air_date,R=O?new Date(O).getFullYear():null,T=t.vote_average?Number(t.vote_average).toFixed(1):null,I=t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:null,$=t.backdrop_path?`https://image.tmdb.org/t/p/w1280${t.backdrop_path}`:null,W=(t.streaming_platforms||t.streamingPlatforms||t.streaming||[]).map(B=>({provider_id:B.provider_id||0,provider_name:B.provider_name||B.name||"Unknown",logo_path:B.logo_path})).filter(B=>B.provider_id>0),Z=((V=t.genre_ids)==null?void 0:V.slice(0,3).map(B=>j[B]).filter(Boolean))||[],Q=BN[e]||BN.vertical,ue=c&&W.length>0&&W[0].logo_path?W[0].logo_path.startsWith("http")?W[0].logo_path:`https://image.tmdb.org/t/p/w200${W[0].logo_path}`:null,ce=f||Q.moveButtonsToBottom,ie=()=>e==="spotlight-poster-backdrop"?o.jsxs(rg,{variant:e,className:`relative h-96 w-full ${P}`,onClick:()=>S==null?void 0:S(t),children:[$&&o.jsxs(Te.div,{initial:{scale:1.05,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1,ease:"easeOut"},className:"absolute inset-0 overflow-hidden",children:[o.jsx("img",{src:$,alt:A,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-black/30"})]}),o.jsxs(Te.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"relative z-10 h-full p-6 flex items-center gap-6",children:[I&&o.jsx(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.3},className:"flex-shrink-0",children:o.jsx("img",{src:I,alt:A,className:"w-32 md:w-40 lg:w-48 h-48 md:h-60 lg:h-72 object-cover rounded-2xl shadow-2xl border border-white/10"})}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white",children:A}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[v&&R&&o.jsx("p",{className:"text-gray-300",children:R}),m&&Z.length>0&&o.jsx("p",{className:"text-gray-300",children:Z.slice(0,3).join(", ")}),g&&T&&o.jsx(_y,{rating:T})]}),b&&t.overview&&o.jsx("p",{className:"text-gray-200 line-clamp-3 max-w-2xl",children:t.overview}),o.jsxs("div",{className:"flex gap-3 mt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[r.watchNow&&o.jsx(Dn,{variant:"primary",size:"lg",onClick:B=>{B==null||B.stopPropagation(),E==null||E(t)},className:"bg-teal-600 hover:bg-teal-700 text-white font-semibold",children:o.jsxs("div",{className:"flex items-center gap-2",children:[ue&&o.jsx("img",{src:ue,alt:"Streaming platform",className:"w-5 h-5 object-contain rounded-sm bg-white p-0.5"}),o.jsx(At,{className:"w-5 h-5"}),"Watch Now"]})}),r.trailer&&o.jsx(wc,{show:{id:t.id,tmdbId:t.id,title:A},variant:"secondary",size:"default",showLabel:!0,className:"min-w-24"}),r.addToList&&o.jsxs(Dn,{variant:"secondary",size:"lg",onClick:B=>{B==null||B.stopPropagation(),k==null||k(t)},children:[o.jsx(ds,{className:"w-5 h-5"}),"Add to List"]})]})]})]})]}):o.jsxs(rg,{variant:e,className:`relative h-96 w-full ${P}`,onClick:()=>S==null?void 0:S(t),children:[$&&o.jsx("img",{src:$,alt:A,className:"absolute inset-0 w-full h-full object-cover rounded-3xl"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent rounded-3xl"}),o.jsxs("div",{className:"absolute inset-0 flex flex-col md:flex-row items-center md:items-end justify-between h-full p-8 space-y-6 md:space-y-0",children:[l&&I&&o.jsx("img",{src:I,alt:A,className:"w-24 md:w-32 rounded-xl shadow-2xl border border-slate-700 object-cover"}),o.jsxs("div",{className:"text-center md:text-left max-w-3xl md:ml-8 space-y-4",children:[g&&T&&o.jsx(_y,{rating:T}),o.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-4 leading-tight group-hover:text-blue-300 transition-colors duration-300",children:A}),o.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-4 text-sm text-slate-300",children:[v&&R&&o.jsx("span",{children:R}),m&&Z.length>0&&o.jsx("div",{className:"flex gap-2",children:Z.slice(0,3).map((B,X)=>o.jsx("span",{className:"px-2 py-1 bg-slate-700/70 rounded-md backdrop-blur-sm",children:B},X))})]}),b&&t.overview&&o.jsx("p",{className:"text-slate-200 leading-relaxed line-clamp-3 max-w-2xl text-sm md:text-base",children:t.overview}),o.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-3 mt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[r.watchNow&&o.jsxs(Dn,{variant:"primary",size:"lg",onClick:B=>{B==null||B.stopPropagation(),E==null||E(t)},className:"flex items-center gap-2",children:[o.jsx(At,{className:"w-5 h-5"}),"Watch Now",ue&&c&&o.jsx("img",{src:ue,alt:"Streaming Logo",className:"w-5 h-5 rounded-sm bg-white p-0.5"})]}),r.trailer&&o.jsxs(Dn,{variant:"secondary",size:"lg",onClick:B=>{B==null||B.stopPropagation(),N==null||N(t)},children:[o.jsx(z_,{className:"w-5 h-5"}),"Trailer"]}),r.addToList&&o.jsxs(Dn,{variant:"secondary",size:"lg",onClick:B=>{B==null||B.stopPropagation(),k==null||k(t)},children:[o.jsx(ds,{className:"w-5 h-5"}),"Add to List"]})]}),!d&&i&&!c&&W.length>0&&o.jsx("div",{className:"mt-4",children:o.jsx(ic,{providers:W,maxDisplayed:1,size:"md"})})]})]})]});return e!=null&&e.includes("spotlight")?ie():o.jsx(rg,{variant:e,className:`w-full min-h-fit ${P}`,onClick:()=>S==null?void 0:S(t),children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx(sH,{posterUrl:I,backdropUrl:$,showRating:g,rating:T,actions:r,onWatchNow:()=>E==null?void 0:E(t),onAddToWatchlist:()=>k==null?void 0:k(t),onWatchTrailer:()=>N==null?void 0:N(t),firstStreamingLogo:ue,showStreamingLogoInButton:c,moveButtonsToBottom:ce,className:"flex-shrink-0 aspect-[2/3] w-full",variant:e}),o.jsx(iH,{title:A,year:R,genres:Z,showReleaseDate:v,showGenres:m,showDescription:b,description:t.overview,config:Q}),ce&&o.jsx(oH,{actions:r,firstStreamingLogo:ue,showStreamingLogoInButton:c,onWatchNow:()=>E==null?void 0:E(t),onAddToWatchlist:()=>k==null?void 0:k(t),onWatchTrailer:()=>N==null?void 0:N(t),media:t}),!d&&i&&W.length>0&&ce&&o.jsx("div",{className:"mt-2 px-2 pb-2",children:o.jsx(ic,{providers:W,maxDisplayed:1,size:"sm"})}),!d&&i&&!c&&!ce&&W.length>0&&o.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700/50 px-3",children:o.jsx(ic,{providers:W,maxDisplayed:1,size:"sm"})})]})})},Vi=Ze.memo(cH),uH=({media:t,matchPercentage:e,reasonForRecommendation:n,viewingInsight:r,contextualInfo:i,similarViewers:l,watchTimeEstimate:c,trendingRank:d,leavesSoon:h,friendsWatching:f,isUpcoming:g,releaseDate:m,onCardClick:v,onWatchNow:b,onAddToWatchlist:k,onWatchTrailer:N,onShowInfo:S,className:_=""})=>{const[E,j]=Ze.useState(!1),[P,A]=Ze.useState(!1),O=T=>T?T>=90?"text-green-400":T>=75?"text-blue-400":T>=60?"text-yellow-400":"text-orange-400":"text-gray-400",R=T=>T?T>=90?o.jsx(fi,{className:"w-3 h-3"}):T>=75?o.jsx(Ig,{className:"w-3 h-3"}):o.jsx(Rt,{className:"w-3 h-3"}):o.jsx(Rt,{className:"w-3 h-3"});return o.jsxs(Te.div,{className:`relative group ${_}`,onHoverStart:()=>j(!0),onHoverEnd:()=>j(!1),whileHover:{y:-8},transition:{duration:.3,ease:"easeOut"},children:[o.jsx(Te.div,{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur opacity-0 group-hover:opacity-100 transition duration-500",animate:{background:E?"linear-gradient(45deg, rgba(59, 130, 246, 0.3), rgba(147, 51, 234, 0.3))":"linear-gradient(45deg, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1))"}}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"absolute top-3 left-3 z-20 flex flex-col gap-2",children:[e&&o.jsx(Te.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.3},children:o.jsxs(Be,{variant:"secondary",className:`${O(e)} bg-black/80 backdrop-blur-md border-white/20 px-2 py-1 text-xs font-semibold`,children:[R(e),o.jsxs("span",{className:"ml-1",children:[e,"% Match"]})]})}),d&&d<=10&&o.jsxs(Be,{variant:"secondary",className:"bg-red-600/80 text-white border-red-500/30 px-2 py-1 text-xs",children:[o.jsx(ii,{className:"w-3 h-3 mr-1"}),"#",d," Trending"]}),h&&o.jsxs(Be,{variant:"secondary",className:"bg-orange-600/80 text-white border-orange-500/30 px-2 py-1 text-xs",children:[o.jsx(oo,{className:"w-3 h-3 mr-1"}),"Leaving Soon"]})]}),f&&f>0&&o.jsx("div",{className:"absolute top-3 right-3 z-20",children:o.jsxs(Be,{variant:"secondary",className:"bg-indigo-600/80 text-white border-indigo-500/30 px-2 py-1 text-xs",children:[o.jsx(_r,{className:"w-3 h-3 mr-1"}),f," friends"]})}),o.jsx(Vi,{media:t,variant:"vertical-polished",size:"md",className:"h-full transition-all duration-300 group-hover:shadow-2xl",showStreamingLogos:!0,showRating:!0,showGenres:!1,showReleaseDate:!0,showDescription:!1,moveButtonsToBottom:!0,showStreamingLogoInButton:!1,onCardClick:v,onWatchNow:b,onWatchTrailer:N,onAddToWatchlist:k}),o.jsx(Ra,{children:E&&o.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/95 via-black/80 to-transparent rounded-b-2xl p-4 z-10",children:o.jsxs("div",{className:"space-y-2 text-white",children:[c&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-300",children:[o.jsx(oo,{className:"w-3 h-3"}),o.jsxs("span",{children:[c," to complete"]})]}),l&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-300",children:[o.jsx(ir,{className:"w-3 h-3"}),o.jsx("span",{children:l})]}),r&&o.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-300",children:[o.jsx(Ji,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"line-clamp-2",children:r})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx(le,{size:"sm",className:`${g?"bg-purple-600 hover:bg-purple-700":"bg-white/90 hover:bg-white"} text-${g?"white":"black"} text-xs px-3 py-1 h-7`,onClick:T=>{T.stopPropagation(),b==null||b(t)},children:g?o.jsxs(o.Fragment,{children:[o.jsx(io,{className:"w-3 h-3 mr-1"}),"Remind Me"]}):o.jsxs(o.Fragment,{children:[o.jsx(At,{className:"w-3 h-3 mr-1"}),"Watch"]})}),o.jsx(le,{size:"sm",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 text-xs px-3 py-1 h-7",onClick:T=>{T.stopPropagation(),k==null||k(t)},children:o.jsx(ds,{className:"w-3 h-3"})}),o.jsx(le,{size:"sm",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 text-xs px-3 py-1 h-7",onClick:T=>{T.stopPropagation(),S==null||S(t)},children:o.jsx(Ag,{className:"w-3 h-3"})})]})]})})}),n&&o.jsxs("div",{className:"absolute top-1/2 right-2 z-30",onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),children:[o.jsx(le,{size:"sm",variant:"outline",className:"w-8 h-8 p-0 bg-black/60 border-white/20 text-white hover:bg-black/80 rounded-full",children:o.jsx(Ag,{className:"w-3 h-3"})}),o.jsx(Ra,{children:P&&o.jsxs(Te.div,{initial:{opacity:0,scale:.8,x:10},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8,x:10},className:"absolute right-full mr-2 top-1/2 -translate-y-1/2 bg-black/90 backdrop-blur-md border border-white/20 rounded-xl p-3 max-w-xs z-50",children:[o.jsxs("div",{className:"text-xs text-white",children:[o.jsxs("div",{className:"font-semibold mb-1 flex items-center gap-1",children:[o.jsx(fi,{className:"w-3 h-3 text-blue-400"}),"Why this?"]}),o.jsx("p",{className:"text-slate-300",children:n})]}),o.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 border-4 border-transparent border-l-black/90"})]})})]})]})]})},dH=(t,e)=>({matchPercentage:Math.floor(Math.random()*30)+70,viewingInsight:fH(e),similarViewers:`${Math.floor(Math.random()*80)+20}% of similar viewers loved this`,watchTimeEstimate:pH(t.media_type),reasonForRecommendation:mH(e),trendingRank:Math.random()>.7?Math.floor(Math.random()*10)+1:void 0,leavesSoon:Math.random()>.85,friendsWatching:Math.random()>.6?Math.floor(Math.random()*8)+1:0,isUpcoming:e==="upcoming-with-reminders",releaseDate:e==="upcoming-with-reminders"?hH():void 0}),hH=()=>{const t=["Oct 15, 2025","Nov 3, 2025","Dec 20, 2025","Jan 10, 2026","Feb 14, 2026"];return t[Math.floor(Math.random()*t.length)]},fH=t=>({"because-you-loved":"Similar themes and tone to your favorites","weekend-bingers":"Perfect cliffhangers for marathon viewing","award-season-winners":"Critics and awards panels loved this","quick-wins":"Satisfying complete story in one sitting","sports-live-events":"Live action you can't watch later","upcoming-with-reminders":"Highly anticipated by fans like you","friends-are-watching":"Your friends are talking about this","educational-entertaining":"Learn while being entertained","ai-curated-surprise":"Our AI found this gem for you","leaving-soon":"Available for limited time"})[t]||"Recommended for you",pH=t=>t==="movie"?`${Math.floor(Math.random()*60)+90} minutes`:`${Math.floor(Math.random()*8)+2} seasons`,mH=t=>({"because-you-loved":"Based on your 5-star rating of Succession and similar shows in your watchlist","weekend-bingers":"You tend to watch 3+ episodes in a session on weekends","award-season-winners":"Award-winning content aligns with your quality preferences","quick-wins":"Matches your preference for complete stories under 2 hours","sports-live-events":"Live content based on your sports interests and activity","upcoming-with-reminders":"Content matching your wishlisted genres and interests","friends-are-watching":"Multiple friends in your network are currently watching","educational-entertaining":"Balances learning with entertainment like your documentary history","ai-curated-surprise":"Advanced algorithm detected perfect match for your unique taste","leaving-soon":"High-quality content expiring from platforms soon"})[t]||"Personalized recommendation based on your viewing history",VN=[{key:"because-you-loved",title:"Critics Love These (8.0+ Rating)",subtitle:"Exceptional quality & storytelling",description:"Highest rated shows and movies with outstanding reviews and viewer satisfaction",iconName:"heart",gradient:"from-rose-500 to-pink-600",textColor:"text-rose-300",borderColor:"border-rose-500/30",reasoning:"Based on your 5-star rating and 3 rewatches",priority:1,personalizedFor:"Drama lovers",moodContext:"When you want intelligent storytelling"},{key:"weekend-bingers",title:"Perfect for Binging (Full Series)",subtitle:"Complete TV shows ready to watch",description:"Highly-rated series with multiple seasons available - perfect for marathon viewing",iconName:"coffee",gradient:"from-amber-500 to-orange-600",textColor:"text-amber-300",borderColor:"border-amber-500/30",reasoning:"Most binged shows this weekend",priority:2,timeContext:"Weekend viewing",moodContext:"When you have time to dive deep"},{key:"award-season-winners",title:"Award-Winning Content (7.5+)",subtitle:Nd().subtitle,description:Nd().description,iconName:"award",gradient:"from-yellow-500 to-amber-600",textColor:"text-yellow-300",borderColor:"border-yellow-500/30",reasoning:Nd().reasoning,priority:3,personalizedFor:"Quality seekers",timeContext:Nd().timeContext},{key:"quick-wins",title:"Movies  Complete Stories",subtitle:"Full movies ready to watch",description:"Feature films you can enjoy in one sitting - no commitment to multiple episodes",iconName:"clock",gradient:"from-green-500 to-emerald-600",textColor:"text-green-300",borderColor:"border-green-500/30",reasoning:"Matches your recent viewing patterns",priority:4,timeContext:"Evening viewing",moodContext:"When you want something complete"},{key:"sports-live-events",title:"Sports & Live Events",subtitle:"Don't miss the action",description:"Live sports, breaking news, and special events happening right now",iconName:"zap",gradient:"from-orange-500 to-red-600",textColor:"text-orange-300",borderColor:"border-orange-500/30",reasoning:"Live content you can't watch later",priority:5,timeContext:"Live now",moodContext:"Real-time excitement"},{key:"upcoming-with-reminders",title:"Coming Soon  Set Reminders",subtitle:"Upcoming releases you won't want to miss",description:"New shows and movies launching soon - tap to set reminders for when they premiere",iconName:"calendar",gradient:"from-purple-500 to-indigo-600",textColor:"text-purple-300",borderColor:"border-purple-500/30",reasoning:"Based on your wishlisted content",priority:6,timeContext:"Future releases",moodContext:"Anticipation building"},{key:"friends-are-watching",title:"Your Friends Are Watching",subtitle:"Stay in the conversation",description:"Shows your connected friends are currently enjoying and discussing",iconName:"users",gradient:"from-indigo-500 to-purple-600",textColor:"text-indigo-300",borderColor:"border-indigo-500/30",reasoning:"From 12 friends' activity",priority:7,personalizedFor:"Social viewers"}];function Nd(){const e=new Date().getMonth()+1;return e>=1&&e<=3?{subtitle:"Oscar contenders & winners",description:"Films in the awards conversation and recent Academy Award winners",reasoning:"Oscar season is here - catch the buzz",timeContext:"Awards season"}:e>=9&&e<=10?{subtitle:"Emmy nominated series",description:"Outstanding television recognized by the Television Academy",reasoning:"Emmy season highlights the best of TV",timeContext:"Television awards season"}:e>=11&&e<=12?{subtitle:"Awards season contenders",description:"Shows and films generating early awards buzz and critical acclaim",reasoning:"Getting ahead of awards season",timeContext:"Pre-awards buzz"}:{subtitle:"Award-winning content",description:"Recent winners from major awards ceremonies and critical darlings",reasoning:"Celebrate excellence in entertainment",timeContext:"Celebrating the best"}}const gH={heart:hi,calendar:Ga,award:B_,clock:oo,eye:ir,users:_r,zap:fi,coffee:NO,star:Rt};(typeof hi>"u"||typeof fi>"u")&&console.error("Icon imports missing!",{Heart:typeof hi,Zap:typeof fi});const yH=({mediaData:t,onMediaClick:e,onWatchNow:n,onAddToWatchlist:r,onWatchTrailer:i,onShowInfo:l,onSetReminder:c,className:d=""})=>{const f=(()=>{const m={};return VN.forEach(v=>{let b=[];switch(v.key){case"because-you-loved":b=t.filter(k=>(k.vote_average||0)>=8).sort((k,N)=>(N.vote_average||0)-(k.vote_average||0)).slice(0,8);break;case"weekend-bingers":b=t.filter(k=>k.media_type==="tv"||k.name).sort((k,N)=>(N.vote_average||0)-(k.vote_average||0)).slice(0,8);break;case"award-season-winners":b=t.filter(k=>(k.vote_average||0)>=7.5).sort((k,N)=>(N.vote_average||0)-(k.vote_average||0)).slice(0,8);break;case"quick-wins":b=t.filter(k=>k.media_type==="movie"||k.title).slice(0,8);break;case"upcoming-with-reminders":b=t.filter(k=>{const N=k.first_air_date||k.release_date;return N?new Date(N)>new Date:!1}).sort((k,N)=>{const S=new Date(k.first_air_date||k.release_date||""),_=new Date(N.first_air_date||N.release_date||"");return S.getTime()-_.getTime()}).slice(0,8);break;case"ai-curated-surprise":b=t.filter(k=>(k.vote_average||0)>=7).sort(()=>.5-Math.random()).slice(0,8);break;default:b=t.sort((k,N)=>(N.vote_average||0)-(k.vote_average||0)).slice(0,8)}m[v.key]=b}),m})(),g=(m,v,b)=>{if(b==="upcoming-with-reminders"&&v==="watchNow"){c==null||c(m);return}switch(v){case"click":e==null||e(m);break;case"watchNow":n==null||n(m);break;case"watchlist":r==null||r(m);break;case"trailer":i==null||i(m);break;case"info":l==null||l(m);break}};return o.jsx("div",{className:`space-y-12 ${d}`,children:VN.map((m,v)=>{const b=gH[m.iconName]||Rt,k=f[m.key]||[];return k.length===0?null:o.jsxs(Te.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:v*.1,duration:.6},className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${m.gradient} flex items-center justify-center`,children:o.jsx(b,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:m.title}),o.jsx("p",{className:"text-slate-400 text-sm max-w-2xl",children:m.reasoning})]})]}),m.priority>=8&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-yellow-400 font-medium",children:"Priority for you"})]})]}),o.jsx(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors",children:"View All"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",children:[k.map((N,S)=>o.jsx(Te.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:v*.1+S*.05,duration:.4},className:"flex-shrink-0 w-56 h-full flex",children:o.jsx(uH,{media:N,...dH(N,m.key),onCardClick:_=>g(_,"click",m.key),onWatchNow:_=>g(_,"watchNow",m.key),onAddToWatchlist:_=>g(_,"watchlist",m.key),onWatchTrailer:_=>g(_,"trailer",m.key),onShowInfo:_=>g(_,"info",m.key),className:"h-full w-full"})},`${m.key}-${N.id}-${S}`)),o.jsx(Te.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:v*.1+k.length*.05,duration:.4},className:"flex-shrink-0 w-56",children:o.jsxs("div",{className:"h-80 bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 flex flex-col items-center justify-center gap-4 hover:bg-slate-800/70 transition-all duration-300 cursor-pointer group",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(b,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white font-medium",children:"See More"}),o.jsx("p",{className:"text-slate-400 text-sm",children:m.title})]})]})})]}),o.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-slate-950 to-transparent pointer-events-none z-10"}),o.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-slate-950 to-transparent pointer-events-none z-10"})]})]},m.key)})})},zN=[{id:"action",name:"Action",color:"bg-red-500"},{id:"comedy",name:"Comedy",color:"bg-yellow-500"},{id:"drama",name:"Drama",color:"bg-blue-500"},{id:"horror",name:"Horror",color:"bg-purple-500"},{id:"romance",name:"Romance",color:"bg-pink-500"},{id:"sci-fi",name:"Sci-Fi",color:"bg-cyan-500"},{id:"fantasy",name:"Fantasy",color:"bg-indigo-500"},{id:"documentary",name:"Documentary",color:"bg-green-500"},{id:"thriller",name:"Thriller",color:"bg-gray-500"},{id:"music",name:"Music",color:"bg-emerald-500"}],WN=[{id:"netflix",name:"Netflix",icon:"/logos/icons8-netflix (1).svg",color:"bg-red-600"},{id:"disney",name:"Disney+",icon:"/logos/icons8-disney-plus.svg",color:"bg-blue-600"},{id:"hbo",name:"HBO Max",icon:"/logos/hbo-max-white.svg",color:"bg-purple-600"},{id:"prime",name:"Prime Video",icon:"/logos/icons8-amazon-prime-video (1).svg",color:"bg-blue-500"},{id:"hulu",name:"Hulu",icon:"/logos/hulu.svg",color:"bg-green-600"},{id:"paramount",name:"Paramount+",icon:"/logos/paramount-plus.svg",color:"bg-blue-700"}],sg=[{id:"trending",name:"Most Popular",icon:ii,color:"bg-gradient-to-r from-red-500 to-orange-500",description:"Everyone's watching"},{id:"highly-rated",name:"Highly Rated",icon:Rt,color:"bg-gradient-to-r from-yellow-400 to-amber-500",description:"8.0+ IMDb rating"},{id:"award-winners",name:"Award Winners",icon:BO,color:"bg-gradient-to-r from-purple-500 to-pink-500",description:"Emmy & Golden Globe"},{id:"new-seasons",name:"New Seasons",icon:io,color:"bg-gradient-to-r from-blue-500 to-cyan-500",description:"Fresh episodes"},{id:"binge-worthy",name:"Binge-Worthy",icon:PO,color:"bg-gradient-to-r from-orange-500 to-red-600",description:"Full seasons ready"},{id:"hidden-gems",name:"Hidden Gems",icon:Ji,color:"bg-gradient-to-r from-teal-500 to-emerald-500",description:"Underrated classics"}],vH=({onGenreMix:t,onRandomDiscover:e,onTimeFilter:n,onPersonalityMatch:r,onStreamingFilter:i,className:l=""})=>{var _,E;const[c,d]=y.useState([]),[h,f]=y.useState([]),[g,m]=y.useState(null),[v,b]=y.useState(!1),k=j=>{const P=c.includes(j)?c.filter(A=>A!==j):[...c,j];d(P),t==null||t(P)},N=j=>{const P=h.includes(j)?h.filter(A=>A!==j):[...h,j];f(P),i==null||i(P)},S=j=>{const P=g===j?null:j;m(P),r==null||r(P||"")};return o.jsxs("div",{className:`space-y-8 ${l}`,children:[o.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx(o1,{className:"w-5 h-5 text-cyan-400"}),"Quick Filters",g&&o.jsx(Be,{variant:"secondary",className:"ml-2 bg-cyan-500/20 text-cyan-300",children:(_=sg.find(j=>j.id===g))==null?void 0:_.name})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:sg.map(j=>{const P=g===j.id,A=j.icon;return o.jsxs(Te.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>S(j.id),className:`p-4 rounded-2xl border-2 transition-all duration-300 relative overflow-hidden ${P?"border-white shadow-xl":"border-slate-700 hover:border-slate-600 bg-slate-800/50 hover:bg-slate-800/70"}`,children:[P&&o.jsx(Te.div,{layoutId:"filter-selected-bg",className:`absolute inset-0 ${j.color} opacity-20`,transition:{type:"spring",bounce:.2,duration:.6}}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl ${j.color} flex items-center justify-center shadow-lg`,children:o.jsx(A,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:`block text-sm font-semibold ${P?"text-white":"text-slate-300"}`,children:j.name}),o.jsx("span",{className:"text-xs text-slate-400",children:j.description})]})]})]},j.id)})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx(VO,{className:"w-5 h-5 text-purple-400"}),"Filter by Streaming Platform",h.length>0&&o.jsxs(Be,{variant:"secondary",className:"ml-2 bg-purple-500/20 text-purple-300",children:[h.length," selected"]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:WN.map(j=>{const P=h.includes(j.id);return o.jsx(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>N(j.id),className:`p-4 rounded-2xl border-2 transition-all duration-300 relative overflow-hidden group ${P?"border-white bg-white/10 shadow-lg":"border-slate-700 hover:border-slate-600 bg-slate-800/50 hover:bg-slate-800/70"}`,children:o.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center p-1",children:o.jsx("img",{src:j.icon,alt:j.name,className:"w-full h-full object-contain",onError:A=>{const O=A.target;O.style.display="none";const R=O.parentElement;R&&(R.className=`w-12 h-12 rounded-lg ${j.color} flex items-center justify-center`,R.innerHTML=`<span class="text-white font-bold text-lg">${j.name.charAt(0)}</span>`)}})}),o.jsx("span",{className:`text-sm font-medium ${P?"text-white":"text-slate-300"}`,children:j.name})]})},j.id)})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx(FO,{className:"w-5 h-5 text-green-400"}),"Mix & Match Genres",c.length>0&&o.jsxs(Be,{variant:"secondary",className:"ml-2 bg-green-500/20 text-green-300",children:[c.length," selected"]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:zN.map(j=>{const P=c.includes(j.id);return o.jsx(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(j.id),className:`px-4 py-2 rounded-full border-2 transition-all duration-300 ${P?`border-white ${j.color} text-white shadow-lg`:"border-slate-600 bg-slate-800/50 text-slate-300 hover:border-slate-500 hover:bg-slate-800/70"}`,children:o.jsx("span",{className:"text-sm font-medium",children:j.name})},j.id)})})]}),o.jsx(Ra,{children:(c.length>0||h.length>0||g)&&o.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(o1,{className:"w-4 h-4 text-blue-400"}),o.jsx("span",{className:"text-white font-medium",children:"Active Filters:"})]}),o.jsxs(le,{size:"sm",variant:"ghost",onClick:()=>{d([]),f([]),m(null)},className:"text-slate-400 hover:text-white",children:[o.jsx(q_,{className:"w-4 h-4 mr-1"}),"Clear All"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g&&o.jsx(Be,{variant:"secondary",className:"bg-cyan-500/20 text-cyan-300",children:(E=sg.find(j=>j.id===g))==null?void 0:E.name}),h.map(j=>{const P=WN.find(A=>A.id===j);return o.jsx(Be,{variant:"secondary",className:"bg-purple-500/20 text-purple-300",children:P==null?void 0:P.name},j)}),c.map(j=>{const P=zN.find(A=>A.id===j);return o.jsx(Be,{variant:"secondary",className:"bg-green-500/20 text-green-300",children:P==null?void 0:P.name},j)})]})]})})]})},xH=({title:t,badge:e,badgeColor:n,feature:r,onWatchNow:i,onAddToList:l,onSetReminder:c,ctaText:d="Watch Now",delay:h=0,isUpcoming:f=!1})=>r?o.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h},className:"relative h-64 md:h-72 rounded-2xl overflow-hidden shadow-2xl group",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-105",style:{backgroundImage:`url(https://image.tmdb.org/t/p/w1280${r.backdrop_path})`}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/95 via-black/70 to-transparent"}),o.jsx("div",{className:"relative h-full flex items-end p-6 md:p-8",children:o.jsxs("div",{className:"flex gap-4 md:gap-6 items-end max-w-4xl w-full",children:[o.jsx("img",{src:`https://image.tmdb.org/t/p/w342${r.poster_path}`,alt:r.title||r.name,className:"w-24 md:w-32 rounded-lg shadow-xl hidden sm:block transition-transform duration-300 group-hover:scale-105"}),o.jsxs("div",{className:"flex-1 space-y-2.5",children:[o.jsx("div",{className:"flex items-center gap-2 mb-1",children:o.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 ${n} text-white text-xs font-bold rounded-full`,children:e})}),o.jsx("h3",{className:"text-sm text-gray-400 font-medium tracking-wide uppercase",children:t}),o.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white transition-colors duration-300 group-hover:text-teal-400",children:r.title||r.name}),o.jsx("p",{className:"text-gray-300 text-sm line-clamp-2 max-w-2xl",children:r.overview}),r.streaming&&r.streaming.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-400 text-xs",children:"Available on:"}),o.jsx(ic,{providers:r.streaming.filter(g=>!!(g.provider_id&&g.provider_name)),maxDisplayed:1,size:"sm"})]}),o.jsxs("div",{className:"flex gap-2 pt-1",children:[!f&&o.jsxs(le,{onClick:g=>{g.stopPropagation(),i(r)},size:"sm",className:"bg-white text-black hover:bg-gray-200 px-4 py-1.5 text-sm font-semibold",children:[" ",d]}),f&&c&&o.jsxs(o.Fragment,{children:[o.jsxs(le,{onClick:g=>{g.stopPropagation(),c(r)},size:"sm",className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700 px-4 py-1.5 text-sm font-semibold shadow-lg",children:[o.jsx(io,{className:"w-4 h-4 mr-1.5"}),"Remind Me"]}),o.jsxs(le,{onClick:g=>{g.stopPropagation();const m=r.release_date||r.first_air_date;if(m){const b=new Date(m).toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",k=r.title||r.name,N=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(k+" Release")}&dates=${b}/${b}&details=${encodeURIComponent("New release on streaming platforms")}`;window.open(N,"_blank")}},size:"sm",variant:"outline",className:"text-white border-white/50 hover:bg-white/10 px-4 py-1.5 text-sm",children:[o.jsx(Ga,{className:"w-4 h-4 mr-1.5"}),"Add to Calendar"]})]}),o.jsx(le,{onClick:g=>{g.stopPropagation(),l(r)},size:"sm",variant:"outline",className:"text-white border-white/50 hover:bg-white/10 px-4 py-1.5 text-sm",children:"+ My List"})]})]})]})})]}):null,Yt={WATCHLIST:"bingeboard_watchlist",REMINDERS:"bingeboard_reminders",PREFERENCES:"bingeboard_preferences"},Vs={WATCHLIST:"/api/user/watchlist",REMINDERS:"/api/user/reminders",PREFERENCES:"/api/user/preferences"};class wH{constructor(){this.userId=null}setUserId(e){this.userId=e}getStoredData(e,n){try{const r=localStorage.getItem(e);return r?JSON.parse(r):n}catch(r){return console.warn(`Error parsing stored data for ${e}:`,r),n}}setStoredData(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch(r){console.error(`Error storing data for ${e}:`,r)}}async apiRequest(e,n={}){try{const r=await tt(e,{headers:{"Content-Type":"application/json",...n.headers},...n});if(!r.ok)throw new Error(`API request failed: ${r.status}`);return await r.json()}catch(r){return console.error(`API request error for ${e}:`,r),null}}async syncWithServer(e,n,r){if(!this.userId)return e;try{const i=await this.apiRequest(n);if(i)return this.setStoredData(r,i),i}catch(i){console.warn("Server sync failed, using local data:",i)}return e}async getWatchlist(){const e=this.getStoredData(Yt.WATCHLIST,[]);return this.syncWithServer(e,Vs.WATCHLIST,Yt.WATCHLIST)}async addToWatchlist(e){try{const n=await this.getWatchlist();if(n.some(c=>c.id===e.id&&c.type===e.type))return console.warn("Item already in watchlist"),!1;const i={...e,addedAt:new Date().toISOString(),userId:this.userId||void 0,priority:"medium"},l=[...n,i];return this.setStoredData(Yt.WATCHLIST,l),this.userId&&await this.apiRequest(Vs.WATCHLIST,{method:"POST",body:JSON.stringify(i)}),!0}catch(n){return console.error("Error adding to watchlist:",n),!1}}async removeFromWatchlist(e,n){try{const i=(await this.getWatchlist()).filter(l=>!(l.id===e&&l.type===n));return this.setStoredData(Yt.WATCHLIST,i),this.userId&&await this.apiRequest(`${Vs.WATCHLIST}/${e}`,{method:"DELETE"}),!0}catch(r){return console.error("Error removing from watchlist:",r),!1}}async isInWatchlist(e,n){return(await this.getWatchlist()).some(i=>i.id===e&&i.type===n)}async getReminders(){const e=this.getStoredData(Yt.REMINDERS,[]);return this.syncWithServer(e,Vs.REMINDERS,Yt.REMINDERS)}async setReminder(e,n,r="release",i){try{const l=await this.getReminders();if(l.some(f=>f.id===e.id&&f.type===e.type&&f.reminderType===r))return console.warn("Reminder already set for this content"),!1;const d={...e,remindAt:n,userId:this.userId||void 0,reminderType:r,isActive:!0,customMessage:i},h=[...l,d];return this.setStoredData(Yt.REMINDERS,h),this.userId&&await this.apiRequest(Vs.REMINDERS,{method:"POST",body:JSON.stringify(d)}),!0}catch(l){return console.error("Error setting reminder:",l),!1}}async removeReminder(e,n,r){try{const l=(await this.getReminders()).filter(c=>!(c.id===e&&c.type===n&&c.reminderType===r));return this.setStoredData(Yt.REMINDERS,l),this.userId&&await this.apiRequest(`${Vs.REMINDERS}/${e}`,{method:"DELETE"}),!0}catch(i){return console.error("Error removing reminder:",i),!1}}async getActiveReminders(e=7){const n=await this.getReminders(),r=new Date,i=new Date(r.getTime()+e*24*60*60*1e3);return n.filter(l=>{const c=new Date(l.remindAt);return l.isActive&&c<=i&&c>=r})}async getPreferences(){const e={favoriteGenres:[],favoriteStreamingServices:[],reminderSettings:{emailEnabled:!0,pushEnabled:!0,smsEnabled:!1,advanceDays:1},watchlistSettings:{autoRemoveWatched:!1,sortBy:"addedAt",showOnlyAvailable:!1}},n=this.getStoredData(Yt.PREFERENCES,e);return this.syncWithServer(n,Vs.PREFERENCES,Yt.PREFERENCES)}async updatePreferences(e){try{const r={...await this.getPreferences(),...e};return this.setStoredData(Yt.PREFERENCES,r),this.userId&&await this.apiRequest(Vs.PREFERENCES,{method:"PUT",body:JSON.stringify(r)}),!0}catch(n){return console.error("Error updating preferences:",n),!1}}clearUserData(){Object.values(Yt).forEach(e=>{localStorage.removeItem(e)}),this.userId=null}async exportUserData(){const[e,n,r]=await Promise.all([this.getWatchlist(),this.getReminders(),this.getPreferences()]);return{watchlist:e,reminders:n,preferences:r}}async importUserData(e){try{return e.watchlist&&this.setStoredData(Yt.WATCHLIST,e.watchlist),e.reminders&&this.setStoredData(Yt.REMINDERS,e.reminders),e.preferences&&this.setStoredData(Yt.PREFERENCES,e.preferences),!0}catch(n){return console.error("Error importing user data:",n),!1}}}const Zn=new wH,{setUserId:SG,getWatchlist:NG,addToWatchlist:kG,removeFromWatchlist:_G,isInWatchlist:jG,getReminders:CG,setReminder:EG,removeReminder:PG,getActiveReminders:TG,getPreferences:RG,updatePreferences:AG,clearUserData:IG,exportUserData:MG,importUserData:OG}=Zn;async function bH(t,e="us"){return console.warn("Utelly API key not configured"),{results:[],collection:{total_results:0}}}async function SH(t,e="us"){return console.warn("Utelly API key not configured"),{results:[],collection:{total_results:0}}}const ig={netflix:{id:"netflix",name:"netflix",displayName:"Netflix",icon:"",color:"#E50914",baseUrl:"https://www.netflix.com",searchUrl:"https://www.netflix.com/search?q=",isSubscription:!0,isRental:!1,priority:1},hulu:{id:"hulu",name:"hulu",displayName:"Hulu",icon:"",color:"#1CE783",baseUrl:"https://www.hulu.com",searchUrl:"https://www.hulu.com/search?q=",isSubscription:!0,isRental:!1,priority:2},amazon_prime:{id:"amazon_prime",name:"amazon_prime",displayName:"Prime Video",icon:"",color:"#00A8E1",baseUrl:"https://www.amazon.com/prime-video",searchUrl:"https://www.amazon.com/s?k=",isSubscription:!0,isRental:!0,priority:3},disney_plus:{id:"disney_plus",name:"disney_plus",displayName:"Disney+",icon:"",color:"#113CCF",baseUrl:"https://www.disneyplus.com",searchUrl:"https://www.disneyplus.com/search?q=",isSubscription:!0,isRental:!1,priority:4},hbo_max:{id:"hbo_max",name:"hbo_max",displayName:"Max",icon:"",color:"#8C00FF",baseUrl:"https://www.max.com",searchUrl:"https://www.max.com/search?q=",isSubscription:!0,isRental:!1,priority:5},apple_tv_plus:{id:"apple_tv_plus",name:"apple_tv_plus",displayName:"Apple TV+",icon:"",color:"#000000",baseUrl:"https://tv.apple.com",searchUrl:"https://tv.apple.com/search?term=",isSubscription:!0,isRental:!0,priority:6},paramount_plus:{id:"paramount_plus",name:"paramount_plus",displayName:"Paramount+",icon:"",color:"#0064FF",baseUrl:"https://www.paramountplus.com",searchUrl:"https://www.paramountplus.com/search/?query=",isSubscription:!0,isRental:!1,priority:7},peacock:{id:"peacock",name:"peacock",displayName:"Peacock",icon:"",color:"#7B68EE",baseUrl:"https://www.peacocktv.com",searchUrl:"https://www.peacocktv.com/search?query=",isSubscription:!0,isRental:!1,priority:8},youtube:{id:"youtube",name:"youtube",displayName:"YouTube",icon:"",color:"#FF0000",baseUrl:"https://www.youtube.com",searchUrl:"https://www.youtube.com/results?search_query=",isSubscription:!1,isRental:!0,priority:9},vudu:{id:"vudu",name:"vudu",displayName:"Vudu",icon:"",color:"#3B82F6",baseUrl:"https://www.vudu.com",searchUrl:"https://www.vudu.com/content/search?query=",isSubscription:!1,isRental:!0,priority:10},tubi:{id:"tubi",name:"tubi",displayName:"Tubi",icon:"",color:"#FA541C",baseUrl:"https://tubitv.com",searchUrl:"https://tubitv.com/search/",isSubscription:!1,isRental:!1,priority:11},crackle:{id:"crackle",name:"crackle",displayName:"Crackle",icon:"",color:"#FFD700",baseUrl:"https://www.crackle.com",searchUrl:"https://www.crackle.com/search?query=",isSubscription:!1,isRental:!1,priority:12}};class NH{constructor(){this.userPlatforms=[],this.preferredPlatforms=["netflix","hulu","amazon_prime","disney_plus"]}setUserPlatforms(e){this.userPlatforms=e,localStorage.setItem("bingeboard_user_platforms",JSON.stringify(e))}getUserPlatforms(){if(this.userPlatforms.length===0)try{const e=localStorage.getItem("bingeboard_user_platforms");this.userPlatforms=e?JSON.parse(e):this.preferredPlatforms}catch(e){console.warn("Error loading user platforms:",e),this.userPlatforms=this.preferredPlatforms}return this.userPlatforms}normalizePlatformName(e){const n=e.toLowerCase();return{amazon_prime_video:"amazon_prime",amazon_video:"amazon_prime",prime_video:"amazon_prime",hbo_max:"hbo_max",hbomax:"hbo_max",disney_plus:"disney_plus",disneyplus:"disney_plus",apple_tv:"apple_tv_plus",appletv:"apple_tv_plus",paramount:"paramount_plus",youtube_movies:"youtube",google_play:"youtube"}[n]||n}convertToWatchOption(e){const n=this.normalizePlatformName(e.name),r=ig[n];if(!r)return console.warn("Unknown platform:",e.name),null;let i="subscription";return e.url.includes("rent")||e.url.includes("buy")||r.isRental&&!r.isSubscription?i="rental":!r.isSubscription&&!r.isRental&&(i="free"),{platform:r,url:e.url,type:i}}async getStreamingOptions(e){const n=e.title||e.name||"";try{let r;if(e.imdb_id&&(r=await SH(e.imdb_id)),(!r||r.results.length===0)&&(r=await bH(n)),!r||r.results.length===0)return this.getDefaultSearchOptions(e);const i=[],l=new Set;return r.results.forEach(c=>{c.locations.forEach(d=>{const h=this.convertToWatchOption(d);h&&!l.has(h.platform.id)&&(i.push(h),l.add(h.platform.id))})}),this.sortWatchOptions(i)}catch(r){return console.error("Error getting streaming options:",r),this.getDefaultSearchOptions(e)}}getDefaultSearchOptions(e){const n=e.title||e.name||"";return this.getUserPlatforms().slice(0,3).map(i=>{const l=ig[i];return l?{platform:l,url:l.searchUrl+encodeURIComponent(n),type:l.isSubscription?"subscription":"rental"}:null}).filter(Boolean)}sortWatchOptions(e){const n=this.getUserPlatforms();return e.sort((r,i)=>{const l=n.indexOf(r.platform.id),c=n.indexOf(i.platform.id);return l!==-1&&c!==-1?l-c:l!==-1?-1:c!==-1?1:r.type==="subscription"&&i.type!=="subscription"?-1:i.type==="subscription"&&r.type!=="subscription"?1:r.type==="free"&&i.type!=="free"?-1:i.type==="free"&&r.type!=="free"?1:r.platform.priority-i.platform.priority})}async getBestWatchOption(e){const n=await this.getStreamingOptions(e);return n.length>0?n[0]:null}async launchWatch(e){try{const n=await this.getBestWatchOption(e);if(!n){const r=e.title||e.name||"",i=`https://www.google.com/search?q=${encodeURIComponent(r+" watch online")}`;return window.open(i,"_blank"),!0}return window.open(n.url,"_blank"),this.trackPlatformUsage(n.platform.id),!0}catch(n){return console.error("Error launching watch:",n),!1}}trackPlatformUsage(e){try{const n=this.getPlatformUsage();n[e]=(n[e]||0)+1,localStorage.setItem("bingeboard_platform_usage",JSON.stringify(n))}catch(n){console.warn("Error tracking platform usage:",n)}}getPlatformUsage(){try{const e=localStorage.getItem("bingeboard_platform_usage");return e?JSON.parse(e):{}}catch{return{}}}getRecommendedPlatforms(){const e=this.getPlatformUsage(),n=this.getUserPlatforms();return Object.values(ig).map(i=>({platform:i,score:(e[i.id]||0)+(n.includes(i.id)?100:0)})).sort((i,l)=>l.score-i.score).slice(0,6).map(i=>i.platform)}async searchAcrossPlatforms(e){return this.getRecommendedPlatforms().map(r=>({platform:r,url:r.searchUrl+encodeURIComponent(e)}))}async isAvailableOnUserPlatforms(e){const n=await this.getStreamingOptions(e),r=this.getUserPlatforms();return n.some(i=>r.includes(i.platform.id))}}const Wd=new NH,{setUserPlatforms:DG,getUserPlatforms:LG,getStreamingOptions:FG,getBestWatchOption:$G,launchWatch:UG,getRecommendedPlatforms:BG,searchAcrossPlatforms:VG,isAvailableOnUserPlatforms:zG}=Wd;class kH{constructor(){this.YOUTUBE_BASE_URL="https://www.youtube.com",this.YOUTUBE_EMBED_URL="https://www.youtube.com/embed",this.YOUTUBE_THUMBNAIL_URL="https://img.youtube.com/vi"}async searchTMDBTrailers(e){try{const n=`/api/multi-api/trailer/${e.type}/${e.id}`,r=new URLSearchParams;e.title&&r.append("title",e.title),e.name&&r.append("title",e.name);const i=r.toString()?`${n}?${r}`:n,l=await tt(i);if(!l.ok)throw new Error(`TMDB API error: ${l.status}`);const c=await l.json();return this.formatTMDBResults(c.results||[])}catch(n){return console.error("Error fetching TMDB trailers:",n),[]}}formatTMDBResults(e){return e.filter(n=>n.site==="YouTube"&&n.type==="Trailer").map(n=>({id:n.id,key:n.key,name:n.name,site:n.site,type:n.type,size:n.size||1080,url:`${this.YOUTUBE_BASE_URL}/watch?v=${n.key}`,thumbnail:`${this.YOUTUBE_THUMBNAIL_URL}/${n.key}/maxresdefault.jpg`,published_at:n.published_at})).sort((n,r)=>n.name.toLowerCase().includes("official")&&!r.name.toLowerCase().includes("official")?-1:r.name.toLowerCase().includes("official")&&!n.name.toLowerCase().includes("official")?1:r.size-n.size)}async searchYouTubeTrailers(e){const n=e.title||e.name||"",r=this.extractYear(e.release_date||e.first_air_date),i=e.type==="tv"?"trailer":"movie trailer",l=`${n} ${r} ${i} official`;try{const c=await tt(`/api/youtube/search?q=${encodeURIComponent(l)}&type=video&part=snippet&maxResults=5`);if(!c.ok)throw new Error(`YouTube API error: ${c.status}`);const d=await c.json();return this.formatYouTubeResults(d.items||[])}catch(c){return console.error("Error fetching YouTube trailers:",c),this.generateFallbackSearch(e)}}formatYouTubeResults(e){return e.map(n=>{var r,i;return{id:n.id.videoId,key:n.id.videoId,name:n.snippet.title,site:"YouTube",type:"Trailer",size:1080,url:`${this.YOUTUBE_BASE_URL}/watch?v=${n.id.videoId}`,thumbnail:((i=(r=n.snippet.thumbnails)==null?void 0:r.high)==null?void 0:i.url)||`${this.YOUTUBE_THUMBNAIL_URL}/${n.id.videoId}/maxresdefault.jpg`,published_at:n.snippet.publishedAt}})}generateFallbackSearch(e){const n=e.title||e.name||"",r=this.extractYear(e.release_date||e.first_air_date),i=e.type==="tv"?"trailer":"movie trailer",l=`${n} ${r} ${i} official`,c=`${this.YOUTUBE_BASE_URL}/results?search_query=${encodeURIComponent(l)}`;return[{id:"fallback-search",key:"fallback-search",name:`Search for "${n}" trailer`,site:"YouTube",type:"Search",size:1080,url:c,thumbnail:"/placeholder-trailer.jpg"}]}extractYear(e){return e?new Date(e).getFullYear().toString():""}async getTrailers(e){try{let n=await this.searchTMDBTrailers(e);return n.length===0&&(n=await this.searchYouTubeTrailers(e)),n.length===0&&(n=this.generateFallbackSearch(e)),n.slice(0,5)}catch(n){return console.error("Error getting trailers:",n),this.generateFallbackSearch(e)}}async getBestTrailer(e){const n=await this.getTrailers(e);return n.length>0?n[0]:null}async launchTrailer(e,n=!1){try{const r=await this.getBestTrailer(e);return r?(n?this.openTrailerModal(r):window.open(r.url,"_blank"),!0):(console.warn("No trailer found for media:",e.title||e.name),!1)}catch(r){return console.error("Error launching trailer:",r),!1}}openTrailerModal(e){const n=new CustomEvent("openTrailerModal",{detail:{title:e.name,embedUrl:`${this.YOUTUBE_EMBED_URL}/${e.key}?autoplay=1&rel=0`,thumbnail:e.thumbnail}});window.dispatchEvent(n)}getEmbedUrl(e,n=!1){const r=new URLSearchParams({rel:"0",modestbranding:"1",...n&&{autoplay:"1"}});return`${this.YOUTUBE_EMBED_URL}/${e}?${r}`}getThumbnailUrl(e,n="maxres"){const r={default:"default",medium:"mqdefault",high:"hqdefault",maxres:"maxresdefault"};return`${this.YOUTUBE_THUMBNAIL_URL}/${e}/${r[n]}.jpg`}async hasTrailers(e){try{const n=await this.getTrailers(e);return n.length>0&&n[0].key!=="fallback-search"}catch(n){return console.error("Error checking for trailers:",n),!1}}async getTrailersByType(e,n){return(await this.getTrailers(e)).filter(i=>i.type===n||i.name.toLowerCase().includes(n.toLowerCase()))}async getTrailersByQuality(e,n=720){return(await this.getTrailers(e)).filter(i=>i.size>=n)}async preloadTrailers(e){const n=new Map,r=3;for(let i=0;i<e.length;i+=r){const c=e.slice(i,i+r).map(async d=>{const h=`${d.type}-${d.id}`,f=await this.getTrailers(d);return n.set(h,f),{key:h,trailers:f}});await Promise.allSettled(c),i+r<e.length&&await new Promise(d=>setTimeout(d,100))}return n}getCachedTrailer(e){try{const n=`trailer_${e.type}_${e.id}`,r=sessionStorage.getItem(n);if(r){const i=JSON.parse(r),l=i.timestamp;if(Date.now()-l<36e5)return i.trailer}}catch(n){console.warn("Error reading trailer cache:",n)}return null}cacheTrailer(e,n){try{const r=`trailer_${e.type}_${e.id}`,i={trailer:n,timestamp:Date.now()};sessionStorage.setItem(r,JSON.stringify(i))}catch(r){console.warn("Error caching trailer:",r)}}}const Hd=new kH,{getTrailers:WG,getBestTrailer:HG,launchTrailer:GG,getEmbedUrl:KG,getThumbnailUrl:qG,hasTrailers:YG,getTrailersByType:QG,getTrailersByQuality:ZG,preloadTrailers:XG,getCachedTrailer:JG}=Hd;function L2(t={}){const{autoLoadWatchlist:e=!0,autoLoadReminders:n=!0,cacheResults:r=!0}=t,{user:i}=Nn(),[l,c]=y.useState({watchlist:[],reminders:[],isLoading:!1,error:null}),[d,h]=y.useState(new Map);y.useEffect(()=>{i!=null&&i.id&&Zn.setUserId(i.id)},[i==null?void 0:i.id]),y.useEffect(()=>{(e||n)&&g()},[e,n,i==null?void 0:i.id]);const f=y.useCallback(async(I,$,Y=3e5)=>{if(!r)return await $();const W=d.get(I);if(W&&Date.now()-W.timestamp<Y)return W.data;const Z=await $();return h(Q=>new Map(Q).set(I,{data:Z,timestamp:Date.now()})),Z},[d,r]),g=y.useCallback(async()=>{var I,$;c(Y=>({...Y,isLoading:!0,error:null}));try{const Y=[];e&&Y.push(Zn.getWatchlist()),n&&Y.push(Zn.getReminders());const W=await Promise.allSettled(Y),Z={isLoading:!1};if(e&&((I=W[0])==null?void 0:I.status)==="fulfilled"&&(Z.watchlist=W[0].value),n){const Q=e?1:0;(($=W[Q])==null?void 0:$.status)==="fulfilled"&&(Z.reminders=W[Q].value)}c(Q=>({...Q,...Z}))}catch(Y){c(W=>({...W,isLoading:!1,error:Y instanceof Error?Y.message:"Failed to load data"}))}},[e,n]),m=y.useCallback(async I=>{try{const $=await Zn.addToWatchlist(I);if($&&e){const Y=await Zn.getWatchlist();c(W=>({...W,watchlist:Y}))}return $}catch($){return console.error("Error adding to watchlist:",$),!1}},[e]),v=y.useCallback(async(I,$)=>{try{const Y=await Zn.removeFromWatchlist(I,$);return Y&&e&&c(W=>({...W,watchlist:W.watchlist.filter(Z=>!(Z.id===I&&Z.type===$))})),Y}catch(Y){return console.error("Error removing from watchlist:",Y),!1}},[e]),b=y.useCallback(async(I,$)=>e&&l.watchlist.length>0?l.watchlist.some(Y=>Y.id===I&&Y.type===$):await Zn.isInWatchlist(I,$),[l.watchlist,e]),k=y.useCallback(async I=>await b(I.id,I.type)?await v(I.id,I.type):await m(I),[b,v,m]),N=y.useCallback(async I=>{try{return await Wd.launchWatch(I)}catch($){return console.error("Error watching now:",$),!1}},[]),S=y.useCallback(async I=>{const $=`streaming_${I.type}_${I.id}`;return await f($,()=>Wd.getStreamingOptions(I))},[f]),_=y.useCallback(async I=>{const $=`best_watch_${I.type}_${I.id}`;return await f($,()=>Wd.getBestWatchOption(I))},[f]),E=y.useCallback(async(I,$=!1)=>{try{return await Hd.launchTrailer(I,$)}catch(Y){return console.error("Error watching trailer:",Y),!1}},[]),j=y.useCallback(async I=>{const $=`trailers_${I.type}_${I.id}`;return await f($,()=>Hd.getTrailers(I))},[f]),P=y.useCallback(async I=>{const $=`best_trailer_${I.type}_${I.id}`;return await f($,()=>Hd.getBestTrailer(I))},[f]),A=y.useCallback(async(I,$,Y="release")=>{try{let W=$;if(!W){const Q=I.release_date||I.first_air_date;if(Q){const ue=new Date(Q);ue.setDate(ue.getDate()-1),W=ue.toISOString()}else{const ue=new Date;ue.setDate(ue.getDate()+7),W=ue.toISOString()}}const Z=await Zn.setReminder(I,W,Y);if(Z&&n){const Q=await Zn.getReminders();c(ue=>({...ue,reminders:Q}))}return Z}catch(W){return console.error("Error setting reminder:",W),!1}},[n]),O=y.useCallback(async(I,$,Y)=>{try{const W=await Zn.removeReminder(I,$,Y);return W&&n&&c(Z=>({...Z,reminders:Z.reminders.filter(Q=>!(Q.id===I&&Q.type===$&&Q.reminderType===Y))})),W}catch(W){return console.error("Error removing reminder:",W),!1}},[n]),R=y.useCallback((I,$)=>n?l.reminders.some(Y=>Y.id===I&&Y.type===$&&Y.isActive):!1,[l.reminders,n]),T=y.useCallback(()=>{h(new Map)},[]);return{...l,addToWatchlist:m,removeFromWatchlist:v,isInWatchlist:b,toggleWatchlist:k,watchNow:N,getStreamingOptions:S,getBestWatchOption:_,watchTrailer:E,getTrailers:j,getBestTrailer:P,setReminder:A,removeReminder:O,hasReminder:R,refreshData:g,clearCache:T}}function _H(){const{user:t,isAuthenticated:e}=Nn(),[n,r]=y.useState(new Set),[i,l]=y.useState(!0);y.useEffect(()=>{if(!e||!t){r(new Set),l(!1);return}(async()=>{l(!0);try{const[g,m]=await Promise.all([tt("/api/user/watchlist").then(b=>b.json()).catch(()=>({items:[]})),tt("/api/user/reminders").then(b=>b.json()).catch(()=>({items:[]}))]),v=new Set;((g==null?void 0:g.items)||[]).forEach(b=>{const k=b.showId||b.id||b.tmdbId;k&&v.add(Number(k))}),((m==null?void 0:m.items)||[]).forEach(b=>{const k=b.showId||b.id||b.tmdbId;k&&v.add(Number(k))}),r(v)}catch(g){console.error("Error fetching excluded IDs:",g),r(new Set)}finally{l(!1)}})()},[e,t]);const c=y.useCallback(f=>n.size===0?f:f.filter(g=>{const m=typeof g.id=="string"?parseInt(g.id):g.id;return!n.has(m)}),[n]),d=y.useCallback(f=>{const g=typeof f=="string"?parseInt(f):f;return n.has(g)},[n]),h=y.useCallback(async()=>{if(!(!e||!t))try{const[f,g]=await Promise.all([tt("/api/user/watchlist").then(v=>v.json()).catch(()=>({items:[]})),tt("/api/user/reminders").then(v=>v.json()).catch(()=>({items:[]}))]),m=new Set;((f==null?void 0:f.items)||[]).forEach(v=>{const b=v.showId||v.id||v.tmdbId;b&&m.add(Number(b))}),((g==null?void 0:g.items)||[]).forEach(v=>{const b=v.showId||v.id||v.tmdbId;b&&m.add(Number(b))}),r(m)}catch(f){console.error("Error refreshing excluded IDs:",f)}},[e,t]);return{excludeUserShows:c,isExcluded:d,excludedIds:n,isLoading:i,refresh:h}}const HN=()=>{const[t,e]=y.useState([]),[n,r]=y.useState([]),[i,l]=y.useState([]),[c,d]=y.useState([]),[h,f]=y.useState(!0),[g,m]=y.useState(null),[v,b]=y.useState(0),[k,N]=y.useState(0),[S,_]=y.useState({platforms:[],genres:[],timeFilter:null}),{excludeUserShows:E}=_H(),j=y.useMemo(()=>{const K=E(n);return K.find(oe=>{var ae;return(ae=oe.streaming)==null?void 0:ae.length})||K[0]||null},[n,E]),P=y.useMemo(()=>{const K=E(i);return K.find(oe=>{var ae;return(ae=oe.streaming)==null?void 0:ae.length})||K[0]||null},[i,E]),A=y.useMemo(()=>{const K=E(c);return K.find(oe=>{var ae;return(ae=oe.streaming)==null?void 0:ae.length})||K[0]||null},[c,E]),O=y.useMemo(()=>E(t),[t,E]),R=y.useMemo(()=>[{item:j,title:"Just Released & Trending",badge:" TRENDING NOW",color:"bg-gradient-to-r from-red-600 to-orange-600",cta:"Watch Now",action:"watch",isUpcoming:!1},{item:P,title:"Coming Soon  Highly Anticipated",badge:" UPCOMING",color:"bg-gradient-to-r from-purple-600 to-pink-600",cta:"Remind Me",action:"reminder",isUpcoming:!0},{item:A,title:"#1 Show You Haven't Added Yet",badge:" EDITOR'S PICK",color:"bg-gradient-to-r from-teal-600 to-cyan-600",cta:"Watch Now",action:"watch",isUpcoming:!1}].filter(K=>K.item!==null),[j,P,A]);y.useEffect(()=>{if(R.length<=1){console.log(" Spotlight rotation disabled - only",R.length,"spotlight(s)");return}console.log(" Starting spotlight auto-rotation with",R.length,"spotlights");const K=setInterval(()=>{N(oe=>{const ae=(oe+1)%R.length;return console.log(" Spotlight rotating:",oe,"",ae),ae})},8e3);return()=>{console.log(" Clearing spotlight rotation interval"),clearInterval(K)}},[R.length]),y.useEffect(()=>{k>=R.length&&R.length>0&&(console.log(" Resetting spotlight index to 0"),N(0))},[R.length,k]);const T=R[k]||R[0],{addToWatchlist:I,watchNow:$,watchTrailer:Y,setReminder:W}=L2(),Z=y.useCallback(K=>({id:K.id,title:K.title||K.name,name:K.name||K.title,poster_path:K.poster_url||K.poster_path,backdrop_path:K.backdrop_url||K.backdrop_path,release_date:K.release_date,first_air_date:K.first_air_date,vote_average:K.vote_average,overview:K.overview,genre_ids:K.genre_ids||[],media_type:K.media_type,streaming:K.streaming||[],streaming_platforms:K.streaming_platforms||K.streaming||[],streamingPlatforms:K.streamingPlatforms||K.streaming||[]}),[]),Q=y.useCallback(async()=>{var K,oe,ae;try{const be=new Date().toISOString().split("T")[0],Ge=new Date;Ge.setDate(Ge.getDate()+90);const rn=Ge.toISOString().split("T")[0],Vn=[tt("/api/trending/tv/week?includeStreaming=true&limit=20").then(lt=>lt.json()),tt(`/api/tmdb/discover/tv?sort_by=popularity.desc&includeStreaming=true&first_air_date.gte=${be}&first_air_date.lte=${rn}&limit=20`).then(lt=>lt.json()),tt("/api/tmdb/tv/top_rated?includeStreaming=true&limit=20").then(lt=>lt.json()),tt("/api/trending/tv/day?includeStreaming=true&limit=30").then(lt=>lt.json())],[_t,zn,Fr,xo]=await Promise.all(Vn);r(((K=_t==null?void 0:_t.results)==null?void 0:K.map(Z))||[]),l(((oe=zn==null?void 0:zn.results)==null?void 0:oe.map(Z))||[]),d(((ae=Fr==null?void 0:Fr.results)==null?void 0:ae.map(Z))||[]);const ys=[];return[_t,zn,Fr,xo].forEach(lt=>{lt!=null&&lt.results&&ys.push(...lt.results.map($r=>Z($r)))}),ys.filter((lt,$r,vs)=>$r===vs.findIndex(wo=>wo.id===lt.id&&wo.media_type===lt.media_type)).slice(0,100)}catch(be){throw console.error("Error fetching content:",be),be}},[Z]);y.useEffect(()=>{(async()=>{f(!0),m(null);try{const oe=await Q();e(oe)}catch(oe){console.error("Error loading discover content:",oe),m("Failed to load content")}finally{f(!1)}})()},[Q]);const ue=K=>{_(oe=>({...oe,platforms:K})),console.log("Streaming platforms selected:",K)},ce=K=>{_(oe=>({...oe,genres:K})),console.log("Genres selected:",K)},ie=()=>{console.log("Random discovery triggered")},V=K=>{_(oe=>({...oe,timeFilter:K})),console.log("Time filter:",K)},B=K=>{console.log("Quick filter selected:",K);let oe=[...t];switch(K){case"trending":oe=oe.sort((ae,be)=>{const Ge=ae.popularity||ae.vote_count||0;return(be.popularity||be.vote_count||0)-Ge}).slice(0,50);break;case"highly-rated":oe=oe.filter(ae=>(ae.vote_average||0)>=8).sort((ae,be)=>(be.vote_average||0)-(ae.vote_average||0)).slice(0,50);break;case"award-winners":oe=oe.filter(ae=>(ae.vote_average||0)>=7.5).sort((ae,be)=>(be.vote_average||0)-(ae.vote_average||0)).slice(0,50);break;case"new-seasons":oe=oe.filter(ae=>{if((ae.media_type||(ae.name?"tv":"movie"))!=="tv")return!1;const Ge=ae.first_air_date||ae.release_date;if(!Ge)return!1;const rn=new Date(Ge),Vn=new Date;Vn.setMonth(Vn.getMonth()-3);const _t=new Date;return _t.setMonth(_t.getMonth()+3),rn>=Vn&&rn<=_t}).sort((ae,be)=>{const Ge=new Date(ae.first_air_date||ae.release_date||"");return new Date(be.first_air_date||be.release_date||"").getTime()-Ge.getTime()}).slice(0,50);break;case"binge-worthy":oe=oe.filter(ae=>(ae.media_type||(ae.name?"tv":"movie"))==="tv"&&(ae.vote_average||0)>=7).sort((ae,be)=>(be.vote_average||0)-(ae.vote_average||0)).slice(0,50);break;case"hidden-gems":oe=oe.filter(ae=>{const be=ae.vote_average||0,Ge=ae.popularity||ae.vote_count||0;return be>=7&&Ge<500}).sort((ae,be)=>(be.vote_average||0)-(ae.vote_average||0)).slice(0,50);break;default:oe=oe.slice(0,50)}_(ae=>({...ae,quickFilter:K})),e([...oe])},X=K=>{console.log("Media clicked:",K.title||K.name)},F=async K=>{await $({id:K.id.toString(),title:K.title,name:K.name,type:K.media_type||"movie",poster_path:K.poster_path,backdrop_path:K.backdrop_path,release_date:K.release_date,first_air_date:K.first_air_date,vote_average:K.vote_average,overview:K.overview,genre_ids:K.genre_ids})||console.error("Failed to launch watch for:",K.title||K.name)},G=async K=>{await I({id:K.id.toString(),title:K.title,name:K.name,type:K.media_type||"movie",poster_path:K.poster_path,backdrop_path:K.backdrop_path,release_date:K.release_date,first_air_date:K.first_air_date,vote_average:K.vote_average,overview:K.overview,genre_ids:K.genre_ids})?console.log("Added to watchlist:",K.title||K.name):console.error("Failed to add to watchlist")},me=async K=>{await Y({id:K.id.toString(),title:K.title,name:K.name,type:K.media_type||"movie",poster_path:K.poster_path,backdrop_path:K.backdrop_path,release_date:K.release_date,first_air_date:K.first_air_date,vote_average:K.vote_average,overview:K.overview,genre_ids:K.genre_ids},!0)||console.error("No trailer available for:",K.title||K.name)},_e=async K=>{await W({id:K.id.toString(),title:K.title,name:K.name,type:K.media_type||"movie",poster_path:K.poster_path,backdrop_path:K.backdrop_path,release_date:K.release_date,first_air_date:K.first_air_date,vote_average:K.vote_average,overview:K.overview,genre_ids:K.genre_ids})?console.log("Reminder set for:",K.title||K.name):console.error("Failed to set reminder")},Re=K=>{console.log("Show info:",K.title||K.name)};return h?o.jsxs("div",{className:"min-h-screen bg-slate-950",children:[o.jsx(to,{}),o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)]",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Rd,{className:"w-8 h-8 animate-spin text-blue-400 mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading amazing content for you..."})]})})]}):g?o.jsxs("div",{className:"min-h-screen bg-slate-950",children:[o.jsx(to,{}),o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)]",children:o.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-900/20 border border-red-500/50 rounded-2xl p-8 text-center max-w-md mx-4",children:[o.jsx("div",{className:"text-red-400 text-4xl mb-4",children:""}),o.jsx("h3",{className:"text-lg font-semibold text-red-300 mb-2",children:"Failed to Load Content"}),o.jsx("p",{className:"text-red-200 mb-6",children:g}),o.jsxs(le,{onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700",children:[o.jsx(q_,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})})]}):o.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[o.jsx(to,{}),!h&&T&&T.item&&o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 mb-8",children:o.jsxs("div",{className:"relative",children:[R.length>1&&o.jsx("div",{className:"absolute -top-2 right-4 flex gap-2 z-10",children:R.map((K,oe)=>o.jsx(Te.button,{onClick:()=>N(oe),whileHover:{scale:1.2},whileTap:{scale:.9},className:`h-1 rounded-full transition-all duration-300 ${oe===k?"w-8 bg-white shadow-lg shadow-white/50":"w-4 bg-white/30 hover:bg-white/50"}`,"aria-label":`Go to spotlight ${oe+1}`},oe))}),o.jsx(Ra,{mode:"wait",children:o.jsx(Te.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{duration:.5,ease:[.4,0,.2,1]},children:o.jsx(xH,{title:T.title,badge:T.badge,badgeColor:T.color,feature:T.item,onWatchNow:F,onAddToList:G,onSetReminder:_e,ctaText:T.cta,delay:0,isUpcoming:T.isUpcoming})},k)})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8 space-y-16",children:[o.jsx(Te.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:o.jsx(vH,{onGenreMix:ce,onRandomDiscover:ie,onTimeFilter:V,onPersonalityMatch:B,onStreamingFilter:ue,className:"mb-16"})}),o.jsx(Te.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:o.jsx(yH,{mediaData:O,onMediaClick:X,onWatchNow:F,onAddToWatchlist:G,onWatchTrailer:me,onShowInfo:Re,onSetReminder:_e})})]})]})};function jH(){Nn();const{data:t=[],isLoading:e}=ci({queryKey:["/api/activity"]}),n=Array.isArray(t)?t:[],r=(l,c)=>{switch(l){case"watchlist_add":return"added to watchlist";case"watchlist_update":return`marked as ${(c==null?void 0:c.status)||"updated"}`;case"rating":return`rated ${(c==null?void 0:c.rating)||""} stars`;case"comment":return"commented on";default:return"interacted with"}},i=l=>{switch(l){case"watchlist_add":return o.jsx(hi,{className:"h-4 w-4 text-teal-400"});case"watchlist_update":return o.jsx(Rt,{className:"h-4 w-4 text-cyan-400"});case"rating":return o.jsx(Rt,{className:"h-4 w-4 text-teal-400"});case"comment":return o.jsx(K_,{className:"h-4 w-4 text-blue-400"});default:return o.jsx(oo,{className:"h-4 w-4 text-gray-400"})}};return e?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[hsl(228,25%,3%)] via-[hsl(226,22%,6%)] to-[hsl(224,20%,8%)] pb-20",children:[o.jsx(to,{}),o.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 pt-28",children:o.jsx("div",{className:"space-y-6",children:[...Array(5)].map((l,c)=>o.jsx("div",{className:"glass-effect rounded-xl p-6 border border-teal-500/20 animate-pulse",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-full"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4"}),o.jsx("div",{className:"h-3 bg-gray-700 rounded w-1/2"})]})]})},c))})})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[hsl(228,25%,3%)] via-[hsl(226,22%,6%)] to-[hsl(224,20%,8%)] pb-20",children:[o.jsx(to,{}),o.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 pt-28",children:o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gradient-teal mb-2",children:"Activity Feed"}),o.jsx("p",{className:"text-gray-400",children:"See what's happening in your entertainment world"})]}),n.length===0?o.jsxs("div",{className:"glass-effect rounded-xl p-12 border border-teal-500/20 text-center",children:[o.jsx(ii,{className:"h-16 w-16 text-teal-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Activity Yet"}),o.jsx("p",{className:"text-gray-400",children:"Start watching shows and connecting with friends to see activity here!"})]}):o.jsx("div",{className:"space-y-4",children:n.map(l=>{var c,d,h,f,g,m,v,b;return o.jsx("div",{className:"glass-effect rounded-xl p-6 border border-teal-500/20 hover:border-teal-400/40 transition-colors",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsxs(fo,{className:"h-12 w-12",children:[o.jsx(po,{src:((c=l.user)==null?void 0:c.profileImageUrl)||void 0,alt:`${((d=l.user)==null?void 0:d.firstName)||"User"}'s avatar`}),o.jsx(mo,{className:"bg-gradient-to-br from-teal-500 to-cyan-500 text-white",children:((f=(h=l.user)==null?void 0:h.firstName)==null?void 0:f[0])||"U"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i(l.actionType),o.jsxs("p",{className:"text-white",children:[o.jsx("span",{className:"font-semibold",children:((g=l.user)==null?void 0:g.firstName)||"User"})," ",o.jsx("span",{className:"text-gray-300",children:r(l.actionType,l.metadata)})," ",o.jsx("span",{className:"font-medium text-teal-400",children:((m=l.show)==null?void 0:m.title)||"Unknown Show"})]})]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(l.createdAt).toLocaleDateString()," at"," ",new Date(l.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),((v=l.metadata)==null?void 0:v.comment)&&o.jsx("div",{className:"mt-3 p-3 bg-gray-800/50 rounded-lg",children:o.jsxs("p",{className:"text-gray-300 text-sm",children:['"',l.metadata.comment,'"']})})]}),((b=l.show)==null?void 0:b.posterPath)&&o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:`https://image.tmdb.org/t/p/w92${l.show.posterPath}`,alt:l.show.title,className:"w-16 h-24 object-cover rounded-lg"})})]})},l.id)})})]})})]})}const oc=[{id:"1",name:"Alex Chen",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",username:"@alexc",isFollowing:!1},{id:"2",name:"Sarah Kim",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop&crop=face",username:"@sarahk",isFollowing:!0},{id:"3",name:"Mike Johnson",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",username:"@mikej",isFollowing:!0}],CH=[{id:"1",user:oc[1],type:"watched",content:{title:"The Last of Us",poster_path:"/uKvVjHNqB5VmOrdxqAt2F7J78ED.jpg",media_type:"tv"},timestamp:"2 hours ago",likes:12,comments:3,isLiked:!1},{id:"2",user:oc[2],type:"rated",content:{title:"Dune: Part Two",poster_path:"/1pdfLvkbY9ohJlCjQH2CZjjYVvJ.jpg",media_type:"movie",rating:9},timestamp:"4 hours ago",likes:8,comments:1,isLiked:!0},{id:"3",user:oc[0],type:"added_to_list",content:{title:"Wednesday",poster_path:"/9PFonBhy4cQy7Jz20NpMygczOkv.jpg",media_type:"tv"},timestamp:"6 hours ago",likes:5,comments:2,isLiked:!1}];function EH(){const{isAuthenticated:t}=Nn(),[e,n]=y.useState(""),[r,i]=y.useState("feed"),l=oc.filter(c=>c.name.toLowerCase().includes(e.toLowerCase())||c.username.toLowerCase().includes(e.toLowerCase()));return t?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[o.jsx(to,{}),o.jsx("div",{className:"pb-6 px-4 sm:px-6 lg:px-8 pt-28",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:"Social"}),o.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"See what your friends are watching"})]}),o.jsx("div",{className:"flex bg-slate-800/50 rounded-lg p-1",children:[{id:"feed",label:"Feed",icon:ii},{id:"discover",label:"Discover",icon:ja},{id:"friends",label:"Friends",icon:_r}].map(c=>{const d=c.icon;return o.jsxs("button",{onClick:()=>i(c.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-md transition-all ${r===c.id?"bg-teal-600 text-white":"text-gray-400 hover:text-white hover:bg-slate-700/50"}`,children:[o.jsx(d,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:c.label})]},c.id)})}),r==="feed"&&o.jsx(PH,{activities:CH}),r==="discover"&&o.jsx(TH,{users:l,searchTerm:e,setSearchTerm:n}),r==="friends"&&o.jsx(RH,{users:oc.filter(c=>c.isFollowing)})]})})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center px-4",children:o.jsxs("div",{className:"text-center text-white max-w-md",children:[o.jsx(_r,{className:"w-16 h-16 mx-auto mb-4 text-teal-400"}),o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Join the community"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Connect with friends and discover what they're watching"}),o.jsx(le,{className:"bg-teal-600 hover:bg-teal-700",children:"Sign In"})]})})}function PH({activities:t}){const[e,n]=y.useState(new Set),r=i=>{n(l=>{const c=new Set(l);return c.has(i)?c.delete(i):c.add(i),c})};return o.jsx("div",{className:"space-y-4",children:t.map(i=>o.jsx(Qe,{className:"bg-slate-800/50 border-slate-700",children:o.jsx(Xe,{className:"p-4 sm:p-6",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(fo,{className:"w-10 h-10 sm:w-12 sm:h-12 flex-shrink-0",children:[o.jsx(po,{src:i.user.avatar,alt:i.user.name}),o.jsx(mo,{children:i.user.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium text-sm sm:text-base",children:i.user.name}),o.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm",children:[AH(i),"  ",i.timestamp]})]}),o.jsx(le,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 flex-shrink-0",children:o.jsx(CO,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex gap-3 mb-3",children:[o.jsx("img",{src:`https://image.tmdb.org/t/p/w200${i.content.poster_path}`,alt:i.content.title,className:"w-12 h-16 sm:w-16 sm:h-20 object-cover rounded border border-slate-600 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white font-medium text-sm sm:text-base truncate",children:i.content.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Be,{variant:"outline",className:"text-xs",children:i.content.media_type==="tv"?"TV":"Movie"}),i.content.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Rt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),o.jsxs("span",{className:"text-yellow-400 text-xs font-medium",children:[i.content.rating,"/10"]})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-gray-400",children:[o.jsxs("button",{onClick:()=>r(i.id),className:"flex items-center gap-1 hover:text-red-400 transition-colors",children:[o.jsx(hi,{className:`w-4 h-4 ${e.has(i.id)||i.isLiked?"fill-red-400 text-red-400":""}`}),o.jsx("span",{className:"text-sm",children:i.likes})]}),o.jsxs("button",{className:"flex items-center gap-1 hover:text-blue-400 transition-colors",children:[o.jsx(K_,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:i.comments})]}),o.jsx("button",{className:"flex items-center gap-1 hover:text-green-400 transition-colors",children:o.jsx(Y_,{className:"w-4 h-4"})})]})]})]})})},i.id))})}function TH({users:t,searchTerm:e,setSearchTerm:n}){const[r,i]=y.useState(new Set),l=c=>{i(d=>{const h=new Set(d);return h.has(c)?h.delete(c):h.add(c),h})};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(Jt,{placeholder:"Search users...",value:e,onChange:c=>n(c.target.value),className:"pl-10 bg-slate-800/50 border-slate-700 text-white placeholder-gray-400 focus:ring-teal-500 focus:border-teal-500"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(c=>o.jsx(Qe,{className:"bg-slate-800/50 border-slate-700",children:o.jsx(Xe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(fo,{className:"w-12 h-12",children:[o.jsx(po,{src:c.avatar,alt:c.name}),o.jsx(mo,{children:c.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white font-medium truncate",children:c.name}),o.jsx("p",{className:"text-gray-400 text-sm truncate",children:c.username})]}),o.jsx(le,{size:"sm",variant:r.has(c.id)||c.isFollowing?"outline":"default",onClick:()=>l(c.id),className:"flex-shrink-0",children:r.has(c.id)||c.isFollowing?"Following":o.jsxs(o.Fragment,{children:[o.jsx(qy,{className:"w-4 h-4 mr-1"}),"Follow"]})})]})})},c.id))})]})}function RH({users:t}){return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Following (",t.length,")"]}),o.jsxs(le,{size:"sm",className:"bg-teal-600 hover:bg-teal-700",children:[o.jsx(qy,{className:"w-4 h-4 mr-1"}),"Find Friends"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(e=>o.jsx(Qe,{className:"bg-slate-800/50 border-slate-700",children:o.jsx(Xe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(fo,{className:"w-12 h-12",children:[o.jsx(po,{src:e.avatar,alt:e.name}),o.jsx(mo,{children:e.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white font-medium truncate",children:e.name}),o.jsx("p",{className:"text-gray-400 text-sm truncate",children:e.username}),o.jsx("p",{className:"text-teal-400 text-xs",children:"Following"})]}),o.jsx(le,{size:"sm",variant:"outline",children:"Message"})]})})},e.id))})]})}function AH(t){switch(t.type){case"watched":return"watched";case"liked":return"liked";case"added_to_list":return"added to list";case"rated":return"rated";case"shared":return"shared";default:return"interacted with"}}function IH(){const[t]=cr(),[e,n]=y.useState([]),[r,i]=y.useState(!0),c=new URLSearchParams(t.split("?")[1]||"").get("query")||"";y.useEffect(()=>{(async()=>{i(!0);try{if(c.trim()!==""){const m=await f2(c);m.ok?n(m.data):(console.error("Search results fetch error:",m.error),n([]))}else n([])}catch(m){console.error("Search results fetch error:",m),n([])}finally{i(!1)}})()},[c]);const d=g=>{console.log("Add to watchlist:",g)},h=g=>{console.log("Watch trailer:",g)},f=g=>{console.log("Card clicked:",g)};return r?o.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-500 mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-400",children:['Loading results for "',c,'"...']})]})})})}):e.length===0?o.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Search Results"}),o.jsxs("div",{className:"text-center py-20",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsxs("p",{className:"text-xl text-gray-400 mb-2",children:['No results found for "',c,'"']}),o.jsx("p",{className:"text-gray-500",children:"Try searching with different keywords"})]})]})}):o.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Search Results"}),o.jsxs("p",{className:"text-gray-400",children:["Found ",e.length," result",e.length===1?"":"s",' for "',c,'"']})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:e.map(g=>{var m;return o.jsx(Vi,{media:{id:parseInt(g.id),title:g.title,poster_path:(m=g.poster)==null?void 0:m.replace("https://image.tmdb.org/t/p/w300",""),vote_average:g.vote_average,genre_ids:g.genres,overview:g.synopsis,media_type:g.type,release_date:g.year?`${g.year}-01-01`:void 0,first_air_date:g.type==="tv"&&g.year?`${g.year}-01-01`:void 0},variant:"vertical",size:"md",showStreamingLogos:!0,showRating:!0,actions:{watchNow:!0,trailer:!0,addToList:!0},onAddToWatchlist:d,onWatchTrailer:h,onCardClick:f},g.id)})})]})})}function MH(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(Qe,{className:"w-full max-w-md mx-4",children:o.jsxs(Xe,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(bO,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const kd=[{id:1,title:"The Matrix",poster_path:"/f89U3ADr1oiB1s9GkdPOEpXUk5H.jpg",backdrop_path:"/fNG7i7RqMErkcqhohV2a6cV1Ehy.jpg",vote_average:8.7,genre_ids:[28,878,53],overview:"A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.",release_date:"1999-03-31",media_type:"movie",streaming_platforms:[{provider_id:8,provider_name:"Netflix"},{provider_id:337,provider_name:"Disney+"}]},{id:2,title:"Inception",poster_path:"/9gk7adHYeDvHkCSEqAvQNLV5Uge.jpg",backdrop_path:"/s3TBrRGB1iav7gFOCNx3H31MoES.jpg",vote_average:8.8,genre_ids:[28,878,53],overview:"A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.",release_date:"2010-07-16",media_type:"movie",streaming_platforms:[{provider_id:119,provider_name:"Amazon Prime Video"},{provider_id:384,provider_name:"HBO Max"}]},{id:3,name:"Stranger Things",poster_path:"/49WJfeN0moxb9IPfGn8AIqMGskD.jpg",backdrop_path:"/56v2KjBlU4XaOv9rVYEQypROD7P.jpg",vote_average:8.6,genre_ids:[18,9648,878],overview:"When a young boy vanishes, a small town uncovers a mystery involving secret experiments, terrifying supernatural forces, and one strange little girl.",first_air_date:"2016-07-15",media_type:"tv",streaming_platforms:[{provider_id:8,provider_name:"Netflix"}]}],OH=()=>{const t=(e,n)=>{console.log(`${n} clicked for:`,e.title)};return o.jsx("div",{className:"min-h-screen bg-slate-900 p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-white",children:"Premium UniversalMediaCard Showcase"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Modern redesign with floating actions, gradient overlays, and unified styling"})]}),o.jsxs("section",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Spotlight/Hero Card"}),o.jsx(Vi,{media:kd[0],variant:"spotlight",size:"xl",showRating:!0,showGenres:!0,showDescription:!0,showStreamingLogos:!0,actions:{watchNow:!0,trailer:!0,addToList:!0,share:!0},onWatchNow:e=>t(e,"Watch Now"),onWatchTrailer:e=>t(e,"Trailer"),onAddToWatchlist:e=>t(e,"Add to List"),onShareContent:e=>t(e,"Share"),onCardClick:e=>t(e,"Card Click")})]}),o.jsxs("section",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Vertical Cards"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:kd.map(e=>o.jsx(Vi,{media:e,variant:"vertical",size:"md",showRating:!0,showGenres:!0,showReleaseDate:!0,showStreamingLogos:!0,actions:{watchNow:!0,trailer:!0,addToList:!0},onWatchNow:n=>t(n,"Watch Now"),onWatchTrailer:n=>t(n,"Trailer"),onAddToWatchlist:n=>t(n,"Add to List"),onCardClick:n=>t(n,"Card Click")},e.id))})]}),o.jsxs("section",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Horizontal Cards"}),o.jsx("div",{className:"space-y-4",children:kd.map(e=>o.jsx(Vi,{media:e,variant:"horizontal",size:"md",showRating:!0,showDescription:!0,showStreamingLogos:!0,actions:{watchNow:!0,addToList:!0,trailer:!0},onWatchNow:n=>t(n,"Watch Now"),onWatchTrailer:n=>t(n,"Trailer"),onAddToWatchlist:n=>t(n,"Add to List"),onCardClick:n=>t(n,"Card Click")},`horizontal-${e.id}`))})]}),o.jsxs("section",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Compact Cards"}),o.jsx("div",{className:"space-y-3",children:kd.map(e=>o.jsx(Vi,{media:e,variant:"compact",size:"sm",showRating:!0,showReleaseDate:!0,showStreamingLogos:!0,actions:{addToList:!0,watchNow:!0},onWatchNow:n=>t(n,"Watch Now"),onAddToWatchlist:n=>t(n,"Add to List"),onCardClick:n=>t(n,"Card Click")},`compact-${e.id}`))})]}),o.jsxs("section",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Premium Features"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 text-slate-300",children:[o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 p-6 rounded-xl border border-slate-700/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" Modern Design"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:" Gradient overlays & backgrounds"}),o.jsx("li",{children:" Premium glass-morphism effects"}),o.jsx("li",{children:" Enhanced typography & spacing"}),o.jsx("li",{children:" Consistent design language"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 p-6 rounded-xl border border-slate-700/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" Floating Actions"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:" Smooth hover animations"}),o.jsx("li",{children:" Context-aware button placement"}),o.jsx("li",{children:" Backdrop blur effects"}),o.jsx("li",{children:" Micro-interaction feedback"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 p-6 rounded-xl border border-slate-700/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" Enhanced UX"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:" Framer Motion integration"}),o.jsx("li",{children:" Staggered content reveals"}),o.jsx("li",{children:" Scale & glow hover effects"}),o.jsx("li",{children:" Unified interaction patterns"})]})]})]})]})]})})};function DH(t=10){return ci({queryKey:["continue-watching",t],queryFn:async()=>{console.log(" Fetching continue watching list...");try{const e=await tt(`/api/continue-watching?limit=${t}`);if(!e.ok)return console.warn("Continue watching endpoint failed, using fallback data"),og();const n=await e.json();return n.success?(console.log(` Fetched ${n.continueWatching.length} shows to continue`),n.continueWatching):(console.warn("Continue watching API returned error, using fallback data"),og())}catch(e){return console.warn("Continue watching request failed, using fallback data:",e),og()}},staleTime:120*1e3,gcTime:900*1e3})}function og(){return[{showId:93405,title:"Squid Game",mediaType:"tv",lastWatched:"2025-08-04T15:30:00Z",platform:{provider_name:"Netflix",provider_id:8,logo_path:"/9A1JSVmSxsyaBK4SUFsYVqbAYfW.jpg"},poster_path:"/dDlEmu3EZ0Pgg93K2SVNLCjCSvE.jpg",backdrop_path:"/qw3J9cNeLioOLoR68WX7z79aCdK.jpg",currentEpisode:{seasonNumber:1,episodeNumber:4,progressPercentage:65,duration:54,watchedDuration:35},totalEpisodes:9,completedEpisodes:3},{showId:119051,title:"Wednesday",mediaType:"tv",lastWatched:"2025-08-03T20:15:00Z",platform:{provider_name:"Netflix",provider_id:8,logo_path:"/9A1JSVmSxsyaBK4SUFsYVqbAYfW.jpg"},poster_path:"/9PFonBhy4cQy7Jz20NpMygczOkv.jpg",backdrop_path:"/iHSwvRVsRyxpX7FE7GbviaDvgGZ.jpg",currentEpisode:{seasonNumber:1,episodeNumber:2,progressPercentage:25,duration:48,watchedDuration:12},totalEpisodes:8,completedEpisodes:1},{showId:1396,title:"Breaking Bad",mediaType:"tv",lastWatched:"2025-08-02T18:45:00Z",platform:{provider_name:"Netflix",provider_id:8,logo_path:"/9A1JSVmSxsyaBK4SUFsYVqbAYfW.jpg"},poster_path:"/3xnWaLQjelJDDF7LT1WBo6f4BRe.jpg",backdrop_path:"/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg",currentEpisode:{seasonNumber:3,episodeNumber:7,progressPercentage:90,duration:47,watchedDuration:42},totalEpisodes:62,completedEpisodes:32}]}function LH(){const[t,e]=y.useState(!1),[n,r]=y.useState(null),i=uo(),c=lc({mutationFn:async v=>(console.log(" Updating watch status:",v),await new Promise(b=>setTimeout(b,500)),{success:!0,data:v}),onSuccess:()=>{i.invalidateQueries({queryKey:["continue-watching"]}),i.invalidateQueries({queryKey:["viewing-history"]}),r(null)},onError:v=>{r(v),console.error("Failed to update watch status:",v)}}),d=y.useCallback(v=>{c.mutate(v)},[c]),h=y.useCallback(v=>{d({showId:v,status:"completed",progressPercent:100,lastWatched:new Date().toISOString()})},[d]),f=y.useCallback((v,b,k)=>{d({showId:v,status:"watching",currentEpisode:b,currentSeason:k,lastWatched:new Date().toISOString()})},[d]),g=y.useCallback(v=>{d({showId:v,status:"paused",lastWatched:new Date().toISOString()})},[d]),m=y.useCallback((v,b,k)=>{d({showId:v,status:"watching",progressPercent:Math.max(0,Math.min(100,b)),currentEpisode:k,lastWatched:new Date().toISOString()})},[d]);return{updateWatchStatus:d,markAsCompleted:h,markAsWatching:f,removeFromContinueWatching:g,updateProgress:m,isLoading:c.isPending,error:c.error||n}}function _d({className:t,...e}){return o.jsx("div",{className:De("animate-pulse rounded-md bg-gray-700",t),...e})}const FH=({id:t,title:e,episode:n,platform:r,thumbnail:i,backdrop_path:l,poster_path:c,duration:d,progress:h,mediaType:f,seasonNumber:g,episodeNumber:m,totalEpisodes:v,onPlay:b,onRemove:k})=>{var ie;const[N,S]=y.useState(!1),[_,E]=y.useState(!1),[j,P]=y.useState(!1),A=y.useRef(null),{data:O}=Ev(t,f,e),{markAsCompleted:R,removeFromContinueWatching:T,isLoading:I}=LH(),$=Math.min(h/d*100,100),Y=l?`https://image.tmdb.org/t/p/w780${l}`:c?`https://image.tmdb.org/t/p/w500${c}`:i;hf(r);const W=f==="tv"&&g&&m?`S${g}E${m}${n?`  ${n}`:""}`:n,Z=d-h,Q=Math.ceil(Z/60),ue=Q>60?`${Math.floor(Q/60)}h ${Q%60}m left`:`${Q}m left`;y.useEffect(()=>{var B;let V;return N&&((B=O==null?void 0:O.primaryTrailer)!=null&&B.embeddableUrl)?V=setTimeout(()=>{P(!0)},800):P(!1),()=>{V&&clearTimeout(V)}},[N,O]);const ce=()=>{b({id:t,title:e,episode:W,platform:r,mediaType:f,seasonNumber:g,episodeNumber:m,progress:h})};return o.jsx("div",{className:"relative w-80 flex-shrink-0 group cursor-pointer",onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:o.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-2xl bg-slate-900 transition-all duration-500 ease-out group-hover:scale-105 group-hover:shadow-3xl",children:[o.jsxs("div",{className:"relative w-full h-44 overflow-hidden",children:[!_&&o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-800 to-slate-900 animate-pulse"}),o.jsx("img",{src:Y,alt:e,className:`w-full h-full object-cover transition-all duration-700 ease-out ${_?"opacity-100":"opacity-0"} ${N?"scale-110":"scale-100"} ${j?"opacity-20":"opacity-100"}`,onLoad:()=>E(!0),onError:V=>{const B=V.target;if(B.src.includes("backdrop")&&c){B.src=`https://image.tmdb.org/t/p/w500${c}`;return}B.src=`data:image/svg+xml;base64,${btoa(`
                <svg width="400" height="225" xmlns="http://www.w3.org/2000/svg">
                  <defs>
                    <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:#374151;stop-opacity:1" />
                      <stop offset="100%" style="stop-color:#1f2937;stop-opacity:1" />
                    </linearGradient>
                  </defs>
                  <rect width="400" height="225" fill="url(#grad)" rx="8"/>
                  <text x="200" y="112" font-family="Arial, sans-serif" font-size="16" 
                        text-anchor="middle" fill="#9ca3af" opacity="0.7">No Image</text>
                </svg>
              `)}`}}),j&&((ie=O==null?void 0:O.primaryTrailer)==null?void 0:ie.embeddableUrl)&&o.jsx("div",{className:"absolute inset-0 bg-black/20",children:o.jsx("iframe",{ref:A,src:`${O.primaryTrailer.embeddableUrl}?autoplay=1&mute=1&controls=0&loop=1&modestbranding=1&rel=0`,className:"w-full h-full object-cover",frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:`${e} trailer`})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx(ic,{providers:typeof r=="string"?[{provider_id:1,provider_name:r}]:[{provider_id:1,provider_name:(r==null?void 0:r.provider_name)||(r==null?void 0:r.name)||"Platform",logo_path:r==null?void 0:r.logo_path}],size:"sm",maxDisplayed:1})}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-black/60 to-black/40",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-red-600 to-red-500 shadow-lg transition-all duration-700 ease-out",style:{width:`${$}%`}})}),o.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent transition-opacity duration-500 ${N?"opacity-100":"opacity-0"}`,children:[o.jsxs("div",{className:"absolute bottom-4 left-4 flex gap-3",children:[o.jsx("button",{onClick:ce,className:"w-10 h-10 rounded-full bg-white text-black hover:bg-gray-200 transition-all duration-300 flex items-center justify-center shadow-lg hover:scale-110",title:`Continue watching on ${typeof r=="string"?r:(r==null?void 0:r.provider_name)||"Platform"}`,children:o.jsx(At,{size:18,fill:"currentColor"})}),o.jsx("button",{onClick:V=>{V.stopPropagation(),R(parseInt(t))},className:"w-10 h-10 rounded-full bg-green-600/90 backdrop-blur-sm text-white hover:bg-green-500 transition-all duration-300 flex items-center justify-center shadow-lg hover:scale-110 border border-white/20",title:"Mark as completed",disabled:I,children:o.jsx(qh,{size:16})}),o.jsx("button",{onClick:V=>{V.stopPropagation(),T(parseInt(t)),k(t)},className:"w-10 h-10 rounded-full bg-slate-800/90 backdrop-blur-sm text-white hover:bg-red-600 transition-all duration-300 flex items-center justify-center shadow-lg hover:scale-110 border border-white/20",title:"Remove from continue watching",disabled:I,children:o.jsx(gs,{size:16})}),o.jsx("button",{className:"w-10 h-10 rounded-full bg-slate-800/90 backdrop-blur-sm text-white hover:bg-slate-700 transition-all duration-300 flex items-center justify-center shadow-lg hover:scale-110 border border-white/20",title:"Show info",children:o.jsx(Ag,{size:16})})]}),o.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[o.jsxs("div",{className:"bg-black/80 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs text-white/90 flex items-center gap-2 border border-white/10",children:[o.jsx(oo,{size:12}),o.jsx("span",{className:"font-medium",children:ue})]}),(()=>{const V=new Date("2025-08-04T15:30:00Z"),B=Math.floor((Date.now()-V.getTime())/(1e3*60*60*24));return B>0?o.jsxs(Be,{variant:B>7?"destructive":B>3?"secondary":"default",className:"text-xs px-2 py-1 bg-black/60 backdrop-blur-sm border border-white/10",children:[o.jsx(Ga,{size:10,className:"mr-1"}),B,"d ago"]}):null})()]}),(O==null?void 0:O.primaryTrailer)&&!j&&o.jsx("div",{className:"absolute bottom-4 right-4 bg-red-600/95 backdrop-blur-sm px-3 py-1 rounded-full text-xs text-white font-semibold tracking-wide shadow-lg",children:" TRAILER"})]}),o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-black/30 transition-opacity duration-500 ${N?"opacity-60":"opacity-30"}`})]}),o.jsx("div",{className:"p-4 bg-gradient-to-t from-slate-900 to-slate-800 border-t border-white/5",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"font-bold text-white text-base truncate leading-tight",children:e}),W&&o.jsx("p",{className:"text-sm text-slate-300 truncate font-medium",children:W})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-slate-400 font-medium",children:[Math.round($),"% watched"]}),o.jsx("span",{className:"text-slate-500",children:""}),o.jsx("span",{className:"text-slate-500 font-medium",children:ue})]}),v&&o.jsxs("span",{className:"text-slate-500 font-medium",children:["Episode ",m,"/",v]})]}),o.jsxs("div",{className:"relative w-full bg-slate-700/50 rounded-full h-2 overflow-hidden shadow-inner",children:[o.jsx("div",{className:"h-full bg-gradient-to-r from-red-600 via-red-500 to-red-400 transition-all duration-1000 ease-out rounded-full shadow-lg",style:{width:`${$}%`}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/10 rounded-full"}),o.jsx("div",{className:"absolute inset-0 flex justify-between items-center px-1",children:[25,50,75].map(V=>o.jsx("div",{className:`w-0.5 h-1 rounded-full transition-colors duration-300 ${$>=V?"bg-white/40":"bg-white/10"}`},V))})]}),f==="tv"&&g&&o.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-500",children:[o.jsxs("span",{children:["Season ",g]}),v&&o.jsxs("span",{children:[Math.round((m||1)/v*100),"% of season"]})]})]})]})})]})})},$H=({limit:t=10,className:e=""})=>{const{data:n=[],isLoading:r,error:i}=DH(t),l=y.useRef(null),[c,d]=y.useState(!1),[h,f]=y.useState(!1),g=()=>{if(l.current){const{scrollLeft:k,scrollWidth:N,clientWidth:S}=l.current;d(k>0),f(k<N-S-10)}};y.useEffect(()=>{g();const k=l.current;if(k){k.addEventListener("scroll",g);const N=new ResizeObserver(g);return N.observe(k),()=>{k.removeEventListener("scroll",g),N.disconnect()}}},[n]);const m=k=>{if(l.current){const S=l.current.scrollLeft+(k==="left"?-320:320);l.current.scrollTo({left:S,behavior:"smooth"})}},v=k=>{console.log("Playing:",k),alert(`Resume watching: ${k.title}
${k.episode?`Episode: ${k.episode}`:""}
Platform: ${k.platform}`)},b=async k=>{if(console.log("Removing from continue watching:",k),confirm("Remove this item from Continue Watching?"))try{(await fetch(`/api/continue-watching/${k}`,{method:"DELETE",credentials:"include"})).ok?window.location.reload():console.error("Failed to remove item")}catch(N){console.error("Error removing item:",N)}};return r?o.jsxs("section",{className:`space-y-4 ${e}`,children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Continue Watching"}),o.jsx("div",{className:"flex gap-4 overflow-hidden",children:Array.from({length:4}).map((k,N)=>o.jsxs("div",{className:"w-80 flex-shrink-0",children:[o.jsx(_d,{className:"w-full h-44 rounded-t-xl"}),o.jsxs("div",{className:"bg-slate-900 p-3 rounded-b-xl space-y-2",children:[o.jsx(_d,{className:"h-4 w-3/4"}),o.jsx(_d,{className:"h-3 w-1/2"}),o.jsx(_d,{className:"h-1.5 w-full"})]})]},N))})]}):i||!(n!=null&&n.length)?null:o.jsxs("section",{className:`space-y-6 ${e}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white tracking-tight",children:"Continue Watching"}),o.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Pick up where you left off"})]}),o.jsxs("div",{className:"hidden lg:flex gap-2",children:[o.jsx("button",{className:`p-3 rounded-full bg-slate-800/50 backdrop-blur-sm text-white hover:bg-slate-700 transition-all duration-300 border border-slate-600/50 ${c?"hover:scale-110":"opacity-40 cursor-not-allowed"}`,onClick:()=>m("left"),disabled:!c,children:o.jsx(wO,{size:20})}),o.jsx("button",{className:`p-3 rounded-full bg-slate-800/50 backdrop-blur-sm text-white hover:bg-slate-700 transition-all duration-300 border border-slate-600/50 ${h?"hover:scale-110":"opacity-40 cursor-not-allowed"}`,onClick:()=>m("right"),disabled:!h,children:o.jsx(V_,{size:20})})]})]}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{ref:l,className:"flex gap-6 overflow-x-auto scroll-smooth pb-6 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:n.map(k=>{var N,S,_,E,j,P;return o.jsx(FH,{id:((N=k.showId)==null?void 0:N.toString())||((S=k.id)==null?void 0:S.toString())||"",title:k.title,episode:k.currentEpisode?`Episode ${k.currentEpisode.episodeNumber}`:void 0,platform:k.platform,thumbnail:k.poster_path?`https://image.tmdb.org/t/p/w500${k.poster_path}`:"",backdrop_path:k.backdrop_path,poster_path:k.poster_path,duration:((_=k.currentEpisode)==null?void 0:_.duration)||3600,progress:((E=k.currentEpisode)==null?void 0:E.watchedDuration)||0,mediaType:k.mediaType,seasonNumber:(j=k.currentEpisode)==null?void 0:j.seasonNumber,episodeNumber:(P=k.currentEpisode)==null?void 0:P.episodeNumber,totalEpisodes:k.totalEpisodes,onPlay:v,onRemove:b},k.showId||k.id)})}),o.jsx("div",{className:"absolute left-0 top-0 bottom-6 w-8 bg-gradient-to-r from-slate-950 to-transparent pointer-events-none z-10"}),o.jsx("div",{className:"absolute right-0 top-0 bottom-6 w-16 bg-gradient-to-l from-slate-950 to-transparent pointer-events-none z-10"})]})]})},UH={"hbo max":"max",hbo:"max","hbo max amazon channel":"max","max amazon channel":"max","amazon prime video":"prime-video","prime video":"prime-video","amazon video":"prime-video","amazon prime":"prime-video","amazon prime video with ads":"prime-video","apple tv+":"apple-tv","apple tv plus":"apple-tv","apple tv":"apple-tv","apple tv plus amazon channel":"apple-tv","disney+":"disney-plus","disney plus":"disney-plus",disney:"disney-plus",netflix:"netflix","netflix standard with ads":"netflix","netflix basic with ads":"netflix",hulu:"hulu","hulu (no ads)":"hulu","hulu + live tv":"hulu","paramount+":"paramount-plus","paramount plus":"paramount-plus",paramount:"paramount-plus","cbs all access":"paramount-plus",peacock:"peacock","peacock premium":"peacock","peacock premium plus":"peacock",showtime:"showtime","showtime amazon channel":"showtime","paramount+ with showtime":"showtime",starz:"starz","starz amazon channel":"starz",crunchyroll:"crunchyroll","crunchyroll amazon channel":"crunchyroll",funimation:"crunchyroll","espn+":"espn-plus","espn plus":"espn-plus","discovery+":"discovery-plus","discovery plus":"discovery-plus",tubi:"tubi","pluto tv":"pluto-tv","youtube tv":"youtube-tv",fubo:"fubo",fubotv:"fubo"},BH=t=>{if(!t)return"";const e=t.toLowerCase().trim();return UH[e]||e};function VH(t){if(t.media_type){if(t.media_type==="movie")return"movie";if(t.media_type==="tv")return"tv"}return t.sportsLeague||t.homeTeam||t.awayTeam?"sports":t.episode_count||t.number_of_episodes||t.number_of_seasons||t.first_air_date?"tv":t.release_date||t.title?"movie":t.name?"tv":"movie"}function zH(t){const n=[...t.streamingPlatforms||[],...t.streaming||[],...t.streaming_platforms||[],...t.raw_streaming_platforms||[],...t.raw_streamingPlatforms||[]].reduce((i,l)=>{const c=`${l.provider_id||0}-${l.provider_name||l.name||""}`;return i.some(h=>`${h.provider_id||0}-${h.provider_name||h.name||""}`===c)||i.push({provider_id:l.provider_id||i.length+1,provider_name:l.provider_name||l.name||`Platform ${i.length+1}`,logo_path:l.logo_path||void 0,source:l.source}),i},[]),r=n.map(i=>i.provider_name||i.name||"").filter(Boolean).map(i=>BH(i));return{platforms:n,normalizedProviders:Array.from(new Set(r))}}function WH(t){if(!t.matchTime)return!1;try{const e=new Date(t.matchTime),n=new Date;return Math.abs(n.getTime()-e.getTime())/(1e3*60)<=180&&n>=e}catch{return!1}}function HH(t){if(!t.matchTime)return null;try{const e=new Date(t.matchTime);return e>new Date?e:null}catch{return null}}function GH(t){const e=t.awards||{};return{wins:e.wins||0,nominations:e.nominations||0,type:e.type,isWinner:e.isWinner||e.wins&&e.wins>0||!1,isAwardNominated:e.isAwardNominated||e.nominations&&e.nominations>0||!1}}function KH(t){return t.title||t.name||"Untitled"}function qH(t){const e=t.release_date||t.first_air_date;if(!e)return null;try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return e}}function YH(t){const e=t.release_date||t.first_air_date;if(!e)return!1;try{return new Date(e)>new Date}catch{return!1}}function QH(t,e,n,r){let i=0;return r&&(i+=1e3),t.isWinner&&(i+=500),t.nominations&&t.nominations>0&&(i+=250),i+=e*10,n&&(i+=100),i}function GN(t){return t.map((e,n)=>{const r=VH(e),{platforms:i,normalizedProviders:l}=zH(e),c=r==="sports"?WH(e):!1,d=r==="sports"?HH(e):null,h=r==="sports"?{sportsLeague:e.sportsLeague,homeTeam:e.homeTeam,awayTeam:e.awayTeam,matchTime:e.matchTime,isLive:c,score:e.score,venue:e.venue}:void 0,f=GH(e),g=KH(e),m=qH(e),v=YH(e),b=QH(f,i.length,v,c);return{id:typeof e.id=="string"?parseInt(e.id):e.id,type:r,displayTitle:g,displayDate:m,title:e.title,name:e.name,overview:e.overview,poster_path:e.poster_path,backdrop_path:e.backdrop_path,vote_average:e.vote_average||0,vote_count:e.vote_count||0,popularity:e.popularity||0,genre_ids:e.genre_ids||[],genres:e.genres,release_date:e.release_date,first_air_date:e.first_air_date,streaming:i,normalizedProviders:l,streaming_count:i.length,isLive:c,nextMatchTime:d,sportsInfo:h,isUpcoming:v,isAwardWinner:f.isWinner||!1,isAwardNominated:f.isAwardNominated||!1,awards:f,personalizedScore:e.personalizedScore||Math.random()*.5+.5,reason:e.reason||"Recommended for you",priority:b,originalData:e}})}const ZH=({commit:t,generatedAt:e,className:n=""})=>{const r=window.__BUILD_INFO__||{},i=(t||r.commit||"dev").toString(),l=e||r.timestamp||r.generatedAt;return o.jsxs("div",{className:`fixed bottom-2 right-2 z-50 text-[10px] px-2 py-1 rounded bg-slate-800/80 border border-slate-600 text-slate-300 font-mono backdrop-blur ${n}`,title:`Commit: ${i}
Built: ${l||"unknown"}`,children:["build ",i]})},XH="w1280",JH="w500";function KN(t,e="original"){return t?t.startsWith("http")?t:`https://image.tmdb.org/t/p/${e}${t}`:""}const eG=({title:t,children:e})=>o.jsxs("section",{className:"w-full space-y-6",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white tracking-tight",children:t}),e]}),tG=()=>{const[t,e]=y.useState(""),[n,r]=y.useState("success"),{addToWatchlist:i,watchNow:l,watchTrailer:c}=L2(),{data:d,isLoading:h}=ci({queryKey:["trending"],queryFn:async()=>{const E=await tt("/api/trending/tv/day?includeStreaming=true");if(!E.ok)throw new Error("Failed to fetch trending");return E.json()}}),{data:f,isLoading:g}=ci({queryKey:["personalized-multiapi","v1"],queryFn:async()=>{const E=await tt("/api/personalized/tv?sort_by=popularity.desc&includeStreaming=true");if(!E.ok)throw new Error("Failed to fetch recommendations");return E.json()}}),m=y.useMemo(()=>{if(!d)return[];const E=(d==null?void 0:d.results)||[];return E.length===0?(console.warn(" Trending data is empty"),[]):GN(E)},[d]),v=y.useMemo(()=>{var j;if(m.length===0)return console.log(" No spotlight: processedTrending is empty"),null;try{const P=localStorage.getItem("dashboard-spotlight"),A=localStorage.getItem("dashboard-spotlight-time"),O=Date.now(),R=3600*1e3;if(P&&A&&O-parseInt(A)<R){const T=JSON.parse(P),I=m.find($=>$.id===T.id);if(I)return console.log(" Using cached spotlight:",I.title||I.name),I}}catch{localStorage.removeItem("dashboard-spotlight"),localStorage.removeItem("dashboard-spotlight-time")}const E=m.find(P=>{var A;return((A=P.streaming)==null?void 0:A.length)>0})||m[0];if(E){console.log(" Selected new spotlight:",E.title||E.name,"streaming:",((j=E.streaming)==null?void 0:j.length)||0);try{localStorage.setItem("dashboard-spotlight",JSON.stringify({id:E.id})),localStorage.setItem("dashboard-spotlight-time",Date.now().toString())}catch{}}return E},[m]),b=y.useMemo(()=>{const E=(f==null?void 0:f.results)||[];return GN(E).slice(0,6)},[f]),k=E=>({id:E.id.toString(),title:E.title,name:E.name,type:E.type==="movie"?"movie":"tv",poster_path:E.poster_path,backdrop_path:E.backdrop_path,release_date:E.release_date,first_air_date:E.first_air_date,vote_average:E.vote_average,overview:E.overview,genre_ids:E.genre_ids}),N=async E=>{try{const j=await i(k(E));e(j?`Added "${E.title||E.name}" to watchlist!`:"Failed to add to watchlist"),r(j?"success":"error")}catch{e("Failed to add to watchlist"),r("error")}},S=async E=>{try{await l(k(E))||(e("No streaming option available"),r("error"))}catch{e("Failed to launch watch"),r("error")}},_=async E=>{try{await c(k(E),!0)||(e("No trailer available"),r("error"))}catch{e("Failed to load trailer"),r("error")}};return o.jsxs("div",{className:"min-h-screen bg-slate-950 w-full overflow-x-hidden",children:[o.jsx(to,{}),o.jsxs("main",{className:"w-full max-w-none px-6 py-6 space-y-12","aria-live":"polite",children:[h?o.jsx("div",{className:"relative w-full rounded-xl overflow-hidden shadow-xl min-h-[400px] bg-slate-800 animate-pulse flex items-end p-6",children:o.jsxs("div",{className:"flex gap-6 items-end w-full",children:[o.jsx("div",{className:"w-44 aspect-[2/3] bg-slate-700 rounded-lg"}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx("div",{className:"h-10 bg-slate-700/70 rounded w-3/4"}),o.jsx("div",{className:"h-4 bg-slate-700/60 rounded w-full"}),o.jsx("div",{className:"h-4 bg-slate-700/60 rounded w-5/6"})]})]})}):v?o.jsxs(Te.div,{initial:{opacity:0,y:25},animate:{opacity:1,y:0},transition:{duration:1.1,ease:"easeOut"},className:"relative w-full rounded-xl overflow-hidden shadow-xl min-h-[400px]",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center filter brightness-75",style:{backgroundImage:`url(${KN(v.backdrop_path,XH)})`}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950/80 via-transparent to-transparent"}),o.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center md:items-end gap-6 p-6",children:[o.jsx("div",{className:"flex-shrink-0 w-44 rounded-lg overflow-hidden shadow-2xl ring-1 ring-slate-900/60",children:o.jsx("img",{src:KN(v.poster_path,JH),alt:v.title||v.name,className:"w-full h-full object-cover",loading:"lazy"})}),o.jsxs("div",{className:"flex-1 space-y-3 text-white",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:v.title||v.name}),o.jsx("p",{className:"text-gray-200 line-clamp-3",children:v.overview}),o.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[v.streaming&&v.streaming.length>0?o.jsx(le,{onClick:()=>S(v),className:"bg-red-600 hover:bg-red-700 text-white flex items-center gap-2 px-4 py-2.5",children:o.jsxs("span",{className:"flex items-center gap-2",children:[" Watch Now",v.streaming[0].logo_path&&o.jsx("img",{src:`https://image.tmdb.org/t/p/w92${v.streaming[0].logo_path}`,alt:v.streaming[0].provider_name,className:"w-6 h-6 object-contain rounded-sm bg-white/90 p-0.5"})]})}):o.jsx(le,{onClick:()=>S(v),className:"bg-red-600 hover:bg-red-700 text-white flex items-center gap-2 px-4 py-2.5",children:" Watch Now"}),o.jsx(wc,{show:{id:v.id,tmdbId:v.id,title:v.title||v.name||"Unknown"},variant:"outline",className:"text-white border-white hover:bg-white/10 px-4 py-2.5",showLabel:!0}),o.jsx(le,{onClick:()=>N(v),variant:"ghost",className:"text-white border border-white hover:bg-white/10 px-4 py-2.5",children:"+ My List"})]})]})]})]}):o.jsx("div",{className:"w-full min-h-[300px] rounded-xl flex items-center justify-center bg-slate-800/40 border border-slate-700 text-slate-300",children:o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"text-lg font-semibold",children:"No trending shows available"}),o.jsx("p",{className:"text-sm opacity-80",children:"Check back soon for new content"})]})}),o.jsx(eG,{title:"For You",children:g?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-3",children:Array.from({length:6}).map((E,j)=>o.jsx("div",{className:"aspect-[2/3] bg-slate-800 rounded-lg animate-pulse"},j))}):o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-3 auto-rows-fr",children:b.map(E=>o.jsx("div",{className:"w-full h-full flex",children:o.jsx(Vi,{media:E,variant:"vertical-polished",size:"sm",showRating:!0,showStreamingLogos:!0,actions:{watchNow:!0,trailer:!0,addToList:!0},moveButtonsToBottom:!0,onAddToWatchlist:j=>{N(j)},onWatchNow:j=>{S(j)},onWatchTrailer:j=>{_(j)}})},E.id))})}),o.jsx($H,{limit:10})]}),t&&o.jsx("div",{className:`fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 ${n==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:t}),o.jsx(ZH,{className:"fixed bottom-3 right-3 opacity-80 hover:opacity-100 transition-opacity"})]})},nG=()=>(console.log(" NUCLEAR TEST SUCCESS - October 13, 2025 6:35pm "),console.log(" Deployment is working! This is the test page."),o.jsxs("div",{style:{padding:"2rem",backgroundColor:"#000",color:"#fff",textAlign:"center",minHeight:"100vh",fontSize:"2rem"},children:[o.jsx("h1",{children:" DEPLOYMENT TEST SUCCESS"}),o.jsx("p",{children:"October 13, 2025 6:35pm"}),o.jsx("p",{children:"If you see this page, deployment is working!"}),o.jsx("p",{children:"Check console for debug messages."})]})),rG=Ze.lazy(()=>yt(()=>import("./test-personalized-CJNO4ELh.js"),[])),sG=[{path:"/landing",component:PP},{path:"/login",component:nB},{path:"/signup",component:aB},{path:"/reset",component:lB},{path:"/card-demo",component:OH}],iG=[{path:"/discover",component:HN,requireAuth:!0},{path:"/lists",component:jH,requireAuth:!0},{path:"/friends",component:EH,requireAuth:!0},{path:"/dashboard",component:tG,requireAuth:!0},{path:"/modern-discover",component:HN,requireAuth:!0},{path:"/search",component:IH,requireAuth:!0},{path:"/test-personalized",component:rG,lazy:!0,requireAuth:!0},{path:"/deployment-test",component:nG,requireAuth:!0}],oG={component:MH},aG=["/","/landing","/discover","/lists","/friends","/dashboard"];function lG(){var d,h,f;const{user:t,isAuthenticated:e,isLoading:n}=Nn(),[r]=cr(),[i,l]=y.useState(!1);if(y.useEffect(()=>{if(e&&t){const g=t.id||t.email;localStorage.getItem(`onboarding-completed-${g}`)==="true"||(localStorage.setItem(`onboarding-completed-${g}`,"true"),console.log(" Force-completed onboarding for existing user:",g)),l(!1)}},[e,t]),y.useEffect(()=>{const g=document.getElementById("loadingScreen");g&&(g.style.display="none",console.log(" Loading screen removed after React mount"))},[]),n)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-500 mx-auto"}),o.jsx("p",{className:"text-gray-400 mt-4",children:" Checking authentication..."})]})});const c=!aG.includes(r);return o.jsxs("div",{className:"min-h-screen flex flex-col bg-black overflow-x-hidden",children:[c&&(e?o.jsx(A$,{}):o.jsx(V$,{})),o.jsx("main",{className:`flex-1 ${c?"pt-16 pb-20 md:pb-20":"pt-0 pb-0"}`,children:o.jsxs(dI,{children:[sG.map(g=>o.jsx(Ho,{path:g.path,children:o.jsx(Bm,{component:g.component})},g.path)),o.jsx(Ho,{path:"/upcoming",children:o.jsx(jd,{to:"/discover"})}),o.jsx(Ho,{path:"/activity",children:o.jsx(jd,{to:"/lists"})}),o.jsx(Ho,{path:"/",children:(console.log(` Root route: isAuthenticated=${e}, isLoading=${n}, user=${(t==null?void 0:t.email)||"null"}, redirecting to ${e?"dashboard":"landing"}`),e?o.jsx(jd,{to:"/dashboard"}):o.jsx(PP,{}))}),iG.map(g=>o.jsx(Ho,{path:g.path,children:o.jsx(Bm,{component:g.component,lazy:g.lazy,requireAuth:g.requireAuth})},g.path)),o.jsx(Ho,{children:o.jsx(Bm,{component:oG.component})})]})}),e&&o.jsx(zF,{}),e&&o.jsx(WF,{}),e&&o.jsx(B$,{isOpen:i,onComplete:()=>{console.log(" Premium onboarding completed!"),(t!=null&&t.id||t!=null&&t.email)&&localStorage.setItem(`onboarding-completed-${t.id||t.email}`,"true"),l(!1)},userDisplayName:(t==null?void 0:t.displayName)||((d=t==null?void 0:t.email)==null?void 0:d.split("@")[0])||"Friend",userData:t?{firstName:(h=t.displayName)==null?void 0:h.split(" ")[0],lastName:(f=t.displayName)==null?void 0:f.split(" ")[1],email:t.email,profileImage:t.photoURL,provider:t.authProvider}:void 0}),o.jsx(z$,{onAccept:()=>{console.log("Consent accepted"),e||(window.location.href="/landing")},onDecline:()=>{console.log("Consent declined"),e||(window.location.href="/landing")}})]})}function cG(){return o.jsx(GI,{children:o.jsx(x_,{children:o.jsx(K$,{children:o.jsxs(W$,{children:[o.jsx(lG,{}),o.jsx(qO,{})]})})})})}const uG="2025-10-13T18:25:00.000Z",dG="3.0-force-update";console.log(" FORCE UPDATE DEPLOYMENT TEST:",uG,dG);console.log(" MAIN.TSX LOADED - Starting React app");const hG=()=>{const e=new URLSearchParams(window.location.search).get("p");if(e&&e!=="/"){const n=window.location.origin+e;window.history.replaceState(null,"",n),console.log(" SPA routing: redirected from 404 to",e)}};hG();const fG=()=>{try{if(!He){console.warn(" Firebase auth not available");return}window.firebaseAuth=He,window.testLogin=async()=>{console.log(" Testing login from console...");const{GoogleAuthProvider:t,signInWithPopup:e}=await yt(async()=>{const{GoogleAuthProvider:r,signInWithPopup:i}=await Promise.resolve().then(()=>Ks);return{GoogleAuthProvider:r,signInWithPopup:i}},void 0),n=new t;n.addScope("email"),n.addScope("profile"),n.setCustomParameters({prompt:"select_account"});try{const i=(await e(He,n)).user,l=await i.getIdToken(!0);console.log(" Login success:",i.email),console.log(" Token preview:",l.substring(0,50)+"...");const c=await tt("/api/auth/user",{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});console.log(" API Status:",c.status),c.ok?console.log(" API SUCCESS - User data:",await c.json()):console.log(" API Error:",await c.text())}catch(r){console.error(" Console login failed:",r)}},window.testAPI=async()=>{const t=He.currentUser;if(!t)return console.log(" No user signed in. Run window.testLogin() first.");const e=await t.getIdToken(!0),n=await tt("/api/auth/user",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});console.log(" API Status:",n.status),console.log(n.ok?" API Response:":" API Error:",await n.text())},window.debugFirebase=async()=>{console.log(" Firebase Debug Info");const t=He.currentUser;if(console.log(" Current User:",t?{uid:t.uid,email:t.email}:"None"),t){const e=await t.getIdToken(!0);console.log(" Token preview:",e.substring(0,50)+"...")}},window.createTestUser=async()=>{const{createUserWithEmailAndPassword:t}=await yt(async()=>{const{createUserWithEmailAndPassword:e}=await Promise.resolve().then(()=>Ks);return{createUserWithEmailAndPassword:e}},void 0);try{const e=await t(He,"test@example.com","password123");return console.log(" Test user created:",e.user.email),e}catch(e){e.code==="auth/email-already-in-use"?console.log(" Test user already exists - try window.testEmailLogin()"):console.error(" Create user error:",e.message)}},window.testEmailLogin=async()=>{const{signInWithEmailAndPassword:t}=await yt(async()=>{const{signInWithEmailAndPassword:e}=await Promise.resolve().then(()=>Ks);return{signInWithEmailAndPassword:e}},void 0);try{const e=await t(He,"test@example.com","password123");return console.log(" Email login success:",e.user.email),e}catch(e){console.error(" Email login error:",e.message)}},window.resetPassword=async t=>{const{sendPasswordResetEmail:e}=await yt(async()=>{const{sendPasswordResetEmail:n}=await Promise.resolve().then(()=>Ks);return{sendPasswordResetEmail:n}},void 0);try{await e(He,t),console.log(" Password reset email sent to:",t),alert(" Password reset email sent! Check your email inbox.")}catch(n){console.error(" Password reset error:",n.message),alert(" Password reset failed: "+n.message)}},window.resetRachel=async()=>{const{sendPasswordResetEmail:t}=await yt(async()=>{const{sendPasswordResetEmail:e}=await Promise.resolve().then(()=>Ks);return{sendPasswordResetEmail:e}},void 0);try{await t(He,"rachel.gubin@gmail.com"),console.log(" Password reset email sent to: rachel.gubin@gmail.com"),alert(" Password reset email sent to rachel.gubin@gmail.com! Check your email inbox.")}catch(e){console.error(" Password reset error:",e.message),alert(" Password reset failed: "+e.message)}},console.log(" Firebase debug helpers available:"),console.log("  - window.firebaseAuth"),console.log("  - window.testLogin() (Google OAuth)"),console.log("  - window.testEmailLogin() (test@example.com / password123)"),console.log("  - window.createTestUser() (creates test@example.com)"),console.log("  - window.resetPassword('email@example.com')"),console.log("  - window.resetRachel() (resets rachel.gubin@gmail.com)"),console.log("  - window.testAPI()"),console.log("  - window.debugFirebase()")}catch(t){console.warn(" Could not set up Firebase debug helpers:",t)}};window.addEventListener("error",t=>{console.error(" Global error caught:",t.error)});window.addEventListener("unhandledrejection",t=>{console.error(" Unhandled promise rejection:",t.reason)});const pG=()=>{const t=navigator.userAgent||"",e=/Android|iPhone|iPad|iPod|Mobile/i.test(t);e&&(document.documentElement.classList.add("mobile-device"),console.log(" Mobile device detected - optimizations applied")),console.log(" Device detection:",{userAgent:t.substring(0,50),isMobile:e})},mG=()=>{fG(),pG();try{const t=document.getElementById("root");if(!t)throw new Error("Root element not found");const e=setTimeout(()=>{t.innerHTML=`
        <div style="color:white;padding:20px;background:#000;text-align:center;">
          <h1 style="color:#14b8a6;">BingeBoard</h1>
          <p>App is taking longer than expected to load...</p>
          <button onclick="window.location.reload()" 
            style="background:#14b8a6;color:white;padding:10px 20px;border:none;border-radius:5px;margin:10px;">
            Reload Page
          </button>
          <br><br>
          <a href="/debug-mobile.html" style="color:#14b8a6;">Debug Tools</a>
        </div>`},1e4);WA.createRoot(t).render(o.jsx(cG,{})),clearTimeout(e);const n=document.querySelector(".loading-fallback");n&&setTimeout(()=>{n.style.opacity="0",n.style.transition="opacity 0.5s ease-out",setTimeout(()=>{n.remove()},500)},100),console.log(" React app rendered successfully")}catch(t){console.error(" Critical error in main.tsx:",t),document.body.innerHTML=`<div style="color:red;padding:20px;">Critical error: ${t.message}</div>`}};mG();export{Ze as R,yt as _,Nn as a,DH as b,o as j,y as r,ci as u};
