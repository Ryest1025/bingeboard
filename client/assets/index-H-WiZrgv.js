const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/react-vk-CPTWl.js","assets/custom-media-element-BTc9lN-c.js","assets/hls-Gu2pieNd.js","assets/react-BoeU2g4Z.js","assets/index-BRKyTy26.js"])))=>i.map(i=>d[i]);
var rb=t=>{throw TypeError(t)};var lp=(t,e,n)=>e.has(t)||rb("Cannot "+n);var L=(t,e,n)=>(lp(t,e,"read from private field"),n?n.call(t):e.get(t)),Ne=(t,e,n)=>e.has(t)?rb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(lp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),De=(t,e,n)=>(lp(t,e,"access private method"),n);var Xu=(t,e,n,r)=>({set _(i){de(t,e,i,n)},get _(){return L(t,e,r)}});function SA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const kA="modulepreload",jA=function(t){return"/"+t},sb={},ut=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=c(n.map(m=>{if(m=jA(m),m in sb)return;sb[m]=!0;const g=m.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${p}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":kA,g||(x.as="script"),x.crossOrigin="",x.href=m,h&&x.setAttribute("nonce",h),document.head.appendChild(x),g)return new Promise((N,k)=>{x.addEventListener("load",N),x.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};function KS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cp={exports:{}},Cl={},up={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function _A(){if(ib)return Le;ib=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function w($,K,me){this.props=$,this.context=K,this.refs=S,this.updater=me||N}w.prototype.isReactComponent={},w.prototype.setState=function($,K){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,K,"setState")},w.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=w.prototype;function P($,K,me){this.props=$,this.context=K,this.refs=S,this.updater=me||N}var C=P.prototype=new j;C.constructor=P,k(C,w.prototype),C.isPureReactComponent=!0;var T=Array.isArray,R=Object.prototype.hasOwnProperty,O={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E($,K,me){var Se,Te={},Me=null,Ue=null;if(K!=null)for(Se in K.ref!==void 0&&(Ue=K.ref),K.key!==void 0&&(Me=""+K.key),K)R.call(K,Se)&&!I.hasOwnProperty(Se)&&(Te[Se]=K[Se]);var Be=arguments.length-2;if(Be===1)Te.children=me;else if(1<Be){for(var Fe=Array(Be),kt=0;kt<Be;kt++)Fe[kt]=arguments[kt+2];Te.children=Fe}if($&&$.defaultProps)for(Se in Be=$.defaultProps,Be)Te[Se]===void 0&&(Te[Se]=Be[Se]);return{$$typeof:t,type:$,key:Me,ref:Ue,props:Te,_owner:O.current}}function A($,K){return{$$typeof:t,type:$.type,key:K,ref:$.ref,props:$.props,_owner:$._owner}}function F($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function q($){var K={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(me){return K[me]})}var z=/\/+/g;function Q($,K){return typeof $=="object"&&$!==null&&$.key!=null?q(""+$.key):K.toString(36)}function D($,K,me,Se,Te){var Me=typeof $;(Me==="undefined"||Me==="boolean")&&($=null);var Ue=!1;if($===null)Ue=!0;else switch(Me){case"string":case"number":Ue=!0;break;case"object":switch($.$$typeof){case t:case e:Ue=!0}}if(Ue)return Ue=$,Te=Te(Ue),$=Se===""?"."+Q(Ue,0):Se,T(Te)?(me="",$!=null&&(me=$.replace(z,"$&/")+"/"),D(Te,K,me,"",function(kt){return kt})):Te!=null&&(F(Te)&&(Te=A(Te,me+(!Te.key||Ue&&Ue.key===Te.key?"":(""+Te.key).replace(z,"$&/")+"/")+$)),K.push(Te)),1;if(Ue=0,Se=Se===""?".":Se+":",T($))for(var Be=0;Be<$.length;Be++){Me=$[Be];var Fe=Se+Q(Me,Be);Ue+=D(Me,K,me,Fe,Te)}else if(Fe=x($),typeof Fe=="function")for($=Fe.call($),Be=0;!(Me=$.next()).done;)Me=Me.value,Fe=Se+Q(Me,Be++),Ue+=D(Me,K,me,Fe,Te);else if(Me==="object")throw K=String($),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ue}function X($,K,me){if($==null)return $;var Se=[],Te=0;return D($,Se,"","",function(Me){return K.call(me,Me,Te++)}),Se}function ie($){if($._status===-1){var K=$._result;K=K(),K.then(function(me){($._status===0||$._status===-1)&&($._status=1,$._result=me)},function(me){($._status===0||$._status===-1)&&($._status=2,$._result=me)}),$._status===-1&&($._status=0,$._result=K)}if($._status===1)return $._result.default;throw $._result}var oe={current:null},G={transition:null},H={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:G,ReactCurrentOwner:O};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:X,forEach:function($,K,me){X($,function(){K.apply(this,arguments)},me)},count:function($){var K=0;return X($,function(){K++}),K},toArray:function($){return X($,function(K){return K})||[]},only:function($){if(!F($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Le.Component=w,Le.Fragment=n,Le.Profiler=i,Le.PureComponent=P,Le.StrictMode=r,Le.Suspense=h,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Le.act=Z,Le.cloneElement=function($,K,me){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Se=k({},$.props),Te=$.key,Me=$.ref,Ue=$._owner;if(K!=null){if(K.ref!==void 0&&(Me=K.ref,Ue=O.current),K.key!==void 0&&(Te=""+K.key),$.type&&$.type.defaultProps)var Be=$.type.defaultProps;for(Fe in K)R.call(K,Fe)&&!I.hasOwnProperty(Fe)&&(Se[Fe]=K[Fe]===void 0&&Be!==void 0?Be[Fe]:K[Fe])}var Fe=arguments.length-2;if(Fe===1)Se.children=me;else if(1<Fe){Be=Array(Fe);for(var kt=0;kt<Fe;kt++)Be[kt]=arguments[kt+2];Se.children=Be}return{$$typeof:t,type:$.type,key:Te,ref:Me,props:Se,_owner:Ue}},Le.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:l,_context:$},$.Consumer=$},Le.createElement=E,Le.createFactory=function($){var K=E.bind(null,$);return K.type=$,K},Le.createRef=function(){return{current:null}},Le.forwardRef=function($){return{$$typeof:d,render:$}},Le.isValidElement=F,Le.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:ie}},Le.memo=function($,K){return{$$typeof:m,type:$,compare:K===void 0?null:K}},Le.startTransition=function($){var K=G.transition;G.transition={};try{$()}finally{G.transition=K}},Le.unstable_act=Z,Le.useCallback=function($,K){return oe.current.useCallback($,K)},Le.useContext=function($){return oe.current.useContext($)},Le.useDebugValue=function(){},Le.useDeferredValue=function($){return oe.current.useDeferredValue($)},Le.useEffect=function($,K){return oe.current.useEffect($,K)},Le.useId=function(){return oe.current.useId()},Le.useImperativeHandle=function($,K,me){return oe.current.useImperativeHandle($,K,me)},Le.useInsertionEffect=function($,K){return oe.current.useInsertionEffect($,K)},Le.useLayoutEffect=function($,K){return oe.current.useLayoutEffect($,K)},Le.useMemo=function($,K){return oe.current.useMemo($,K)},Le.useReducer=function($,K,me){return oe.current.useReducer($,K,me)},Le.useRef=function($){return oe.current.useRef($)},Le.useState=function($){return oe.current.useState($)},Le.useSyncExternalStore=function($,K,me){return oe.current.useSyncExternalStore($,K,me)},Le.useTransition=function(){return oe.current.useTransition()},Le.version="18.3.1",Le}var ob;function Eh(){return ob||(ob=1,up.exports=_A()),up.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function CA(){if(ab)return Cl;ab=1;var t=Eh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,m){var g,p={},x=null,N=null;m!==void 0&&(x=""+m),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(N=h.ref);for(g in h)r.call(h,g)&&!l.hasOwnProperty(g)&&(p[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)p[g]===void 0&&(p[g]=h[g]);return{$$typeof:e,type:d,key:x,ref:N,props:p,_owner:i.current}}return Cl.Fragment=n,Cl.jsx=c,Cl.jsxs=c,Cl}var lb;function EA(){return lb||(lb=1,cp.exports=CA()),cp.exports}var o=EA(),Ju={},dp={exports:{}},an={},hp={exports:{}},fp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function PA(){return cb||(cb=1,(function(t){function e(G,H){var Z=G.length;G.push(H);e:for(;0<Z;){var $=Z-1>>>1,K=G[$];if(0<i(K,H))G[$]=H,G[Z]=K,Z=$;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var H=G[0],Z=G.pop();if(Z!==H){G[0]=Z;e:for(var $=0,K=G.length,me=K>>>1;$<me;){var Se=2*($+1)-1,Te=G[Se],Me=Se+1,Ue=G[Me];if(0>i(Te,Z))Me<K&&0>i(Ue,Te)?(G[$]=Ue,G[Me]=Z,$=Me):(G[$]=Te,G[Se]=Z,$=Se);else if(Me<K&&0>i(Ue,Z))G[$]=Ue,G[Me]=Z,$=Me;else break e}}return H}function i(G,H){var Z=G.sortIndex-H.sortIndex;return Z!==0?Z:G.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],m=[],g=1,p=null,x=3,N=!1,k=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(G){for(var H=n(m);H!==null;){if(H.callback===null)r(m);else if(H.startTime<=G)r(m),H.sortIndex=H.expirationTime,e(h,H);else break;H=n(m)}}function T(G){if(S=!1,C(G),!k)if(n(h)!==null)k=!0,ie(R);else{var H=n(m);H!==null&&oe(T,H.startTime-G)}}function R(G,H){k=!1,S&&(S=!1,j(E),E=-1),N=!0;var Z=x;try{for(C(H),p=n(h);p!==null&&(!(p.expirationTime>H)||G&&!q());){var $=p.callback;if(typeof $=="function"){p.callback=null,x=p.priorityLevel;var K=$(p.expirationTime<=H);H=t.unstable_now(),typeof K=="function"?p.callback=K:p===n(h)&&r(h),C(H)}else r(h);p=n(h)}if(p!==null)var me=!0;else{var Se=n(m);Se!==null&&oe(T,Se.startTime-H),me=!1}return me}finally{p=null,x=Z,N=!1}}var O=!1,I=null,E=-1,A=5,F=-1;function q(){return!(t.unstable_now()-F<A)}function z(){if(I!==null){var G=t.unstable_now();F=G;var H=!0;try{H=I(!0,G)}finally{H?Q():(O=!1,I=null)}}else O=!1}var Q;if(typeof P=="function")Q=function(){P(z)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,X=D.port2;D.port1.onmessage=z,Q=function(){X.postMessage(null)}}else Q=function(){w(z,0)};function ie(G){I=G,O||(O=!0,Q())}function oe(G,H){E=w(function(){G(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){k||N||(k=!0,ie(R))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(G){switch(x){case 1:case 2:case 3:var H=3;break;default:H=x}var Z=x;x=H;try{return G()}finally{x=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,H){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Z=x;x=G;try{return H()}finally{x=Z}},t.unstable_scheduleCallback=function(G,H,Z){var $=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?$+Z:$):Z=$,G){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Z+K,G={id:g++,callback:H,priorityLevel:G,startTime:Z,expirationTime:K,sortIndex:-1},Z>$?(G.sortIndex=Z,e(m,G),n(h)===null&&G===n(m)&&(S?(j(E),E=-1):S=!0,oe(T,Z-$))):(G.sortIndex=K,e(h,G),k||N||(k=!0,ie(R))),G},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(G){var H=x;return function(){var Z=x;x=H;try{return G.apply(this,arguments)}finally{x=Z}}}})(fp)),fp}var ub;function TA(){return ub||(ub=1,hp.exports=PA()),hp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function RA(){if(db)return an;db=1;var t=Eh(),e=TA();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function l(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},p={};function x(s){return h.call(p,s)?!0:h.call(g,s)?!1:m.test(s)?p[s]=!0:(g[s]=!0,!1)}function N(s,a,u,f){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,a,u,f){if(a===null||typeof a>"u"||N(s,a,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(s,a,u,f,y,b,_){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=b,this.removeEmptyString=_}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];w[a]=new S(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(j,P);w[a]=new S(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(j,P);w[a]=new S(a,1,!1,s,"https://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(j,P);w[a]=new S(a,1,!1,s,"https://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","https://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,a,u,f){var y=w.hasOwnProperty(a)?w[a]:null;(y!==null?y.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,u,y,f)&&(u=null),f||y===null?x(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):y.mustUseProperty?s[y.propertyName]=u===null?y.type===3?!1:"":u:(a=y.attributeName,f=y.attributeNamespace,u===null?s.removeAttribute(a):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,f?s.setAttributeNS(f,a,u):s.setAttribute(a,u))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),O=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),q=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),G=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Object.assign,$;function K(s){if($===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+s}var me=!1;function Se(s,a){if(!s||me)return"";me=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var f=Y}Reflect.construct(s,[],a)}else{try{a.call()}catch(Y){f=Y}s.call(a.prototype)}else{try{throw Error()}catch(Y){f=Y}s()}}catch(Y){if(Y&&f&&typeof Y.stack=="string"){for(var y=Y.stack.split(`
`),b=f.stack.split(`
`),_=y.length-1,M=b.length-1;1<=_&&0<=M&&y[_]!==b[M];)M--;for(;1<=_&&0<=M;_--,M--)if(y[_]!==b[M]){if(_!==1||M!==1)do if(_--,M--,0>M||y[_]!==b[M]){var U=`
`+y[_].replace(" at new "," at ");return s.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",s.displayName)),U}while(1<=_&&0<=M);break}}}finally{me=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?K(s):""}function Te(s){switch(s.tag){case 5:return K(s.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return s=Se(s.type,!1),s;case 11:return s=Se(s.type.render,!1),s;case 1:return s=Se(s.type,!0),s;default:return""}}function Me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case O:return"Portal";case A:return"Profiler";case E:return"StrictMode";case Q:return"Suspense";case D:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case q:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case X:return a=s.displayName||null,a!==null?a:Me(s.type)||"Memo";case ie:a=s._payload,s=s._init;try{return Me(s(a))}catch{}}return null}function Ue(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(a);case 8:return a===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Be(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function kt(s){var a=Fe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(_){f=""+_,b.call(this,_)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(_){f=""+_},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function gi(s){s._valueTracker||(s._valueTracker=kt(s))}function $a(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=Fe(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function cr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function lo(s,a){var u=a.checked;return Z({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Bc(s,a){var u=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;u=Be(a.value!=null?a.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function zc(s,a){a=a.checked,a!=null&&C(s,"checked",a,!1)}function Ba(s,a){zc(s,a);var u=Be(a.value),f=a.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?fs(s,a.type,u):a.hasOwnProperty("defaultValue")&&fs(s,a.type,Be(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Vc(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function fs(s,a,u){(a!=="number"||cr(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var za=Array.isArray;function co(s,a,u,f){if(s=s.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=a.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Be(u),a=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,f&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function vf(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function f0(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(za(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:Be(u)}}function m0(s,a){var u=Be(a.value),f=Be(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function p0(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function g0(s){switch(s){case"svg":return"https://www.w3.org/2000/svg";case"math":return"https://www.w3.org/1998/Math/MathML";default:return"https://www.w3.org/1999/xhtml"}}function xf(s,a){return s==null||s==="https://www.w3.org/1999/xhtml"?g0(a):s==="https://www.w3.org/2000/svg"&&a==="foreignObject"?"https://www.w3.org/1999/xhtml":s}var Hc,y0=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,f,y){MSApp.execUnsafeLocalFunction(function(){return s(a,u,f,y)})}:s})(function(s,a){if(s.namespaceURI!=="https://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Hc=Hc||document.createElement("div"),Hc.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Hc.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Va(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C2=["Webkit","ms","Moz","O"];Object.keys(Ha).forEach(function(s){C2.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Ha[a]=Ha[s]})});function v0(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Ha.hasOwnProperty(s)&&Ha[s]?(""+a).trim():a+"px"}function x0(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var f=u.indexOf("--")===0,y=v0(u,a[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,y):s[u]=y}}var E2=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wf(s,a){if(a){if(E2[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function bf(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=null;function Sf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var kf=null,uo=null,ho=null;function w0(s){if(s=hl(s)){if(typeof kf!="function")throw Error(n(280));var a=s.stateNode;a&&(a=fu(a),kf(s.stateNode,s.type,a))}}function b0(s){uo?ho?ho.push(s):ho=[s]:uo=s}function N0(){if(uo){var s=uo,a=ho;if(ho=uo=null,w0(s),a)for(s=0;s<a.length;s++)w0(a[s])}}function S0(s,a){return s(a)}function k0(){}var jf=!1;function j0(s,a,u){if(jf)return s(a,u);jf=!0;try{return S0(s,a,u)}finally{jf=!1,(uo!==null||ho!==null)&&(k0(),N0())}}function Wa(s,a){var u=s.stateNode;if(u===null)return null;var f=fu(u);if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var _f=!1;if(d)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){_f=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{_f=!1}function P2(s,a,u,f,y,b,_,M,U){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(u,Y)}catch(ee){this.onError(ee)}}var Ka=!1,Wc=null,Gc=!1,Cf=null,T2={onError:function(s){Ka=!0,Wc=s}};function R2(s,a,u,f,y,b,_,M,U){Ka=!1,Wc=null,P2.apply(T2,arguments)}function A2(s,a,u,f,y,b,_,M,U){if(R2.apply(this,arguments),Ka){if(Ka){var Y=Wc;Ka=!1,Wc=null}else throw Error(n(198));Gc||(Gc=!0,Cf=Y)}}function yi(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function _0(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function C0(s){if(yi(s)!==s)throw Error(n(188))}function I2(s){var a=s.alternate;if(!a){if(a=yi(s),a===null)throw Error(n(188));return a!==s?null:s}for(var u=s,f=a;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return C0(y),s;if(b===f)return C0(y),a;b=b.sibling}throw Error(n(188))}if(u.return!==f.return)u=y,f=b;else{for(var _=!1,M=y.child;M;){if(M===u){_=!0,u=y,f=b;break}if(M===f){_=!0,f=y,u=b;break}M=M.sibling}if(!_){for(M=b.child;M;){if(M===u){_=!0,u=b,f=y;break}if(M===f){_=!0,f=b,u=y;break}M=M.sibling}if(!_)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:a}function E0(s){return s=I2(s),s!==null?P0(s):null}function P0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=P0(s);if(a!==null)return a;s=s.sibling}return null}var T0=e.unstable_scheduleCallback,R0=e.unstable_cancelCallback,M2=e.unstable_shouldYield,D2=e.unstable_requestPaint,pt=e.unstable_now,O2=e.unstable_getCurrentPriorityLevel,Ef=e.unstable_ImmediatePriority,A0=e.unstable_UserBlockingPriority,Kc=e.unstable_NormalPriority,L2=e.unstable_LowPriority,I0=e.unstable_IdlePriority,qc=null,ur=null;function F2(s){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(qc,s,void 0,(s.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:B2,U2=Math.log,$2=Math.LN2;function B2(s){return s>>>=0,s===0?32:31-(U2(s)/$2|0)|0}var Yc=64,Qc=4194304;function qa(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Zc(s,a){var u=s.pendingLanes;if(u===0)return 0;var f=0,y=s.suspendedLanes,b=s.pingedLanes,_=u&268435455;if(_!==0){var M=_&~y;M!==0?f=qa(M):(b&=_,b!==0&&(f=qa(b)))}else _=u&~y,_!==0?f=qa(_):b!==0&&(f=qa(b));if(f===0)return 0;if(a!==0&&a!==f&&(a&y)===0&&(y=f&-f,b=a&-a,y>=b||y===16&&(b&4194240)!==0))return a;if((f&4)!==0&&(f|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)u=31-Bn(a),y=1<<u,f|=s[u],a&=~y;return f}function z2(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V2(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,y=s.expirationTimes,b=s.pendingLanes;0<b;){var _=31-Bn(b),M=1<<_,U=y[_];U===-1?((M&u)===0||(M&f)!==0)&&(y[_]=z2(M,a)):U<=a&&(s.expiredLanes|=M),b&=~M}}function Pf(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function M0(){var s=Yc;return Yc<<=1,(Yc&4194240)===0&&(Yc=64),s}function Tf(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Ya(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Bn(a),s[a]=u}function H2(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var y=31-Bn(u),b=1<<y;a[y]=0,f[y]=-1,s[y]=-1,u&=~b}}function Rf(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-Bn(u),y=1<<f;y&a|s[f]&a&&(s[f]|=a),u&=~y}}var Je=0;function D0(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var O0,Af,L0,F0,U0,If=!1,Xc=[],ms=null,ps=null,gs=null,Qa=new Map,Za=new Map,ys=[],W2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $0(s,a){switch(s){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Qa.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(a.pointerId)}}function Xa(s,a,u,f,y,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},a!==null&&(a=hl(a),a!==null&&Af(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function G2(s,a,u,f,y){switch(a){case"focusin":return ms=Xa(ms,s,a,u,f,y),!0;case"dragenter":return ps=Xa(ps,s,a,u,f,y),!0;case"mouseover":return gs=Xa(gs,s,a,u,f,y),!0;case"pointerover":var b=y.pointerId;return Qa.set(b,Xa(Qa.get(b)||null,s,a,u,f,y)),!0;case"gotpointercapture":return b=y.pointerId,Za.set(b,Xa(Za.get(b)||null,s,a,u,f,y)),!0}return!1}function B0(s){var a=vi(s.target);if(a!==null){var u=yi(a);if(u!==null){if(a=u.tag,a===13){if(a=_0(u),a!==null){s.blockedOn=a,U0(s.priority,function(){L0(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Df(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);Nf=f,u.target.dispatchEvent(f),Nf=null}else return a=hl(u),a!==null&&Af(a),s.blockedOn=u,!1;a.shift()}return!0}function z0(s,a,u){Jc(s)&&u.delete(a)}function K2(){If=!1,ms!==null&&Jc(ms)&&(ms=null),ps!==null&&Jc(ps)&&(ps=null),gs!==null&&Jc(gs)&&(gs=null),Qa.forEach(z0),Za.forEach(z0)}function Ja(s,a){s.blockedOn===a&&(s.blockedOn=null,If||(If=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,K2)))}function el(s){function a(y){return Ja(y,s)}if(0<Xc.length){Ja(Xc[0],s);for(var u=1;u<Xc.length;u++){var f=Xc[u];f.blockedOn===s&&(f.blockedOn=null)}}for(ms!==null&&Ja(ms,s),ps!==null&&Ja(ps,s),gs!==null&&Ja(gs,s),Qa.forEach(a),Za.forEach(a),u=0;u<ys.length;u++)f=ys[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<ys.length&&(u=ys[0],u.blockedOn===null);)B0(u),u.blockedOn===null&&ys.shift()}var fo=T.ReactCurrentBatchConfig,eu=!0;function q2(s,a,u,f){var y=Je,b=fo.transition;fo.transition=null;try{Je=1,Mf(s,a,u,f)}finally{Je=y,fo.transition=b}}function Y2(s,a,u,f){var y=Je,b=fo.transition;fo.transition=null;try{Je=4,Mf(s,a,u,f)}finally{Je=y,fo.transition=b}}function Mf(s,a,u,f){if(eu){var y=Df(s,a,u,f);if(y===null)Xf(s,a,f,tu,u),$0(s,f);else if(G2(y,s,a,u,f))f.stopPropagation();else if($0(s,f),a&4&&-1<W2.indexOf(s)){for(;y!==null;){var b=hl(y);if(b!==null&&O0(b),b=Df(s,a,u,f),b===null&&Xf(s,a,f,tu,u),b===y)break;y=b}y!==null&&f.stopPropagation()}else Xf(s,a,f,null,u)}}var tu=null;function Df(s,a,u,f){if(tu=null,s=Sf(f),s=vi(s),s!==null)if(a=yi(s),a===null)s=null;else if(u=a.tag,u===13){if(s=_0(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return tu=s,null}function V0(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O2()){case Ef:return 1;case A0:return 4;case Kc:case L2:return 16;case I0:return 536870912;default:return 16}default:return 16}}var vs=null,Of=null,nu=null;function H0(){if(nu)return nu;var s,a=Of,u=a.length,f,y="value"in vs?vs.value:vs.textContent,b=y.length;for(s=0;s<u&&a[s]===y[s];s++);var _=u-s;for(f=1;f<=_&&a[u-f]===y[b-f];f++);return nu=y.slice(s,1<f?1-f:void 0)}function ru(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function su(){return!0}function W0(){return!1}function hn(s){function a(u,f,y,b,_){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=_,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(u=s[M],this[M]=u?u(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?su:W0,this.isPropagationStopped=W0,this}return Z(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),a}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=hn(mo),tl=Z({},mo,{view:0,detail:0}),Q2=hn(tl),Ff,Uf,nl,iu=Z({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==nl&&(nl&&s.type==="mousemove"?(Ff=s.screenX-nl.screenX,Uf=s.screenY-nl.screenY):Uf=Ff=0,nl=s),Ff)},movementY:function(s){return"movementY"in s?s.movementY:Uf}}),G0=hn(iu),Z2=Z({},iu,{dataTransfer:0}),X2=hn(Z2),J2=Z({},tl,{relatedTarget:0}),$f=hn(J2),eR=Z({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),tR=hn(eR),nR=Z({},mo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),rR=hn(nR),sR=Z({},mo,{data:0}),K0=hn(sR),iR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lR(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=aR[s])?!!a[s]:!1}function Bf(){return lR}var cR=Z({},tl,{key:function(s){if(s.key){var a=iR[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ru(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?oR[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bf,charCode:function(s){return s.type==="keypress"?ru(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ru(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),uR=hn(cR),dR=Z({},iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q0=hn(dR),hR=Z({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bf}),fR=hn(hR),mR=Z({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),pR=hn(mR),gR=Z({},iu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),yR=hn(gR),vR=[9,13,27,32],zf=d&&"CompositionEvent"in window,rl=null;d&&"documentMode"in document&&(rl=document.documentMode);var xR=d&&"TextEvent"in window&&!rl,Y0=d&&(!zf||rl&&8<rl&&11>=rl),Q0=" ",Z0=!1;function X0(s,a){switch(s){case"keyup":return vR.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var po=!1;function wR(s,a){switch(s){case"compositionend":return J0(a);case"keypress":return a.which!==32?null:(Z0=!0,Q0);case"textInput":return s=a.data,s===Q0&&Z0?null:s;default:return null}}function bR(s,a){if(po)return s==="compositionend"||!zf&&X0(s,a)?(s=H0(),nu=Of=vs=null,po=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Y0&&a.locale!=="ko"?null:a.data;default:return null}}var NR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ex(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!NR[s.type]:a==="textarea"}function tx(s,a,u,f){b0(f),a=uu(a,"onChange"),0<a.length&&(u=new Lf("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var sl=null,il=null;function SR(s){xx(s,0)}function ou(s){var a=wo(s);if($a(a))return s}function kR(s,a){if(s==="change")return a}var nx=!1;if(d){var Vf;if(d){var Hf="oninput"in document;if(!Hf){var rx=document.createElement("div");rx.setAttribute("oninput","return;"),Hf=typeof rx.oninput=="function"}Vf=Hf}else Vf=!1;nx=Vf&&(!document.documentMode||9<document.documentMode)}function sx(){sl&&(sl.detachEvent("onpropertychange",ix),il=sl=null)}function ix(s){if(s.propertyName==="value"&&ou(il)){var a=[];tx(a,il,s,Sf(s)),j0(SR,a)}}function jR(s,a,u){s==="focusin"?(sx(),sl=a,il=u,sl.attachEvent("onpropertychange",ix)):s==="focusout"&&sx()}function _R(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ou(il)}function CR(s,a){if(s==="click")return ou(a)}function ER(s,a){if(s==="input"||s==="change")return ou(a)}function PR(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var zn=typeof Object.is=="function"?Object.is:PR;function ol(s,a){if(zn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!h.call(a,y)||!zn(s[y],a[y]))return!1}return!0}function ox(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ax(s,a){var u=ox(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ox(u)}}function lx(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?lx(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function cx(){for(var s=window,a=cr();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=cr(s.document)}return a}function Wf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function TR(s){var a=cx(),u=s.focusedElem,f=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&lx(u.ownerDocument.documentElement,u)){if(f!==null&&Wf(u)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=u.textContent.length,b=Math.min(f.start,y);f=f.end===void 0?b:Math.min(f.end,y),!s.extend&&b>f&&(y=f,f=b,b=y),y=ax(u,b);var _=ax(u,f);y&&_&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),b>f?(s.addRange(a),s.extend(_.node,_.offset)):(a.setEnd(_.node,_.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var RR=d&&"documentMode"in document&&11>=document.documentMode,go=null,Gf=null,al=null,Kf=!1;function ux(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Kf||go==null||go!==cr(f)||(f=go,"selectionStart"in f&&Wf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),al&&ol(al,f)||(al=f,f=uu(Gf,"onSelect"),0<f.length&&(a=new Lf("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=go)))}function au(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var yo={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},qf={},dx={};d&&(dx=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function lu(s){if(qf[s])return qf[s];if(!yo[s])return s;var a=yo[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in dx)return qf[s]=a[u];return s}var hx=lu("animationend"),fx=lu("animationiteration"),mx=lu("animationstart"),px=lu("transitionend"),gx=new Map,yx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(s,a){gx.set(s,a),l(a,[s])}for(var Yf=0;Yf<yx.length;Yf++){var Qf=yx[Yf],AR=Qf.toLowerCase(),IR=Qf[0].toUpperCase()+Qf.slice(1);xs(AR,"on"+IR)}xs(hx,"onAnimationEnd"),xs(fx,"onAnimationIteration"),xs(mx,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(px,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function vx(s,a,u){var f=s.type||"unknown-event";s.currentTarget=u,A2(f,a,void 0,s),s.currentTarget=null}function xx(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],y=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var _=f.length-1;0<=_;_--){var M=f[_],U=M.instance,Y=M.currentTarget;if(M=M.listener,U!==b&&y.isPropagationStopped())break e;vx(y,M,Y),b=U}else for(_=0;_<f.length;_++){if(M=f[_],U=M.instance,Y=M.currentTarget,M=M.listener,U!==b&&y.isPropagationStopped())break e;vx(y,M,Y),b=U}}}if(Gc)throw s=Cf,Gc=!1,Cf=null,s}function nt(s,a){var u=a[sm];u===void 0&&(u=a[sm]=new Set);var f=s+"__bubble";u.has(f)||(wx(a,s,2,!1),u.add(f))}function Zf(s,a,u){var f=0;a&&(f|=4),wx(u,s,f,a)}var cu="_reactListening"+Math.random().toString(36).slice(2);function cl(s){if(!s[cu]){s[cu]=!0,r.forEach(function(u){u!=="selectionchange"&&(MR.has(u)||Zf(u,!1,s),Zf(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[cu]||(a[cu]=!0,Zf("selectionchange",!1,a))}}function wx(s,a,u,f){switch(V0(a)){case 1:var y=q2;break;case 4:y=Y2;break;default:y=Mf}u=y.bind(null,a,u,s),y=void 0,!_f||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?s.addEventListener(a,u,{capture:!0,passive:y}):s.addEventListener(a,u,!0):y!==void 0?s.addEventListener(a,u,{passive:y}):s.addEventListener(a,u,!1)}function Xf(s,a,u,f,y){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var _=f.tag;if(_===3||_===4){var M=f.stateNode.containerInfo;if(M===y||M.nodeType===8&&M.parentNode===y)break;if(_===4)for(_=f.return;_!==null;){var U=_.tag;if((U===3||U===4)&&(U=_.stateNode.containerInfo,U===y||U.nodeType===8&&U.parentNode===y))return;_=_.return}for(;M!==null;){if(_=vi(M),_===null)return;if(U=_.tag,U===5||U===6){f=b=_;continue e}M=M.parentNode}}f=f.return}j0(function(){var Y=b,ee=Sf(u),te=[];e:{var J=gx.get(s);if(J!==void 0){var ue=Lf,pe=s;switch(s){case"keypress":if(ru(u)===0)break e;case"keydown":case"keyup":ue=uR;break;case"focusin":pe="focus",ue=$f;break;case"focusout":pe="blur",ue=$f;break;case"beforeblur":case"afterblur":ue=$f;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=G0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=X2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=fR;break;case hx:case fx:case mx:ue=tR;break;case px:ue=pR;break;case"scroll":ue=Q2;break;case"wheel":ue=yR;break;case"copy":case"cut":case"paste":ue=rR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=q0}var ye=(a&4)!==0,gt=!ye&&s==="scroll",V=ye?J!==null?J+"Capture":null:J;ye=[];for(var B=Y,W;B!==null;){W=B;var ne=W.stateNode;if(W.tag===5&&ne!==null&&(W=ne,V!==null&&(ne=Wa(B,V),ne!=null&&ye.push(ul(B,ne,W)))),gt)break;B=B.return}0<ye.length&&(J=new ue(J,pe,null,u,ee),te.push({event:J,listeners:ye}))}}if((a&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",J&&u!==Nf&&(pe=u.relatedTarget||u.fromElement)&&(vi(pe)||pe[Ur]))break e;if((ue||J)&&(J=ee.window===ee?ee:(J=ee.ownerDocument)?J.defaultView||J.parentWindow:window,ue?(pe=u.relatedTarget||u.toElement,ue=Y,pe=pe?vi(pe):null,pe!==null&&(gt=yi(pe),pe!==gt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=Y),ue!==pe)){if(ye=G0,ne="onMouseLeave",V="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(ye=q0,ne="onPointerLeave",V="onPointerEnter",B="pointer"),gt=ue==null?J:wo(ue),W=pe==null?J:wo(pe),J=new ye(ne,B+"leave",ue,u,ee),J.target=gt,J.relatedTarget=W,ne=null,vi(ee)===Y&&(ye=new ye(V,B+"enter",pe,u,ee),ye.target=W,ye.relatedTarget=gt,ne=ye),gt=ne,ue&&pe)t:{for(ye=ue,V=pe,B=0,W=ye;W;W=vo(W))B++;for(W=0,ne=V;ne;ne=vo(ne))W++;for(;0<B-W;)ye=vo(ye),B--;for(;0<W-B;)V=vo(V),W--;for(;B--;){if(ye===V||V!==null&&ye===V.alternate)break t;ye=vo(ye),V=vo(V)}ye=null}else ye=null;ue!==null&&bx(te,J,ue,ye,!1),pe!==null&&gt!==null&&bx(te,gt,pe,ye,!0)}}e:{if(J=Y?wo(Y):window,ue=J.nodeName&&J.nodeName.toLowerCase(),ue==="select"||ue==="input"&&J.type==="file")var ve=kR;else if(ex(J))if(nx)ve=ER;else{ve=_R;var ke=jR}else(ue=J.nodeName)&&ue.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ve=CR);if(ve&&(ve=ve(s,Y))){tx(te,ve,u,ee);break e}ke&&ke(s,J,Y),s==="focusout"&&(ke=J._wrapperState)&&ke.controlled&&J.type==="number"&&fs(J,"number",J.value)}switch(ke=Y?wo(Y):window,s){case"focusin":(ex(ke)||ke.contentEditable==="true")&&(go=ke,Gf=Y,al=null);break;case"focusout":al=Gf=go=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,ux(te,u,ee);break;case"selectionchange":if(RR)break;case"keydown":case"keyup":ux(te,u,ee)}var je;if(zf)e:{switch(s){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else po?X0(s,u)&&(Ce="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(Y0&&u.locale!=="ko"&&(po||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&po&&(je=H0()):(vs=ee,Of="value"in vs?vs.value:vs.textContent,po=!0)),ke=uu(Y,Ce),0<ke.length&&(Ce=new K0(Ce,s,null,u,ee),te.push({event:Ce,listeners:ke}),je?Ce.data=je:(je=J0(u),je!==null&&(Ce.data=je)))),(je=xR?wR(s,u):bR(s,u))&&(Y=uu(Y,"onBeforeInput"),0<Y.length&&(ee=new K0("onBeforeInput","beforeinput",null,u,ee),te.push({event:ee,listeners:Y}),ee.data=je))}xx(te,a)})}function ul(s,a,u){return{instance:s,listener:a,currentTarget:u}}function uu(s,a){for(var u=a+"Capture",f=[];s!==null;){var y=s,b=y.stateNode;y.tag===5&&b!==null&&(y=b,b=Wa(s,u),b!=null&&f.unshift(ul(s,b,y)),b=Wa(s,a),b!=null&&f.push(ul(s,b,y))),s=s.return}return f}function vo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function bx(s,a,u,f,y){for(var b=a._reactName,_=[];u!==null&&u!==f;){var M=u,U=M.alternate,Y=M.stateNode;if(U!==null&&U===f)break;M.tag===5&&Y!==null&&(M=Y,y?(U=Wa(u,b),U!=null&&_.unshift(ul(u,U,M))):y||(U=Wa(u,b),U!=null&&_.push(ul(u,U,M)))),u=u.return}_.length!==0&&s.push({event:a,listeners:_})}var DR=/\r\n?/g,OR=/\u0000|\uFFFD/g;function Nx(s){return(typeof s=="string"?s:""+s).replace(DR,`
`).replace(OR,"")}function du(s,a,u){if(a=Nx(a),Nx(s)!==a&&u)throw Error(n(425))}function hu(){}var Jf=null,em=null;function tm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var nm=typeof setTimeout=="function"?setTimeout:void 0,LR=typeof clearTimeout=="function"?clearTimeout:void 0,Sx=typeof Promise=="function"?Promise:void 0,FR=typeof queueMicrotask=="function"?queueMicrotask:typeof Sx<"u"?function(s){return Sx.resolve(null).then(s).catch(UR)}:nm;function UR(s){setTimeout(function(){throw s})}function rm(s,a){var u=a,f=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(f===0){s.removeChild(y),el(a);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=y}while(u);el(a)}function ws(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function kx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var xo=Math.random().toString(36).slice(2),dr="__reactFiber$"+xo,dl="__reactProps$"+xo,Ur="__reactContainer$"+xo,sm="__reactEvents$"+xo,$R="__reactListeners$"+xo,BR="__reactHandles$"+xo;function vi(s){var a=s[dr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Ur]||u[dr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=kx(s);s!==null;){if(u=s[dr])return u;s=kx(s)}return a}s=u,u=s.parentNode}return null}function hl(s){return s=s[dr]||s[Ur],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function wo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function fu(s){return s[dl]||null}var im=[],bo=-1;function bs(s){return{current:s}}function rt(s){0>bo||(s.current=im[bo],im[bo]=null,bo--)}function tt(s,a){bo++,im[bo]=s.current,s.current=a}var Ns={},Lt=bs(Ns),tn=bs(!1),xi=Ns;function No(s,a){var u=s.type.contextTypes;if(!u)return Ns;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var y={},b;for(b in u)y[b]=a[b];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function nn(s){return s=s.childContextTypes,s!=null}function mu(){rt(tn),rt(Lt)}function jx(s,a,u){if(Lt.current!==Ns)throw Error(n(168));tt(Lt,a),tt(tn,u)}function _x(s,a,u){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var y in f)if(!(y in a))throw Error(n(108,Ue(s)||"Unknown",y));return Z({},u,f)}function pu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ns,xi=Lt.current,tt(Lt,s),tt(tn,tn.current),!0}function Cx(s,a,u){var f=s.stateNode;if(!f)throw Error(n(169));u?(s=_x(s,a,xi),f.__reactInternalMemoizedMergedChildContext=s,rt(tn),rt(Lt),tt(Lt,s)):rt(tn),tt(tn,u)}var $r=null,gu=!1,om=!1;function Ex(s){$r===null?$r=[s]:$r.push(s)}function zR(s){gu=!0,Ex(s)}function Ss(){if(!om&&$r!==null){om=!0;var s=0,a=Je;try{var u=$r;for(Je=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}$r=null,gu=!1}catch(y){throw $r!==null&&($r=$r.slice(s+1)),T0(Ef,Ss),y}finally{Je=a,om=!1}}return null}var So=[],ko=0,yu=null,vu=0,bn=[],Nn=0,wi=null,Br=1,zr="";function bi(s,a){So[ko++]=vu,So[ko++]=yu,yu=s,vu=a}function Px(s,a,u){bn[Nn++]=Br,bn[Nn++]=zr,bn[Nn++]=wi,wi=s;var f=Br;s=zr;var y=32-Bn(f)-1;f&=~(1<<y),u+=1;var b=32-Bn(a)+y;if(30<b){var _=y-y%5;b=(f&(1<<_)-1).toString(32),f>>=_,y-=_,Br=1<<32-Bn(a)+y|u<<y|f,zr=b+s}else Br=1<<b|u<<y|f,zr=s}function am(s){s.return!==null&&(bi(s,1),Px(s,1,0))}function lm(s){for(;s===yu;)yu=So[--ko],So[ko]=null,vu=So[--ko],So[ko]=null;for(;s===wi;)wi=bn[--Nn],bn[Nn]=null,zr=bn[--Nn],bn[Nn]=null,Br=bn[--Nn],bn[Nn]=null}var fn=null,mn=null,ot=!1,Vn=null;function Tx(s,a){var u=_n(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function Rx(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,fn=s,mn=ws(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,fn=s,mn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=wi!==null?{id:Br,overflow:zr}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=_n(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,fn=s,mn=null,!0):!1;default:return!1}}function cm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function um(s){if(ot){var a=mn;if(a){var u=a;if(!Rx(s,a)){if(cm(s))throw Error(n(418));a=ws(u.nextSibling);var f=fn;a&&Rx(s,a)?Tx(f,u):(s.flags=s.flags&-4097|2,ot=!1,fn=s)}}else{if(cm(s))throw Error(n(418));s.flags=s.flags&-4097|2,ot=!1,fn=s}}}function Ax(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;fn=s}function xu(s){if(s!==fn)return!1;if(!ot)return Ax(s),ot=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!tm(s.type,s.memoizedProps)),a&&(a=mn)){if(cm(s))throw Ix(),Error(n(418));for(;a;)Tx(s,a),a=ws(a.nextSibling)}if(Ax(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){mn=ws(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}mn=null}}else mn=fn?ws(s.stateNode.nextSibling):null;return!0}function Ix(){for(var s=mn;s;)s=ws(s.nextSibling)}function jo(){mn=fn=null,ot=!1}function dm(s){Vn===null?Vn=[s]:Vn.push(s)}var VR=T.ReactCurrentBatchConfig;function fl(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,s));var y=f,b=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(_){var M=y.refs;_===null?delete M[b]:M[b]=_},a._stringRef=b,a)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function wu(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Mx(s){var a=s._init;return a(s._payload)}function Dx(s){function a(V,B){if(s){var W=V.deletions;W===null?(V.deletions=[B],V.flags|=16):W.push(B)}}function u(V,B){if(!s)return null;for(;B!==null;)a(V,B),B=B.sibling;return null}function f(V,B){for(V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function y(V,B){return V=Rs(V,B),V.index=0,V.sibling=null,V}function b(V,B,W){return V.index=W,s?(W=V.alternate,W!==null?(W=W.index,W<B?(V.flags|=2,B):W):(V.flags|=2,B)):(V.flags|=1048576,B)}function _(V){return s&&V.alternate===null&&(V.flags|=2),V}function M(V,B,W,ne){return B===null||B.tag!==6?(B=np(W,V.mode,ne),B.return=V,B):(B=y(B,W),B.return=V,B)}function U(V,B,W,ne){var ve=W.type;return ve===I?ee(V,B,W.props.children,ne,W.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ie&&Mx(ve)===B.type)?(ne=y(B,W.props),ne.ref=fl(V,B,W),ne.return=V,ne):(ne=Hu(W.type,W.key,W.props,null,V.mode,ne),ne.ref=fl(V,B,W),ne.return=V,ne)}function Y(V,B,W,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==W.containerInfo||B.stateNode.implementation!==W.implementation?(B=rp(W,V.mode,ne),B.return=V,B):(B=y(B,W.children||[]),B.return=V,B)}function ee(V,B,W,ne,ve){return B===null||B.tag!==7?(B=Pi(W,V.mode,ne,ve),B.return=V,B):(B=y(B,W),B.return=V,B)}function te(V,B,W){if(typeof B=="string"&&B!==""||typeof B=="number")return B=np(""+B,V.mode,W),B.return=V,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return W=Hu(B.type,B.key,B.props,null,V.mode,W),W.ref=fl(V,null,B),W.return=V,W;case O:return B=rp(B,V.mode,W),B.return=V,B;case ie:var ne=B._init;return te(V,ne(B._payload),W)}if(za(B)||H(B))return B=Pi(B,V.mode,W,null),B.return=V,B;wu(V,B)}return null}function J(V,B,W,ne){var ve=B!==null?B.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ve!==null?null:M(V,B,""+W,ne);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case R:return W.key===ve?U(V,B,W,ne):null;case O:return W.key===ve?Y(V,B,W,ne):null;case ie:return ve=W._init,J(V,B,ve(W._payload),ne)}if(za(W)||H(W))return ve!==null?null:ee(V,B,W,ne,null);wu(V,W)}return null}function ue(V,B,W,ne,ve){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return V=V.get(W)||null,M(B,V,""+ne,ve);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case R:return V=V.get(ne.key===null?W:ne.key)||null,U(B,V,ne,ve);case O:return V=V.get(ne.key===null?W:ne.key)||null,Y(B,V,ne,ve);case ie:var ke=ne._init;return ue(V,B,W,ke(ne._payload),ve)}if(za(ne)||H(ne))return V=V.get(W)||null,ee(B,V,ne,ve,null);wu(B,ne)}return null}function pe(V,B,W,ne){for(var ve=null,ke=null,je=B,Ce=B=0,At=null;je!==null&&Ce<W.length;Ce++){je.index>Ce?(At=je,je=null):At=je.sibling;var Ge=J(V,je,W[Ce],ne);if(Ge===null){je===null&&(je=At);break}s&&je&&Ge.alternate===null&&a(V,je),B=b(Ge,B,Ce),ke===null?ve=Ge:ke.sibling=Ge,ke=Ge,je=At}if(Ce===W.length)return u(V,je),ot&&bi(V,Ce),ve;if(je===null){for(;Ce<W.length;Ce++)je=te(V,W[Ce],ne),je!==null&&(B=b(je,B,Ce),ke===null?ve=je:ke.sibling=je,ke=je);return ot&&bi(V,Ce),ve}for(je=f(V,je);Ce<W.length;Ce++)At=ue(je,V,Ce,W[Ce],ne),At!==null&&(s&&At.alternate!==null&&je.delete(At.key===null?Ce:At.key),B=b(At,B,Ce),ke===null?ve=At:ke.sibling=At,ke=At);return s&&je.forEach(function(As){return a(V,As)}),ot&&bi(V,Ce),ve}function ye(V,B,W,ne){var ve=H(W);if(typeof ve!="function")throw Error(n(150));if(W=ve.call(W),W==null)throw Error(n(151));for(var ke=ve=null,je=B,Ce=B=0,At=null,Ge=W.next();je!==null&&!Ge.done;Ce++,Ge=W.next()){je.index>Ce?(At=je,je=null):At=je.sibling;var As=J(V,je,Ge.value,ne);if(As===null){je===null&&(je=At);break}s&&je&&As.alternate===null&&a(V,je),B=b(As,B,Ce),ke===null?ve=As:ke.sibling=As,ke=As,je=At}if(Ge.done)return u(V,je),ot&&bi(V,Ce),ve;if(je===null){for(;!Ge.done;Ce++,Ge=W.next())Ge=te(V,Ge.value,ne),Ge!==null&&(B=b(Ge,B,Ce),ke===null?ve=Ge:ke.sibling=Ge,ke=Ge);return ot&&bi(V,Ce),ve}for(je=f(V,je);!Ge.done;Ce++,Ge=W.next())Ge=ue(je,V,Ce,Ge.value,ne),Ge!==null&&(s&&Ge.alternate!==null&&je.delete(Ge.key===null?Ce:Ge.key),B=b(Ge,B,Ce),ke===null?ve=Ge:ke.sibling=Ge,ke=Ge);return s&&je.forEach(function(NA){return a(V,NA)}),ot&&bi(V,Ce),ve}function gt(V,B,W,ne){if(typeof W=="object"&&W!==null&&W.type===I&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case R:e:{for(var ve=W.key,ke=B;ke!==null;){if(ke.key===ve){if(ve=W.type,ve===I){if(ke.tag===7){u(V,ke.sibling),B=y(ke,W.props.children),B.return=V,V=B;break e}}else if(ke.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ie&&Mx(ve)===ke.type){u(V,ke.sibling),B=y(ke,W.props),B.ref=fl(V,ke,W),B.return=V,V=B;break e}u(V,ke);break}else a(V,ke);ke=ke.sibling}W.type===I?(B=Pi(W.props.children,V.mode,ne,W.key),B.return=V,V=B):(ne=Hu(W.type,W.key,W.props,null,V.mode,ne),ne.ref=fl(V,B,W),ne.return=V,V=ne)}return _(V);case O:e:{for(ke=W.key;B!==null;){if(B.key===ke)if(B.tag===4&&B.stateNode.containerInfo===W.containerInfo&&B.stateNode.implementation===W.implementation){u(V,B.sibling),B=y(B,W.children||[]),B.return=V,V=B;break e}else{u(V,B);break}else a(V,B);B=B.sibling}B=rp(W,V.mode,ne),B.return=V,V=B}return _(V);case ie:return ke=W._init,gt(V,B,ke(W._payload),ne)}if(za(W))return pe(V,B,W,ne);if(H(W))return ye(V,B,W,ne);wu(V,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,B!==null&&B.tag===6?(u(V,B.sibling),B=y(B,W),B.return=V,V=B):(u(V,B),B=np(W,V.mode,ne),B.return=V,V=B),_(V)):u(V,B)}return gt}var _o=Dx(!0),Ox=Dx(!1),bu=bs(null),Nu=null,Co=null,hm=null;function fm(){hm=Co=Nu=null}function mm(s){var a=bu.current;rt(bu),s._currentValue=a}function pm(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function Eo(s,a){Nu=s,hm=Co=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(rn=!0),s.firstContext=null)}function Sn(s){var a=s._currentValue;if(hm!==s)if(s={context:s,memoizedValue:a,next:null},Co===null){if(Nu===null)throw Error(n(308));Co=s,Nu.dependencies={lanes:0,firstContext:s}}else Co=Co.next=s;return a}var Ni=null;function gm(s){Ni===null?Ni=[s]:Ni.push(s)}function Lx(s,a,u,f){var y=a.interleaved;return y===null?(u.next=u,gm(a)):(u.next=y.next,y.next=u),a.interleaved=u,Vr(s,f)}function Vr(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var ks=!1;function ym(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fx(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Hr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function js(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(He&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,Vr(s,u)}return y=f.interleaved,y===null?(a.next=a,gm(f)):(a.next=y.next,y.next=a),f.interleaved=a,Vr(s,u)}function Su(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Rf(s,u)}}function Ux(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var _={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};b===null?y=b=_:b=b.next=_,u=u.next}while(u!==null);b===null?y=b=a:b=b.next=a}else y=b=a;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function ku(s,a,u,f){var y=s.updateQueue;ks=!1;var b=y.firstBaseUpdate,_=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var U=M,Y=U.next;U.next=null,_===null?b=Y:_.next=Y,_=U;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,M=ee.lastBaseUpdate,M!==_&&(M===null?ee.firstBaseUpdate=Y:M.next=Y,ee.lastBaseUpdate=U))}if(b!==null){var te=y.baseState;_=0,ee=Y=U=null,M=b;do{var J=M.lane,ue=M.eventTime;if((f&J)===J){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var pe=s,ye=M;switch(J=a,ue=u,ye.tag){case 1:if(pe=ye.payload,typeof pe=="function"){te=pe.call(ue,te,J);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ye.payload,J=typeof pe=="function"?pe.call(ue,te,J):pe,J==null)break e;te=Z({},te,J);break e;case 2:ks=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,J=y.effects,J===null?y.effects=[M]:J.push(M))}else ue={eventTime:ue,lane:J,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ee===null?(Y=ee=ue,U=te):ee=ee.next=ue,_|=J;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;J=M,M=J.next,J.next=null,y.lastBaseUpdate=J,y.shared.pending=null}}while(!0);if(ee===null&&(U=te),y.baseState=U,y.firstBaseUpdate=Y,y.lastBaseUpdate=ee,a=y.shared.interleaved,a!==null){y=a;do _|=y.lane,y=y.next;while(y!==a)}else b===null&&(y.shared.lanes=0);ji|=_,s.lanes=_,s.memoizedState=te}}function $x(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],y=f.callback;if(y!==null){if(f.callback=null,f=u,typeof y!="function")throw Error(n(191,y));y.call(f)}}}var ml={},hr=bs(ml),pl=bs(ml),gl=bs(ml);function Si(s){if(s===ml)throw Error(n(174));return s}function vm(s,a){switch(tt(gl,a),tt(pl,s),tt(hr,ml),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:xf(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=xf(a,s)}rt(hr),tt(hr,a)}function Po(){rt(hr),rt(pl),rt(gl)}function Bx(s){Si(gl.current);var a=Si(hr.current),u=xf(a,s.type);a!==u&&(tt(pl,s),tt(hr,u))}function xm(s){pl.current===s&&(rt(hr),rt(pl))}var at=bs(0);function ju(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var wm=[];function bm(){for(var s=0;s<wm.length;s++)wm[s]._workInProgressVersionPrimary=null;wm.length=0}var _u=T.ReactCurrentDispatcher,Nm=T.ReactCurrentBatchConfig,ki=0,lt=null,jt=null,Tt=null,Cu=!1,yl=!1,vl=0,HR=0;function Ft(){throw Error(n(321))}function Sm(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!zn(s[u],a[u]))return!1;return!0}function km(s,a,u,f,y,b){if(ki=b,lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,_u.current=s===null||s.memoizedState===null?qR:YR,s=u(f,y),yl){b=0;do{if(yl=!1,vl=0,25<=b)throw Error(n(301));b+=1,Tt=jt=null,a.updateQueue=null,_u.current=QR,s=u(f,y)}while(yl)}if(_u.current=Tu,a=jt!==null&&jt.next!==null,ki=0,Tt=jt=lt=null,Cu=!1,a)throw Error(n(300));return s}function jm(){var s=vl!==0;return vl=0,s}function fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?lt.memoizedState=Tt=s:Tt=Tt.next=s,Tt}function kn(){if(jt===null){var s=lt.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var a=Tt===null?lt.memoizedState:Tt.next;if(a!==null)Tt=a,jt=s;else{if(s===null)throw Error(n(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Tt===null?lt.memoizedState=Tt=s:Tt=Tt.next=s}return Tt}function xl(s,a){return typeof a=="function"?a(s):a}function _m(s){var a=kn(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=jt,y=f.baseQueue,b=u.pending;if(b!==null){if(y!==null){var _=y.next;y.next=b.next,b.next=_}f.baseQueue=y=b,u.pending=null}if(y!==null){b=y.next,f=f.baseState;var M=_=null,U=null,Y=b;do{var ee=Y.lane;if((ki&ee)===ee)U!==null&&(U=U.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),f=Y.hasEagerState?Y.eagerState:s(f,Y.action);else{var te={lane:ee,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};U===null?(M=U=te,_=f):U=U.next=te,lt.lanes|=ee,ji|=ee}Y=Y.next}while(Y!==null&&Y!==b);U===null?_=f:U.next=M,zn(f,a.memoizedState)||(rn=!0),a.memoizedState=f,a.baseState=_,a.baseQueue=U,u.lastRenderedState=f}if(s=u.interleaved,s!==null){y=s;do b=y.lane,lt.lanes|=b,ji|=b,y=y.next;while(y!==s)}else y===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Cm(s){var a=kn(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=u.dispatch,y=u.pending,b=a.memoizedState;if(y!==null){u.pending=null;var _=y=y.next;do b=s(b,_.action),_=_.next;while(_!==y);zn(b,a.memoizedState)||(rn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,f]}function zx(){}function Vx(s,a){var u=lt,f=kn(),y=a(),b=!zn(f.memoizedState,y);if(b&&(f.memoizedState=y,rn=!0),f=f.queue,Em(Gx.bind(null,u,f,s),[s]),f.getSnapshot!==a||b||Tt!==null&&Tt.memoizedState.tag&1){if(u.flags|=2048,wl(9,Wx.bind(null,u,f,y,a),void 0,null),Rt===null)throw Error(n(349));(ki&30)!==0||Hx(u,a,y)}return y}function Hx(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=lt.updateQueue,a===null?(a={lastEffect:null,stores:null},lt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Wx(s,a,u,f){a.value=u,a.getSnapshot=f,Kx(a)&&qx(s)}function Gx(s,a,u){return u(function(){Kx(a)&&qx(s)})}function Kx(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!zn(s,u)}catch{return!0}}function qx(s){var a=Vr(s,1);a!==null&&Kn(a,s,1,-1)}function Yx(s){var a=fr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:s},a.queue=s,s=s.dispatch=KR.bind(null,lt,s),[a.memoizedState,s]}function wl(s,a,u,f){return s={tag:s,create:a,destroy:u,deps:f,next:null},a=lt.updateQueue,a===null?(a={lastEffect:null,stores:null},lt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s)),s}function Qx(){return kn().memoizedState}function Eu(s,a,u,f){var y=fr();lt.flags|=s,y.memoizedState=wl(1|a,u,void 0,f===void 0?null:f)}function Pu(s,a,u,f){var y=kn();f=f===void 0?null:f;var b=void 0;if(jt!==null){var _=jt.memoizedState;if(b=_.destroy,f!==null&&Sm(f,_.deps)){y.memoizedState=wl(a,u,b,f);return}}lt.flags|=s,y.memoizedState=wl(1|a,u,b,f)}function Zx(s,a){return Eu(8390656,8,s,a)}function Em(s,a){return Pu(2048,8,s,a)}function Xx(s,a){return Pu(4,2,s,a)}function Jx(s,a){return Pu(4,4,s,a)}function ew(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function tw(s,a,u){return u=u!=null?u.concat([s]):null,Pu(4,4,ew.bind(null,a,s),u)}function Pm(){}function nw(s,a){var u=kn();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Sm(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function rw(s,a){var u=kn();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Sm(a,f[1])?f[0]:(s=s(),u.memoizedState=[s,a],s)}function sw(s,a,u){return(ki&21)===0?(s.baseState&&(s.baseState=!1,rn=!0),s.memoizedState=u):(zn(u,a)||(u=M0(),lt.lanes|=u,ji|=u,s.baseState=!0),a)}function WR(s,a){var u=Je;Je=u!==0&&4>u?u:4,s(!0);var f=Nm.transition;Nm.transition={};try{s(!1),a()}finally{Je=u,Nm.transition=f}}function iw(){return kn().memoizedState}function GR(s,a,u){var f=Ps(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},ow(s))aw(a,u);else if(u=Lx(s,a,u,f),u!==null){var y=Gt();Kn(u,s,f,y),lw(u,a,f)}}function KR(s,a,u){var f=Ps(s),y={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(ow(s))aw(a,y);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var _=a.lastRenderedState,M=b(_,u);if(y.hasEagerState=!0,y.eagerState=M,zn(M,_)){var U=a.interleaved;U===null?(y.next=y,gm(a)):(y.next=U.next,U.next=y),a.interleaved=y;return}}catch{}finally{}u=Lx(s,a,y,f),u!==null&&(y=Gt(),Kn(u,s,f,y),lw(u,a,f))}}function ow(s){var a=s.alternate;return s===lt||a!==null&&a===lt}function aw(s,a){yl=Cu=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function lw(s,a,u){if((u&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Rf(s,u)}}var Tu={readContext:Sn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},qR={readContext:Sn,useCallback:function(s,a){return fr().memoizedState=[s,a===void 0?null:a],s},useContext:Sn,useEffect:Zx,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Eu(4194308,4,ew.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Eu(4194308,4,s,a)},useInsertionEffect:function(s,a){return Eu(4,2,s,a)},useMemo:function(s,a){var u=fr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var f=fr();return a=u!==void 0?u(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=GR.bind(null,lt,s),[f.memoizedState,s]},useRef:function(s){var a=fr();return s={current:s},a.memoizedState=s},useState:Yx,useDebugValue:Pm,useDeferredValue:function(s){return fr().memoizedState=s},useTransition:function(){var s=Yx(!1),a=s[0];return s=WR.bind(null,s[1]),fr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var f=lt,y=fr();if(ot){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),Rt===null)throw Error(n(349));(ki&30)!==0||Hx(f,a,u)}y.memoizedState=u;var b={value:u,getSnapshot:a};return y.queue=b,Zx(Gx.bind(null,f,b,s),[s]),f.flags|=2048,wl(9,Wx.bind(null,f,b,u,a),void 0,null),u},useId:function(){var s=fr(),a=Rt.identifierPrefix;if(ot){var u=zr,f=Br;u=(f&~(1<<32-Bn(f)-1)).toString(32)+u,a=":"+a+"R"+u,u=vl++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=HR++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},YR={readContext:Sn,useCallback:nw,useContext:Sn,useEffect:Em,useImperativeHandle:tw,useInsertionEffect:Xx,useLayoutEffect:Jx,useMemo:rw,useReducer:_m,useRef:Qx,useState:function(){return _m(xl)},useDebugValue:Pm,useDeferredValue:function(s){var a=kn();return sw(a,jt.memoizedState,s)},useTransition:function(){var s=_m(xl)[0],a=kn().memoizedState;return[s,a]},useMutableSource:zx,useSyncExternalStore:Vx,useId:iw,unstable_isNewReconciler:!1},QR={readContext:Sn,useCallback:nw,useContext:Sn,useEffect:Em,useImperativeHandle:tw,useInsertionEffect:Xx,useLayoutEffect:Jx,useMemo:rw,useReducer:Cm,useRef:Qx,useState:function(){return Cm(xl)},useDebugValue:Pm,useDeferredValue:function(s){var a=kn();return jt===null?a.memoizedState=s:sw(a,jt.memoizedState,s)},useTransition:function(){var s=Cm(xl)[0],a=kn().memoizedState;return[s,a]},useMutableSource:zx,useSyncExternalStore:Vx,useId:iw,unstable_isNewReconciler:!1};function Hn(s,a){if(s&&s.defaultProps){a=Z({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Tm(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:Z({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Ru={isMounted:function(s){return(s=s._reactInternals)?yi(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var f=Gt(),y=Ps(s),b=Hr(f,y);b.payload=a,u!=null&&(b.callback=u),a=js(s,b,y),a!==null&&(Kn(a,s,y,f),Su(a,s,y))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=Gt(),y=Ps(s),b=Hr(f,y);b.tag=1,b.payload=a,u!=null&&(b.callback=u),a=js(s,b,y),a!==null&&(Kn(a,s,y,f),Su(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Gt(),f=Ps(s),y=Hr(u,f);y.tag=2,a!=null&&(y.callback=a),a=js(s,y,f),a!==null&&(Kn(a,s,f,u),Su(a,s,f))}};function cw(s,a,u,f,y,b,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,b,_):a.prototype&&a.prototype.isPureReactComponent?!ol(u,f)||!ol(y,b):!0}function uw(s,a,u){var f=!1,y=Ns,b=a.contextType;return typeof b=="object"&&b!==null?b=Sn(b):(y=nn(a)?xi:Lt.current,f=a.contextTypes,b=(f=f!=null)?No(s,y):Ns),a=new a(u,b),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ru,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=b),a}function dw(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Ru.enqueueReplaceState(a,a.state,null)}function Rm(s,a,u,f){var y=s.stateNode;y.props=u,y.state=s.memoizedState,y.refs={},ym(s);var b=a.contextType;typeof b=="object"&&b!==null?y.context=Sn(b):(b=nn(a)?xi:Lt.current,y.context=No(s,b)),y.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Tm(s,a,b,u),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Ru.enqueueReplaceState(y,y.state,null),ku(s,u,y,f),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function To(s,a){try{var u="",f=a;do u+=Te(f),f=f.return;while(f);var y=u}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:s,source:a,stack:y,digest:null}}function Am(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Im(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var ZR=typeof WeakMap=="function"?WeakMap:Map;function hw(s,a,u){u=Hr(-1,u),u.tag=3,u.payload={element:null};var f=a.value;return u.callback=function(){Fu||(Fu=!0,qm=f),Im(s,a)},u}function fw(s,a,u){u=Hr(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var y=a.value;u.payload=function(){return f(y)},u.callback=function(){Im(s,a)}}var b=s.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(u.callback=function(){Im(s,a),typeof f!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})}),u}function mw(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new ZR;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(u)||(y.add(u),s=dA.bind(null,s,a,u),a.then(s,s))}function pw(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function gw(s,a,u,f,y){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Hr(-1,1),a.tag=2,js(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var XR=T.ReactCurrentOwner,rn=!1;function Wt(s,a,u,f){a.child=s===null?Ox(a,null,u,f):_o(a,s.child,u,f)}function yw(s,a,u,f,y){u=u.render;var b=a.ref;return Eo(a,y),f=km(s,a,u,f,b,y),u=jm(),s!==null&&!rn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Wr(s,a,y)):(ot&&u&&am(a),a.flags|=1,Wt(s,a,f,y),a.child)}function vw(s,a,u,f,y){if(s===null){var b=u.type;return typeof b=="function"&&!tp(b)&&b.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=b,xw(s,a,b,f,y)):(s=Hu(u.type,null,f,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,(s.lanes&y)===0){var _=b.memoizedProps;if(u=u.compare,u=u!==null?u:ol,u(_,f)&&s.ref===a.ref)return Wr(s,a,y)}return a.flags|=1,s=Rs(b,f),s.ref=a.ref,s.return=a,a.child=s}function xw(s,a,u,f,y){if(s!==null){var b=s.memoizedProps;if(ol(b,f)&&s.ref===a.ref)if(rn=!1,a.pendingProps=f=b,(s.lanes&y)!==0)(s.flags&131072)!==0&&(rn=!0);else return a.lanes=s.lanes,Wr(s,a,y)}return Mm(s,a,u,f,y)}function ww(s,a,u){var f=a.pendingProps,y=f.children,b=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ao,pn),pn|=u;else{if((u&1073741824)===0)return s=b!==null?b.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,tt(Ao,pn),pn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=b!==null?b.baseLanes:u,tt(Ao,pn),pn|=f}else b!==null?(f=b.baseLanes|u,a.memoizedState=null):f=u,tt(Ao,pn),pn|=f;return Wt(s,a,y,u),a.child}function bw(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Mm(s,a,u,f,y){var b=nn(u)?xi:Lt.current;return b=No(a,b),Eo(a,y),u=km(s,a,u,f,b,y),f=jm(),s!==null&&!rn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Wr(s,a,y)):(ot&&f&&am(a),a.flags|=1,Wt(s,a,u,y),a.child)}function Nw(s,a,u,f,y){if(nn(u)){var b=!0;pu(a)}else b=!1;if(Eo(a,y),a.stateNode===null)Iu(s,a),uw(a,u,f),Rm(a,u,f,y),f=!0;else if(s===null){var _=a.stateNode,M=a.memoizedProps;_.props=M;var U=_.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=Sn(Y):(Y=nn(u)?xi:Lt.current,Y=No(a,Y));var ee=u.getDerivedStateFromProps,te=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function";te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M!==f||U!==Y)&&dw(a,_,f,Y),ks=!1;var J=a.memoizedState;_.state=J,ku(a,f,_,y),U=a.memoizedState,M!==f||J!==U||tn.current||ks?(typeof ee=="function"&&(Tm(a,u,ee,f),U=a.memoizedState),(M=ks||cw(a,u,M,f,J,U,Y))?(te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=U),_.props=f,_.state=U,_.context=Y,f=M):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{_=a.stateNode,Fx(s,a),M=a.memoizedProps,Y=a.type===a.elementType?M:Hn(a.type,M),_.props=Y,te=a.pendingProps,J=_.context,U=u.contextType,typeof U=="object"&&U!==null?U=Sn(U):(U=nn(u)?xi:Lt.current,U=No(a,U));var ue=u.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M!==te||J!==U)&&dw(a,_,f,U),ks=!1,J=a.memoizedState,_.state=J,ku(a,f,_,y);var pe=a.memoizedState;M!==te||J!==pe||tn.current||ks?(typeof ue=="function"&&(Tm(a,u,ue,f),pe=a.memoizedState),(Y=ks||cw(a,u,Y,f,J,pe,U)||!1)?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,pe,U),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,pe,U)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||M===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=pe),_.props=f,_.state=pe,_.context=U,f=Y):(typeof _.componentDidUpdate!="function"||M===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),f=!1)}return Dm(s,a,u,f,b,y)}function Dm(s,a,u,f,y,b){bw(s,a);var _=(a.flags&128)!==0;if(!f&&!_)return y&&Cx(a,u,!1),Wr(s,a,b);f=a.stateNode,XR.current=a;var M=_&&typeof u.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&_?(a.child=_o(a,s.child,null,b),a.child=_o(a,null,M,b)):Wt(s,a,M,b),a.memoizedState=f.state,y&&Cx(a,u,!0),a.child}function Sw(s){var a=s.stateNode;a.pendingContext?jx(s,a.pendingContext,a.pendingContext!==a.context):a.context&&jx(s,a.context,!1),vm(s,a.containerInfo)}function kw(s,a,u,f,y){return jo(),dm(y),a.flags|=256,Wt(s,a,u,f),a.child}var Om={dehydrated:null,treeContext:null,retryLane:0};function Lm(s){return{baseLanes:s,cachePool:null,transitions:null}}function jw(s,a,u){var f=a.pendingProps,y=at.current,b=!1,_=(a.flags&128)!==0,M;if((M=_)||(M=s!==null&&s.memoizedState===null?!1:(y&2)!==0),M?(b=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),tt(at,y&1),s===null)return um(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(_=f.children,s=f.fallback,b?(f=a.mode,b=a.child,_={mode:"hidden",children:_},(f&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=_):b=Wu(_,f,0,null),s=Pi(s,f,u,null),b.return=a,s.return=a,b.sibling=s,a.child=b,a.child.memoizedState=Lm(u),a.memoizedState=Om,s):Fm(a,_));if(y=s.memoizedState,y!==null&&(M=y.dehydrated,M!==null))return JR(s,a,_,f,M,y,u);if(b){b=f.fallback,_=a.mode,y=s.child,M=y.sibling;var U={mode:"hidden",children:f.children};return(_&1)===0&&a.child!==y?(f=a.child,f.childLanes=0,f.pendingProps=U,a.deletions=null):(f=Rs(y,U),f.subtreeFlags=y.subtreeFlags&14680064),M!==null?b=Rs(M,b):(b=Pi(b,_,u,null),b.flags|=2),b.return=a,f.return=a,f.sibling=b,a.child=f,f=b,b=a.child,_=s.child.memoizedState,_=_===null?Lm(u):{baseLanes:_.baseLanes|u,cachePool:null,transitions:_.transitions},b.memoizedState=_,b.childLanes=s.childLanes&~u,a.memoizedState=Om,f}return b=s.child,s=b.sibling,f=Rs(b,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=u),f.return=a,f.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=f,a.memoizedState=null,f}function Fm(s,a){return a=Wu({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Au(s,a,u,f){return f!==null&&dm(f),_o(a,s.child,null,u),s=Fm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function JR(s,a,u,f,y,b,_){if(u)return a.flags&256?(a.flags&=-257,f=Am(Error(n(422))),Au(s,a,_,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(b=f.fallback,y=a.mode,f=Wu({mode:"visible",children:f.children},y,0,null),b=Pi(b,y,_,null),b.flags|=2,f.return=a,b.return=a,f.sibling=b,a.child=f,(a.mode&1)!==0&&_o(a,s.child,null,_),a.child.memoizedState=Lm(_),a.memoizedState=Om,b);if((a.mode&1)===0)return Au(s,a,_,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var M=f.dgst;return f=M,b=Error(n(419)),f=Am(b,f,void 0),Au(s,a,_,f)}if(M=(_&s.childLanes)!==0,rn||M){if(f=Rt,f!==null){switch(_&-_){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|_))!==0?0:y,y!==0&&y!==b.retryLane&&(b.retryLane=y,Vr(s,y),Kn(f,s,y,-1))}return ep(),f=Am(Error(n(421))),Au(s,a,_,f)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=hA.bind(null,s),y._reactRetry=a,null):(s=b.treeContext,mn=ws(y.nextSibling),fn=a,ot=!0,Vn=null,s!==null&&(bn[Nn++]=Br,bn[Nn++]=zr,bn[Nn++]=wi,Br=s.id,zr=s.overflow,wi=a),a=Fm(a,f.children),a.flags|=4096,a)}function _w(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),pm(s.return,a,u)}function Um(s,a,u,f,y){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=y)}function Cw(s,a,u){var f=a.pendingProps,y=f.revealOrder,b=f.tail;if(Wt(s,a,f.children,u),f=at.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&_w(s,u,a);else if(s.tag===19)_w(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(tt(at,f),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(u=a.child,y=null;u!==null;)s=u.alternate,s!==null&&ju(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Um(a,!1,y,u,b);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&ju(s)===null){a.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}Um(a,!0,u,null,b);break;case"together":Um(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Iu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Wr(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),ji|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,u=Rs(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Rs(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function eA(s,a,u){switch(a.tag){case 3:Sw(a),jo();break;case 5:Bx(a);break;case 1:nn(a.type)&&pu(a);break;case 4:vm(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,y=a.memoizedProps.value;tt(bu,f._currentValue),f._currentValue=y;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(tt(at,at.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?jw(s,a,u):(tt(at,at.current&1),s=Wr(s,a,u),s!==null?s.sibling:null);tt(at,at.current&1);break;case 19:if(f=(u&a.childLanes)!==0,(s.flags&128)!==0){if(f)return Cw(s,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),tt(at,at.current),f)break;return null;case 22:case 23:return a.lanes=0,ww(s,a,u)}return Wr(s,a,u)}var Ew,$m,Pw,Tw;Ew=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},$m=function(){},Pw=function(s,a,u,f){var y=s.memoizedProps;if(y!==f){s=a.stateNode,Si(hr.current);var b=null;switch(u){case"input":y=lo(s,y),f=lo(s,f),b=[];break;case"select":y=Z({},y,{value:void 0}),f=Z({},f,{value:void 0}),b=[];break;case"textarea":y=vf(s,y),f=vf(s,f),b=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=hu)}wf(u,f);var _;u=null;for(Y in y)if(!f.hasOwnProperty(Y)&&y.hasOwnProperty(Y)&&y[Y]!=null)if(Y==="style"){var M=y[Y];for(_ in M)M.hasOwnProperty(_)&&(u||(u={}),u[_]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?b||(b=[]):(b=b||[]).push(Y,null));for(Y in f){var U=f[Y];if(M=y!=null?y[Y]:void 0,f.hasOwnProperty(Y)&&U!==M&&(U!=null||M!=null))if(Y==="style")if(M){for(_ in M)!M.hasOwnProperty(_)||U&&U.hasOwnProperty(_)||(u||(u={}),u[_]="");for(_ in U)U.hasOwnProperty(_)&&M[_]!==U[_]&&(u||(u={}),u[_]=U[_])}else u||(b||(b=[]),b.push(Y,u)),u=U;else Y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,M=M?M.__html:void 0,U!=null&&M!==U&&(b=b||[]).push(Y,U)):Y==="children"?typeof U!="string"&&typeof U!="number"||(b=b||[]).push(Y,""+U):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(U!=null&&Y==="onScroll"&&nt("scroll",s),b||M===U||(b=[])):(b=b||[]).push(Y,U))}u&&(b=b||[]).push("style",u);var Y=b;(a.updateQueue=Y)&&(a.flags|=4)}},Tw=function(s,a,u,f){u!==f&&(a.flags|=4)};function bl(s,a){if(!ot)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Ut(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function tA(s,a,u){var f=a.pendingProps;switch(lm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(a),null;case 1:return nn(a.type)&&mu(),Ut(a),null;case 3:return f=a.stateNode,Po(),rt(tn),rt(Lt),bm(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(xu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Vn!==null&&(Zm(Vn),Vn=null))),$m(s,a),Ut(a),null;case 5:xm(a);var y=Si(gl.current);if(u=a.type,s!==null&&a.stateNode!=null)Pw(s,a,u,f,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(n(166));return Ut(a),null}if(s=Si(hr.current),xu(a)){f=a.stateNode,u=a.type;var b=a.memoizedProps;switch(f[dr]=a,f[dl]=b,s=(a.mode&1)!==0,u){case"dialog":nt("cancel",f),nt("close",f);break;case"iframe":case"object":case"embed":nt("load",f);break;case"video":case"audio":for(y=0;y<ll.length;y++)nt(ll[y],f);break;case"source":nt("error",f);break;case"img":case"image":case"link":nt("error",f),nt("load",f);break;case"details":nt("toggle",f);break;case"input":Bc(f,b),nt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!b.multiple},nt("invalid",f);break;case"textarea":f0(f,b),nt("invalid",f)}wf(u,b),y=null;for(var _ in b)if(b.hasOwnProperty(_)){var M=b[_];_==="children"?typeof M=="string"?f.textContent!==M&&(b.suppressHydrationWarning!==!0&&du(f.textContent,M,s),y=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(b.suppressHydrationWarning!==!0&&du(f.textContent,M,s),y=["children",""+M]):i.hasOwnProperty(_)&&M!=null&&_==="onScroll"&&nt("scroll",f)}switch(u){case"input":gi(f),Vc(f,b,!0);break;case"textarea":gi(f),p0(f);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(f.onclick=hu)}f=y,a.updateQueue=f,f!==null&&(a.flags|=4)}else{_=y.nodeType===9?y:y.ownerDocument,s==="https://www.w3.org/1999/xhtml"&&(s=g0(u)),s==="https://www.w3.org/1999/xhtml"?u==="script"?(s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=_.createElement(u,{is:f.is}):(s=_.createElement(u),u==="select"&&(_=s,f.multiple?_.multiple=!0:f.size&&(_.size=f.size))):s=_.createElementNS(s,u),s[dr]=a,s[dl]=f,Ew(s,a,!1,!1),a.stateNode=s;e:{switch(_=bf(u,f),u){case"dialog":nt("cancel",s),nt("close",s),y=f;break;case"iframe":case"object":case"embed":nt("load",s),y=f;break;case"video":case"audio":for(y=0;y<ll.length;y++)nt(ll[y],s);y=f;break;case"source":nt("error",s),y=f;break;case"img":case"image":case"link":nt("error",s),nt("load",s),y=f;break;case"details":nt("toggle",s),y=f;break;case"input":Bc(s,f),y=lo(s,f),nt("invalid",s);break;case"option":y=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},y=Z({},f,{value:void 0}),nt("invalid",s);break;case"textarea":f0(s,f),y=vf(s,f),nt("invalid",s);break;default:y=f}wf(u,y),M=y;for(b in M)if(M.hasOwnProperty(b)){var U=M[b];b==="style"?x0(s,U):b==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&y0(s,U)):b==="children"?typeof U=="string"?(u!=="textarea"||U!=="")&&Va(s,U):typeof U=="number"&&Va(s,""+U):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?U!=null&&b==="onScroll"&&nt("scroll",s):U!=null&&C(s,b,U,_))}switch(u){case"input":gi(s),Vc(s,f,!1);break;case"textarea":gi(s),p0(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Be(f.value));break;case"select":s.multiple=!!f.multiple,b=f.value,b!=null?co(s,!!f.multiple,b,!1):f.defaultValue!=null&&co(s,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=hu)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Ut(a),null;case 6:if(s&&a.stateNode!=null)Tw(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(n(166));if(u=Si(gl.current),Si(hr.current),xu(a)){if(f=a.stateNode,u=a.memoizedProps,f[dr]=a,(b=f.nodeValue!==u)&&(s=fn,s!==null))switch(s.tag){case 3:du(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&du(f.nodeValue,u,(s.mode&1)!==0)}b&&(a.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[dr]=a,a.stateNode=f}return Ut(a),null;case 13:if(rt(at),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ot&&mn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ix(),jo(),a.flags|=98560,b=!1;else if(b=xu(a),f!==null&&f.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[dr]=a}else jo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ut(a),b=!1}else Vn!==null&&(Zm(Vn),Vn=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(at.current&1)!==0?_t===0&&(_t=3):ep())),a.updateQueue!==null&&(a.flags|=4),Ut(a),null);case 4:return Po(),$m(s,a),s===null&&cl(a.stateNode.containerInfo),Ut(a),null;case 10:return mm(a.type._context),Ut(a),null;case 17:return nn(a.type)&&mu(),Ut(a),null;case 19:if(rt(at),b=a.memoizedState,b===null)return Ut(a),null;if(f=(a.flags&128)!==0,_=b.rendering,_===null)if(f)bl(b,!1);else{if(_t!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(_=ju(s),_!==null){for(a.flags|=128,bl(b,!1),f=_.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=u,u=a.child;u!==null;)b=u,s=f,b.flags&=14680066,_=b.alternate,_===null?(b.childLanes=0,b.lanes=s,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=_.childLanes,b.lanes=_.lanes,b.child=_.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=_.memoizedProps,b.memoizedState=_.memoizedState,b.updateQueue=_.updateQueue,b.type=_.type,s=_.dependencies,b.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return tt(at,at.current&1|2),a.child}s=s.sibling}b.tail!==null&&pt()>Io&&(a.flags|=128,f=!0,bl(b,!1),a.lanes=4194304)}else{if(!f)if(s=ju(_),s!==null){if(a.flags|=128,f=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),bl(b,!0),b.tail===null&&b.tailMode==="hidden"&&!_.alternate&&!ot)return Ut(a),null}else 2*pt()-b.renderingStartTime>Io&&u!==1073741824&&(a.flags|=128,f=!0,bl(b,!1),a.lanes=4194304);b.isBackwards?(_.sibling=a.child,a.child=_):(u=b.last,u!==null?u.sibling=_:a.child=_,b.last=_)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=pt(),a.sibling=null,u=at.current,tt(at,f?u&1|2:u&1),a):(Ut(a),null);case 22:case 23:return Jm(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(pn&1073741824)!==0&&(Ut(a),a.subtreeFlags&6&&(a.flags|=8192)):Ut(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function nA(s,a){switch(lm(a),a.tag){case 1:return nn(a.type)&&mu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Po(),rt(tn),rt(Lt),bm(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return xm(a),null;case 13:if(rt(at),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));jo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return rt(at),null;case 4:return Po(),null;case 10:return mm(a.type._context),null;case 22:case 23:return Jm(),null;case 24:return null;default:return null}}var Mu=!1,$t=!1,rA=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ro(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){ht(s,a,f)}else u.current=null}function Bm(s,a,u){try{u()}catch(f){ht(s,a,f)}}var Rw=!1;function sA(s,a){if(Jf=eu,s=cx(),Wf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var _=0,M=-1,U=-1,Y=0,ee=0,te=s,J=null;t:for(;;){for(var ue;te!==u||y!==0&&te.nodeType!==3||(M=_+y),te!==b||f!==0&&te.nodeType!==3||(U=_+f),te.nodeType===3&&(_+=te.nodeValue.length),(ue=te.firstChild)!==null;)J=te,te=ue;for(;;){if(te===s)break t;if(J===u&&++Y===y&&(M=_),J===b&&++ee===f&&(U=_),(ue=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=ue}u=M===-1||U===-1?null:{start:M,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(em={focusedElem:s,selectionRange:u},eu=!1,he=a;he!==null;)if(a=he,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,he=s;else for(;he!==null;){a=he;try{var pe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ye=pe.memoizedProps,gt=pe.memoizedState,V=a.stateNode,B=V.getSnapshotBeforeUpdate(a.elementType===a.type?ye:Hn(a.type,ye),gt);V.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var W=a.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ne){ht(a,a.return,ne)}if(s=a.sibling,s!==null){s.return=a.return,he=s;break}he=a.return}return pe=Rw,Rw=!1,pe}function Nl(s,a,u){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&s)===s){var b=y.destroy;y.destroy=void 0,b!==void 0&&Bm(a,u,b)}y=y.next}while(y!==f)}}function Du(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==a)}}function zm(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function Aw(s){var a=s.alternate;a!==null&&(s.alternate=null,Aw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[dr],delete a[dl],delete a[sm],delete a[$R],delete a[BR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Iw(s){return s.tag===5||s.tag===3||s.tag===4}function Mw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Iw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vm(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=hu));else if(f!==4&&(s=s.child,s!==null))for(Vm(s,a,u),s=s.sibling;s!==null;)Vm(s,a,u),s=s.sibling}function Hm(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Hm(s,a,u),s=s.sibling;s!==null;)Hm(s,a,u),s=s.sibling}var Mt=null,Wn=!1;function _s(s,a,u){for(u=u.child;u!==null;)Dw(s,a,u),u=u.sibling}function Dw(s,a,u){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(qc,u)}catch{}switch(u.tag){case 5:$t||Ro(u,a);case 6:var f=Mt,y=Wn;Mt=null,_s(s,a,u),Mt=f,Wn=y,Mt!==null&&(Wn?(s=Mt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Mt.removeChild(u.stateNode));break;case 18:Mt!==null&&(Wn?(s=Mt,u=u.stateNode,s.nodeType===8?rm(s.parentNode,u):s.nodeType===1&&rm(s,u),el(s)):rm(Mt,u.stateNode));break;case 4:f=Mt,y=Wn,Mt=u.stateNode.containerInfo,Wn=!0,_s(s,a,u),Mt=f,Wn=y;break;case 0:case 11:case 14:case 15:if(!$t&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var b=y,_=b.destroy;b=b.tag,_!==void 0&&((b&2)!==0||(b&4)!==0)&&Bm(u,a,_),y=y.next}while(y!==f)}_s(s,a,u);break;case 1:if(!$t&&(Ro(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(M){ht(u,a,M)}_s(s,a,u);break;case 21:_s(s,a,u);break;case 22:u.mode&1?($t=(f=$t)||u.memoizedState!==null,_s(s,a,u),$t=f):_s(s,a,u);break;default:_s(s,a,u)}}function Ow(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new rA),a.forEach(function(f){var y=fA.bind(null,s,f);u.has(f)||(u.add(f),f.then(y,y))})}}function Gn(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f];try{var b=s,_=a,M=_;e:for(;M!==null;){switch(M.tag){case 5:Mt=M.stateNode,Wn=!1;break e;case 3:Mt=M.stateNode.containerInfo,Wn=!0;break e;case 4:Mt=M.stateNode.containerInfo,Wn=!0;break e}M=M.return}if(Mt===null)throw Error(n(160));Dw(b,_,y),Mt=null,Wn=!1;var U=y.alternate;U!==null&&(U.return=null),y.return=null}catch(Y){ht(y,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Lw(a,s),a=a.sibling}function Lw(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Gn(a,s),mr(s),f&4){try{Nl(3,s,s.return),Du(3,s)}catch(ye){ht(s,s.return,ye)}try{Nl(5,s,s.return)}catch(ye){ht(s,s.return,ye)}}break;case 1:Gn(a,s),mr(s),f&512&&u!==null&&Ro(u,u.return);break;case 5:if(Gn(a,s),mr(s),f&512&&u!==null&&Ro(u,u.return),s.flags&32){var y=s.stateNode;try{Va(y,"")}catch(ye){ht(s,s.return,ye)}}if(f&4&&(y=s.stateNode,y!=null)){var b=s.memoizedProps,_=u!==null?u.memoizedProps:b,M=s.type,U=s.updateQueue;if(s.updateQueue=null,U!==null)try{M==="input"&&b.type==="radio"&&b.name!=null&&zc(y,b),bf(M,_);var Y=bf(M,b);for(_=0;_<U.length;_+=2){var ee=U[_],te=U[_+1];ee==="style"?x0(y,te):ee==="dangerouslySetInnerHTML"?y0(y,te):ee==="children"?Va(y,te):C(y,ee,te,Y)}switch(M){case"input":Ba(y,b);break;case"textarea":m0(y,b);break;case"select":var J=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!b.multiple;var ue=b.value;ue!=null?co(y,!!b.multiple,ue,!1):J!==!!b.multiple&&(b.defaultValue!=null?co(y,!!b.multiple,b.defaultValue,!0):co(y,!!b.multiple,b.multiple?[]:"",!1))}y[dl]=b}catch(ye){ht(s,s.return,ye)}}break;case 6:if(Gn(a,s),mr(s),f&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,b=s.memoizedProps;try{y.nodeValue=b}catch(ye){ht(s,s.return,ye)}}break;case 3:if(Gn(a,s),mr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{el(a.containerInfo)}catch(ye){ht(s,s.return,ye)}break;case 4:Gn(a,s),mr(s);break;case 13:Gn(a,s),mr(s),y=s.child,y.flags&8192&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(Km=pt())),f&4&&Ow(s);break;case 22:if(ee=u!==null&&u.memoizedState!==null,s.mode&1?($t=(Y=$t)||ee,Gn(a,s),$t=Y):Gn(a,s),mr(s),f&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ee&&(s.mode&1)!==0)for(he=s,ee=s.child;ee!==null;){for(te=he=ee;he!==null;){switch(J=he,ue=J.child,J.tag){case 0:case 11:case 14:case 15:Nl(4,J,J.return);break;case 1:Ro(J,J.return);var pe=J.stateNode;if(typeof pe.componentWillUnmount=="function"){f=J,u=J.return;try{a=f,pe.props=a.memoizedProps,pe.state=a.memoizedState,pe.componentWillUnmount()}catch(ye){ht(f,u,ye)}}break;case 5:Ro(J,J.return);break;case 22:if(J.memoizedState!==null){$w(te);continue}}ue!==null?(ue.return=J,he=ue):$w(te)}ee=ee.sibling}e:for(ee=null,te=s;;){if(te.tag===5){if(ee===null){ee=te;try{y=te.stateNode,Y?(b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(M=te.stateNode,U=te.memoizedProps.style,_=U!=null&&U.hasOwnProperty("display")?U.display:null,M.style.display=v0("display",_))}catch(ye){ht(s,s.return,ye)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=Y?"":te.memoizedProps}catch(ye){ht(s,s.return,ye)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===s)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===s)break e;for(;te.sibling===null;){if(te.return===null||te.return===s)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Gn(a,s),mr(s),f&4&&Ow(s);break;case 21:break;default:Gn(a,s),mr(s)}}function mr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(Iw(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(Va(y,""),f.flags&=-33);var b=Mw(s);Hm(s,b,y);break;case 3:case 4:var _=f.stateNode.containerInfo,M=Mw(s);Vm(s,M,_);break;default:throw Error(n(161))}}catch(U){ht(s,s.return,U)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function iA(s,a,u){he=s,Fw(s)}function Fw(s,a,u){for(var f=(s.mode&1)!==0;he!==null;){var y=he,b=y.child;if(y.tag===22&&f){var _=y.memoizedState!==null||Mu;if(!_){var M=y.alternate,U=M!==null&&M.memoizedState!==null||$t;M=Mu;var Y=$t;if(Mu=_,($t=U)&&!Y)for(he=y;he!==null;)_=he,U=_.child,_.tag===22&&_.memoizedState!==null?Bw(y):U!==null?(U.return=_,he=U):Bw(y);for(;b!==null;)he=b,Fw(b),b=b.sibling;he=y,Mu=M,$t=Y}Uw(s)}else(y.subtreeFlags&8772)!==0&&b!==null?(b.return=y,he=b):Uw(s)}}function Uw(s){for(;he!==null;){var a=he;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:$t||Du(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!$t)if(u===null)f.componentDidMount();else{var y=a.elementType===a.type?u.memoizedProps:Hn(a.type,u.memoizedProps);f.componentDidUpdate(y,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&$x(a,b,f);break;case 3:var _=a.updateQueue;if(_!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}$x(a,_,u)}break;case 5:var M=a.stateNode;if(u===null&&a.flags&4){u=M;var U=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&u.focus();break;case"img":U.src&&(u.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var ee=Y.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&el(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}$t||a.flags&512&&zm(a)}catch(J){ht(a,a.return,J)}}if(a===s){he=null;break}if(u=a.sibling,u!==null){u.return=a.return,he=u;break}he=a.return}}function $w(s){for(;he!==null;){var a=he;if(a===s){he=null;break}var u=a.sibling;if(u!==null){u.return=a.return,he=u;break}he=a.return}}function Bw(s){for(;he!==null;){var a=he;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Du(4,a)}catch(U){ht(a,u,U)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var y=a.return;try{f.componentDidMount()}catch(U){ht(a,y,U)}}var b=a.return;try{zm(a)}catch(U){ht(a,b,U)}break;case 5:var _=a.return;try{zm(a)}catch(U){ht(a,_,U)}}}catch(U){ht(a,a.return,U)}if(a===s){he=null;break}var M=a.sibling;if(M!==null){M.return=a.return,he=M;break}he=a.return}}var oA=Math.ceil,Ou=T.ReactCurrentDispatcher,Wm=T.ReactCurrentOwner,jn=T.ReactCurrentBatchConfig,He=0,Rt=null,xt=null,Dt=0,pn=0,Ao=bs(0),_t=0,Sl=null,ji=0,Lu=0,Gm=0,kl=null,sn=null,Km=0,Io=1/0,Gr=null,Fu=!1,qm=null,Cs=null,Uu=!1,Es=null,$u=0,jl=0,Ym=null,Bu=-1,zu=0;function Gt(){return(He&6)!==0?pt():Bu!==-1?Bu:Bu=pt()}function Ps(s){return(s.mode&1)===0?1:(He&2)!==0&&Dt!==0?Dt&-Dt:VR.transition!==null?(zu===0&&(zu=M0()),zu):(s=Je,s!==0||(s=window.event,s=s===void 0?16:V0(s.type)),s)}function Kn(s,a,u,f){if(50<jl)throw jl=0,Ym=null,Error(n(185));Ya(s,u,f),((He&2)===0||s!==Rt)&&(s===Rt&&((He&2)===0&&(Lu|=u),_t===4&&Ts(s,Dt)),on(s,f),u===1&&He===0&&(a.mode&1)===0&&(Io=pt()+500,gu&&Ss()))}function on(s,a){var u=s.callbackNode;V2(s,a);var f=Zc(s,s===Rt?Dt:0);if(f===0)u!==null&&R0(u),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(u!=null&&R0(u),a===1)s.tag===0?zR(Vw.bind(null,s)):Ex(Vw.bind(null,s)),FR(function(){(He&6)===0&&Ss()}),u=null;else{switch(D0(f)){case 1:u=Ef;break;case 4:u=A0;break;case 16:u=Kc;break;case 536870912:u=I0;break;default:u=Kc}u=Zw(u,zw.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function zw(s,a){if(Bu=-1,zu=0,(He&6)!==0)throw Error(n(327));var u=s.callbackNode;if(Mo()&&s.callbackNode!==u)return null;var f=Zc(s,s===Rt?Dt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=Vu(s,f);else{a=f;var y=He;He|=2;var b=Ww();(Rt!==s||Dt!==a)&&(Gr=null,Io=pt()+500,Ci(s,a));do try{cA();break}catch(M){Hw(s,M)}while(!0);fm(),Ou.current=b,He=y,xt!==null?a=0:(Rt=null,Dt=0,a=_t)}if(a!==0){if(a===2&&(y=Pf(s),y!==0&&(f=y,a=Qm(s,y))),a===1)throw u=Sl,Ci(s,0),Ts(s,f),on(s,pt()),u;if(a===6)Ts(s,f);else{if(y=s.current.alternate,(f&30)===0&&!aA(y)&&(a=Vu(s,f),a===2&&(b=Pf(s),b!==0&&(f=b,a=Qm(s,b))),a===1))throw u=Sl,Ci(s,0),Ts(s,f),on(s,pt()),u;switch(s.finishedWork=y,s.finishedLanes=f,a){case 0:case 1:throw Error(n(345));case 2:Ei(s,sn,Gr);break;case 3:if(Ts(s,f),(f&130023424)===f&&(a=Km+500-pt(),10<a)){if(Zc(s,0)!==0)break;if(y=s.suspendedLanes,(y&f)!==f){Gt(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=nm(Ei.bind(null,s,sn,Gr),a);break}Ei(s,sn,Gr);break;case 4:if(Ts(s,f),(f&4194240)===f)break;for(a=s.eventTimes,y=-1;0<f;){var _=31-Bn(f);b=1<<_,_=a[_],_>y&&(y=_),f&=~b}if(f=y,f=pt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*oA(f/1960))-f,10<f){s.timeoutHandle=nm(Ei.bind(null,s,sn,Gr),f);break}Ei(s,sn,Gr);break;case 5:Ei(s,sn,Gr);break;default:throw Error(n(329))}}}return on(s,pt()),s.callbackNode===u?zw.bind(null,s):null}function Qm(s,a){var u=kl;return s.current.memoizedState.isDehydrated&&(Ci(s,a).flags|=256),s=Vu(s,a),s!==2&&(a=sn,sn=u,a!==null&&Zm(a)),s}function Zm(s){sn===null?sn=s:sn.push.apply(sn,s)}function aA(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var y=u[f],b=y.getSnapshot;y=y.value;try{if(!zn(b(),y))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ts(s,a){for(a&=~Gm,a&=~Lu,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-Bn(a),f=1<<u;s[u]=-1,a&=~f}}function Vw(s){if((He&6)!==0)throw Error(n(327));Mo();var a=Zc(s,0);if((a&1)===0)return on(s,pt()),null;var u=Vu(s,a);if(s.tag!==0&&u===2){var f=Pf(s);f!==0&&(a=f,u=Qm(s,f))}if(u===1)throw u=Sl,Ci(s,0),Ts(s,a),on(s,pt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ei(s,sn,Gr),on(s,pt()),null}function Xm(s,a){var u=He;He|=1;try{return s(a)}finally{He=u,He===0&&(Io=pt()+500,gu&&Ss())}}function _i(s){Es!==null&&Es.tag===0&&(He&6)===0&&Mo();var a=He;He|=1;var u=jn.transition,f=Je;try{if(jn.transition=null,Je=1,s)return s()}finally{Je=f,jn.transition=u,He=a,(He&6)===0&&Ss()}}function Jm(){pn=Ao.current,rt(Ao)}function Ci(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,LR(u)),xt!==null)for(u=xt.return;u!==null;){var f=u;switch(lm(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&mu();break;case 3:Po(),rt(tn),rt(Lt),bm();break;case 5:xm(f);break;case 4:Po();break;case 13:rt(at);break;case 19:rt(at);break;case 10:mm(f.type._context);break;case 22:case 23:Jm()}u=u.return}if(Rt=s,xt=s=Rs(s.current,null),Dt=pn=a,_t=0,Sl=null,Gm=Lu=ji=0,sn=kl=null,Ni!==null){for(a=0;a<Ni.length;a++)if(u=Ni[a],f=u.interleaved,f!==null){u.interleaved=null;var y=f.next,b=u.pending;if(b!==null){var _=b.next;b.next=y,f.next=_}u.pending=f}Ni=null}return s}function Hw(s,a){do{var u=xt;try{if(fm(),_u.current=Tu,Cu){for(var f=lt.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}Cu=!1}if(ki=0,Tt=jt=lt=null,yl=!1,vl=0,Wm.current=null,u===null||u.return===null){_t=1,Sl=a,xt=null;break}e:{var b=s,_=u.return,M=u,U=a;if(a=Dt,M.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Y=U,ee=M,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var J=ee.alternate;J?(ee.updateQueue=J.updateQueue,ee.memoizedState=J.memoizedState,ee.lanes=J.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=pw(_);if(ue!==null){ue.flags&=-257,gw(ue,_,M,b,a),ue.mode&1&&mw(b,Y,a),a=ue,U=Y;var pe=a.updateQueue;if(pe===null){var ye=new Set;ye.add(U),a.updateQueue=ye}else pe.add(U);break e}else{if((a&1)===0){mw(b,Y,a),ep();break e}U=Error(n(426))}}else if(ot&&M.mode&1){var gt=pw(_);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),gw(gt,_,M,b,a),dm(To(U,M));break e}}b=U=To(U,M),_t!==4&&(_t=2),kl===null?kl=[b]:kl.push(b),b=_;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var V=hw(b,U,a);Ux(b,V);break e;case 1:M=U;var B=b.type,W=b.stateNode;if((b.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Cs===null||!Cs.has(W)))){b.flags|=65536,a&=-a,b.lanes|=a;var ne=fw(b,M,a);Ux(b,ne);break e}}b=b.return}while(b!==null)}Kw(u)}catch(ve){a=ve,xt===u&&u!==null&&(xt=u=u.return);continue}break}while(!0)}function Ww(){var s=Ou.current;return Ou.current=Tu,s===null?Tu:s}function ep(){(_t===0||_t===3||_t===2)&&(_t=4),Rt===null||(ji&268435455)===0&&(Lu&268435455)===0||Ts(Rt,Dt)}function Vu(s,a){var u=He;He|=2;var f=Ww();(Rt!==s||Dt!==a)&&(Gr=null,Ci(s,a));do try{lA();break}catch(y){Hw(s,y)}while(!0);if(fm(),He=u,Ou.current=f,xt!==null)throw Error(n(261));return Rt=null,Dt=0,_t}function lA(){for(;xt!==null;)Gw(xt)}function cA(){for(;xt!==null&&!M2();)Gw(xt)}function Gw(s){var a=Qw(s.alternate,s,pn);s.memoizedProps=s.pendingProps,a===null?Kw(s):xt=a,Wm.current=null}function Kw(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=tA(u,a,pn),u!==null){xt=u;return}}else{if(u=nA(u,a),u!==null){u.flags&=32767,xt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{_t=6,xt=null;return}}if(a=a.sibling,a!==null){xt=a;return}xt=a=s}while(a!==null);_t===0&&(_t=5)}function Ei(s,a,u){var f=Je,y=jn.transition;try{jn.transition=null,Je=1,uA(s,a,u,f)}finally{jn.transition=y,Je=f}return null}function uA(s,a,u,f){do Mo();while(Es!==null);if((He&6)!==0)throw Error(n(327));u=s.finishedWork;var y=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var b=u.lanes|u.childLanes;if(H2(s,b),s===Rt&&(xt=Rt=null,Dt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Uu||(Uu=!0,Zw(Kc,function(){return Mo(),null})),b=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||b){b=jn.transition,jn.transition=null;var _=Je;Je=1;var M=He;He|=4,Wm.current=null,sA(s,u),Lw(u,s),TR(em),eu=!!Jf,em=Jf=null,s.current=u,iA(u),D2(),He=M,Je=_,jn.transition=b}else s.current=u;if(Uu&&(Uu=!1,Es=s,$u=y),b=s.pendingLanes,b===0&&(Cs=null),F2(u.stateNode),on(s,pt()),a!==null)for(f=s.onRecoverableError,u=0;u<a.length;u++)y=a[u],f(y.value,{componentStack:y.stack,digest:y.digest});if(Fu)throw Fu=!1,s=qm,qm=null,s;return($u&1)!==0&&s.tag!==0&&Mo(),b=s.pendingLanes,(b&1)!==0?s===Ym?jl++:(jl=0,Ym=s):jl=0,Ss(),null}function Mo(){if(Es!==null){var s=D0($u),a=jn.transition,u=Je;try{if(jn.transition=null,Je=16>s?16:s,Es===null)var f=!1;else{if(s=Es,Es=null,$u=0,(He&6)!==0)throw Error(n(331));var y=He;for(He|=4,he=s.current;he!==null;){var b=he,_=b.child;if((he.flags&16)!==0){var M=b.deletions;if(M!==null){for(var U=0;U<M.length;U++){var Y=M[U];for(he=Y;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:Nl(8,ee,b)}var te=ee.child;if(te!==null)te.return=ee,he=te;else for(;he!==null;){ee=he;var J=ee.sibling,ue=ee.return;if(Aw(ee),ee===Y){he=null;break}if(J!==null){J.return=ue,he=J;break}he=ue}}}var pe=b.alternate;if(pe!==null){var ye=pe.child;if(ye!==null){pe.child=null;do{var gt=ye.sibling;ye.sibling=null,ye=gt}while(ye!==null)}}he=b}}if((b.subtreeFlags&2064)!==0&&_!==null)_.return=b,he=_;else e:for(;he!==null;){if(b=he,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Nl(9,b,b.return)}var V=b.sibling;if(V!==null){V.return=b.return,he=V;break e}he=b.return}}var B=s.current;for(he=B;he!==null;){_=he;var W=_.child;if((_.subtreeFlags&2064)!==0&&W!==null)W.return=_,he=W;else e:for(_=B;he!==null;){if(M=he,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Du(9,M)}}catch(ve){ht(M,M.return,ve)}if(M===_){he=null;break e}var ne=M.sibling;if(ne!==null){ne.return=M.return,he=ne;break e}he=M.return}}if(He=y,Ss(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(qc,s)}catch{}f=!0}return f}finally{Je=u,jn.transition=a}}return!1}function qw(s,a,u){a=To(u,a),a=hw(s,a,1),s=js(s,a,1),a=Gt(),s!==null&&(Ya(s,1,a),on(s,a))}function ht(s,a,u){if(s.tag===3)qw(s,s,u);else for(;a!==null;){if(a.tag===3){qw(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Cs===null||!Cs.has(f))){s=To(u,s),s=fw(a,s,1),a=js(a,s,1),s=Gt(),a!==null&&(Ya(a,1,s),on(a,s));break}}a=a.return}}function dA(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),a=Gt(),s.pingedLanes|=s.suspendedLanes&u,Rt===s&&(Dt&u)===u&&(_t===4||_t===3&&(Dt&130023424)===Dt&&500>pt()-Km?Ci(s,0):Gm|=u),on(s,a)}function Yw(s,a){a===0&&((s.mode&1)===0?a=1:(a=Qc,Qc<<=1,(Qc&130023424)===0&&(Qc=4194304)));var u=Gt();s=Vr(s,a),s!==null&&(Ya(s,a,u),on(s,u))}function hA(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),Yw(s,u)}function fA(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(a),Yw(s,u)}var Qw;Qw=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||tn.current)rn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return rn=!1,eA(s,a,u);rn=(s.flags&131072)!==0}else rn=!1,ot&&(a.flags&1048576)!==0&&Px(a,vu,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Iu(s,a),s=a.pendingProps;var y=No(a,Lt.current);Eo(a,u),y=km(null,a,f,s,y,u);var b=jm();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,nn(f)?(b=!0,pu(a)):b=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,ym(a),y.updater=Ru,a.stateNode=y,y._reactInternals=a,Rm(a,f,s,u),a=Dm(null,a,f,!0,b,u)):(a.tag=0,ot&&b&&am(a),Wt(null,a,y,u),a=a.child),a;case 16:f=a.elementType;e:{switch(Iu(s,a),s=a.pendingProps,y=f._init,f=y(f._payload),a.type=f,y=a.tag=pA(f),s=Hn(f,s),y){case 0:a=Mm(null,a,f,s,u);break e;case 1:a=Nw(null,a,f,s,u);break e;case 11:a=yw(null,a,f,s,u);break e;case 14:a=vw(null,a,f,Hn(f.type,s),u);break e}throw Error(n(306,f,""))}return a;case 0:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Hn(f,y),Mm(s,a,f,y,u);case 1:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Hn(f,y),Nw(s,a,f,y,u);case 3:e:{if(Sw(a),s===null)throw Error(n(387));f=a.pendingProps,b=a.memoizedState,y=b.element,Fx(s,a),ku(a,f,null,u);var _=a.memoizedState;if(f=_.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){y=To(Error(n(423)),a),a=kw(s,a,f,u,y);break e}else if(f!==y){y=To(Error(n(424)),a),a=kw(s,a,f,u,y);break e}else for(mn=ws(a.stateNode.containerInfo.firstChild),fn=a,ot=!0,Vn=null,u=Ox(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(jo(),f===y){a=Wr(s,a,u);break e}Wt(s,a,f,u)}a=a.child}return a;case 5:return Bx(a),s===null&&um(a),f=a.type,y=a.pendingProps,b=s!==null?s.memoizedProps:null,_=y.children,tm(f,y)?_=null:b!==null&&tm(f,b)&&(a.flags|=32),bw(s,a),Wt(s,a,_,u),a.child;case 6:return s===null&&um(a),null;case 13:return jw(s,a,u);case 4:return vm(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=_o(a,null,f,u):Wt(s,a,f,u),a.child;case 11:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Hn(f,y),yw(s,a,f,y,u);case 7:return Wt(s,a,a.pendingProps,u),a.child;case 8:return Wt(s,a,a.pendingProps.children,u),a.child;case 12:return Wt(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(f=a.type._context,y=a.pendingProps,b=a.memoizedProps,_=y.value,tt(bu,f._currentValue),f._currentValue=_,b!==null)if(zn(b.value,_)){if(b.children===y.children&&!tn.current){a=Wr(s,a,u);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var M=b.dependencies;if(M!==null){_=b.child;for(var U=M.firstContext;U!==null;){if(U.context===f){if(b.tag===1){U=Hr(-1,u&-u),U.tag=2;var Y=b.updateQueue;if(Y!==null){Y=Y.shared;var ee=Y.pending;ee===null?U.next=U:(U.next=ee.next,ee.next=U),Y.pending=U}}b.lanes|=u,U=b.alternate,U!==null&&(U.lanes|=u),pm(b.return,u,a),M.lanes|=u;break}U=U.next}}else if(b.tag===10)_=b.type===a.type?null:b.child;else if(b.tag===18){if(_=b.return,_===null)throw Error(n(341));_.lanes|=u,M=_.alternate,M!==null&&(M.lanes|=u),pm(_,u,a),_=b.sibling}else _=b.child;if(_!==null)_.return=b;else for(_=b;_!==null;){if(_===a){_=null;break}if(b=_.sibling,b!==null){b.return=_.return,_=b;break}_=_.return}b=_}Wt(s,a,y.children,u),a=a.child}return a;case 9:return y=a.type,f=a.pendingProps.children,Eo(a,u),y=Sn(y),f=f(y),a.flags|=1,Wt(s,a,f,u),a.child;case 14:return f=a.type,y=Hn(f,a.pendingProps),y=Hn(f.type,y),vw(s,a,f,y,u);case 15:return xw(s,a,a.type,a.pendingProps,u);case 17:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Hn(f,y),Iu(s,a),a.tag=1,nn(f)?(s=!0,pu(a)):s=!1,Eo(a,u),uw(a,f,y),Rm(a,f,y,u),Dm(null,a,f,!0,s,u);case 19:return Cw(s,a,u);case 22:return ww(s,a,u)}throw Error(n(156,a.tag))};function Zw(s,a){return T0(s,a)}function mA(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(s,a,u,f){return new mA(s,a,u,f)}function tp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function pA(s){if(typeof s=="function")return tp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===X)return 14}return 2}function Rs(s,a){var u=s.alternate;return u===null?(u=_n(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Hu(s,a,u,f,y,b){var _=2;if(f=s,typeof s=="function")tp(s)&&(_=1);else if(typeof s=="string")_=5;else e:switch(s){case I:return Pi(u.children,y,b,a);case E:_=8,y|=8;break;case A:return s=_n(12,u,a,y|2),s.elementType=A,s.lanes=b,s;case Q:return s=_n(13,u,a,y),s.elementType=Q,s.lanes=b,s;case D:return s=_n(19,u,a,y),s.elementType=D,s.lanes=b,s;case oe:return Wu(u,y,b,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:_=10;break e;case q:_=9;break e;case z:_=11;break e;case X:_=14;break e;case ie:_=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=_n(_,u,a,y),a.elementType=s,a.type=f,a.lanes=b,a}function Pi(s,a,u,f){return s=_n(7,s,f,a),s.lanes=u,s}function Wu(s,a,u,f){return s=_n(22,s,f,a),s.elementType=oe,s.lanes=u,s.stateNode={isHidden:!1},s}function np(s,a,u){return s=_n(6,s,null,a),s.lanes=u,s}function rp(s,a,u){return a=_n(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function gA(s,a,u,f,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tf(0),this.expirationTimes=Tf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tf(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function sp(s,a,u,f,y,b,_,M,U){return s=new gA(s,a,u,M,U),a===1?(a=1,b===!0&&(a|=8)):a=0,b=_n(3,null,null,a),s.current=b,b.stateNode=s,b.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},ym(b),s}function yA(s,a,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:f==null?null:""+f,children:s,containerInfo:a,implementation:u}}function Xw(s){if(!s)return Ns;s=s._reactInternals;e:{if(yi(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(nn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(nn(u))return _x(s,u,a)}return a}function Jw(s,a,u,f,y,b,_,M,U){return s=sp(u,f,!0,s,y,b,_,M,U),s.context=Xw(null),u=s.current,f=Gt(),y=Ps(u),b=Hr(f,y),b.callback=a??null,js(u,b,y),s.current.lanes=y,Ya(s,y,f),on(s,f),s}function Gu(s,a,u,f){var y=a.current,b=Gt(),_=Ps(y);return u=Xw(u),a.context===null?a.context=u:a.pendingContext=u,a=Hr(b,_),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=js(y,a,_),s!==null&&(Kn(s,y,_,b),Su(s,y,_)),_}function Ku(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function eb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function ip(s,a){eb(s,a),(s=s.alternate)&&eb(s,a)}function vA(){return null}var tb=typeof reportError=="function"?reportError:function(s){console.error(s)};function op(s){this._internalRoot=s}qu.prototype.render=op.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Gu(s,a,null,null)},qu.prototype.unmount=op.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;_i(function(){Gu(null,s,null,null)}),a[Ur]=null}};function qu(s){this._internalRoot=s}qu.prototype.unstable_scheduleHydration=function(s){if(s){var a=F0();s={blockedOn:null,target:s,priority:a};for(var u=0;u<ys.length&&a!==0&&a<ys[u].priority;u++);ys.splice(u,0,s),u===0&&B0(s)}};function ap(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Yu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function nb(){}function xA(s,a,u,f,y){if(y){if(typeof f=="function"){var b=f;f=function(){var Y=Ku(_);b.call(Y)}}var _=Jw(a,f,s,0,null,!1,!1,"",nb);return s._reactRootContainer=_,s[Ur]=_.current,cl(s.nodeType===8?s.parentNode:s),_i(),_}for(;y=s.lastChild;)s.removeChild(y);if(typeof f=="function"){var M=f;f=function(){var Y=Ku(U);M.call(Y)}}var U=sp(s,0,!1,null,null,!1,!1,"",nb);return s._reactRootContainer=U,s[Ur]=U.current,cl(s.nodeType===8?s.parentNode:s),_i(function(){Gu(a,U,u,f)}),U}function Qu(s,a,u,f,y){var b=u._reactRootContainer;if(b){var _=b;if(typeof y=="function"){var M=y;y=function(){var U=Ku(_);M.call(U)}}Gu(a,_,s,y)}else _=xA(u,a,s,y,f);return Ku(_)}O0=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=qa(a.pendingLanes);u!==0&&(Rf(a,u|1),on(a,pt()),(He&6)===0&&(Io=pt()+500,Ss()))}break;case 13:_i(function(){var f=Vr(s,1);if(f!==null){var y=Gt();Kn(f,s,1,y)}}),ip(s,1)}},Af=function(s){if(s.tag===13){var a=Vr(s,134217728);if(a!==null){var u=Gt();Kn(a,s,134217728,u)}ip(s,134217728)}},L0=function(s){if(s.tag===13){var a=Ps(s),u=Vr(s,a);if(u!==null){var f=Gt();Kn(u,s,a,f)}ip(s,a)}},F0=function(){return Je},U0=function(s,a){var u=Je;try{return Je=s,a()}finally{Je=u}},kf=function(s,a,u){switch(a){case"input":if(Ba(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var y=fu(f);if(!y)throw Error(n(90));$a(f),Ba(f,y)}}}break;case"textarea":m0(s,u);break;case"select":a=u.value,a!=null&&co(s,!!u.multiple,a,!1)}},S0=Xm,k0=_i;var wA={usingClientEntryPoint:!1,Events:[hl,wo,fu,b0,N0,Xm]},_l={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bA={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=E0(s),s===null?null:s.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||vA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{qc=Zu.inject(bA),ur=Zu}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wA,an.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ap(a))throw Error(n(200));return yA(s,a,null,u)},an.createRoot=function(s,a){if(!ap(s))throw Error(n(299));var u=!1,f="",y=tb;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=sp(s,1,!1,null,null,u,!1,f,y),s[Ur]=a.current,cl(s.nodeType===8?s.parentNode:s),new op(a)},an.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=E0(a),s=s===null?null:s.stateNode,s},an.flushSync=function(s){return _i(s)},an.hydrate=function(s,a,u){if(!Yu(a))throw Error(n(200));return Qu(null,s,a,!0,u)},an.hydrateRoot=function(s,a,u){if(!ap(s))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,y=!1,b="",_=tb;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),a=Jw(a,null,s,1,u??null,y,!1,b,_),s[Ur]=a.current,cl(s),f)for(s=0;s<f.length;s++)u=f[s],y=u._getVersion,y=y(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,y]:a.mutableSourceEagerHydrationData.push(u,y);return new qu(a)},an.render=function(s,a,u){if(!Yu(a))throw Error(n(200));return Qu(null,s,a,!1,u)},an.unmountComponentAtNode=function(s){if(!Yu(s))throw Error(n(40));return s._reactRootContainer?(_i(function(){Qu(null,null,s,!1,function(){s._reactRootContainer=null,s[Ur]=null})}),!0):!1},an.unstable_batchedUpdates=Xm,an.unstable_renderSubtreeIntoContainer=function(s,a,u,f){if(!Yu(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Qu(s,a,u,!1,f)},an.version="18.3.1-next-f1338f8080-20240426",an}var hb;function qS(){if(hb)return dp.exports;hb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dp.exports=RA(),dp.exports}var fb;function AA(){if(fb)return Ju;fb=1;var t=qS();return Ju.createRoot=t.createRoot,Ju.hydrateRoot=t.hydrateRoot,Ju}var IA=AA();function MA(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,l,c=[],d="",h=t.split("/");for(h[0]||h.shift();i=h.shift();)n=i[0],n==="*"?(c.push(n),d+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),l=i.indexOf(".",1),c.push(i.substring(1,~r?r:~l?l:i.length)),d+=~r&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(d+=(~r?"?":"")+"\\"+i.substring(l))):d+="/"+i;return{keys:c,pattern:new RegExp("^"+d+(e?"(?=$|/)":"/?$"),"i")}}var v=Eh();const Ke=KS(v),Sy=SA({__proto__:null,default:Ke},[v]);var mp={exports:{}},pp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function DA(){if(mb)return pp;mb=1;var t=Eh();function e(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(p,x){var N=x(),k=r({inst:{value:N,getSnapshot:x}}),S=k[0].inst,w=k[1];return l(function(){S.value=N,S.getSnapshot=x,h(S)&&w({inst:S})},[p,N,x]),i(function(){return h(S)&&w({inst:S}),p(function(){h(S)&&w({inst:S})})},[p]),c(N),N}function h(p){var x=p.getSnapshot;p=p.value;try{var N=x();return!n(p,N)}catch{return!0}}function m(p,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return pp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,pp}var pb;function OA(){return pb||(pb=1,mp.exports=DA()),mp.exports}var YS=OA();const LA=Sy.useInsertionEffect,FA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QS=FA?v.useLayoutEffect:v.useEffect,UA=LA||QS,ky=t=>{const e=v.useRef([t,(...n)=>e[0](...n)]).current;return UA(()=>{e[0]=t}),e[1]},$A="popstate",jy="pushState",_y="replaceState",BA="hashchange",gb=[$A,jy,_y,BA],zA=t=>{for(const e of gb)addEventListener(e,t);return()=>{for(const e of gb)removeEventListener(e,t)}},ZS=(t,e)=>YS.useSyncExternalStore(zA,t,e),VA=()=>location.search,HA=({ssrSearch:t=""}={})=>ZS(VA,()=>t),yb=()=>location.pathname,WA=({ssrPath:t}={})=>ZS(yb,t?()=>t:yb),GA=(t,{replace:e=!1,state:n=null}={})=>history[e?_y:jy](n,"",t),KA=(t={})=>[WA(t),GA],vb=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[vb]>"u"){for(const t of[jy,_y]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,vb,{value:!0})}const qA=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",XS=(t="")=>t==="/"?"":t,YA=(t,e)=>t[0]==="~"?t.slice(1):XS(e)+t,QA=(t="",e)=>qA(xb(XS(t)),xb(e)),xb=t=>{try{return decodeURI(t)}catch{return t}},JS={hook:KA,searchHook:HA,parser:MA,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},ek=v.createContext(JS),Ta=()=>v.useContext(ek),tk={},nk=v.createContext(tk),ZA=()=>v.useContext(nk),Nc=t=>{const[e,n]=t.hook(t);return[QA(t.base,e),ky((r,i)=>n(YA(r,t.base),i))]},ir=()=>Nc(Ta()),rk=(t,e,n,r)=>{const{pattern:i,keys:l}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),c=i.exec(n)||[],[d,...h]=c;return d!==void 0?[!0,(()=>{const m=l!==!1?Object.fromEntries(l.map((p,x)=>[p,h[x]])):c.groups;let g={...h};return m&&Object.assign(g,m),g})(),...r?[d]:[]]:[!1,null]},XA=({children:t,...e})=>{var g,p;const n=Ta(),r=e.hook?JS:n;let i=r;const[l,c]=((g=e.ssrPath)==null?void 0:g.split("?"))??[];c&&(e.ssrSearch=c,e.ssrPath=l),e.hrefs=e.hrefs??((p=e.hook)==null?void 0:p.hrefs);let d=v.useRef({}),h=d.current,m=h;for(let x in r){const N=x==="base"?r[x]+(e[x]||""):e[x]||r[x];h===m&&N!==m[x]&&(d.current=m={...m}),m[x]=N,(N!==r[x]||N!==i[x])&&(i=m)}return v.createElement(ek.Provider,{value:i,children:t})},wb=({children:t,component:e},n)=>e?v.createElement(e,{params:n}):typeof t=="function"?t(n):t,JA=t=>{let e=v.useRef(tk);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,i])=>i!==n[r])?t:n},Ti=({path:t,nest:e,match:n,...r})=>{const i=Ta(),[l]=Nc(i),[c,d,h]=n??rk(i.parser,t,l,e),m=JA({...ZA(),...d});if(!c)return null;const g=h?v.createElement(XA,{base:h},wb(r,m)):wb(r,m);return v.createElement(nk.Provider,{value:m,children:g})},Et=v.forwardRef((t,e)=>{const n=Ta(),[r,i]=Nc(n),{to:l="",href:c=l,onClick:d,asChild:h,children:m,className:g,replace:p,state:x,...N}=t,k=ky(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(d==null||d(w),w.defaultPrevented||(w.preventDefault(),i(c,t)))}),S=n.hrefs(c[0]==="~"?c.slice(1):n.base+c,n);return h&&v.isValidElement(m)?v.cloneElement(m,{onClick:k,href:S}):v.createElement("a",{...N,onClick:k,href:S,className:g!=null&&g.call?g(r===c):g,children:m,ref:e})}),sk=t=>Array.isArray(t)?t.flatMap(e=>sk(e&&e.type===v.Fragment?e.props.children:e)):[t],eI=({children:t,location:e})=>{const n=Ta(),[r]=Nc(n);for(const i of sk(t)){let l=0;if(v.isValidElement(i)&&(l=rk(n.parser,i.props.path,e||r,i.props.nest))[0])return v.cloneElement(i,{match:l})}return null},Nd=t=>{const{to:e,href:n=e}=t,r=Ta(),[,i]=Nc(r),l=ky(()=>i(e||n,t)),{ssrContext:c}=r;return QS(()=>{l()},[]),c&&(c.redirectTo=e),null};var Ra=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yi=typeof window>"u"||"Deno"in globalThis;function Qt(){}function tI(t,e){return typeof t=="function"?t(e):t}function ig(t){return typeof t=="number"&&t>=0&&t!==1/0}function ik(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ti(t,e){return typeof t=="function"?t(e):t}function Rn(t,e){return typeof t=="function"?t(e):t}function bb(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:l,queryKey:c,stale:d}=t;if(c){if(r){if(e.queryHash!==Cy(c,e.options))return!1}else if(!Zl(e.queryKey,c))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||i&&i!==e.state.fetchStatus||l&&!l(e))}function Nb(t,e){const{exact:n,status:r,predicate:i,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(Qi(e.options.mutationKey)!==Qi(l))return!1}else if(!Zl(e.options.mutationKey,l))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Cy(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qi)(t)}function Qi(t){return JSON.stringify(t,(e,n)=>og(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Zl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Zl(t[n],e[n])):!1}function ok(t,e){if(t===e)return t;const n=Sb(t)&&Sb(e);if(n||og(t)&&og(e)){const r=n?t:Object.keys(t),i=r.length,l=n?e:Object.keys(e),c=l.length,d=n?[]:{},h=new Set(r);let m=0;for(let g=0;g<c;g++){const p=n?g:l[g];(!n&&h.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(d[p]=void 0,m++):(d[p]=ok(t[p],e[p]),d[p]===t[p]&&t[p]!==void 0&&m++)}return i===c&&m===i?t:d}return e}function Bd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Sb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function og(t){if(!kb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!kb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function kb(t){return Object.prototype.toString.call(t)==="[object Object]"}function nI(t){return new Promise(e=>{setTimeout(e,t)})}function ag(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ok(t,e):e}function rI(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function sI(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ey=Symbol();function ak(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ey?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function lk(t,e){return typeof t=="function"?t(...e):!!t}var Li,Vs,ea,LS,iI=(LS=class extends Ra{constructor(){super();Ne(this,Li);Ne(this,Vs);Ne(this,ea);de(this,ea,e=>{if(!Yi&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){L(this,Vs)||this.setEventListener(L(this,ea))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,Vs))==null||e.call(this),de(this,Vs,void 0))}setEventListener(e){var n;de(this,ea,e),(n=L(this,Vs))==null||n.call(this),de(this,Vs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){L(this,Li)!==e&&(de(this,Li,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof L(this,Li)=="boolean"?L(this,Li):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Li=new WeakMap,Vs=new WeakMap,ea=new WeakMap,LS),Py=new iI,ta,Hs,na,FS,oI=(FS=class extends Ra{constructor(){super();Ne(this,ta,!0);Ne(this,Hs);Ne(this,na);de(this,na,e=>{if(!Yi&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,Hs)||this.setEventListener(L(this,na))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,Hs))==null||e.call(this),de(this,Hs,void 0))}setEventListener(e){var n;de(this,na,e),(n=L(this,Hs))==null||n.call(this),de(this,Hs,e(this.setOnline.bind(this)))}setOnline(e){L(this,ta)!==e&&(de(this,ta,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return L(this,ta)}},ta=new WeakMap,Hs=new WeakMap,na=new WeakMap,FS),zd=new oI;function lg(){let t,e;const n=new Promise((i,l)=>{t=i,e=l});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function aI(t){return Math.min(1e3*2**t,3e4)}function ck(t){return(t??"online")==="online"?zd.isOnline():!0}var uk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gp(t){return t instanceof uk}function dk(t){let e=!1,n=0,r=!1,i;const l=lg(),c=S=>{var w;r||(x(new uk(S)),(w=t.abort)==null||w.call(t))},d=()=>{e=!0},h=()=>{e=!1},m=()=>Py.isFocused()&&(t.networkMode==="always"||zd.isOnline())&&t.canRun(),g=()=>ck(t.networkMode)&&t.canRun(),p=S=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,S),i==null||i(),l.resolve(S))},x=S=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,S),i==null||i(),l.reject(S))},N=()=>new Promise(S=>{var w;i=j=>{(r||m())&&S(j)},(w=t.onPause)==null||w.call(t)}).then(()=>{var S;i=void 0,r||(S=t.onContinue)==null||S.call(t)}),k=()=>{if(r)return;let S;const w=n===0?t.initialPromise:void 0;try{S=w??t.fn()}catch(j){S=Promise.reject(j)}Promise.resolve(S).then(p).catch(j=>{var O;if(r)return;const P=t.retry??(Yi?0:3),C=t.retryDelay??aI,T=typeof C=="function"?C(n,j):C,R=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,j);if(e||!R){x(j);return}n++,(O=t.onFail)==null||O.call(t,n,j),nI(T).then(()=>m()?void 0:N()).then(()=>{e?x(j):k()})})};return{promise:l,cancel:c,continue:()=>(i==null||i(),l),cancelRetry:d,continueRetry:h,canStart:g,start:()=>(g()?k():N().then(k),l)}}var lI=t=>setTimeout(t,0);function cI(){let t=[],e=0,n=d=>{d()},r=d=>{d()},i=lI;const l=d=>{e?t.push(d):i(()=>{n(d)})},c=()=>{const d=t;t=[],d.length&&i(()=>{r(()=>{d.forEach(h=>{n(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{l(()=>{d(...h)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{i=d}}}var Pt=cI(),Fi,US,hk=(US=class{constructor(){Ne(this,Fi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ig(this.gcTime)&&de(this,Fi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yi?1/0:300*1e3))}clearGcTimeout(){L(this,Fi)&&(clearTimeout(L(this,Fi)),de(this,Fi,void 0))}},Fi=new WeakMap,US),ra,Ui,Tn,$i,Bt,vc,Bi,Qn,qr,$S,uI=($S=class extends hk{constructor(e){super();Ne(this,Qn);Ne(this,ra);Ne(this,Ui);Ne(this,Tn);Ne(this,$i);Ne(this,Bt);Ne(this,vc);Ne(this,Bi);de(this,Bi,!1),de(this,vc,e.defaultOptions),this.setOptions(e.options),this.observers=[],de(this,$i,e.client),de(this,Tn,L(this,$i).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,de(this,ra,dI(this.options)),this.state=e.state??L(this,ra),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=L(this,Bt))==null?void 0:e.promise}setOptions(e){this.options={...L(this,vc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,Tn).remove(this)}setData(e,n){const r=ag(this.state.data,e,this.options);return De(this,Qn,qr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){De(this,Qn,qr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=L(this,Bt))==null?void 0:r.promise;return(i=L(this,Bt))==null||i.cancel(e),n?n.then(Qt).catch(Qt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,ra))}isActive(){return this.observers.some(e=>Rn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ey||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ti(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!ik(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,Bt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,Bt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),L(this,Tn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(L(this,Bt)&&(L(this,Bi)?L(this,Bt).cancel({revert:!0}):L(this,Bt).cancelRetry()),this.scheduleGc()),L(this,Tn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,Qn,qr).call(this,{type:"invalidate"})}fetch(e,n){var m,g,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(L(this,Bt))return L(this,Bt).continueRetry(),L(this,Bt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(N=>N.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,i=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(de(this,Bi,!0),r.signal)})},l=()=>{const x=ak(this.options,n),k=(()=>{const S={client:L(this,$i),queryKey:this.queryKey,meta:this.meta};return i(S),S})();return de(this,Bi,!1),this.options.persister?this.options.persister(x,k,this):x(k)},d=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:L(this,$i),state:this.state,fetchFn:l};return i(x),x})();(m=this.options.behavior)==null||m.onFetch(d,this),de(this,Ui,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=d.fetchOptions)==null?void 0:g.meta))&&De(this,Qn,qr).call(this,{type:"fetch",meta:(p=d.fetchOptions)==null?void 0:p.meta});const h=x=>{var N,k,S,w;gp(x)&&x.silent||De(this,Qn,qr).call(this,{type:"error",error:x}),gp(x)||((k=(N=L(this,Tn).config).onError)==null||k.call(N,x,this),(w=(S=L(this,Tn).config).onSettled)==null||w.call(S,this.state.data,x,this)),this.scheduleGc()};return de(this,Bt,dk({initialPromise:n==null?void 0:n.initialPromise,fn:d.fetchFn,abort:r.abort.bind(r),onSuccess:x=>{var N,k,S,w;if(x===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(j){h(j);return}(k=(N=L(this,Tn).config).onSuccess)==null||k.call(N,x,this),(w=(S=L(this,Tn).config).onSettled)==null||w.call(S,x,this.state.error,this),this.scheduleGc()},onError:h,onFail:(x,N)=>{De(this,Qn,qr).call(this,{type:"failed",failureCount:x,error:N})},onPause:()=>{De(this,Qn,qr).call(this,{type:"pause"})},onContinue:()=>{De(this,Qn,qr).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),L(this,Bt).start()}},ra=new WeakMap,Ui=new WeakMap,Tn=new WeakMap,$i=new WeakMap,Bt=new WeakMap,vc=new WeakMap,Bi=new WeakMap,Qn=new WeakSet,qr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...fk(r.data,this.options),fetchMeta:e.meta??null};case"success":return de(this,Ui,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return gp(i)&&i.revert&&L(this,Ui)?{...L(this,Ui),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Pt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),L(this,Tn).notify({query:this,type:"updated",action:e})})},$S);function fk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ck(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var gr,BS,hI=(BS=class extends Ra{constructor(e={}){super();Ne(this,gr);this.config=e,de(this,gr,new Map)}build(e,n,r){const i=n.queryKey,l=n.queryHash??Cy(i,n);let c=this.get(l);return c||(c=new uI({client:e,queryKey:i,queryHash:l,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(c)),c}add(e){L(this,gr).has(e.queryHash)||(L(this,gr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=L(this,gr).get(e.queryHash);n&&(e.destroy(),n===e&&L(this,gr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Pt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,gr).get(e)}getAll(){return[...L(this,gr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>bb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>bb(e,r)):n}notify(e){Pt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Pt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Pt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gr=new WeakMap,BS),yr,qt,zi,vr,Fs,zS,fI=(zS=class extends hk{constructor(e){super();Ne(this,vr);Ne(this,yr);Ne(this,qt);Ne(this,zi);this.mutationId=e.mutationId,de(this,qt,e.mutationCache),de(this,yr,[]),this.state=e.state||mk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){L(this,yr).includes(e)||(L(this,yr).push(e),this.clearGcTimeout(),L(this,qt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){de(this,yr,L(this,yr).filter(n=>n!==e)),this.scheduleGc(),L(this,qt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){L(this,yr).length||(this.state.status==="pending"?this.scheduleGc():L(this,qt).remove(this))}continue(){var e;return((e=L(this,zi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var l,c,d,h,m,g,p,x,N,k,S,w,j,P,C,T,R,O,I,E;const n=()=>{De(this,vr,Fs).call(this,{type:"continue"})};de(this,zi,dk({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,F)=>{De(this,vr,Fs).call(this,{type:"failed",failureCount:A,error:F})},onPause:()=>{De(this,vr,Fs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,qt).canRun(this)}));const r=this.state.status==="pending",i=!L(this,zi).canStart();try{if(r)n();else{De(this,vr,Fs).call(this,{type:"pending",variables:e,isPaused:i}),await((c=(l=L(this,qt).config).onMutate)==null?void 0:c.call(l,e,this));const F=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,e));F!==this.state.context&&De(this,vr,Fs).call(this,{type:"pending",context:F,variables:e,isPaused:i})}const A=await L(this,zi).start();return await((g=(m=L(this,qt).config).onSuccess)==null?void 0:g.call(m,A,e,this.state.context,this)),await((x=(p=this.options).onSuccess)==null?void 0:x.call(p,A,e,this.state.context)),await((k=(N=L(this,qt).config).onSettled)==null?void 0:k.call(N,A,null,this.state.variables,this.state.context,this)),await((w=(S=this.options).onSettled)==null?void 0:w.call(S,A,null,e,this.state.context)),De(this,vr,Fs).call(this,{type:"success",data:A}),A}catch(A){try{throw await((P=(j=L(this,qt).config).onError)==null?void 0:P.call(j,A,e,this.state.context,this)),await((T=(C=this.options).onError)==null?void 0:T.call(C,A,e,this.state.context)),await((O=(R=L(this,qt).config).onSettled)==null?void 0:O.call(R,void 0,A,this.state.variables,this.state.context,this)),await((E=(I=this.options).onSettled)==null?void 0:E.call(I,void 0,A,e,this.state.context)),A}finally{De(this,vr,Fs).call(this,{type:"error",error:A})}}finally{L(this,qt).runNext(this)}}},yr=new WeakMap,qt=new WeakMap,zi=new WeakMap,vr=new WeakSet,Fs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Pt.batch(()=>{L(this,yr).forEach(r=>{r.onMutationUpdate(e)}),L(this,qt).notify({mutation:this,type:"updated",action:e})})},zS);function mk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yr,Zn,xc,VS,mI=(VS=class extends Ra{constructor(e={}){super();Ne(this,Yr);Ne(this,Zn);Ne(this,xc);this.config=e,de(this,Yr,new Set),de(this,Zn,new Map),de(this,xc,0)}build(e,n,r){const i=new fI({mutationCache:this,mutationId:++Xu(this,xc)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){L(this,Yr).add(e);const n=ed(e);if(typeof n=="string"){const r=L(this,Zn).get(n);r?r.push(e):L(this,Zn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(L(this,Yr).delete(e)){const n=ed(e);if(typeof n=="string"){const r=L(this,Zn).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&L(this,Zn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ed(e);if(typeof n=="string"){const r=L(this,Zn).get(n),i=r==null?void 0:r.find(l=>l.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=ed(e);if(typeof n=="string"){const i=(r=L(this,Zn).get(n))==null?void 0:r.find(l=>l!==e&&l.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pt.batch(()=>{L(this,Yr).forEach(e=>{this.notify({type:"removed",mutation:e})}),L(this,Yr).clear(),L(this,Zn).clear()})}getAll(){return Array.from(L(this,Yr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Nb(n,r))}findAll(e={}){return this.getAll().filter(n=>Nb(e,n))}notify(e){Pt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Pt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Qt))))}},Yr=new WeakMap,Zn=new WeakMap,xc=new WeakMap,VS);function ed(t){var e;return(e=t.options.scope)==null?void 0:e.id}function jb(t){return{onFetch:(e,n)=>{var g,p,x,N,k;const r=e.options,i=(x=(p=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:p.fetchMore)==null?void 0:x.direction,l=((N=e.state.data)==null?void 0:N.pages)||[],c=((k=e.state.data)==null?void 0:k.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const m=async()=>{let S=!1;const w=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?S=!0:e.signal.addEventListener("abort",()=>{S=!0}),e.signal)})},j=ak(e.options,e.fetchOptions),P=async(C,T,R)=>{if(S)return Promise.reject();if(T==null&&C.pages.length)return Promise.resolve(C);const I=(()=>{const q={client:e.client,queryKey:e.queryKey,pageParam:T,direction:R?"backward":"forward",meta:e.options.meta};return w(q),q})(),E=await j(I),{maxPages:A}=e.options,F=R?sI:rI;return{pages:F(C.pages,E,A),pageParams:F(C.pageParams,T,A)}};if(i&&l.length){const C=i==="backward",T=C?pI:_b,R={pages:l,pageParams:c},O=T(r,R);d=await P(R,O,C)}else{const C=t??l.length;do{const T=h===0?c[0]??r.initialPageParam:_b(r,d);if(h>0&&T==null)break;d=await P(d,T),h++}while(h<C)}return d};e.options.persister?e.fetchFn=()=>{var S,w;return(w=(S=e.options).persister)==null?void 0:w.call(S,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=m}}}function _b(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function pI(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ft,Ws,Gs,sa,ia,Ks,oa,aa,HS,pk=(HS=class{constructor(t={}){Ne(this,ft);Ne(this,Ws);Ne(this,Gs);Ne(this,sa);Ne(this,ia);Ne(this,Ks);Ne(this,oa);Ne(this,aa);de(this,ft,t.queryCache||new hI),de(this,Ws,t.mutationCache||new mI),de(this,Gs,t.defaultOptions||{}),de(this,sa,new Map),de(this,ia,new Map),de(this,Ks,0)}mount(){Xu(this,Ks)._++,L(this,Ks)===1&&(de(this,oa,Py.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,ft).onFocus())})),de(this,aa,zd.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,ft).onOnline())})))}unmount(){var t,e;Xu(this,Ks)._--,L(this,Ks)===0&&((t=L(this,oa))==null||t.call(this),de(this,oa,void 0),(e=L(this,aa))==null||e.call(this),de(this,aa,void 0))}isFetching(t){return L(this,ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return L(this,Ws).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,ft).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=L(this,ft).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ti(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return L(this,ft).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=L(this,ft).get(r.queryHash),l=i==null?void 0:i.state.data,c=tI(e,l);if(c!==void 0)return L(this,ft).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Pt.batch(()=>L(this,ft).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,ft).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=L(this,ft);Pt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=L(this,ft);return Pt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Pt.batch(()=>L(this,ft).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Qt).catch(Qt)}invalidateQueries(t,e={}){return Pt.batch(()=>(L(this,ft).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Pt.batch(()=>L(this,ft).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let l=i.fetch(void 0,n);return n.throwOnError||(l=l.catch(Qt)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(Qt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=L(this,ft).build(this,e);return n.isStaleByTime(ti(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qt).catch(Qt)}fetchInfiniteQuery(t){return t.behavior=jb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qt).catch(Qt)}ensureInfiniteQueryData(t){return t.behavior=jb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zd.isOnline()?L(this,Ws).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,ft)}getMutationCache(){return L(this,Ws)}getDefaultOptions(){return L(this,Gs)}setDefaultOptions(t){de(this,Gs,t)}setQueryDefaults(t,e){L(this,sa).set(Qi(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...L(this,sa).values()],n={};return e.forEach(r=>{Zl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){L(this,ia).set(Qi(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...L(this,ia).values()],n={};return e.forEach(r=>{Zl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...L(this,Gs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Cy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ey&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...L(this,Gs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){L(this,ft).clear(),L(this,Ws).clear()}},ft=new WeakMap,Ws=new WeakMap,Gs=new WeakMap,sa=new WeakMap,ia=new WeakMap,Ks=new WeakMap,oa=new WeakMap,aa=new WeakMap,HS),ln,ze,wc,Yt,Vi,la,qs,Ys,bc,ca,ua,Hi,Wi,Qs,da,Xe,Al,cg,ug,dg,hg,fg,mg,pg,gk,WS,gI=(WS=class extends Ra{constructor(e,n){super();Ne(this,Xe);Ne(this,ln);Ne(this,ze);Ne(this,wc);Ne(this,Yt);Ne(this,Vi);Ne(this,la);Ne(this,qs);Ne(this,Ys);Ne(this,bc);Ne(this,ca);Ne(this,ua);Ne(this,Hi);Ne(this,Wi);Ne(this,Qs);Ne(this,da,new Set);this.options=n,de(this,ln,e),de(this,Ys,null),de(this,qs,lg()),this.options.experimental_prefetchInRender||L(this,qs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,ze).addObserver(this),Cb(L(this,ze),this.options)?De(this,Xe,Al).call(this):this.updateResult(),De(this,Xe,hg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gg(L(this,ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gg(L(this,ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,Xe,fg).call(this),De(this,Xe,mg).call(this),L(this,ze).removeObserver(this)}setOptions(e){const n=this.options,r=L(this,ze);if(this.options=L(this,ln).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rn(this.options.enabled,L(this,ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,Xe,pg).call(this),L(this,ze).setOptions(this.options),n._defaulted&&!Bd(this.options,n)&&L(this,ln).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,ze),observer:this});const i=this.hasListeners();i&&Eb(L(this,ze),r,this.options,n)&&De(this,Xe,Al).call(this),this.updateResult(),i&&(L(this,ze)!==r||Rn(this.options.enabled,L(this,ze))!==Rn(n.enabled,L(this,ze))||ti(this.options.staleTime,L(this,ze))!==ti(n.staleTime,L(this,ze)))&&De(this,Xe,cg).call(this);const l=De(this,Xe,ug).call(this);i&&(L(this,ze)!==r||Rn(this.options.enabled,L(this,ze))!==Rn(n.enabled,L(this,ze))||l!==L(this,Qs))&&De(this,Xe,dg).call(this,l)}getOptimisticResult(e){const n=L(this,ln).getQueryCache().build(L(this,ln),e),r=this.createResult(n,e);return vI(this,r)&&(de(this,Yt,r),de(this,la,this.options),de(this,Vi,L(this,ze).state)),r}getCurrentResult(){return L(this,Yt)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(e){L(this,da).add(e)}getCurrentQuery(){return L(this,ze)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=L(this,ln).defaultQueryOptions(e),r=L(this,ln).getQueryCache().build(L(this,ln),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return De(this,Xe,Al).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,Yt)))}createResult(e,n){var A;const r=L(this,ze),i=this.options,l=L(this,Yt),c=L(this,Vi),d=L(this,la),m=e!==r?e.state:L(this,wc),{state:g}=e;let p={...g},x=!1,N;if(n._optimisticResults){const F=this.hasListeners(),q=!F&&Cb(e,n),z=F&&Eb(e,r,n,i);(q||z)&&(p={...p,...fk(g.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:k,errorUpdatedAt:S,status:w}=p;N=p.data;let j=!1;if(n.placeholderData!==void 0&&N===void 0&&w==="pending"){let F;l!=null&&l.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData)?(F=l.data,j=!0):F=typeof n.placeholderData=="function"?n.placeholderData((A=L(this,ua))==null?void 0:A.state.data,L(this,ua)):n.placeholderData,F!==void 0&&(w="success",N=ag(l==null?void 0:l.data,F,n),x=!0)}if(n.select&&N!==void 0&&!j)if(l&&N===(c==null?void 0:c.data)&&n.select===L(this,bc))N=L(this,ca);else try{de(this,bc,n.select),N=n.select(N),N=ag(l==null?void 0:l.data,N,n),de(this,ca,N),de(this,Ys,null)}catch(F){de(this,Ys,F)}L(this,Ys)&&(k=L(this,Ys),N=L(this,ca),S=Date.now(),w="error");const P=p.fetchStatus==="fetching",C=w==="pending",T=w==="error",R=C&&P,O=N!==void 0,E={status:w,fetchStatus:p.fetchStatus,isPending:C,isSuccess:w==="success",isError:T,isInitialLoading:R,isLoading:R,data:N,dataUpdatedAt:p.dataUpdatedAt,error:k,errorUpdatedAt:S,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>m.dataUpdateCount||p.errorUpdateCount>m.errorUpdateCount,isFetching:P,isRefetching:P&&!C,isLoadingError:T&&!O,isPaused:p.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:T&&O,isStale:Ty(e,n),refetch:this.refetch,promise:L(this,qs),isEnabled:Rn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const F=Q=>{E.status==="error"?Q.reject(E.error):E.data!==void 0&&Q.resolve(E.data)},q=()=>{const Q=de(this,qs,E.promise=lg());F(Q)},z=L(this,qs);switch(z.status){case"pending":e.queryHash===r.queryHash&&F(z);break;case"fulfilled":(E.status==="error"||E.data!==z.value)&&q();break;case"rejected":(E.status!=="error"||E.error!==z.reason)&&q();break}}return E}updateResult(){const e=L(this,Yt),n=this.createResult(L(this,ze),this.options);if(de(this,Vi,L(this,ze).state),de(this,la,this.options),L(this,Vi).data!==void 0&&de(this,ua,L(this,ze)),Bd(n,e))return;de(this,Yt,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!L(this,da).size)return!0;const c=new Set(l??L(this,da));return this.options.throwOnError&&c.add("error"),Object.keys(L(this,Yt)).some(d=>{const h=d;return L(this,Yt)[h]!==e[h]&&c.has(h)})};De(this,Xe,gk).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,Xe,hg).call(this)}},ln=new WeakMap,ze=new WeakMap,wc=new WeakMap,Yt=new WeakMap,Vi=new WeakMap,la=new WeakMap,qs=new WeakMap,Ys=new WeakMap,bc=new WeakMap,ca=new WeakMap,ua=new WeakMap,Hi=new WeakMap,Wi=new WeakMap,Qs=new WeakMap,da=new WeakMap,Xe=new WeakSet,Al=function(e){De(this,Xe,pg).call(this);let n=L(this,ze).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Qt)),n},cg=function(){De(this,Xe,fg).call(this);const e=ti(this.options.staleTime,L(this,ze));if(Yi||L(this,Yt).isStale||!ig(e))return;const r=ik(L(this,Yt).dataUpdatedAt,e)+1;de(this,Hi,setTimeout(()=>{L(this,Yt).isStale||this.updateResult()},r))},ug=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,ze)):this.options.refetchInterval)??!1},dg=function(e){De(this,Xe,mg).call(this),de(this,Qs,e),!(Yi||Rn(this.options.enabled,L(this,ze))===!1||!ig(L(this,Qs))||L(this,Qs)===0)&&de(this,Wi,setInterval(()=>{(this.options.refetchIntervalInBackground||Py.isFocused())&&De(this,Xe,Al).call(this)},L(this,Qs)))},hg=function(){De(this,Xe,cg).call(this),De(this,Xe,dg).call(this,De(this,Xe,ug).call(this))},fg=function(){L(this,Hi)&&(clearTimeout(L(this,Hi)),de(this,Hi,void 0))},mg=function(){L(this,Wi)&&(clearInterval(L(this,Wi)),de(this,Wi,void 0))},pg=function(){const e=L(this,ln).getQueryCache().build(L(this,ln),this.options);if(e===L(this,ze))return;const n=L(this,ze);de(this,ze,e),de(this,wc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},gk=function(e){Pt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(L(this,Yt))}),L(this,ln).getQueryCache().notify({query:L(this,ze),type:"observerResultsUpdated"})})},WS);function yI(t,e){return Rn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Cb(t,e){return yI(t,e)||t.state.data!==void 0&&gg(t,e,e.refetchOnMount)}function gg(t,e,n){if(Rn(e.enabled,t)!==!1&&ti(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Ty(t,e)}return!1}function Eb(t,e,n,r){return(t!==e||Rn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Ty(t,n)}function Ty(t,e){return Rn(e.enabled,t)!==!1&&t.isStaleByTime(ti(e.staleTime,t))}function vI(t,e){return!Bd(t.getCurrentResult(),e)}var Zs,Xs,cn,Qr,is,Sd,yg,GS,xI=(GS=class extends Ra{constructor(n,r){super();Ne(this,is);Ne(this,Zs);Ne(this,Xs);Ne(this,cn);Ne(this,Qr);de(this,Zs,n),this.setOptions(r),this.bindMethods(),De(this,is,Sd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=L(this,Zs).defaultMutationOptions(n),Bd(this.options,r)||L(this,Zs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,cn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Qi(r.mutationKey)!==Qi(this.options.mutationKey)?this.reset():((i=L(this,cn))==null?void 0:i.state.status)==="pending"&&L(this,cn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=L(this,cn))==null||n.removeObserver(this)}onMutationUpdate(n){De(this,is,Sd).call(this),De(this,is,yg).call(this,n)}getCurrentResult(){return L(this,Xs)}reset(){var n;(n=L(this,cn))==null||n.removeObserver(this),de(this,cn,void 0),De(this,is,Sd).call(this),De(this,is,yg).call(this)}mutate(n,r){var i;return de(this,Qr,r),(i=L(this,cn))==null||i.removeObserver(this),de(this,cn,L(this,Zs).getMutationCache().build(L(this,Zs),this.options)),L(this,cn).addObserver(this),L(this,cn).execute(n)}},Zs=new WeakMap,Xs=new WeakMap,cn=new WeakMap,Qr=new WeakMap,is=new WeakSet,Sd=function(){var r;const n=((r=L(this,cn))==null?void 0:r.state)??mk();de(this,Xs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},yg=function(n){Pt.batch(()=>{var r,i,l,c,d,h,m,g;if(L(this,Qr)&&this.hasListeners()){const p=L(this,Xs).variables,x=L(this,Xs).context;(n==null?void 0:n.type)==="success"?((i=(r=L(this,Qr)).onSuccess)==null||i.call(r,n.data,p,x),(c=(l=L(this,Qr)).onSettled)==null||c.call(l,n.data,null,p,x)):(n==null?void 0:n.type)==="error"&&((h=(d=L(this,Qr)).onError)==null||h.call(d,n.error,p,x),(g=(m=L(this,Qr)).onSettled)==null||g.call(m,void 0,n.error,p,x))}this.listeners.forEach(p=>{p(L(this,Xs))})})},GS),yk=v.createContext(void 0),Aa=t=>{const e=v.useContext(yk);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},wI=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(yk.Provider,{value:t,children:e})),vk=v.createContext(!1),bI=()=>v.useContext(vk);vk.Provider;function NI(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var SI=v.createContext(NI()),kI=()=>v.useContext(SI),jI=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},_I=t=>{v.useEffect(()=>{t.clearReset()},[t])},CI=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||lk(n,[t.error,r])),EI=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},PI=(t,e)=>t.isLoading&&t.isFetching&&!e,TI=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Pb=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function RI(t,e,n){var p,x,N,k,S;const r=bI(),i=kI(),l=Aa(),c=l.defaultQueryOptions(t);(x=(p=l.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||x.call(p,c),c._optimisticResults=r?"isRestoring":"optimistic",EI(c),jI(c,i),_I(i);const d=!l.getQueryCache().get(c.queryHash),[h]=v.useState(()=>new e(l,c)),m=h.getOptimisticResult(c),g=!r&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(w=>{const j=g?h.subscribe(Pt.batchCalls(w)):Qt;return h.updateResult(),j},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),v.useEffect(()=>{h.setOptions(c)},[c,h]),TI(c,m))throw Pb(c,h,i);if(CI({result:m,errorResetBoundary:i,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;if((k=(N=l.getDefaultOptions().queries)==null?void 0:N._experimental_afterQuery)==null||k.call(N,c,m),c.experimental_prefetchInRender&&!Yi&&PI(m,r)){const w=d?Pb(c,h,i):(S=l.getQueryCache().get(c.queryHash))==null?void 0:S.promise;w==null||w.catch(Qt).finally(()=>{h.updateResult()})}return c.notifyOnChangeProps?m:h.trackResult(m)}function ii(t,e){return RI(t,gI)}function Vd(t,e){const n=Aa(),[r]=v.useState(()=>new xI(n,t));v.useEffect(()=>{r.setOptions(t)},[r,t]);const i=v.useSyncExternalStore(v.useCallback(c=>r.subscribe(Pt.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=v.useCallback((c,d)=>{r.mutate(c,d).catch(Qt)},[r]);if(i.error&&lk(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}function AI({children:t}){const[e]=v.useState(()=>new pk({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,staleTime:3e5}}}));return o.jsx(wI,{client:e,children:t})}new pk({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,staleTime:300*1e3}}});function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Tb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ph(...t){return e=>{let n=!1;const r=t.map(i=>{const l=Tb(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<r.length;i++){const l=r[i];typeof l=="function"?l():Tb(t[i],null)}}}}function Ye(...t){return v.useCallback(Ph(...t),t)}function II(t,e){const n=v.createContext(e),r=l=>{const{children:c,...d}=l,h=v.useMemo(()=>d,Object.values(d));return o.jsx(n.Provider,{value:h,children:c})};r.displayName=t+"Provider";function i(l){const c=v.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[r,i]}function dn(t,e=[]){let n=[];function r(l,c){const d=v.createContext(c),h=n.length;n=[...n,c];const m=p=>{var j;const{scope:x,children:N,...k}=p,S=((j=x==null?void 0:x[t])==null?void 0:j[h])||d,w=v.useMemo(()=>k,Object.values(k));return o.jsx(S.Provider,{value:w,children:N})};m.displayName=l+"Provider";function g(p,x){var S;const N=((S=x==null?void 0:x[t])==null?void 0:S[h])||d,k=v.useContext(N);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[m,g]}const i=()=>{const l=n.map(c=>v.createContext(c));return function(d){const h=(d==null?void 0:d[t])||l;return v.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return i.scopeName=t,[r,MI(i,...e)]}function MI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=r.reduce((d,{useScope:h,scopeName:m})=>{const p=h(l)[`__scope${m}`];return{...d,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var Th=qS();const DI=KS(Th);function ha(t){const e=LI(t),n=v.forwardRef((r,i)=>{const{children:l,...c}=r,d=v.Children.toArray(l),h=d.find(UI);if(h){const m=h.props.children,g=d.map(p=>p===h?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:p);return o.jsx(e,{...c,ref:i,children:v.isValidElement(m)?v.cloneElement(m,void 0,g):null})}return o.jsx(e,{...c,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}var OI=ha("Slot");function LI(t){const e=v.forwardRef((n,r)=>{const{children:i,...l}=n;if(v.isValidElement(i)){const c=BI(i),d=$I(l,i.props);return i.type!==v.Fragment&&(d.ref=r?Ph(r,c):c),v.cloneElement(i,d)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var xk=Symbol("radix.slottable");function FI(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=xk,e}function UI(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xk}function $I(t,e){const n={...e};for(const r in e){const i=t[r],l=e[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function BI(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var zI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=zI.reduce((t,e)=>{const n=ha(`Primitive.${e}`),r=v.forwardRef((i,l)=>{const{asChild:c,...d}=i,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...d,ref:l})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Ry(t,e){t&&Th.flushSync(()=>t.dispatchEvent(e))}function un(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function VI(t,e=globalThis==null?void 0:globalThis.document){const n=un(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var HI="DismissableLayer",vg="dismissableLayer.update",WI="dismissableLayer.pointerDownOutside",GI="dismissableLayer.focusOutside",Rb,wk=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sc=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...h}=t,m=v.useContext(wk),[g,p]=v.useState(null),x=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,N]=v.useState({}),k=Ye(e,I=>p(I)),S=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),j=S.indexOf(w),P=g?S.indexOf(g):-1,C=m.layersWithOutsidePointerEventsDisabled.size>0,T=P>=j,R=qI(I=>{const E=I.target,A=[...m.branches].some(F=>F.contains(E));!T||A||(i==null||i(I),c==null||c(I),I.defaultPrevented||d==null||d())},x),O=YI(I=>{const E=I.target;[...m.branches].some(F=>F.contains(E))||(l==null||l(I),c==null||c(I),I.defaultPrevented||d==null||d())},x);return VI(I=>{P===m.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&d&&(I.preventDefault(),d()))},x),v.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Rb=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Ab(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Rb)}},[g,x,n,m]),v.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Ab())},[g,m]),v.useEffect(()=>{const I=()=>N({});return document.addEventListener(vg,I),()=>document.removeEventListener(vg,I)},[]),o.jsx(Ae.div,{...h,ref:k,style:{pointerEvents:C?T?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,O.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,R.onPointerDownCapture)})});Sc.displayName=HI;var KI="DismissableLayerBranch",bk=v.forwardRef((t,e)=>{const n=v.useContext(wk),r=v.useRef(null),i=Ye(e,r);return v.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),o.jsx(Ae.div,{...t,ref:i})});bk.displayName=KI;function qI(t,e=globalThis==null?void 0:globalThis.document){const n=un(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let h=function(){Nk(WI,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function YI(t,e=globalThis==null?void 0:globalThis.document){const n=un(t),r=v.useRef(!1);return v.useEffect(()=>{const i=l=>{l.target&&!r.current&&Nk(GI,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ab(){const t=new CustomEvent(vg);document.dispatchEvent(t)}function Nk(t,e,n,{discrete:r}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Ry(i,l):i.dispatchEvent(l)}var QI=Sc,ZI=bk,Ln=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},XI=Sy[" useId ".trim().toString()]||(()=>{}),JI=0;function Gi(t){const[e,n]=v.useState(XI());return Ln(()=>{n(r=>r??String(JI++))},[t]),e?`radix-${e}`:""}const e4=["top","right","bottom","left"],oi=Math.min,gn=Math.max,Hd=Math.round,td=Math.floor,Nr=t=>({x:t,y:t}),t4={left:"right",right:"left",bottom:"top",top:"bottom"},n4={start:"end",end:"start"};function xg(t,e,n){return gn(t,oi(e,n))}function os(t,e){return typeof t=="function"?t(e):t}function as(t){return t.split("-")[0]}function Ia(t){return t.split("-")[1]}function Ay(t){return t==="x"?"y":"x"}function Iy(t){return t==="y"?"height":"width"}const r4=new Set(["top","bottom"]);function br(t){return r4.has(as(t))?"y":"x"}function My(t){return Ay(br(t))}function s4(t,e,n){n===void 0&&(n=!1);const r=Ia(t),i=My(t),l=Iy(i);let c=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Wd(c)),[c,Wd(c)]}function i4(t){const e=Wd(t);return[wg(t),e,wg(e)]}function wg(t){return t.replace(/start|end/g,e=>n4[e])}const Ib=["left","right"],Mb=["right","left"],o4=["top","bottom"],a4=["bottom","top"];function l4(t,e,n){switch(t){case"top":case"bottom":return n?e?Mb:Ib:e?Ib:Mb;case"left":case"right":return e?o4:a4;default:return[]}}function c4(t,e,n,r){const i=Ia(t);let l=l4(as(t),n==="start",r);return i&&(l=l.map(c=>c+"-"+i),e&&(l=l.concat(l.map(wg)))),l}function Wd(t){return t.replace(/left|right|bottom|top/g,e=>t4[e])}function u4(t){return{top:0,right:0,bottom:0,left:0,...t}}function Sk(t){return typeof t!="number"?u4(t):{top:t,right:t,bottom:t,left:t}}function Gd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Db(t,e,n){let{reference:r,floating:i}=t;const l=br(e),c=My(e),d=Iy(c),h=as(e),m=l==="y",g=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,x=r[d]/2-i[d]/2;let N;switch(h){case"top":N={x:g,y:r.y-i.height};break;case"bottom":N={x:g,y:r.y+r.height};break;case"right":N={x:r.x+r.width,y:p};break;case"left":N={x:r.x-i.width,y:p};break;default:N={x:r.x,y:r.y}}switch(Ia(e)){case"start":N[c]-=x*(n&&m?-1:1);break;case"end":N[c]+=x*(n&&m?-1:1);break}return N}const d4=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:l=[],platform:c}=n,d=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:p}=Db(m,r,h),x=r,N={},k=0;for(let S=0;S<d.length;S++){const{name:w,fn:j}=d[S],{x:P,y:C,data:T,reset:R}=await j({x:g,y:p,initialPlacement:r,placement:x,strategy:i,middlewareData:N,rects:m,platform:c,elements:{reference:t,floating:e}});g=P??g,p=C??p,N={...N,[w]:{...N[w],...T}},R&&k<=50&&(k++,typeof R=="object"&&(R.placement&&(x=R.placement),R.rects&&(m=R.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:g,y:p}=Db(m,x,h)),S=-1)}return{x:g,y:p,placement:x,strategy:i,middlewareData:N}};async function Xl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:l,rects:c,elements:d,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:x=!1,padding:N=0}=os(e,t),k=Sk(N),w=d[x?p==="floating"?"reference":"floating":p],j=Gd(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(w)))==null||n?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:g,strategy:h})),P=p==="floating"?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),T=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},R=Gd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:P,offsetParent:C,strategy:h}):P);return{top:(j.top-R.top+k.top)/T.y,bottom:(R.bottom-j.bottom+k.bottom)/T.y,left:(j.left-R.left+k.left)/T.x,right:(R.right-j.right+k.right)/T.x}}const h4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:l,platform:c,elements:d,middlewareData:h}=e,{element:m,padding:g=0}=os(t,e)||{};if(m==null)return{};const p=Sk(g),x={x:n,y:r},N=My(i),k=Iy(N),S=await c.getDimensions(m),w=N==="y",j=w?"top":"left",P=w?"bottom":"right",C=w?"clientHeight":"clientWidth",T=l.reference[k]+l.reference[N]-x[N]-l.floating[k],R=x[N]-l.reference[N],O=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let I=O?O[C]:0;(!I||!await(c.isElement==null?void 0:c.isElement(O)))&&(I=d.floating[C]||l.floating[k]);const E=T/2-R/2,A=I/2-S[k]/2-1,F=oi(p[j],A),q=oi(p[P],A),z=F,Q=I-S[k]-q,D=I/2-S[k]/2+E,X=xg(z,D,Q),ie=!h.arrow&&Ia(i)!=null&&D!==X&&l.reference[k]/2-(D<z?F:q)-S[k]/2<0,oe=ie?D<z?D-z:D-Q:0;return{[N]:x[N]+oe,data:{[N]:X,centerOffset:D-X-oe,...ie&&{alignmentOffset:oe}},reset:ie}}}),f4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:l,rects:c,initialPlacement:d,platform:h,elements:m}=e,{mainAxis:g=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:S=!0,...w}=os(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const j=as(i),P=br(d),C=as(d)===d,T=await(h.isRTL==null?void 0:h.isRTL(m.floating)),R=x||(C||!S?[Wd(d)]:i4(d)),O=k!=="none";!x&&O&&R.push(...c4(d,S,k,T));const I=[d,...R],E=await Xl(e,w),A=[];let F=((r=l.flip)==null?void 0:r.overflows)||[];if(g&&A.push(E[j]),p){const D=s4(i,c,T);A.push(E[D[0]],E[D[1]])}if(F=[...F,{placement:i,overflows:A}],!A.every(D=>D<=0)){var q,z;const D=(((q=l.flip)==null?void 0:q.index)||0)+1,X=I[D];if(X&&(!(p==="alignment"?P!==br(X):!1)||F.every(G=>br(G.placement)===P?G.overflows[0]>0:!0)))return{data:{index:D,overflows:F},reset:{placement:X}};let ie=(z=F.filter(oe=>oe.overflows[0]<=0).sort((oe,G)=>oe.overflows[1]-G.overflows[1])[0])==null?void 0:z.placement;if(!ie)switch(N){case"bestFit":{var Q;const oe=(Q=F.filter(G=>{if(O){const H=br(G.placement);return H===P||H==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(H=>H>0).reduce((H,Z)=>H+Z,0)]).sort((G,H)=>G[1]-H[1])[0])==null?void 0:Q[0];oe&&(ie=oe);break}case"initialPlacement":ie=d;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function Ob(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Lb(t){return e4.some(e=>t[e]>=0)}const m4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=os(t,e);switch(r){case"referenceHidden":{const l=await Xl(e,{...i,elementContext:"reference"}),c=Ob(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Lb(c)}}}case"escaped":{const l=await Xl(e,{...i,altBoundary:!0}),c=Ob(l,n.floating);return{data:{escapedOffsets:c,escaped:Lb(c)}}}default:return{}}}}},kk=new Set(["left","top"]);async function p4(t,e){const{placement:n,platform:r,elements:i}=t,l=await(r.isRTL==null?void 0:r.isRTL(i.floating)),c=as(n),d=Ia(n),h=br(n)==="y",m=kk.has(c)?-1:1,g=l&&h?-1:1,p=os(e,t);let{mainAxis:x,crossAxis:N,alignmentAxis:k}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return d&&typeof k=="number"&&(N=d==="end"?k*-1:k),h?{x:N*g,y:x*m}:{x:x*m,y:N*g}}const g4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:l,placement:c,middlewareData:d}=e,h=await p4(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:{...h,placement:c}}}}},y4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:w=>{let{x:j,y:P}=w;return{x:j,y:P}}},...h}=os(t,e),m={x:n,y:r},g=await Xl(e,h),p=br(as(i)),x=Ay(p);let N=m[x],k=m[p];if(l){const w=x==="y"?"top":"left",j=x==="y"?"bottom":"right",P=N+g[w],C=N-g[j];N=xg(P,N,C)}if(c){const w=p==="y"?"top":"left",j=p==="y"?"bottom":"right",P=k+g[w],C=k-g[j];k=xg(P,k,C)}const S=d.fn({...e,[x]:N,[p]:k});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[x]:l,[p]:c}}}}}},v4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=os(t,e),g={x:n,y:r},p=br(i),x=Ay(p);let N=g[x],k=g[p];const S=os(d,e),w=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(h){const C=x==="y"?"height":"width",T=l.reference[x]-l.floating[C]+w.mainAxis,R=l.reference[x]+l.reference[C]-w.mainAxis;N<T?N=T:N>R&&(N=R)}if(m){var j,P;const C=x==="y"?"width":"height",T=kk.has(as(i)),R=l.reference[p]-l.floating[C]+(T&&((j=c.offset)==null?void 0:j[p])||0)+(T?0:w.crossAxis),O=l.reference[p]+l.reference[C]+(T?0:((P=c.offset)==null?void 0:P[p])||0)-(T?w.crossAxis:0);k<R?k=R:k>O&&(k=O)}return{[x]:N,[p]:k}}}},x4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:l,platform:c,elements:d}=e,{apply:h=()=>{},...m}=os(t,e),g=await Xl(e,m),p=as(i),x=Ia(i),N=br(i)==="y",{width:k,height:S}=l.floating;let w,j;p==="top"||p==="bottom"?(w=p,j=x===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(j=p,w=x==="end"?"top":"bottom");const P=S-g.top-g.bottom,C=k-g.left-g.right,T=oi(S-g[w],P),R=oi(k-g[j],C),O=!e.middlewareData.shift;let I=T,E=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=P),O&&!x){const F=gn(g.left,0),q=gn(g.right,0),z=gn(g.top,0),Q=gn(g.bottom,0);N?E=k-2*(F!==0||q!==0?F+q:gn(g.left,g.right)):I=S-2*(z!==0||Q!==0?z+Q:gn(g.top,g.bottom))}await h({...e,availableWidth:E,availableHeight:I});const A=await c.getDimensions(d.floating);return k!==A.width||S!==A.height?{reset:{rects:!0}}:{}}}};function Rh(){return typeof window<"u"}function Ma(t){return jk(t)?(t.nodeName||"").toLowerCase():"#document"}function vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Mr(t){var e;return(e=(jk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jk(t){return Rh()?t instanceof Node||t instanceof vn(t).Node:!1}function rr(t){return Rh()?t instanceof Element||t instanceof vn(t).Element:!1}function Tr(t){return Rh()?t instanceof HTMLElement||t instanceof vn(t).HTMLElement:!1}function Fb(t){return!Rh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vn(t).ShadowRoot}const w4=new Set(["inline","contents"]);function kc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=sr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!w4.has(i)}const b4=new Set(["table","td","th"]);function N4(t){return b4.has(Ma(t))}const S4=[":popover-open",":modal"];function Ah(t){return S4.some(e=>{try{return t.matches(e)}catch{return!1}})}const k4=["transform","translate","scale","rotate","perspective"],j4=["transform","translate","scale","rotate","perspective","filter"],_4=["paint","layout","strict","content"];function Dy(t){const e=Oy(),n=rr(t)?sr(t):t;return k4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||j4.some(r=>(n.willChange||"").includes(r))||_4.some(r=>(n.contain||"").includes(r))}function C4(t){let e=ai(t);for(;Tr(e)&&!fa(e);){if(Dy(e))return e;if(Ah(e))return null;e=ai(e)}return null}function Oy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const E4=new Set(["html","body","#document"]);function fa(t){return E4.has(Ma(t))}function sr(t){return vn(t).getComputedStyle(t)}function Ih(t){return rr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ai(t){if(Ma(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Fb(t)&&t.host||Mr(t);return Fb(e)?e.host:e}function _k(t){const e=ai(t);return fa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Tr(e)&&kc(e)?e:_k(e)}function Jl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=_k(t),l=i===((r=t.ownerDocument)==null?void 0:r.body),c=vn(i);if(l){const d=bg(c);return e.concat(c,c.visualViewport||[],kc(i)?i:[],d&&n?Jl(d):[])}return e.concat(i,Jl(i,[],n))}function bg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ck(t){const e=sr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Tr(t),l=i?t.offsetWidth:n,c=i?t.offsetHeight:r,d=Hd(n)!==l||Hd(r)!==c;return d&&(n=l,r=c),{width:n,height:r,$:d}}function Ly(t){return rr(t)?t:t.contextElement}function Ko(t){const e=Ly(t);if(!Tr(e))return Nr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:l}=Ck(e);let c=(l?Hd(n.width):n.width)/r,d=(l?Hd(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const P4=Nr(0);function Ek(t){const e=vn(t);return!Oy()||!e.visualViewport?P4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function T4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vn(t)?!1:e}function Zi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=Ly(t);let c=Nr(1);e&&(r?rr(r)&&(c=Ko(r)):c=Ko(t));const d=T4(l,n,r)?Ek(l):Nr(0);let h=(i.left+d.x)/c.x,m=(i.top+d.y)/c.y,g=i.width/c.x,p=i.height/c.y;if(l){const x=vn(l),N=r&&rr(r)?vn(r):r;let k=x,S=bg(k);for(;S&&r&&N!==k;){const w=Ko(S),j=S.getBoundingClientRect(),P=sr(S),C=j.left+(S.clientLeft+parseFloat(P.paddingLeft))*w.x,T=j.top+(S.clientTop+parseFloat(P.paddingTop))*w.y;h*=w.x,m*=w.y,g*=w.x,p*=w.y,h+=C,m+=T,k=vn(S),S=bg(k)}}return Gd({width:g,height:p,x:h,y:m})}function Fy(t,e){const n=Ih(t).scrollLeft;return e?e.left+n:Zi(Mr(t)).left+n}function Pk(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Fy(t,r)),l=r.top+e.scrollTop;return{x:i,y:l}}function R4(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const l=i==="fixed",c=Mr(r),d=e?Ah(e.floating):!1;if(r===c||d&&l)return n;let h={scrollLeft:0,scrollTop:0},m=Nr(1);const g=Nr(0),p=Tr(r);if((p||!p&&!l)&&((Ma(r)!=="body"||kc(c))&&(h=Ih(r)),Tr(r))){const N=Zi(r);m=Ko(r),g.x=N.x+r.clientLeft,g.y=N.y+r.clientTop}const x=c&&!p&&!l?Pk(c,h,!0):Nr(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+g.x+x.x,y:n.y*m.y-h.scrollTop*m.y+g.y+x.y}}function A4(t){return Array.from(t.getClientRects())}function I4(t){const e=Mr(t),n=Ih(t),r=t.ownerDocument.body,i=gn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=gn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Fy(t);const d=-n.scrollTop;return sr(r).direction==="rtl"&&(c+=gn(e.clientWidth,r.clientWidth)-i),{width:i,height:l,x:c,y:d}}function M4(t,e){const n=vn(t),r=Mr(t),i=n.visualViewport;let l=r.clientWidth,c=r.clientHeight,d=0,h=0;if(i){l=i.width,c=i.height;const m=Oy();(!m||m&&e==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}return{width:l,height:c,x:d,y:h}}const D4=new Set(["absolute","fixed"]);function O4(t,e){const n=Zi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,l=Tr(t)?Ko(t):Nr(1),c=t.clientWidth*l.x,d=t.clientHeight*l.y,h=i*l.x,m=r*l.y;return{width:c,height:d,x:h,y:m}}function Ub(t,e,n){let r;if(e==="viewport")r=M4(t,n);else if(e==="document")r=I4(Mr(t));else if(rr(e))r=O4(e,n);else{const i=Ek(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Gd(r)}function Tk(t,e){const n=ai(t);return n===e||!rr(n)||fa(n)?!1:sr(n).position==="fixed"||Tk(n,e)}function L4(t,e){const n=e.get(t);if(n)return n;let r=Jl(t,[],!1).filter(d=>rr(d)&&Ma(d)!=="body"),i=null;const l=sr(t).position==="fixed";let c=l?ai(t):t;for(;rr(c)&&!fa(c);){const d=sr(c),h=Dy(c);!h&&d.position==="fixed"&&(i=null),(l?!h&&!i:!h&&d.position==="static"&&!!i&&D4.has(i.position)||kc(c)&&!h&&Tk(t,c))?r=r.filter(g=>g!==c):i=d,c=ai(c)}return e.set(t,r),r}function F4(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const c=[...n==="clippingAncestors"?Ah(e)?[]:L4(e,this._c):[].concat(n),r],d=c[0],h=c.reduce((m,g)=>{const p=Ub(e,g,i);return m.top=gn(p.top,m.top),m.right=oi(p.right,m.right),m.bottom=oi(p.bottom,m.bottom),m.left=gn(p.left,m.left),m},Ub(e,d,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function U4(t){const{width:e,height:n}=Ck(t);return{width:e,height:n}}function $4(t,e,n){const r=Tr(e),i=Mr(e),l=n==="fixed",c=Zi(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const h=Nr(0);function m(){h.x=Fy(i)}if(r||!r&&!l)if((Ma(e)!=="body"||kc(i))&&(d=Ih(e)),r){const N=Zi(e,!0,l,e);h.x=N.x+e.clientLeft,h.y=N.y+e.clientTop}else i&&m();l&&!r&&i&&m();const g=i&&!r&&!l?Pk(i,d):Nr(0),p=c.left+d.scrollLeft-h.x-g.x,x=c.top+d.scrollTop-h.y-g.y;return{x:p,y:x,width:c.width,height:c.height}}function yp(t){return sr(t).position==="static"}function $b(t,e){if(!Tr(t)||sr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Mr(t)===n&&(n=n.ownerDocument.body),n}function Rk(t,e){const n=vn(t);if(Ah(t))return n;if(!Tr(t)){let i=ai(t);for(;i&&!fa(i);){if(rr(i)&&!yp(i))return i;i=ai(i)}return n}let r=$b(t,e);for(;r&&N4(r)&&yp(r);)r=$b(r,e);return r&&fa(r)&&yp(r)&&!Dy(r)?n:r||C4(t)||n}const B4=async function(t){const e=this.getOffsetParent||Rk,n=this.getDimensions,r=await n(t.floating);return{reference:$4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function z4(t){return sr(t).direction==="rtl"}const V4={convertOffsetParentRelativeRectToViewportRelativeRect:R4,getDocumentElement:Mr,getClippingRect:F4,getOffsetParent:Rk,getElementRects:B4,getClientRects:A4,getDimensions:U4,getScale:Ko,isElement:rr,isRTL:z4};function Ak(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function H4(t,e){let n=null,r;const i=Mr(t);function l(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const m=t.getBoundingClientRect(),{left:g,top:p,width:x,height:N}=m;if(d||e(),!x||!N)return;const k=td(p),S=td(i.clientWidth-(g+x)),w=td(i.clientHeight-(p+N)),j=td(g),C={rootMargin:-k+"px "+-S+"px "+-w+"px "+-j+"px",threshold:gn(0,oi(1,h))||1};let T=!0;function R(O){const I=O[0].intersectionRatio;if(I!==h){if(!T)return c();I?c(!1,I):r=setTimeout(()=>{c(!1,1e-7)},1e3)}I===1&&!Ak(m,t.getBoundingClientRect())&&c(),T=!1}try{n=new IntersectionObserver(R,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,C)}n.observe(t)}return c(!0),l}function W4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,m=Ly(t),g=i||l?[...m?Jl(m):[],...Jl(e)]:[];g.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),l&&j.addEventListener("resize",n)});const p=m&&d?H4(m,n):null;let x=-1,N=null;c&&(N=new ResizeObserver(j=>{let[P]=j;P&&P.target===m&&N&&(N.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var C;(C=N)==null||C.observe(e)})),n()}),m&&!h&&N.observe(m),N.observe(e));let k,S=h?Zi(t):null;h&&w();function w(){const j=Zi(t);S&&!Ak(S,j)&&n(),S=j,k=requestAnimationFrame(w)}return n(),()=>{var j;g.forEach(P=>{i&&P.removeEventListener("scroll",n),l&&P.removeEventListener("resize",n)}),p==null||p(),(j=N)==null||j.disconnect(),N=null,h&&cancelAnimationFrame(k)}}const G4=g4,K4=y4,q4=f4,Y4=x4,Q4=m4,Bb=h4,Z4=v4,X4=(t,e,n)=>{const r=new Map,i={platform:V4,...n},l={...i.platform,_c:r};return d4(t,e,{...i,platform:l})};var J4=typeof document<"u",e5=function(){},kd=J4?v.useLayoutEffect:e5;function Kd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Kd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const l=i[r];if(!(l==="_owner"&&t.$$typeof)&&!Kd(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Ik(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zb(t,e){const n=Ik(t);return Math.round(e*n)/n}function vp(t){const e=v.useRef(t);return kd(()=>{e.current=t}),e}function t5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:h,open:m}=t,[g,p]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,N]=v.useState(r);Kd(x,r)||N(r);const[k,S]=v.useState(null),[w,j]=v.useState(null),P=v.useCallback(G=>{G!==O.current&&(O.current=G,S(G))},[]),C=v.useCallback(G=>{G!==I.current&&(I.current=G,j(G))},[]),T=l||k,R=c||w,O=v.useRef(null),I=v.useRef(null),E=v.useRef(g),A=h!=null,F=vp(h),q=vp(i),z=vp(m),Q=v.useCallback(()=>{if(!O.current||!I.current)return;const G={placement:e,strategy:n,middleware:x};q.current&&(G.platform=q.current),X4(O.current,I.current,G).then(H=>{const Z={...H,isPositioned:z.current!==!1};D.current&&!Kd(E.current,Z)&&(E.current=Z,Th.flushSync(()=>{p(Z)}))})},[x,e,n,q,z]);kd(()=>{m===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,p(G=>({...G,isPositioned:!1})))},[m]);const D=v.useRef(!1);kd(()=>(D.current=!0,()=>{D.current=!1}),[]),kd(()=>{if(T&&(O.current=T),R&&(I.current=R),T&&R){if(F.current)return F.current(T,R,Q);Q()}},[T,R,Q,F,A]);const X=v.useMemo(()=>({reference:O,floating:I,setReference:P,setFloating:C}),[P,C]),ie=v.useMemo(()=>({reference:T,floating:R}),[T,R]),oe=v.useMemo(()=>{const G={position:n,left:0,top:0};if(!ie.floating)return G;const H=zb(ie.floating,g.x),Z=zb(ie.floating,g.y);return d?{...G,transform:"translate("+H+"px, "+Z+"px)",...Ik(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:Z}},[n,d,ie.floating,g.x,g.y]);return v.useMemo(()=>({...g,update:Q,refs:X,elements:ie,floatingStyles:oe}),[g,Q,X,ie,oe])}const n5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Bb({element:r.current,padding:i}).fn(n):{}:r?Bb({element:r,padding:i}).fn(n):{}}}},r5=(t,e)=>({...G4(t),options:[t,e]}),s5=(t,e)=>({...K4(t),options:[t,e]}),i5=(t,e)=>({...Z4(t),options:[t,e]}),o5=(t,e)=>({...q4(t),options:[t,e]}),a5=(t,e)=>({...Y4(t),options:[t,e]}),l5=(t,e)=>({...Q4(t),options:[t,e]}),c5=(t,e)=>({...n5(t),options:[t,e]});var u5="Arrow",Mk=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...l}=t;return o.jsx(Ae.svg,{...l,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Mk.displayName=u5;var d5=Mk;function Mh(t){const[e,n]=v.useState(void 0);return Ln(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let c,d;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;c=m.inlineSize,d=m.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Uy="Popper",[Dk,Dh]=dn(Uy),[h5,Ok]=Dk(Uy),Lk=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return o.jsx(h5,{scope:e,anchor:r,onAnchorChange:i,children:n})};Lk.displayName=Uy;var Fk="PopperAnchor",Uk=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,l=Ok(Fk,n),c=v.useRef(null),d=Ye(e,c);return v.useEffect(()=>{l.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:o.jsx(Ae.div,{...i,ref:d})});Uk.displayName=Fk;var $y="PopperContent",[f5,m5]=Dk($y),$k=v.forwardRef((t,e)=>{var Ue,Be,Fe,kt,gi,$a;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:N="optimized",onPlaced:k,...S}=t,w=Ok($y,n),[j,P]=v.useState(null),C=Ye(e,cr=>P(cr)),[T,R]=v.useState(null),O=Mh(T),I=(O==null?void 0:O.width)??0,E=(O==null?void 0:O.height)??0,A=r+(l!=="center"?"-"+l:""),F=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},q=Array.isArray(m)?m:[m],z=q.length>0,Q={padding:F,boundary:q.filter(g5),altBoundary:z},{refs:D,floatingStyles:X,placement:ie,isPositioned:oe,middlewareData:G}=t5({strategy:"fixed",placement:A,whileElementsMounted:(...cr)=>W4(...cr,{animationFrame:N==="always"}),elements:{reference:w.anchor},middleware:[r5({mainAxis:i+E,alignmentAxis:c}),h&&s5({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?i5():void 0,...Q}),h&&o5({...Q}),a5({...Q,apply:({elements:cr,rects:lo,availableWidth:Bc,availableHeight:zc})=>{const{width:Ba,height:Vc}=lo.reference,fs=cr.floating.style;fs.setProperty("--radix-popper-available-width",`${Bc}px`),fs.setProperty("--radix-popper-available-height",`${zc}px`),fs.setProperty("--radix-popper-anchor-width",`${Ba}px`),fs.setProperty("--radix-popper-anchor-height",`${Vc}px`)}}),T&&c5({element:T,padding:d}),y5({arrowWidth:I,arrowHeight:E}),x&&l5({strategy:"referenceHidden",...Q})]}),[H,Z]=Vk(ie),$=un(k);Ln(()=>{oe&&($==null||$())},[oe,$]);const K=(Ue=G.arrow)==null?void 0:Ue.x,me=(Be=G.arrow)==null?void 0:Be.y,Se=((Fe=G.arrow)==null?void 0:Fe.centerOffset)!==0,[Te,Me]=v.useState();return Ln(()=>{j&&Me(window.getComputedStyle(j).zIndex)},[j]),o.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:oe?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(kt=G.transformOrigin)==null?void 0:kt.x,(gi=G.transformOrigin)==null?void 0:gi.y].join(" "),...(($a=G.hide)==null?void 0:$a.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(f5,{scope:n,placedSide:H,onArrowChange:R,arrowX:K,arrowY:me,shouldHideArrow:Se,children:o.jsx(Ae.div,{"data-side":H,"data-align":Z,...S,ref:C,style:{...S.style,animation:oe?void 0:"none"}})})})});$k.displayName=$y;var Bk="PopperArrow",p5={top:"bottom",right:"left",bottom:"top",left:"right"},zk=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,l=m5(Bk,r),c=p5[l.placedSide];return o.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:o.jsx(d5,{...i,ref:n,style:{...i.style,display:"block"}})})});zk.displayName=Bk;function g5(t){return t!==null}var y5=t=>({name:"transformOrigin",options:t,fn(e){var w,j,P;const{placement:n,rects:r,middlewareData:i}=e,c=((w=i.arrow)==null?void 0:w.centerOffset)!==0,d=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[m,g]=Vk(n),p={start:"0%",center:"50%",end:"100%"}[g],x=(((j=i.arrow)==null?void 0:j.x)??0)+d/2,N=(((P=i.arrow)==null?void 0:P.y)??0)+h/2;let k="",S="";return m==="bottom"?(k=c?p:`${x}px`,S=`${-h}px`):m==="top"?(k=c?p:`${x}px`,S=`${r.floating.height+h}px`):m==="right"?(k=`${-h}px`,S=c?p:`${N}px`):m==="left"&&(k=`${r.floating.width+h}px`,S=c?p:`${N}px`),{data:{x:k,y:S}}}});function Vk(t){const[e,n="center"]=t.split("-");return[e,n]}var Hk=Lk,Wk=Uk,Gk=$k,Kk=zk,v5="Portal",Oh=v.forwardRef((t,e)=>{var d;const{container:n,...r}=t,[i,l]=v.useState(!1);Ln(()=>l(!0),[]);const c=n||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?DI.createPortal(o.jsx(Ae.div,{...r,ref:e}),c):null});Oh.displayName=v5;function x5(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var or=t=>{const{present:e,children:n}=t,r=w5(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),l=Ye(r.ref,b5(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:l}):null};or.displayName="Presence";function w5(t){const[e,n]=v.useState(),r=v.useRef(null),i=v.useRef(t),l=v.useRef("none"),c=t?"mounted":"unmounted",[d,h]=x5(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const m=nd(r.current);l.current=d==="mounted"?m:"none"},[d]),Ln(()=>{const m=r.current,g=i.current;if(g!==t){const x=l.current,N=nd(m);t?h("MOUNT"):N==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(g&&x!==N?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),Ln(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,p=N=>{const S=nd(r.current).includes(N.animationName);if(N.target===e&&S&&(h("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},x=N=>{N.target===e&&(l.current=nd(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:v.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function nd(t){return(t==null?void 0:t.animationName)||"none"}function b5(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var N5=Sy[" useInsertionEffect ".trim().toString()]||Ln;function fi({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,l,c]=S5({defaultProp:e,onChange:n}),d=t!==void 0,h=d?t:i;{const g=v.useRef(t!==void 0);v.useEffect(()=>{const p=g.current;p!==d&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,r])}const m=v.useCallback(g=>{var p;if(d){const x=k5(g)?g(t):g;x!==t&&((p=c.current)==null||p.call(c,x))}else l(g)},[d,t,l,c]);return[h,m]}function S5({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),i=v.useRef(n),l=v.useRef(e);return N5(()=>{l.current=e},[e]),v.useEffect(()=>{var c;i.current!==n&&((c=l.current)==null||c.call(l,n),i.current=n)},[n,i]),[n,r,l]}function k5(t){return typeof t=="function"}var j5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_5="VisuallyHidden",Lh=v.forwardRef((t,e)=>o.jsx(Ae.span,{...t,ref:e,style:{...j5,...t.style}}));Lh.displayName=_5;var C5=Lh,[Fh]=dn("Tooltip",[Dh]),Uh=Dh(),qk="TooltipProvider",E5=700,Ng="tooltip.open",[P5,By]=Fh(qk),Yk=t=>{const{__scopeTooltip:e,delayDuration:n=E5,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:l}=t,c=v.useRef(!0),d=v.useRef(!1),h=v.useRef(0);return v.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),o.jsx(P5,{scope:e,isOpenDelayedRef:c,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:v.useCallback(m=>{d.current=m},[]),disableHoverableContent:i,children:l})};Yk.displayName=qk;var ec="Tooltip",[T5,$h]=Fh(ec),Qk=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:l,disableHoverableContent:c,delayDuration:d}=t,h=By(ec,t.__scopeTooltip),m=Uh(e),[g,p]=v.useState(null),x=Gi(),N=v.useRef(0),k=c??h.disableHoverableContent,S=d??h.delayDuration,w=v.useRef(!1),[j,P]=fi({prop:r,defaultProp:i??!1,onChange:I=>{I?(h.onOpen(),document.dispatchEvent(new CustomEvent(Ng))):h.onClose(),l==null||l(I)},caller:ec}),C=v.useMemo(()=>j?w.current?"delayed-open":"instant-open":"closed",[j]),T=v.useCallback(()=>{window.clearTimeout(N.current),N.current=0,w.current=!1,P(!0)},[P]),R=v.useCallback(()=>{window.clearTimeout(N.current),N.current=0,P(!1)},[P]),O=v.useCallback(()=>{window.clearTimeout(N.current),N.current=window.setTimeout(()=>{w.current=!0,P(!0),N.current=0},S)},[S,P]);return v.useEffect(()=>()=>{N.current&&(window.clearTimeout(N.current),N.current=0)},[]),o.jsx(Hk,{...m,children:o.jsx(T5,{scope:e,contentId:x,open:j,stateAttribute:C,trigger:g,onTriggerChange:p,onTriggerEnter:v.useCallback(()=>{h.isOpenDelayedRef.current?O():T()},[h.isOpenDelayedRef,O,T]),onTriggerLeave:v.useCallback(()=>{k?R():(window.clearTimeout(N.current),N.current=0)},[R,k]),onOpen:T,onClose:R,disableHoverableContent:k,children:n})})};Qk.displayName=ec;var Sg="TooltipTrigger",Zk=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=$h(Sg,n),l=By(Sg,n),c=Uh(n),d=v.useRef(null),h=Ye(e,d,i.onTriggerChange),m=v.useRef(!1),g=v.useRef(!1),p=v.useCallback(()=>m.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),o.jsx(Wk,{asChild:!0,...c,children:o.jsx(Ae.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:h,onPointerMove:fe(t.onPointerMove,x=>{x.pointerType!=="touch"&&!g.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:fe(t.onFocus,()=>{m.current||i.onOpen()}),onBlur:fe(t.onBlur,i.onClose),onClick:fe(t.onClick,i.onClose)})})});Zk.displayName=Sg;var R5="TooltipPortal",[SW,A5]=Fh(R5,{forceMount:void 0}),ma="TooltipContent",Xk=v.forwardRef((t,e)=>{const n=A5(ma,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...l}=t,c=$h(ma,t.__scopeTooltip);return o.jsx(or,{present:r||c.open,children:c.disableHoverableContent?o.jsx(Jk,{side:i,...l,ref:e}):o.jsx(I5,{side:i,...l,ref:e})})}),I5=v.forwardRef((t,e)=>{const n=$h(ma,t.__scopeTooltip),r=By(ma,t.__scopeTooltip),i=v.useRef(null),l=Ye(e,i),[c,d]=v.useState(null),{trigger:h,onClose:m}=n,g=i.current,{onPointerInTransitChange:p}=r,x=v.useCallback(()=>{d(null),p(!1)},[p]),N=v.useCallback((k,S)=>{const w=k.currentTarget,j={x:k.clientX,y:k.clientY},P=F5(j,w.getBoundingClientRect()),C=U5(j,P),T=$5(S.getBoundingClientRect()),R=z5([...C,...T]);d(R),p(!0)},[p]);return v.useEffect(()=>()=>x(),[x]),v.useEffect(()=>{if(h&&g){const k=w=>N(w,g),S=w=>N(w,h);return h.addEventListener("pointerleave",k),g.addEventListener("pointerleave",S),()=>{h.removeEventListener("pointerleave",k),g.removeEventListener("pointerleave",S)}}},[h,g,N,x]),v.useEffect(()=>{if(c){const k=S=>{const w=S.target,j={x:S.clientX,y:S.clientY},P=(h==null?void 0:h.contains(w))||(g==null?void 0:g.contains(w)),C=!B5(j,c);P?x():C&&(x(),m())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[h,g,c,m,x]),o.jsx(Jk,{...t,ref:l})}),[M5,D5]=Fh(ec,{isInside:!1}),O5=FI("TooltipContent"),Jk=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=t,h=$h(ma,n),m=Uh(n),{onClose:g}=h;return v.useEffect(()=>(document.addEventListener(Ng,g),()=>document.removeEventListener(Ng,g)),[g]),v.useEffect(()=>{if(h.trigger){const p=x=>{const N=x.target;N!=null&&N.contains(h.trigger)&&g()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[h.trigger,g]),o.jsx(Sc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:p=>p.preventDefault(),onDismiss:g,children:o.jsxs(Gk,{"data-state":h.stateAttribute,...m,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(O5,{children:r}),o.jsx(M5,{scope:n,isInside:!0,children:o.jsx(C5,{id:h.contentId,role:"tooltip",children:i||r})})]})})});Xk.displayName=ma;var ej="TooltipArrow",L5=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Uh(n);return D5(ej,n).isInside?null:o.jsx(Kk,{...i,...r,ref:e})});L5.displayName=ej;function F5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),l=Math.abs(e.left-t.x);switch(Math.min(n,r,i,l)){case l:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function U5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function $5(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function B5(t,e){const{x:n,y:r}=t;let i=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l],h=e[c],m=d.x,g=d.y,p=h.x,x=h.y;g>r!=x>r&&n<(p-m)*(r-g)/(x-g)+m&&(i=!i)}return i}function z5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),V5(e)}function V5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const l=e[e.length-1],c=e[e.length-2];if((l.x-c.x)*(i.y-c.y)>=(l.y-c.y)*(i.x-c.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const l=n[n.length-1],c=n[n.length-2];if((l.x-c.x)*(i.y-c.y)>=(l.y-c.y)*(i.x-c.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var H5=Yk,W5=Qk,G5=Zk,tj=Xk;function nj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rj(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nj(t))&&(r&&(r+=" "),r+=e);return r}const zy="-",K5=t=>{const e=Y5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const d=c.split(zy);return d[0]===""&&d.length!==1&&d.shift(),sj(d,e)||q5(c)},getConflictingClassGroupIds:(c,d)=>{const h=n[c]||[];return d&&r[c]?[...h,...r[c]]:h}}},sj=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?sj(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const l=t.join(zy);return(c=e.validators.find(({validator:d})=>d(l)))==null?void 0:c.classGroupId},Vb=/^\[(.+)\]$/,q5=t=>{if(Vb.test(t)){const e=Vb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Y5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Z5(Object.entries(t.classGroups),n).forEach(([l,c])=>{kg(c,r,l,e)}),r},kg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?e:Hb(e,i);l.classGroupId=n;return}if(typeof i=="function"){if(Q5(i)){kg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,c])=>{kg(c,Hb(e,l),n,r)})})},Hb=(t,e)=>{let n=t;return e.split(zy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Q5=t=>t.isThemeGetter,Z5=(t,e)=>e?t.map(([n,r])=>{const i=r.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,d])=>[e+c,d])):l);return[n,i]}):t,X5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(l,c)=>{n.set(l,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return i(l,c),c},set(l,c){n.has(l)?n.set(l,c):i(l,c)}}},ij="!",J5=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],l=e.length,c=d=>{const h=[];let m=0,g=0,p;for(let w=0;w<d.length;w++){let j=d[w];if(m===0){if(j===i&&(r||d.slice(w,w+l)===e)){h.push(d.slice(g,w)),g=w+l;continue}if(j==="/"){p=w;continue}}j==="["?m++:j==="]"&&m--}const x=h.length===0?d:d.substring(g),N=x.startsWith(ij),k=N?x.substring(1):x,S=p&&p>g?p-g:void 0;return{modifiers:h,hasImportantModifier:N,baseClassName:k,maybePostfixModifierPosition:S}};return n?d=>n({className:d,parseClassName:c}):c},eM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},tM=t=>({cache:X5(t.cacheSize),parseClassName:J5(t),...K5(t)}),nM=/\s+/,rM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,l=[],c=t.trim().split(nM);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{modifiers:g,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:N}=n(m);let k=!!N,S=r(k?x.substring(0,N):x);if(!S){if(!k){d=m+(d.length>0?" "+d:d);continue}if(S=r(x),!S){d=m+(d.length>0?" "+d:d);continue}k=!1}const w=eM(g).join(":"),j=p?w+ij:w,P=j+S;if(l.includes(P))continue;l.push(P);const C=i(S,k);for(let T=0;T<C.length;++T){const R=C[T];l.push(j+R)}d=m+(d.length>0?" "+d:d)}return d};function sM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=oj(e))&&(r&&(r+=" "),r+=n);return r}const oj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=oj(t[r]))&&(n&&(n+=" "),n+=e);return n};function iM(t,...e){let n,r,i,l=c;function c(h){const m=e.reduce((g,p)=>p(g),t());return n=tM(m),r=n.cache.get,i=n.cache.set,l=d,d(h)}function d(h){const m=r(h);if(m)return m;const g=rM(h,n);return i(h,g),g}return function(){return l(sM.apply(null,arguments))}}const st=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},aj=/^\[(?:([a-z-]+):)?(.+)\]$/i,oM=/^\d+\/\d+$/,aM=new Set(["px","full","screen"]),lM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kr=t=>qo(t)||aM.has(t)||oM.test(t),Is=t=>Da(t,"length",wM),qo=t=>!!t&&!Number.isNaN(Number(t)),xp=t=>Da(t,"number",qo),El=t=>!!t&&Number.isInteger(Number(t)),fM=t=>t.endsWith("%")&&qo(t.slice(0,-1)),Ie=t=>aj.test(t),Ms=t=>lM.test(t),mM=new Set(["length","size","percentage"]),pM=t=>Da(t,mM,lj),gM=t=>Da(t,"position",lj),yM=new Set(["image","url"]),vM=t=>Da(t,yM,NM),xM=t=>Da(t,"",bM),Pl=()=>!0,Da=(t,e,n)=>{const r=aj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},wM=t=>cM.test(t)&&!uM.test(t),lj=()=>!1,bM=t=>dM.test(t),NM=t=>hM.test(t),SM=()=>{const t=st("colors"),e=st("spacing"),n=st("blur"),r=st("brightness"),i=st("borderColor"),l=st("borderRadius"),c=st("borderSpacing"),d=st("borderWidth"),h=st("contrast"),m=st("grayscale"),g=st("hueRotate"),p=st("invert"),x=st("gap"),N=st("gradientColorStops"),k=st("gradientColorStopPositions"),S=st("inset"),w=st("margin"),j=st("opacity"),P=st("padding"),C=st("saturate"),T=st("scale"),R=st("sepia"),O=st("skew"),I=st("space"),E=st("translate"),A=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",Ie,e],z=()=>[Ie,e],Q=()=>["",Kr,Is],D=()=>["auto",qo,Ie],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Ie],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[qo,Ie];return{cacheSize:500,separator:":",theme:{colors:[Pl],spacing:[Kr,Is],blur:["none","",Ms,Ie],brightness:$(),borderColor:[t],borderRadius:["none","","full",Ms,Ie],borderSpacing:z(),borderWidth:Q(),contrast:$(),grayscale:H(),hueRotate:$(),invert:H(),gap:z(),gradientColorStops:[t],gradientColorStopPositions:[fM,Is],inset:q(),margin:q(),opacity:$(),padding:z(),saturate:$(),scale:$(),sepia:H(),skew:$(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[Ms]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Ie]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",El,Ie]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",El,Ie]}],"grid-cols":[{"grid-cols":[Pl]}],"col-start-end":[{col:["auto",{span:["full",El,Ie]},Ie]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Pl]}],"row-start-end":[{row:["auto",{span:[El,Ie]},Ie]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ie,e]}],"min-w":[{"min-w":[Ie,e,"min","max","fit"]}],"max-w":[{"max-w":[Ie,e,"none","full","min","max","fit","prose",{screen:[Ms]},Ms]}],h:[{h:[Ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ms,Is]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xp]}],"font-family":[{font:[Pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",qo,xp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kr,Ie]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kr,Is]}],"underline-offset":[{"underline-offset":["auto",Kr,Ie]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),gM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:ie()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[Kr,Ie]}],"outline-w":[{outline:[Kr,Is]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Kr,Is]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ms,xM]}],"shadow-color":[{shadow:[Pl]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Ms,Ie]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[El,Ie]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Kr,Is,xp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kM=iM(SM);function Ee(...t){return kM(rj(t))}const cj=H5,Wb=W5,Gb=G5,jg=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(tj,{ref:r,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));jg.displayName=tj.displayName;const jM=1,_M=1e6;let wp=0;function CM(){return wp=(wp+1)%Number.MAX_SAFE_INTEGER,wp.toString()}const bp=new Map,Kb=t=>{if(bp.has(t))return;const e=setTimeout(()=>{bp.delete(t),Bl({type:"REMOVE_TOAST",toastId:t})},_M);bp.set(t,e)},EM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,jM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Kb(n):t.toasts.forEach(r=>{Kb(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},jd=[];let _d={toasts:[]};function Bl(t){_d=EM(_d,t),jd.forEach(e=>{e(_d)})}function PM({...t}){const e=CM(),n=i=>Bl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Bl({type:"DISMISS_TOAST",toastId:e});return Bl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Oa(){const[t,e]=v.useState(_d);return v.useEffect(()=>(jd.push(e),()=>{const n=jd.indexOf(e);n>-1&&jd.splice(n,1)}),[t]),{...t,toast:PM,dismiss:n=>Bl({type:"DISMISS_TOAST",toastId:n})}}function Bh(t){const e=t+"CollectionProvider",[n,r]=dn(e),[i,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=S=>{const{scope:w,children:j}=S,P=Ke.useRef(null),C=Ke.useRef(new Map).current;return o.jsx(i,{scope:w,itemMap:C,collectionRef:P,children:j})};c.displayName=e;const d=t+"CollectionSlot",h=ha(d),m=Ke.forwardRef((S,w)=>{const{scope:j,children:P}=S,C=l(d,j),T=Ye(w,C.collectionRef);return o.jsx(h,{ref:T,children:P})});m.displayName=d;const g=t+"CollectionItemSlot",p="data-radix-collection-item",x=ha(g),N=Ke.forwardRef((S,w)=>{const{scope:j,children:P,...C}=S,T=Ke.useRef(null),R=Ye(w,T),O=l(g,j);return Ke.useEffect(()=>(O.itemMap.set(T,{ref:T,...C}),()=>void O.itemMap.delete(T))),o.jsx(x,{[p]:"",ref:R,children:P})});N.displayName=g;function k(S){const w=l(t+"CollectionConsumer",S);return Ke.useCallback(()=>{const P=w.collectionRef.current;if(!P)return[];const C=Array.from(P.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((O,I)=>C.indexOf(O.ref.current)-C.indexOf(I.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:c,Slot:m,ItemSlot:N},k,r]}var Vy="ToastProvider",[Hy,TM,RM]=Bh("Toast"),[uj]=dn("Toast",[RM]),[AM,zh]=uj(Vy),dj=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:l=50,children:c}=t,[d,h]=v.useState(null),[m,g]=v.useState(0),p=v.useRef(!1),x=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vy}\`. Expected non-empty \`string\`.`),o.jsx(Hy.Provider,{scope:e,children:o.jsx(AM,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:l,toastCount:m,viewport:d,onViewportChange:h,onToastAdd:v.useCallback(()=>g(N=>N+1),[]),onToastRemove:v.useCallback(()=>g(N=>N-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:x,children:c})})};dj.displayName=Vy;var hj="ToastViewport",IM=["F8"],_g="toast.viewportPause",Cg="toast.viewportResume",fj=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=IM,label:i="Notifications ({hotkey})",...l}=t,c=zh(hj,n),d=TM(n),h=v.useRef(null),m=v.useRef(null),g=v.useRef(null),p=v.useRef(null),x=Ye(e,p,c.onViewportChange),N=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=c.toastCount>0;v.useEffect(()=>{const w=j=>{var C;r.length!==0&&r.every(T=>j[T]||j.code===T)&&((C=p.current)==null||C.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),v.useEffect(()=>{const w=h.current,j=p.current;if(k&&w&&j){const P=()=>{if(!c.isClosePausedRef.current){const O=new CustomEvent(_g);j.dispatchEvent(O),c.isClosePausedRef.current=!0}},C=()=>{if(c.isClosePausedRef.current){const O=new CustomEvent(Cg);j.dispatchEvent(O),c.isClosePausedRef.current=!1}},T=O=>{!w.contains(O.relatedTarget)&&C()},R=()=>{w.contains(document.activeElement)||C()};return w.addEventListener("focusin",P),w.addEventListener("focusout",T),w.addEventListener("pointermove",P),w.addEventListener("pointerleave",R),window.addEventListener("blur",P),window.addEventListener("focus",C),()=>{w.removeEventListener("focusin",P),w.removeEventListener("focusout",T),w.removeEventListener("pointermove",P),w.removeEventListener("pointerleave",R),window.removeEventListener("blur",P),window.removeEventListener("focus",C)}}},[k,c.isClosePausedRef]);const S=v.useCallback(({tabbingDirection:w})=>{const P=d().map(C=>{const T=C.ref.current,R=[T,...GM(T)];return w==="forwards"?R:R.reverse()});return(w==="forwards"?P.reverse():P).flat()},[d]);return v.useEffect(()=>{const w=p.current;if(w){const j=P=>{var R,O,I;const C=P.altKey||P.ctrlKey||P.metaKey;if(P.key==="Tab"&&!C){const E=document.activeElement,A=P.shiftKey;if(P.target===w&&A){(R=m.current)==null||R.focus();return}const z=S({tabbingDirection:A?"backwards":"forwards"}),Q=z.findIndex(D=>D===E);Np(z.slice(Q+1))?P.preventDefault():A?(O=m.current)==null||O.focus():(I=g.current)==null||I.focus()}};return w.addEventListener("keydown",j),()=>w.removeEventListener("keydown",j)}},[d,S]),o.jsxs(ZI,{ref:h,role:"region","aria-label":i.replace("{hotkey}",N),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&o.jsx(Eg,{ref:m,onFocusFromOutsideViewport:()=>{const w=S({tabbingDirection:"forwards"});Np(w)}}),o.jsx(Hy.Slot,{scope:n,children:o.jsx(Ae.ol,{tabIndex:-1,...l,ref:x})}),k&&o.jsx(Eg,{ref:g,onFocusFromOutsideViewport:()=>{const w=S({tabbingDirection:"backwards"});Np(w)}})]})});fj.displayName=hj;var mj="ToastFocusProxy",Eg=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,l=zh(mj,n);return o.jsx(Lh,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:c=>{var m;const d=c.relatedTarget;!((m=l.viewport)!=null&&m.contains(d))&&r()}})});Eg.displayName=mj;var jc="Toast",MM="toast.swipeStart",DM="toast.swipeMove",OM="toast.swipeCancel",LM="toast.swipeEnd",pj=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:l,...c}=t,[d,h]=fi({prop:r,defaultProp:i??!0,onChange:l,caller:jc});return o.jsx(or,{present:n||d,children:o.jsx($M,{open:d,...c,ref:e,onClose:()=>h(!1),onPause:un(t.onPause),onResume:un(t.onResume),onSwipeStart:fe(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(t.onSwipeMove,m=>{const{x:g,y:p}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:fe(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(t.onSwipeEnd,m=>{const{x:g,y:p}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),h(!1)})})})});pj.displayName=jc;var[FM,UM]=uj(jc,{onClose(){}}),$M=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:l,onClose:c,onEscapeKeyDown:d,onPause:h,onResume:m,onSwipeStart:g,onSwipeMove:p,onSwipeCancel:x,onSwipeEnd:N,...k}=t,S=zh(jc,n),[w,j]=v.useState(null),P=Ye(e,D=>j(D)),C=v.useRef(null),T=v.useRef(null),R=i||S.duration,O=v.useRef(0),I=v.useRef(R),E=v.useRef(0),{onToastAdd:A,onToastRemove:F}=S,q=un(()=>{var X;(w==null?void 0:w.contains(document.activeElement))&&((X=S.viewport)==null||X.focus()),c()}),z=v.useCallback(D=>{!D||D===1/0||(window.clearTimeout(E.current),O.current=new Date().getTime(),E.current=window.setTimeout(q,D))},[q]);v.useEffect(()=>{const D=S.viewport;if(D){const X=()=>{z(I.current),m==null||m()},ie=()=>{const oe=new Date().getTime()-O.current;I.current=I.current-oe,window.clearTimeout(E.current),h==null||h()};return D.addEventListener(_g,ie),D.addEventListener(Cg,X),()=>{D.removeEventListener(_g,ie),D.removeEventListener(Cg,X)}}},[S.viewport,R,h,m,z]),v.useEffect(()=>{l&&!S.isClosePausedRef.current&&z(R)},[l,R,S.isClosePausedRef,z]),v.useEffect(()=>(A(),()=>F()),[A,F]);const Q=v.useMemo(()=>w?Nj(w):null,[w]);return S.viewport?o.jsxs(o.Fragment,{children:[Q&&o.jsx(BM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Q}),o.jsx(FM,{scope:n,onClose:q,children:Th.createPortal(o.jsx(Hy.ItemSlot,{scope:n,children:o.jsx(QI,{asChild:!0,onEscapeKeyDown:fe(d,()=>{S.isFocusedToastEscapeKeyDownRef.current||q(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":S.swipeDirection,...k,ref:P,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fe(t.onKeyDown,D=>{D.key==="Escape"&&(d==null||d(D.nativeEvent),D.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:fe(t.onPointerDown,D=>{D.button===0&&(C.current={x:D.clientX,y:D.clientY})}),onPointerMove:fe(t.onPointerMove,D=>{if(!C.current)return;const X=D.clientX-C.current.x,ie=D.clientY-C.current.y,oe=!!T.current,G=["left","right"].includes(S.swipeDirection),H=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,Z=G?H(0,X):0,$=G?0:H(0,ie),K=D.pointerType==="touch"?10:2,me={x:Z,y:$},Se={originalEvent:D,delta:me};oe?(T.current=me,rd(DM,p,Se,{discrete:!1})):qb(me,S.swipeDirection,K)?(T.current=me,rd(MM,g,Se,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(X)>K||Math.abs(ie)>K)&&(C.current=null)}),onPointerUp:fe(t.onPointerUp,D=>{const X=T.current,ie=D.target;if(ie.hasPointerCapture(D.pointerId)&&ie.releasePointerCapture(D.pointerId),T.current=null,C.current=null,X){const oe=D.currentTarget,G={originalEvent:D,delta:X};qb(X,S.swipeDirection,S.swipeThreshold)?rd(LM,N,G,{discrete:!0}):rd(OM,x,G,{discrete:!0}),oe.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),BM=t=>{const{__scopeToast:e,children:n,...r}=t,i=zh(jc,e),[l,c]=v.useState(!1),[d,h]=v.useState(!1);return HM(()=>c(!0)),v.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:o.jsx(Oh,{asChild:!0,children:o.jsx(Lh,{...r,children:l&&o.jsxs(o.Fragment,{children:[i.label," ",n]})})})},zM="ToastTitle",gj=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Ae.div,{...r,ref:e})});gj.displayName=zM;var VM="ToastDescription",yj=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Ae.div,{...r,ref:e})});yj.displayName=VM;var vj="ToastAction",xj=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(bj,{altText:n,asChild:!0,children:o.jsx(Wy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${vj}\`. Expected non-empty \`string\`.`),null)});xj.displayName=vj;var wj="ToastClose",Wy=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=UM(wj,n);return o.jsx(bj,{asChild:!0,children:o.jsx(Ae.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,i.onClose)})})});Wy.displayName=wj;var bj=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return o.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Nj(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),WM(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!i)if(l){const c=r.dataset.radixToastAnnounceAlt;c&&e.push(c)}else e.push(...Nj(r))}}),e}function rd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,l=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Ry(i,l):i.dispatchEvent(l)}var qb=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),l=r>i;return e==="left"||e==="right"?l&&r>n:!l&&i>n};function HM(t=()=>{}){const e=un(t);Ln(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function WM(t){return t.nodeType===t.ELEMENT_NODE}function GM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Np(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var KM=dj,Sj=fj,kj=pj,jj=gj,_j=yj,Cj=xj,Ej=Wy;const Yb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Qb=rj,Vh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Qb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:l}=e,c=Object.keys(i).map(m=>{const g=n==null?void 0:n[m],p=l==null?void 0:l[m];if(g===null)return null;const x=Yb(g)||Yb(p);return i[m][x]}),d=n&&Object.entries(n).reduce((m,g)=>{let[p,x]=g;return x===void 0||(m[p]=x),m},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,g)=>{let{class:p,className:x,...N}=g;return Object.entries(N).every(k=>{let[S,w]=k;return Array.isArray(w)?w.includes({...l,...d}[S]):{...l,...d}[S]===w})?[...m,p,x]:m},[]);return Qb(t,c,h,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pj=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YM={xmlns:"https://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:c,...d},h)=>v.createElement("svg",{ref:h,...YM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Pj("lucide",i),...d},[...c.map(([m,g])=>v.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(t,e)=>{const n=v.forwardRef(({className:r,...i},l)=>v.createElement(QM,{ref:l,iconNode:e,className:Pj(`lucide-${qM(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=le("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=le("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=le("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=le("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=le("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=le("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=le("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=le("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=le("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=le("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=le("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=le("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=le("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=le("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=le("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=le("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=le("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=le("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=le("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=le("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=le("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=le("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=le("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=le("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=le("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=le("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=le("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),E3=KM,Uj=v.forwardRef(({className:t,...e},n)=>o.jsx(Sj,{ref:n,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Uj.displayName=Sj.displayName;const P3=Vh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$j=v.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(kj,{ref:r,className:Ee(P3({variant:e}),t),...n}));$j.displayName=kj.displayName;const T3=v.forwardRef(({className:t,...e},n)=>o.jsx(Cj,{ref:n,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));T3.displayName=Cj.displayName;const Bj=v.forwardRef(({className:t,...e},n)=>o.jsx(Ej,{ref:n,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Dr,{className:"h-4 w-4"})}));Bj.displayName=Ej.displayName;const zj=v.forwardRef(({className:t,...e},n)=>o.jsx(jj,{ref:n,className:Ee("text-sm font-semibold",t),...e}));zj.displayName=jj.displayName;const Vj=v.forwardRef(({className:t,...e},n)=>o.jsx(_j,{ref:n,className:Ee("text-sm opacity-90",t),...e}));Vj.displayName=_j.displayName;function R3(){const{toasts:t}=Oa();return o.jsxs(E3,{children:[t.map(function({id:e,title:n,description:r,action:i,...l}){return o.jsxs($j,{...l,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(zj,{children:n}),r&&o.jsx(Vj,{children:r})]}),i,o.jsx(Bj,{})]},e)}),o.jsx(Uj,{})]})}const A3=()=>{};var e1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},I3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[n++];e[r++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[n++],c=t[n++],d=t[n++],h=((i&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Wj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const l=t[i],c=i+1<t.length,d=c?t[i+1]:0,h=i+2<t.length,m=h?t[i+2]:0,g=l>>2,p=(l&3)<<4|d>>4;let x=(d&15)<<2|m>>6,N=m&63;h||(N=64,c||(x=64)),r.push(n[g],n[p],n[x],n[N])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):I3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const l=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,l==null||d==null||m==null||p==null)throw new M3;const x=l<<2|d>>4;if(r.push(x),m!==64){const N=d<<4&240|m>>2;if(r.push(N),p!==64){const k=m<<6&192|p;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class M3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D3=function(t){const e=Hj(t);return Wj.encodeByteArray(e,!0)},Gj=function(t){return D3(t).replace(/\./g,"")},Kj=function(t){try{return Wj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=()=>O3().__FIREBASE_DEFAULTS__,F3=()=>{if(typeof process>"u"||typeof e1>"u")return;const t=e1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},U3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kj(t[1]);return e&&JSON.parse(e)},qy=()=>{try{return A3()||L3()||F3()||U3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$3=t=>{var e,n;return(n=(e=qy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},qj=()=>{var t;return(t=qy())==null?void 0:t.config},Yj=t=>{var e;return(e=qy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){try{return(t.startsWith("https://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z3(t){return(await fetch(t,{credentials:"include"})).ok}const Vl={};function V3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?t.emulator.push(e):t.prod.push(e);return t}function H3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let t1=!1;function W3(t,e){if(typeof window>"u"||typeof document>"u"||!qh(window.location.host)||Vl[t]===e||Vl[t]||t1)return;Vl[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",l=V3().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{t1=!0,c()},x}function g(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function p(){const x=H3(r),N=n("text"),k=document.getElementById(N)||document.createElement("span"),S=n("learnmore"),w=document.getElementById(S)||document.createElement("a"),j=n("preprendIcon"),P=document.getElementById(j)||document.createElementNS("https://www.w3.org/2000/svg","svg");if(x.created){const C=x.element;d(C),g(w,S);const T=m();h(P,j),C.append(P,k,w,T),document.body.appendChild(C)}l?(k.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function K3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q3(){const t=Xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Z3(){try{return typeof indexedDB=="object"}catch{return!1}}function X3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var l;e(((l=i.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J3,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,l=this.errors[e],c=l?eD(l,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new mi(i,d,r)}}function eD(t,e){return t.replace(tD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tD=/\{\$([^}]+)}/g;function nD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ya(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const l=t[i],c=e[i];if(n1(l)&&n1(c)){if(!ya(l,c))return!1}else if(l!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function n1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Il(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,l]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function Ml(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rD(t,e){const n=new sD(t,e);return n.subscribe.bind(n)}class sD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sp),i.error===void 0&&(i.error=Sp),i.complete===void 0&&(i.complete=Sp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t){return t&&t._delegate?t._delegate:t}class va{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new B3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lD(e))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});r.resolve(l)}catch{}}}}clearInstance(e=Ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ai){return this.instances.has(e)}getOptions(e=Ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const l=this.instances.get(r);return l&&e(l,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ai){return this.component?this.component.multipleInstances?e:Ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aD(t){return t===Ai?void 0:t}function lD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const uD={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},dD=et.INFO,hD={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},fD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qj{constructor(e){this.name=e,this._logLevel=dD,this._logHandler=fD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const mD=(t,e)=>e.some(n=>t instanceof n);let r1,s1;function pD(){return r1||(r1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gD(){return s1||(s1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zj=new WeakMap,Rg=new WeakMap,Xj=new WeakMap,kp=new WeakMap,Yy=new WeakMap;function yD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(ni(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Zj.set(n,t)}).catch(()=>{}),Yy.set(e,t),e}function vD(t){if(Rg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Rg.set(t,e)}let Ag={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xD(t){Ag=t(Ag)}function wD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jp(this),e,...n);return Xj.set(r,e.sort?e.sort():[e]),ni(r)}:gD().includes(t)?function(...e){return t.apply(jp(this),e),ni(Zj.get(this))}:function(...e){return ni(t.apply(jp(this),e))}}function bD(t){return typeof t=="function"?wD(t):(t instanceof IDBTransaction&&vD(t),mD(t,pD())?new Proxy(t,Ag):t)}function ni(t){if(t instanceof IDBRequest)return yD(t);if(kp.has(t))return kp.get(t);const e=bD(t);return e!==t&&(kp.set(t,e),Yy.set(e,t)),e}const jp=t=>Yy.get(t);function ND(t,e,{blocked:n,upgrade:r,blocking:i,terminated:l}={}){const c=indexedDB.open(t,e),d=ni(c);return r&&c.addEventListener("upgradeneeded",h=>{r(ni(c.result),h.oldVersion,h.newVersion,ni(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),i&&h.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const SD=["get","getKey","getAll","getAllKeys","count"],kD=["put","add","delete","clear"],_p=new Map;function i1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_p.get(e))return _p.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SD.includes(n)))return;const l=async function(c,...d){const h=this.transaction(c,i?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),i&&h.done]))[0]};return _p.set(e,l),l}xD(t=>({...t,get:(e,n,r)=>i1(e,n)||t.get(e,n,r),has:(e,n)=>!!i1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_D(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _D(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ig="@firebase/app",o1="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Qj("@firebase/app"),CD="@firebase/app-compat",ED="@firebase/analytics-compat",PD="@firebase/analytics",TD="@firebase/app-check-compat",RD="@firebase/app-check",AD="@firebase/auth",ID="@firebase/auth-compat",MD="@firebase/database",DD="@firebase/data-connect",OD="@firebase/database-compat",LD="@firebase/functions",FD="@firebase/functions-compat",UD="@firebase/installations",$D="@firebase/installations-compat",BD="@firebase/messaging",zD="@firebase/messaging-compat",VD="@firebase/performance",HD="@firebase/performance-compat",WD="@firebase/remote-config",GD="@firebase/remote-config-compat",KD="@firebase/storage",qD="@firebase/storage-compat",YD="@firebase/firestore",QD="@firebase/ai",ZD="@firebase/firestore-compat",XD="firebase",JD="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="[DEFAULT]",eO={[Ig]:"fire-core",[CD]:"fire-core-compat",[PD]:"fire-analytics",[ED]:"fire-analytics-compat",[RD]:"fire-app-check",[TD]:"fire-app-check-compat",[AD]:"fire-auth",[ID]:"fire-auth-compat",[MD]:"fire-rtdb",[DD]:"fire-data-connect",[OD]:"fire-rtdb-compat",[LD]:"fire-fn",[FD]:"fire-fn-compat",[UD]:"fire-iid",[$D]:"fire-iid-compat",[BD]:"fire-fcm",[zD]:"fire-fcm-compat",[VD]:"fire-perf",[HD]:"fire-perf-compat",[WD]:"fire-rc",[GD]:"fire-rc-compat",[KD]:"fire-gcs",[qD]:"fire-gcs-compat",[YD]:"fire-fst",[ZD]:"fire-fst-compat",[QD]:"fire-vertex","fire-js":"fire-js",[XD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,tO=new Map,Dg=new Map;function a1(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rc(t){const e=t.name;if(Dg.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,t);for(const n of nc.values())a1(n,t);for(const n of tO.values())a1(n,t);return!0}function Jj(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new Cc("app","Firebase",nO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=JD;function e_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Mg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ri.create("bad-app-name",{appName:String(i)});if(n||(n=qj()),!n)throw ri.create("no-options");const l=nc.get(i);if(l){if(ya(n,l.options)&&ya(r,l.config))return l;throw ri.create("duplicate-app",{appName:i})}const c=new cD(i);for(const h of Dg.values())c.addComponent(h);const d=new rO(n,r,c);return nc.set(i,d),d}function sO(t=Mg){const e=nc.get(t);if(!e&&t===Mg&&qj())return e_();if(!e)throw ri.create("no-app",{appName:t});return e}function l1(){return Array.from(nc.values())}function Yo(t,e,n){let r=eO[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(c.join(" "));return}rc(new va(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="firebase-heartbeat-database",oO=1,sc="firebase-heartbeat-store";let Cp=null;function t_(){return Cp||(Cp=ND(iO,oO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ri.create("idb-open",{originalErrorMessage:t.message})})),Cp}async function aO(t){try{const n=(await t_()).transaction(sc),r=await n.objectStore(sc).get(n_(t));return await n.done,r}catch(e){if(e instanceof mi)cs.warn(e.message);else{const n=ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cs.warn(n.message)}}}async function c1(t,e){try{const r=(await t_()).transaction(sc,"readwrite");await r.objectStore(sc).put(e,n_(t)),await r.done}catch(n){if(n instanceof mi)cs.warn(n.message);else{const r=ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cs.warn(r.message)}}}function n_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=1024,cO=30;class uO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=u1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>cO){const c=fO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u1(),{heartbeatsToSend:r,unsentEntries:i}=dO(this._heartbeatsCache.heartbeats),l=Gj(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return cs.warn(n),""}}}function u1(){return new Date().toISOString().substring(0,10)}function dO(t,e=lO){const n=[];let r=t.slice();for(const i of t){const l=n.find(c=>c.agent===i.agent);if(l){if(l.dates.push(i.date),d1(n)>e){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),d1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z3()?X3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return c1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return c1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function d1(t){return Gj(JSON.stringify({version:2,heartbeats:t})).length}function fO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t){rc(new va("platform-logger",e=>new jD(e),"PRIVATE")),rc(new va("heartbeat",e=>new uO(e),"PRIVATE")),Yo(Ig,o1,t),Yo(Ig,o1,"esm2020"),Yo("fire-js","")}mO("");function r_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s_=r_,i_=new Cc("auth","Firebase",r_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Qj("@firebase/auth");function pO(t,...e){Xd.logLevel<=et.WARN&&Xd.warn(`Auth (${Pc}): ${t}`,...e)}function Ed(t,...e){Xd.logLevel<=et.ERROR&&Xd.error(`Auth (${Pc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,...e){throw Zy(t,...e)}function nr(t,...e){return Zy(t,...e)}function Qy(t,e,n){const r={...s_(),[e]:n};return new Cc("auth","Firebase",r).create(e,{appName:t.name})}function jr(t){return Qy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o_(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Fn(t,"argument-error"),Qy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return i_.create(t,...e)}function be(t,e,...n){if(!t)throw Zy(e,...n)}function Jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ed(e),new Error(e)}function us(t,e){t||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function a_(){return h1()==="http:"||h1()==="https:"}function h1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a_()||q3()||"connection"in navigator)?navigator.onLine:!0}function yO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,us(n>e,"Short delay should be less than long delay!"),this.isMobile=G3()||Y3()}get(){return gO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e){us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wO=new Tc(3e4,6e4);function Lr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fr(t,e,n,r,i={}){return c_(t,i,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=Ec({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:h,...l};return K3()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&qh(t.emulatorConfig.host)&&(m.credentials="include"),l_.fetch()(await u_(t,t.config.apiHost,n,d),m)})}async function c_(t,e,n){t._canInitEmulator=!1;const r={...vO,...e};try{const i=new NO(t),l=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw sd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[h,m]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw sd(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw sd(t,"user-disabled",c);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Qy(t,g,m);Fn(t,g)}}catch(i){if(i instanceof mi)throw i;Fn(t,"network-request-failed",{message:String(i)})}}async function Rc(t,e,n,r,i={}){const l=await Fr(t,e,n,r,i);return"mfaPendingCredential"in l&&Fn(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function u_(t,e,n,r){const i=`${e}${n}?${r}`,l=t,c=l.config.emulator?Xy(t.config,i):`${t.config.apiScheme}://${i}`;return xO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function bO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),wO.get())})}}function sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=nr(t,e,r);return i.customData._tokenResponse=n,i}function f1(t){return t!==void 0&&t.enterprise!==void 0}class SO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kO(t,e){return Fr(t,"GET","/v2/recaptchaConfig",Lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(t,e){return Fr(t,"POST","/v1/accounts:delete",e)}async function eh(t,e){return Fr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function d_(t,e=!1){const n=Or(t),r=await n.getIdToken(e),i=Jy(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:i,token:r,authTime:Hl(Ep(i.auth_time)),issuedAtTime:Hl(Ep(i.iat)),expirationTime:Hl(Ep(i.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ep(t){return Number(t)*1e3}function Jy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{const i=Kj(n);return i?JSON.parse(i):(Ed("Failed to decode base64 JWT payload"),null)}catch(i){return Ed("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function m1(t){const e=Jy(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&_O(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _O({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(t){var p;const e=t.auth,n=await t.getIdToken(),r=await ic(t,eh(e,{idToken:n}));be(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const l=(p=i.providerUserInfo)!=null&&p.length?f_(i.providerUserInfo):[],c=EO(t.providerData,l),d=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),m=d?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new Og(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function h_(t){const e=Or(t);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function f_(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e){const n=await c_(t,{},async()=>{const r=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=t.config,c=await u_(t,i,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&qh(t.emulatorConfig.host)&&(h.credentials="include"),l_.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TO(t,e){return Fr(t,"POST","/v2/accounts:revokeToken",Lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=m1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:l}=await PO(e,n);this.updateTokensAndExpiration(r,i,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:l}=n,c=new Qo;return r&&(be(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class tr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new CO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Og(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return d_(this,e)}reload(){return h_(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(jr(this.auth));const e=await this.getIdToken();return await ic(this,jO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:p,emailVerified:x,isAnonymous:N,providerData:k,stsTokenManager:S}=n;be(p&&S,e,"internal-error");const w=Qo.fromJSON(this.name,S);be(typeof p=="string",e,"internal-error"),Ds(r,e.name),Ds(i,e.name),be(typeof x=="boolean",e,"internal-error"),be(typeof N=="boolean",e,"internal-error"),Ds(l,e.name),Ds(c,e.name),Ds(d,e.name),Ds(h,e.name),Ds(m,e.name),Ds(g,e.name);const j=new tr({uid:p,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:N,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:w,createdAt:m,lastLoginAt:g});return k&&Array.isArray(k)&&(j.providerData=k.map(P=>({...P}))),h&&(j._redirectEventId=h),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qo;i.updateFromServerResponse(n);const l=new tr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await th(l),l}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];be(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?f_(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(l!=null&&l.length),d=new Qo;d.updateFromIdToken(r);const h=new tr({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Og(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Map;function es(t){us(t instanceof Function,"Expected a class definition");let e=p1.get(t);return e?(us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}m_.type="NONE";const Lg=m_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t,e,n){return`firebase:${t}:${e}:${n}`}class Zo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:l}=this.auth;this.fullUserKey=Pd(this.userKey,i.apiKey,l),this.fullPersistenceKey=Pd("persistence",i.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await eh(this.auth,{idToken:e}).catch(()=>{});return n?tr._fromGetAccountInfoResponse(this.auth,n,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zo(es(Lg),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=i[0]||es(Lg);const c=Pd(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const g=await m._get(c);if(g){let p;if(typeof g=="string"){const x=await eh(e,{idToken:g}).catch(()=>{});if(!x)break;p=await tr._fromGetAccountInfoResponse(e,x,g)}else p=tr._fromJSON(e,g);m!==l&&(d=p),l=m;break}}catch{}const h=i.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new Zo(l,e,r):(l=h[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Zo(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w_(e))return"Blackberry";if(b_(e))return"Webos";if(g_(e))return"Safari";if((e.includes("chrome/")||y_(e))&&!e.includes("edge/"))return"Chrome";if(x_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function p_(t=Xt()){return/firefox\//i.test(t)}function g_(t=Xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y_(t=Xt()){return/crios\//i.test(t)}function v_(t=Xt()){return/iemobile/i.test(t)}function x_(t=Xt()){return/android/i.test(t)}function w_(t=Xt()){return/blackberry/i.test(t)}function b_(t=Xt()){return/webos/i.test(t)}function ev(t=Xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RO(t=Xt()){var e;return ev(t)&&!!((e=window.navigator)!=null&&e.standalone)}function AO(){return Q3()&&document.documentMode===10}function N_(t=Xt()){return ev(t)||x_(t)||b_(t)||w_(t)||/windows phone/i.test(t)||v_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t,e=[]){let n;switch(t){case"Browser":n=g1(Xt());break;case"Worker":n=`${g1(Xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,d)=>{try{const h=e(l);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(t,e={}){return Fr(t,"GET","/v2/passwordPolicy",Lr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=6;class OO{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y1(this),this.idTokenSubscription=new y1(this),this.beforeStateQueue=new IO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,i,l;if(!this._deleted&&(this.persistenceManager=await Zo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eh(this,{idToken:e}),r=await tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(jr(this));const n=e?Or(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MO(this),n=new OO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&pO(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ar(t){return Or(t)}class y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=rD(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FO(t){Yh=t}function k_(t){return Yh.loadJS(t)}function UO(){return Yh.recaptchaEnterpriseScript}function $O(){return Yh.gapiScript}function BO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class zO{constructor(){this.enterprise=new VO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class VO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HO="recaptcha-enterprise",j_="NO_RECAPTCHA";class WO{constructor(e){this.type=HO,this.auth=ar(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{kO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new SO(h);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(h=>{d(h)})})}function i(l,c,d){const h=window.grecaptcha;f1(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(j_)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(d=>{if(!n&&f1(window.grecaptcha))i(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=UO();h.length!==0&&(h+=d),k_(h).then(()=>{i(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function v1(t,e,n,r=!1,i=!1){const l=new WO(t);let c;if(i)c=j_;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function nh(t,e,n,r,i){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await v1(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await v1(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t,e){const n=Jj(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),l=n.getOptions();if(ya(l,e??{}))return i;Fn(i,"already-initialized")}return n.initialize({options:e})}function GO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function C_(t,e,n){const r=ar(t);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,l=E_(e),{host:c,port:d}=KO(e),h=d===null?"":`:${d}`,m={url:`${l}//${c}${h}/`},g=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(ya(m,r.config.emulator)&&ya(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,qh(c)?(z3(`${l}//${c}${h}`),W3("Auth",!0)):qO()}function E_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KO(t){const e=E_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const l=i[1];return{host:l,port:x1(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:x1(c)}}}function x1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function YO(t,e){return Fr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e){return Rc(t,"POST","/v1/accounts:signInWithPassword",Lr(t,e))}async function ZO(t,e){return Fr(t,"POST","/v1/accounts:sendOobCode",Lr(t,e))}async function XO(t,e){return ZO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t,e){return Rc(t,"POST","/v1/accounts:signInWithEmailLink",Lr(t,e))}async function eL(t,e){return Rc(t,"POST","/v1/accounts:signInWithEmailLink",Lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Qh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new xa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nh(e,n,"signInWithPassword",QO);case"emailLink":return JO(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nh(e,r,"signUpPassword",YO);case"emailLink":return eL(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e){return Rc(t,"POST","/v1/accounts:signInWithIdp",Lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="https://localhost";class ci extends Qh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ci(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...l}=n;if(!r||!i)return null;const c=new ci(r,i);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:tL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ec(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rL(t){const e=Il(Ml(t)).link,n=e?Il(Ml(e)).deep_link_id:null,r=Il(Ml(t)).deep_link_id;return(r?Il(Ml(r)).link:null)||r||n||e||t}class Zh{constructor(e){const n=Il(Ml(e)),r=n.apiKey??null,i=n.oobCode??null,l=nL(n.mode??null);be(r&&i&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=rL(e);try{return new Zh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(e,n){return xa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zh.parseLink(n);return be(r,"argument-error"),xa._fromEmailAndCode(e,r.code,r.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends Xh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn extends Ac{constructor(){super("facebook.com")}static credential(e){return ci._fromParams({providerId:Xn.PROVIDER_ID,signInMethod:Xn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xn.credentialFromTaggedObject(e)}static credentialFromError(e){return Xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xn.credential(e.oauthAccessToken)}catch{return null}}}Xn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn extends Ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ci._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jn.credential(n,r)}catch{return null}}}Jn.GOOGLE_SIGN_IN_METHOD="google.com";Jn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Ac{constructor(){super("github.com")}static credential(e){return ci._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Ac{constructor(){super("twitter.com")}static credential(e,n){return ci._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e){return Rc(t,"POST","/v1/accounts:signUp",Lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const l=await tr._fromIdTokenResponse(e,r,i),c=w1(r);return new Xi({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=w1(r);return new Xi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function w1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends mi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rh(e,n,r,i)}}function P_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(t,l,e,r):l})}async function iL(t,e,n=!1){const r=await ic(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e,n=!1){const{auth:r}=t;if(yn(r.app))return Promise.reject(jr(r));const i="reauthenticate";try{const l=await ic(t,P_(r,i,e,t),n);be(l.idToken,r,"internal-error");const c=Jy(l.idToken);be(c,r,"internal-error");const{sub:d}=c;return be(t.uid===d,r,"user-mismatch"),Xi._forOperation(t,i,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Fn(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T_(t,e,n=!1){if(yn(t.app))return Promise.reject(jr(t));const r="signIn",i=await P_(t,r,e),l=await Xi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(l.user),l}async function R_(t,e){return T_(ar(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t,e,n){var r;be(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),be(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),be(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(be(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(be(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A_(t){const e=ar(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lL(t,e,n){const r=ar(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&aL(r,i,n),await nh(r,i,"getOobCode",XO)}async function tv(t,e,n){if(yn(t.app))return Promise.reject(jr(t));const r=ar(t),c=await nh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sL).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&A_(t),h}),d=await Xi._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function nv(t,e,n){return yn(t.app)?Promise.reject(jr(t)):R_(Or(t),to.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&A_(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e){return Fr(t,"POST","/v1/accounts:createAuthUri",Lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rv(t,e){const n=a_()?Jd():"https://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await cL(Or(t),r);return i||[]}function I_(t,e,n,r){return Or(t).onIdTokenChanged(e,n,r)}function M_(t,e,n){return Or(t).beforeAuthStateChanged(e,n)}function D_(t,e,n,r){return Or(t).onAuthStateChanged(e,n,r)}function O_(t){return Or(t).signOut()}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=1e3,dL=10;class F_ extends L_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);AO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F_.type="LOCAL";const U_=F_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends L_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$_.type="SESSION";const sv=$_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:l}=n.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(c).map(async m=>m(n.origin,l)),h=await hL(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,c;return new Promise((d,h)=>{const m=iv("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(p){const x=p;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(g),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function mL(t){_r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function pL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function yL(){return B_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="firebaseLocalStorageDb",vL=1,ih="firebaseLocalStorage",V_="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(t,e){return t.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function xL(){const t=indexedDB.deleteDatabase(z_);return new Ic(t).toPromise()}function Fg(){const t=indexedDB.open(z_,vL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ih,{keyPath:V_})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ih)?e(r):(r.close(),await xL(),e(await Fg()))})})}async function b1(t,e,n){const r=ef(t,!0).put({[V_]:e,value:n});return new Ic(r).toPromise()}async function wL(t,e){const n=ef(t,!1).get(e),r=await new Ic(n).toPromise();return r===void 0?null:r.value}function N1(t,e){const n=ef(t,!0).delete(e);return new Ic(n).toPromise()}const bL=800,NL=3;class H_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>NL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(yL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await pL(),!this.activeServiceWorker)return;this.sender=new fL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fg();return await b1(e,sh,"1"),await N1(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>b1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=ef(i,!1).getAll();return new Ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H_.type="LOCAL";const W_=H_;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){return e?es(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends Qh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SL(t){return T_(t.auth,new av(t),t.bypassAuthState)}function kL(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),oL(n,new av(t),t.bypassAuthState)}async function jL(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),iL(n,new av(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n,r,i,l=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SL;case"linkViaPopup":case"linkViaRedirect":return jL;case"reauthViaPopup":case"reauthViaRedirect":return kL;default:Fn(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new Tc(2e3,1e4);async function oc(t,e,n){if(yn(t.app))return Promise.reject(nr(t,"operation-not-supported-in-this-environment"));const r=ar(t);o_(t,e,Xh);const i=ov(r,n);return new Di(r,"signInViaPopup",e,i).executeNotNull()}class Di extends G_{constructor(e,n,r,i,l){super(e,n,i,l),this.provider=r,this.authWindow=null,this.pollId=null,Di.currentPopupAction&&Di.currentPopupAction.cancel(),Di.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Di.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_L.get())};e()}}Di.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="pendingRedirect",Td=new Map;class EL extends G_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Td.get(this.auth._key());if(!e){try{const r=await PL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Td.set(this.auth._key(),e)}return this.bypassAuthState||Td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PL(t,e){const n=q_(e),r=K_(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function TL(t,e){return K_(t)._set(q_(e),"true")}function RL(t,e){Td.set(t._key(),e)}function K_(t){return es(t._redirectPersistence)}function q_(t){return Pd(CL,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t,e,n){return AL(t,e,n)}async function AL(t,e,n){if(yn(t.app))return Promise.reject(jr(t));const r=ar(t);o_(t,e,Xh),await r._initializationPromise;const i=ov(r,n);return await TL(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function Y_(t,e){return await ar(t)._initializationPromise,Q_(t,e,!1)}async function Q_(t,e,n=!1){if(yn(t.app))return Promise.reject(jr(t));const r=ar(t),i=ov(r,e),c=await new EL(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=600*1e3;class ML{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Z_(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(nr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IL&&this.cachedEventUids.clear(),this.cachedEventUids.has(S1(e))}saveEventToCache(e){this.cachedEventUids.add(S1(e)),this.lastProcessedEventTime=Date.now()}}function S1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Z_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e={}){return Fr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FL=/^https?/;async function UL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OL(t);for(const n of e)try{if($L(n))return}catch{}Fn(t,"unauthorized-domain")}function $L(t){const e=Jd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!FL.test(n))return!1;if(LL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new Tc(3e4,6e4);function k1(){const t=_r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zL(t){return new Promise((e,n)=>{var i,l,c;function r(){k1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k1(),n(nr(t,"network-request-failed"))},timeout:BL.get()})}if((l=(i=_r().gapi)==null?void 0:i.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=_r().gapi)!=null&&c.load)r();else{const d=BO("iframefcb");return _r()[d]=()=>{gapi.load?r():n(nr(t,"network-request-failed"))},k_(`${$O()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw Rd=null,e})}let Rd=null;function VL(t){return Rd=Rd||zL(t),Rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=new Tc(5e3,15e3),WL="__/auth/iframe",GL="emulator/auth/iframe",KL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YL(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xy(e,GL):`https://${t.config.authDomain}/${WL}`,r={apiKey:e.apiKey,appName:t.name,v:Pc},i=qL.get(t.config.apiHost);i&&(r.eid=i);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Ec(r).slice(1)}`}async function QL(t){const e=await VL(t),n=_r().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:YL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KL,dontclear:!0},r=>new Promise(async(i,l)=>{await r.restyle({setHideOnLeave:!1});const c=nr(t,"network-request-failed"),d=_r().setTimeout(()=>{l(c)},HL.get());function h(){_r().clearTimeout(d),i(r)}r.ping(h).then(h,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XL=500,JL=600,eF="_blank",tF="https://localhost";class j1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nF(t,e,n,r=XL,i=JL){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h={...ZL,width:r.toString(),height:i.toString(),top:l,left:c},m=Xt().toLowerCase();n&&(d=y_(m)?eF:n),p_(m)&&(e=e||tF,h.scrollbars="yes");const g=Object.entries(h).reduce((x,[N,k])=>`${x}${N}=${k},`,"");if(RO(m)&&d!=="_self")return rF(e||"",d),new j1(null);const p=window.open(e||"",d,g);be(p,t,"popup-blocked");try{p.focus()}catch{}return new j1(p)}function rF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF="__/auth/handler",iF="emulator/auth/handler",oF=encodeURIComponent("fac");async function _1(t,e,n,r,i,l){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pc,eventId:i};if(e instanceof Xh){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",nD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,p]of Object.entries({}))c[g]=p}if(e instanceof Ac){const g=e.getScopes().filter(p=>p!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await t._getAppCheckToken(),m=h?`#${oF}=${encodeURIComponent(h)}`:"";return`${aF(t)}?${Ec(d).slice(1)}${m}`}function aF({config:t}){return t.emulator?Xy(t,iF):`https://${t.authDomain}/${sF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class lF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sv,this._completeRedirectFn=Q_,this._overrideRedirectResult=RL}async _openPopup(e,n,r,i){var c;us((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await _1(e,n,r,Jd(),i);return nF(e,l,iv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const l=await _1(e,n,r,Jd(),i);return mL(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:l}=this.eventManagers[n];return i?Promise.resolve(i):(us(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QL(e),r=new ML(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pp,{type:Pp},i=>{var c;const l=(c=i==null?void 0:i[0])==null?void 0:c[Pp];l!==void 0&&n(!!l),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return N_()||g_()||ev()}}const X_=lF;var C1="@firebase/auth",E1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dF(t){rc(new va("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S_(t)},m=new LO(r,i,l,h);return GO(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rc(new va("auth-internal",e=>{const n=ar(e.getProvider("auth").getImmediate());return(r=>new cF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yo(C1,E1,uF(t)),Yo(C1,E1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=300,fF=Yj("authIdTokenMaxAge")||hF;let P1=null;const mF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fF)return;const i=n==null?void 0:n.token;P1!==i&&(P1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function J_(t=sO()){const e=Jj(t,"auth");if(e.isInitialized())return e.getImmediate();const n=__(t,{popupRedirectResolver:X_,persistence:[W_,U_,sv]}),r=Yj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=mF(l.toString());M_(n,c,()=>c(n.currentUser)),I_(n,d=>c(d))}}const i=$3("auth");return i&&C_(n,`https://${i}`),n}function pF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}FO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const l=nr("internal-error");l.customData=i,n(l)},r.type="text/javascript",r.charset="UTF-8",pF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dF("Browser");const zs=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Zh,AuthCredential:Qh,EmailAuthCredential:xa,EmailAuthProvider:to,FacebookAuthProvider:Xn,GithubAuthProvider:Zr,GoogleAuthProvider:Jn,OAuthCredential:ci,TwitterAuthProvider:Xr,beforeAuthStateChanged:M_,browserLocalPersistence:U_,browserPopupRedirectResolver:X_,browserSessionPersistence:sv,connectAuthEmulator:C_,createUserWithEmailAndPassword:tv,fetchSignInMethodsForEmail:rv,getAuth:J_,getIdTokenResult:d_,getRedirectResult:Y_,inMemoryPersistence:Lg,indexedDBLocalPersistence:W_,initializeAuth:__,onAuthStateChanged:D_,onIdTokenChanged:I_,prodErrorMap:s_,reload:h_,sendPasswordResetEmail:lL,signInWithCredential:R_,signInWithEmailAndPassword:nv,signInWithPopup:oc,signInWithRedirect:Ug,signOut:O_},Symbol.toStringTag,{value:"Module"}));var gF="firebase",yF="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yo(gF,yF,"app");const vF={apiKey:"AIzaSyB45zr8b2HjIx1fzXOuQsHxeQK9wl_wC88",authDomain:"bingeboard-73c5f.firebaseapp.com",projectId:"bingeboard-73c5f",storageBucket:"bingeboard-73c5f.firebasestorage.app",messagingSenderId:"145846820194",appId:"1:145846820194:web:047efd7a8e59b36944a03b",measurementId:"G-TB1ZXQ79LB"},eC=l1().length?l1()[0]:e_(vF),We=J_(eC),wa=new Jn;wa.setCustomParameters({prompt:"select_account"});wa.addScope("email");wa.addScope("profile");const ac=new Xn;ac.setCustomParameters({display:"popup"});ac.addScope("email");const tC=Object.freeze(Object.defineProperty({__proto__:null,app:eC,auth:We,facebookProvider:ac,googleProvider:wa},Symbol.toStringTag,{value:"Module"})),xF=()=>{const t="https://bingeboard-two.vercel.app";return console.log(" Using backend API:",t),t},wF=t=>{const e=xF(),n=t.startsWith("/")?t:`/${t}`;return`${e}${n}`},Ht=async(t,e)=>{const n=wF(t);return console.log(` API call: ${n}`),fetch(n,{credentials:"include",...e})};let oh={user:null,isAuthenticated:!1,isLoading:!0},T1=!1;const $g=new Set,An=t=>{oh={...oh,...t},$g.forEach(e=>e())},bF=()=>{if(T1)return;if(T1=!0,new URLSearchParams(window.location.search).get("demo")==="true"){console.log(" Demo mode activated"),An({user:{id:"demo-user-123",email:"demo@bingeboardapp.com",displayName:"Demo User"},isAuthenticated:!0,isLoading:!1});return}D_(We,async n=>{if(An({isLoading:!0}),n)try{console.log(" FirebaseUser detected:",n==null?void 0:n.email);try{console.log(" TEMPORARY BYPASS: Skipping backend for UI demo");const r={id:n.uid,email:n.email||"",displayName:n.displayName||void 0};An({user:r,isAuthenticated:!0,isLoading:!1}),console.log(" Frontend-only authentication successful for UI demo:",r)}catch(r){console.error("Auth sync error:",r),An({user:null,isAuthenticated:!1,isLoading:!1})}}catch(r){console.error("Auth sync error:",r),An({user:null,isAuthenticated:!1,isLoading:!1})}else try{const r=await Ht("/api/auth/status"),i=r.ok?await r.json():null;An({user:(i==null?void 0:i.user)||null,isAuthenticated:!!(i!=null&&i.user),isLoading:!1})}catch{An({user:null,isAuthenticated:!1,isLoading:!1})}})};function Un(){const[t,e]=v.useState(oh);v.useEffect(()=>{bF()},[]),v.useEffect(()=>{const i=()=>e({...oh});return $g.add(i),i(),()=>{$g.delete(i)}},[]);const n=v.useCallback(async()=>{try{An({isLoading:!0}),await We.signOut(),await Ht("/api/auth/logout",{method:"POST"}),An({user:null,isAuthenticated:!1,isLoading:!1})}catch(i){console.error("Logout error:",i),An({isLoading:!1})}},[]),r=v.useCallback(async()=>{try{const i=await Ht("/api/auth/status"),l=i.ok?await i.json():null;An({user:(l==null?void 0:l.user)||null,isAuthenticated:!!(l!=null&&l.user),isLoading:!1})}catch{An({user:null,isAuthenticated:!1,isLoading:!1})}},[]);return{...t,logout:n,refreshSession:r}}function NF({className:t="h-5 w-5"}){return o.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",children:[o.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("circle",{cx:"9",cy:"7",r:"4",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75",stroke:"currentColor",strokeWidth:"1.5"})]})}function SF({className:t="h-5 w-5"}){return o.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("path",{d:"m21 21-4.35-4.35",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),o.jsx("circle",{cx:"11",cy:"11",r:"3",stroke:"currentColor",strokeWidth:"1",opacity:"0.5"})]})}function kF({className:t="h-5 w-5"}){return o.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",children:[o.jsx("path",{d:"M3 9.5L12 2l9 7.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M5 8v11a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("rect",{x:"9",y:"13",width:"6",height:"6",stroke:"currentColor",strokeWidth:"1.5"})]})}function jF(){const[t,e]=ir(),{isAuthenticated:n}=Un();if(!n)return null;const r=[{path:"/",icon:kF,label:"Home"},{path:"/discover",icon:SF,label:"Discover"},{path:"/lists",icon:f3,label:"Lists"},{path:"/social",icon:NF,label:"Social"},{path:"/settings",icon:Gh,label:"Settings"}];return o.jsxs(o.Fragment,{children:[o.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-slate-950/95 backdrop-blur-sm border-t border-slate-800",children:o.jsx("div",{className:"flex items-center justify-around py-2 px-1",children:r.map(i=>{const l=i.icon,c=t===i.path||i.path==="/"&&t==="/"||i.path==="/discover"&&t.startsWith("/discover");return o.jsxs("button",{onClick:()=>e(i.path),className:`flex flex-col items-center p-2 min-w-0 flex-1 transition-colors duration-200 ${c?"text-teal-400":"text-gray-400 hover:text-gray-300"}`,children:[o.jsx(l,{className:"w-5 h-5 mb-1 flex-shrink-0"}),o.jsx("span",{className:"text-xs font-medium truncate",children:i.label})]},i.path)})})}),o.jsx("div",{className:"md:hidden h-16"})]})}function _F(){const[t,e]=ir(),n=[{path:"/privacy-policy",icon:Sr,label:"Privacy Policy"},{path:"/terms-of-service",icon:c3,label:"Terms of Service"},{path:"/eula",icon:S3,label:"EULA"}];return o.jsx("footer",{className:"bg-gray-900/95 border-t border-gray-800 mt-auto",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-10 h-8 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:o.jsx("div",{className:"text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),o.jsx("div",{className:"block",children:o.jsxs("span",{className:"text-xl select-none",children:[o.jsx("span",{className:"font-black bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Binge"}),o.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]})})]}),o.jsx("p",{className:"text-gray-400 text-sm",children:"The premium platform for tracking your favorite TV shows and sporting events. Discover, track, and share your entertainment experience."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold text-sm mb-3",children:"Legal"}),o.jsx("div",{className:"space-y-2",children:n.map(r=>{const i=r.icon;return o.jsxs("button",{onClick:()=>e(r.path),className:"flex items-center text-gray-400 hover:text-teal-400 text-sm transition-colors",children:[o.jsx(i,{className:"w-4 h-4 mr-2"}),r.label]},r.path)})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold text-sm mb-3",children:"Support"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("p",{children:"Privacy questions: privacy@bingeboard.com"}),o.jsx("p",{children:"Support: support@bingeboard.com"}),o.jsx("p",{className:"mt-4 text-xs",children:" 2025 BingeBoard. All rights reserved."})]})]})]})})})}const CF=Vh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 focus-visible:ring-offset-gray-900 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-blue-500 hover:bg-blue-600 text-white font-medium shadow-md hover:shadow-lg",destructive:"bg-red-600 text-white hover:bg-red-700 shadow-md hover:shadow-lg",outline:"border border-gray-600 bg-transparent text-white hover:bg-gray-700 hover:border-gray-500",secondary:"bg-gray-700 text-white hover:bg-gray-600 shadow-md hover:shadow-lg",ghost:"text-white hover:bg-gray-700 hover:text-white",link:"text-blue-400 underline-offset-4 hover:underline hover:text-blue-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},l)=>{const c=r?OI:"button";return o.jsx(c,{className:Ee(CF({variant:e,size:n,className:t})),ref:l,...i})});ae.displayName="Button";const Zt=v.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-base text-white ring-offset-gray-900 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-white placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 focus-visible:border-transparent disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-all duration-200",t),ref:r,...n}));Zt.displayName="Input";function EF(){return YS.useSyncExternalStore(PF,()=>!0,()=>!1)}function PF(){return()=>{}}var lv="Avatar",[TF]=dn(lv),[RF,nC]=TF(lv),rC=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,l]=v.useState("idle");return o.jsx(RF,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:o.jsx(Ae.span,{...r,ref:e})})});rC.displayName=lv;var sC="AvatarImage",iC=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...l}=t,c=nC(sC,n),d=AF(r,l),h=un(m=>{i(m),c.onImageLoadingStatusChange(m)});return Ln(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?o.jsx(Ae.img,{...l,ref:e,src:r}):null});iC.displayName=sC;var oC="AvatarFallback",aC=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,l=nC(oC,n),[c,d]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(h)}},[r]),c&&l.imageLoadingStatus!=="loaded"?o.jsx(Ae.span,{...i,ref:e}):null});aC.displayName=oC;function R1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function AF(t,{referrerPolicy:e,crossOrigin:n}){const r=EF(),i=v.useRef(null),l=r?(i.current||(i.current=new window.Image),i.current):null,[c,d]=v.useState(()=>R1(l,t));return Ln(()=>{d(R1(l,t))},[l,t]),Ln(()=>{const h=p=>()=>{d(p)};if(!l)return;const m=h("loaded"),g=h("error");return l.addEventListener("load",m),l.addEventListener("error",g),e&&(l.referrerPolicy=e),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",m),l.removeEventListener("error",g)}},[l,n,e]),c}var lC=rC,cC=iC,uC=aC;const no=v.forwardRef(({className:t,...e},n)=>o.jsx(lC,{ref:n,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));no.displayName=lC.displayName;const ro=v.forwardRef(({className:t,...e},n)=>o.jsx(cC,{ref:n,className:Ee("aspect-square h-full w-full",t),...e}));ro.displayName=cC.displayName;const so=v.forwardRef(({className:t,...e},n)=>o.jsx(uC,{ref:n,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));so.displayName=uC.displayName;const IF=Vh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),$e=v.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,className:Ee(IF({variant:e}),t),...n}));$e.displayName="Badge";var MF=v.createContext(void 0);function tf(t){const e=v.useContext(MF);return t||e||"ltr"}var Tp=0;function dC(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??A1()),document.body.insertAdjacentElement("beforeend",t[1]??A1()),Tp++,()=>{Tp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Tp--}},[])}function A1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Rp="focusScope.autoFocusOnMount",Ap="focusScope.autoFocusOnUnmount",I1={bubbles:!1,cancelable:!0},DF="FocusScope",cv=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=t,[d,h]=v.useState(null),m=un(i),g=un(l),p=v.useRef(null),x=Ye(e,S=>h(S)),N=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let S=function(C){if(N.paused||!d)return;const T=C.target;d.contains(T)?p.current=T:Us(p.current,{select:!0})},w=function(C){if(N.paused||!d)return;const T=C.relatedTarget;T!==null&&(d.contains(T)||Us(p.current,{select:!0}))},j=function(C){if(document.activeElement===document.body)for(const R of C)R.removedNodes.length>0&&Us(d)};document.addEventListener("focusin",S),document.addEventListener("focusout",w);const P=new MutationObserver(j);return d&&P.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",w),P.disconnect()}}},[r,d,N.paused]),v.useEffect(()=>{if(d){D1.add(N);const S=document.activeElement;if(!d.contains(S)){const j=new CustomEvent(Rp,I1);d.addEventListener(Rp,m),d.dispatchEvent(j),j.defaultPrevented||(OF(BF(hC(d)),{select:!0}),document.activeElement===S&&Us(d))}return()=>{d.removeEventListener(Rp,m),setTimeout(()=>{const j=new CustomEvent(Ap,I1);d.addEventListener(Ap,g),d.dispatchEvent(j),j.defaultPrevented||Us(S??document.body,{select:!0}),d.removeEventListener(Ap,g),D1.remove(N)},0)}}},[d,m,g,N]);const k=v.useCallback(S=>{if(!n&&!r||N.paused)return;const w=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,j=document.activeElement;if(w&&j){const P=S.currentTarget,[C,T]=LF(P);C&&T?!S.shiftKey&&j===T?(S.preventDefault(),n&&Us(C,{select:!0})):S.shiftKey&&j===C&&(S.preventDefault(),n&&Us(T,{select:!0})):j===P&&S.preventDefault()}},[n,r,N.paused]);return o.jsx(Ae.div,{tabIndex:-1,...c,ref:x,onKeyDown:k})});cv.displayName=DF;function OF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Us(r,{select:e}),document.activeElement!==n)return}function LF(t){const e=hC(t),n=M1(e,t),r=M1(e.reverse(),t);return[n,r]}function hC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function M1(t,e){for(const n of t)if(!FF(n,{upTo:e}))return n}function FF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function UF(t){return t instanceof HTMLInputElement&&"select"in t}function Us(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&UF(t)&&e&&t.select()}}var D1=$F();function $F(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=O1(t,e),t.unshift(e)},remove(e){var n;t=O1(t,e),(n=t[0])==null||n.resume()}}}function O1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function BF(t){return t.filter(e=>e.tagName!=="A")}var Ip="rovingFocusGroup.onEntryFocus",zF={bubbles:!1,cancelable:!0},Mc="RovingFocusGroup",[Bg,fC,VF]=Bh(Mc),[HF,nf]=dn(Mc,[VF]),[WF,GF]=HF(Mc),mC=v.forwardRef((t,e)=>o.jsx(Bg.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Bg.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(KF,{...t,ref:e})})}));mC.displayName=Mc;var KF=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...p}=t,x=v.useRef(null),N=Ye(e,x),k=tf(l),[S,w]=fi({prop:c,defaultProp:d??null,onChange:h,caller:Mc}),[j,P]=v.useState(!1),C=un(m),T=fC(n),R=v.useRef(!1),[O,I]=v.useState(0);return v.useEffect(()=>{const E=x.current;if(E)return E.addEventListener(Ip,C),()=>E.removeEventListener(Ip,C)},[C]),o.jsx(WF,{scope:n,orientation:r,dir:k,loop:i,currentTabStopId:S,onItemFocus:v.useCallback(E=>w(E),[w]),onItemShiftTab:v.useCallback(()=>P(!0),[]),onFocusableItemAdd:v.useCallback(()=>I(E=>E+1),[]),onFocusableItemRemove:v.useCallback(()=>I(E=>E-1),[]),children:o.jsx(Ae.div,{tabIndex:j||O===0?-1:0,"data-orientation":r,...p,ref:N,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{R.current=!0}),onFocus:fe(t.onFocus,E=>{const A=!R.current;if(E.target===E.currentTarget&&A&&!j){const F=new CustomEvent(Ip,zF);if(E.currentTarget.dispatchEvent(F),!F.defaultPrevented){const q=T().filter(ie=>ie.focusable),z=q.find(ie=>ie.active),Q=q.find(ie=>ie.id===S),X=[z,Q,...q].filter(Boolean).map(ie=>ie.ref.current);yC(X,g)}}R.current=!1}),onBlur:fe(t.onBlur,()=>P(!1))})})}),pC="RovingFocusGroupItem",gC=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:l,children:c,...d}=t,h=Gi(),m=l||h,g=GF(pC,n),p=g.currentTabStopId===m,x=fC(n),{onFocusableItemAdd:N,onFocusableItemRemove:k,currentTabStopId:S}=g;return v.useEffect(()=>{if(r)return N(),()=>k()},[r,N,k]),o.jsx(Bg.ItemSlot,{scope:n,id:m,focusable:r,active:i,children:o.jsx(Ae.span,{tabIndex:p?0:-1,"data-orientation":g.orientation,...d,ref:e,onMouseDown:fe(t.onMouseDown,w=>{r?g.onItemFocus(m):w.preventDefault()}),onFocus:fe(t.onFocus,()=>g.onItemFocus(m)),onKeyDown:fe(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){g.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const j=QF(w,g.orientation,g.dir);if(j!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let C=x().filter(T=>T.focusable).map(T=>T.ref.current);if(j==="last")C.reverse();else if(j==="prev"||j==="next"){j==="prev"&&C.reverse();const T=C.indexOf(w.currentTarget);C=g.loop?ZF(C,T+1):C.slice(T+1)}setTimeout(()=>yC(C))}}),children:typeof c=="function"?c({isCurrentTabStop:p,hasTabStop:S!=null}):c})})});gC.displayName=pC;var qF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YF(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function QF(t,e,n){const r=YF(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return qF[r]}function yC(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function ZF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vC=mC,xC=gC,XF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Do=new WeakMap,id=new WeakMap,od={},Mp=0,wC=function(t){return t&&(t.host||wC(t.parentNode))},JF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},e6=function(t,e,n,r){var i=JF(e,Array.isArray(t)?t:[t]);od[n]||(od[n]=new WeakMap);var l=od[n],c=[],d=new Set,h=new Set(i),m=function(p){!p||d.has(p)||(d.add(p),m(p.parentNode))};i.forEach(m);var g=function(p){!p||h.has(p)||Array.prototype.forEach.call(p.children,function(x){if(d.has(x))g(x);else try{var N=x.getAttribute(r),k=N!==null&&N!=="false",S=(Do.get(x)||0)+1,w=(l.get(x)||0)+1;Do.set(x,S),l.set(x,w),c.push(x),S===1&&k&&id.set(x,!0),w===1&&x.setAttribute(n,"true"),k||x.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",x,j)}})};return g(e),d.clear(),Mp++,function(){c.forEach(function(p){var x=Do.get(p)-1,N=l.get(p)-1;Do.set(p,x),l.set(p,N),x||(id.has(p)||p.removeAttribute(r),id.delete(p)),N||p.removeAttribute(n)}),Mp--,Mp||(Do=new WeakMap,Do=new WeakMap,id=new WeakMap,od={})}},bC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=XF(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),e6(r,i,n,"aria-hidden")):function(){return null}},wr=function(){return wr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},wr.apply(this,arguments)};function NC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function t6(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,l;r<i;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}var Ad="right-scroll-bar-position",Id="width-before-scroll-bar",n6="with-scroll-bars-hidden",r6="--removed-body-scroll-bar-size";function Dp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function s6(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var i6=typeof window<"u"?v.useLayoutEffect:v.useEffect,L1=new WeakMap;function o6(t,e){var n=s6(null,function(r){return t.forEach(function(i){return Dp(i,r)})});return i6(function(){var r=L1.get(n);if(r){var i=new Set(r),l=new Set(t),c=n.current;i.forEach(function(d){l.has(d)||Dp(d,null)}),l.forEach(function(d){i.has(d)||Dp(d,c)})}L1.set(n,t)},[t]),n}function a6(t){return t}function l6(t,e){e===void 0&&(e=a6);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var c=e(l,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(r=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(l),c=n}var h=function(){var g=c;c=[],g.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(g){c.push(g),m()},filter:function(g){return c=c.filter(g),n}}}};return i}function c6(t){t===void 0&&(t={});var e=l6(null);return e.options=wr({async:!0,ssr:!1},t),e}var SC=function(t){var e=t.sideCar,n=NC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,wr({},n))};SC.isSideCarExport=!0;function u6(t,e){return t.useMedium(e),SC}var kC=c6(),Op=function(){},rf=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Op,onWheelCapture:Op,onTouchMoveCapture:Op}),i=r[0],l=r[1],c=t.forwardProps,d=t.children,h=t.className,m=t.removeScrollBar,g=t.enabled,p=t.shards,x=t.sideCar,N=t.noRelative,k=t.noIsolation,S=t.inert,w=t.allowPinchZoom,j=t.as,P=j===void 0?"div":j,C=t.gapMode,T=NC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=x,O=o6([n,e]),I=wr(wr({},T),i);return v.createElement(v.Fragment,null,g&&v.createElement(R,{sideCar:kC,removeScrollBar:m,shards:p,noRelative:N,noIsolation:k,inert:S,setCallbacks:l,allowPinchZoom:!!w,lockRef:n,gapMode:C}),c?v.cloneElement(v.Children.only(d),wr(wr({},I),{ref:O})):v.createElement(P,wr({},I,{className:h,ref:O}),d))});rf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rf.classNames={fullWidth:Id,zeroRight:Ad};var d6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function h6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=d6();return e&&t.setAttribute("nonce",e),t}function f6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function m6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var p6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=h6())&&(f6(e,n),m6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},g6=function(){var t=p6();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},jC=function(){var t=g6(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},y6={left:0,top:0,right:0,gap:0},Lp=function(t){return parseInt(t||"",10)||0},v6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Lp(n),Lp(r),Lp(i)]},x6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return y6;var e=v6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},w6=jC(),Jo="data-scroll-locked",b6=function(t,e,n,r){var i=t.left,l=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(n6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Jo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ad,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Id,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Ad," .").concat(Ad,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Id," .").concat(Id,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Jo,`] {
    `).concat(r6,": ").concat(d,`px;
  }
`)},F1=function(){var t=parseInt(document.body.getAttribute(Jo)||"0",10);return isFinite(t)?t:0},N6=function(){v.useEffect(function(){return document.body.setAttribute(Jo,(F1()+1).toString()),function(){var t=F1()-1;t<=0?document.body.removeAttribute(Jo):document.body.setAttribute(Jo,t.toString())}},[])},S6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;N6();var l=v.useMemo(function(){return x6(i)},[i]);return v.createElement(w6,{styles:b6(l,!e,i,n?"":"!important")})},zg=!1;if(typeof window<"u")try{var ad=Object.defineProperty({},"passive",{get:function(){return zg=!0,!0}});window.addEventListener("test",ad,ad),window.removeEventListener("test",ad,ad)}catch{zg=!1}var Oo=zg?{passive:!1}:!1,k6=function(t){return t.tagName==="TEXTAREA"},_C=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!k6(t)&&n[e]==="visible")},j6=function(t){return _C(t,"overflowY")},_6=function(t){return _C(t,"overflowX")},U1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=CC(t,r);if(i){var l=EC(t,r),c=l[1],d=l[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},C6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},E6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},CC=function(t,e){return t==="v"?j6(e):_6(e)},EC=function(t,e){return t==="v"?C6(e):E6(e)},P6=function(t,e){return t==="h"&&e==="rtl"?-1:1},T6=function(t,e,n,r,i){var l=P6(t,window.getComputedStyle(e).direction),c=l*r,d=n.target,h=e.contains(d),m=!1,g=c>0,p=0,x=0;do{if(!d)break;var N=EC(t,d),k=N[0],S=N[1],w=N[2],j=S-w-l*k;(k||j)&&CC(t,d)&&(p+=j,x+=k);var P=d.parentNode;d=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(g&&Math.abs(p)<1||!g&&Math.abs(x)<1)&&(m=!0),m},ld=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$1=function(t){return[t.deltaX,t.deltaY]},B1=function(t){return t&&"current"in t?t.current:t},R6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},A6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},I6=0,Lo=[];function M6(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(I6++)[0],l=v.useState(jC)[0],c=v.useRef(t);v.useEffect(function(){c.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var S=t6([t.lockRef.current],(t.shards||[]).map(B1),!0).filter(Boolean);return S.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=v.useCallback(function(S,w){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!c.current.allowPinchZoom;var j=ld(S),P=n.current,C="deltaX"in S?S.deltaX:P[0]-j[0],T="deltaY"in S?S.deltaY:P[1]-j[1],R,O=S.target,I=Math.abs(C)>Math.abs(T)?"h":"v";if("touches"in S&&I==="h"&&O.type==="range")return!1;var E=U1(I,O);if(!E)return!0;if(E?R=I:(R=I==="v"?"h":"v",E=U1(I,O)),!E)return!1;if(!r.current&&"changedTouches"in S&&(C||T)&&(r.current=R),!R)return!0;var A=r.current||R;return T6(A,w,S,A==="h"?C:T)},[]),h=v.useCallback(function(S){var w=S;if(!(!Lo.length||Lo[Lo.length-1]!==l)){var j="deltaY"in w?$1(w):ld(w),P=e.current.filter(function(R){return R.name===w.type&&(R.target===w.target||w.target===R.shadowParent)&&R6(R.delta,j)})[0];if(P&&P.should){w.cancelable&&w.preventDefault();return}if(!P){var C=(c.current.shards||[]).map(B1).filter(Boolean).filter(function(R){return R.contains(w.target)}),T=C.length>0?d(w,C[0]):!c.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),m=v.useCallback(function(S,w,j,P){var C={name:S,delta:w,target:j,should:P,shadowParent:D6(j)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(T){return T!==C})},1)},[]),g=v.useCallback(function(S){n.current=ld(S),r.current=void 0},[]),p=v.useCallback(function(S){m(S.type,$1(S),S.target,d(S,t.lockRef.current))},[]),x=v.useCallback(function(S){m(S.type,ld(S),S.target,d(S,t.lockRef.current))},[]);v.useEffect(function(){return Lo.push(l),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",h,Oo),document.addEventListener("touchmove",h,Oo),document.addEventListener("touchstart",g,Oo),function(){Lo=Lo.filter(function(S){return S!==l}),document.removeEventListener("wheel",h,Oo),document.removeEventListener("touchmove",h,Oo),document.removeEventListener("touchstart",g,Oo)}},[]);var N=t.removeScrollBar,k=t.inert;return v.createElement(v.Fragment,null,k?v.createElement(l,{styles:A6(i)}):null,N?v.createElement(S6,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function D6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const O6=u6(kC,M6);var uv=v.forwardRef(function(t,e){return v.createElement(rf,wr({},t,{ref:e,sideCar:O6}))});uv.classNames=rf.classNames;var Vg=["Enter"," "],L6=["ArrowDown","PageUp","Home"],PC=["ArrowUp","PageDown","End"],F6=[...L6,...PC],U6={ltr:[...Vg,"ArrowRight"],rtl:[...Vg,"ArrowLeft"]},$6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dc="Menu",[lc,B6,z6]=Bh(Dc),[io,TC]=dn(Dc,[z6,Dh,nf]),sf=Dh(),RC=nf(),[V6,oo]=io(Dc),[H6,Oc]=io(Dc),AC=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:l,modal:c=!0}=t,d=sf(e),[h,m]=v.useState(null),g=v.useRef(!1),p=un(l),x=tf(i);return v.useEffect(()=>{const N=()=>{g.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>g.current=!1;return document.addEventListener("keydown",N,{capture:!0}),()=>{document.removeEventListener("keydown",N,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),o.jsx(Hk,{...d,children:o.jsx(V6,{scope:e,open:n,onOpenChange:p,content:h,onContentChange:m,children:o.jsx(H6,{scope:e,onClose:v.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:g,dir:x,modal:c,children:r})})})};AC.displayName=Dc;var W6="MenuAnchor",dv=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=sf(n);return o.jsx(Wk,{...i,...r,ref:e})});dv.displayName=W6;var hv="MenuPortal",[G6,IC]=io(hv,{forceMount:void 0}),MC=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,l=oo(hv,e);return o.jsx(G6,{scope:e,forceMount:n,children:o.jsx(or,{present:n||l.open,children:o.jsx(Oh,{asChild:!0,container:i,children:r})})})};MC.displayName=hv;var On="MenuContent",[K6,fv]=io(On),DC=v.forwardRef((t,e)=>{const n=IC(On,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,l=oo(On,t.__scopeMenu),c=Oc(On,t.__scopeMenu);return o.jsx(lc.Provider,{scope:t.__scopeMenu,children:o.jsx(or,{present:r||l.open,children:o.jsx(lc.Slot,{scope:t.__scopeMenu,children:c.modal?o.jsx(q6,{...i,ref:e}):o.jsx(Y6,{...i,ref:e})})})})}),q6=v.forwardRef((t,e)=>{const n=oo(On,t.__scopeMenu),r=v.useRef(null),i=Ye(e,r);return v.useEffect(()=>{const l=r.current;if(l)return bC(l)},[]),o.jsx(mv,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:fe(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Y6=v.forwardRef((t,e)=>{const n=oo(On,t.__scopeMenu);return o.jsx(mv,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Q6=ha("MenuContent.ScrollLock"),mv=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:p,onInteractOutside:x,onDismiss:N,disableOutsideScroll:k,...S}=t,w=oo(On,n),j=Oc(On,n),P=sf(n),C=RC(n),T=B6(n),[R,O]=v.useState(null),I=v.useRef(null),E=Ye(e,I,w.onContentChange),A=v.useRef(0),F=v.useRef(""),q=v.useRef(0),z=v.useRef(null),Q=v.useRef("right"),D=v.useRef(0),X=k?uv:v.Fragment,ie=k?{as:Q6,allowPinchZoom:!0}:void 0,oe=H=>{var Ue,Be;const Z=F.current+H,$=T().filter(Fe=>!Fe.disabled),K=document.activeElement,me=(Ue=$.find(Fe=>Fe.ref.current===K))==null?void 0:Ue.textValue,Se=$.map(Fe=>Fe.textValue),Te=l8(Se,Z,me),Me=(Be=$.find(Fe=>Fe.textValue===Te))==null?void 0:Be.ref.current;(function Fe(kt){F.current=kt,window.clearTimeout(A.current),kt!==""&&(A.current=window.setTimeout(()=>Fe(""),1e3))})(Z),Me&&setTimeout(()=>Me.focus())};v.useEffect(()=>()=>window.clearTimeout(A.current),[]),dC();const G=v.useCallback(H=>{var $,K;return Q.current===(($=z.current)==null?void 0:$.side)&&u8(H,(K=z.current)==null?void 0:K.area)},[]);return o.jsx(K6,{scope:n,searchRef:F,onItemEnter:v.useCallback(H=>{G(H)&&H.preventDefault()},[G]),onItemLeave:v.useCallback(H=>{var Z;G(H)||((Z=I.current)==null||Z.focus(),O(null))},[G]),onTriggerLeave:v.useCallback(H=>{G(H)&&H.preventDefault()},[G]),pointerGraceTimerRef:q,onPointerGraceIntentChange:v.useCallback(H=>{z.current=H},[]),children:o.jsx(X,{...ie,children:o.jsx(cv,{asChild:!0,trapped:i,onMountAutoFocus:fe(l,H=>{var Z;H.preventDefault(),(Z=I.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:o.jsx(Sc,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:p,onInteractOutside:x,onDismiss:N,children:o.jsx(vC,{asChild:!0,...C,dir:j.dir,orientation:"vertical",loop:r,currentTabStopId:R,onCurrentTabStopIdChange:O,onEntryFocus:fe(h,H=>{j.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Gk,{role:"menu","aria-orientation":"vertical","data-state":ZC(w.open),"data-radix-menu-content":"",dir:j.dir,...P,...S,ref:E,style:{outline:"none",...S.style},onKeyDown:fe(S.onKeyDown,H=>{const $=H.target.closest("[data-radix-menu-content]")===H.currentTarget,K=H.ctrlKey||H.altKey||H.metaKey,me=H.key.length===1;$&&(H.key==="Tab"&&H.preventDefault(),!K&&me&&oe(H.key));const Se=I.current;if(H.target!==Se||!F6.includes(H.key))return;H.preventDefault();const Me=T().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);PC.includes(H.key)&&Me.reverse(),o8(Me)}),onBlur:fe(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(A.current),F.current="")}),onPointerMove:fe(t.onPointerMove,cc(H=>{const Z=H.target,$=D.current!==H.clientX;if(H.currentTarget.contains(Z)&&$){const K=H.clientX>D.current?"right":"left";Q.current=K,D.current=H.clientX}}))})})})})})})});DC.displayName=On;var Z6="MenuGroup",pv=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Ae.div,{role:"group",...r,ref:e})});pv.displayName=Z6;var X6="MenuLabel",OC=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Ae.div,{...r,ref:e})});OC.displayName=X6;var ah="MenuItem",z1="menu.itemSelect",of=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,l=v.useRef(null),c=Oc(ah,t.__scopeMenu),d=fv(ah,t.__scopeMenu),h=Ye(e,l),m=v.useRef(!1),g=()=>{const p=l.current;if(!n&&p){const x=new CustomEvent(z1,{bubbles:!0,cancelable:!0});p.addEventListener(z1,N=>r==null?void 0:r(N),{once:!0}),Ry(p,x),x.defaultPrevented?m.current=!1:c.onClose()}};return o.jsx(LC,{...i,ref:h,disabled:n,onClick:fe(t.onClick,g),onPointerDown:p=>{var x;(x=t.onPointerDown)==null||x.call(t,p),m.current=!0},onPointerUp:fe(t.onPointerUp,p=>{var x;m.current||(x=p.currentTarget)==null||x.click()}),onKeyDown:fe(t.onKeyDown,p=>{const x=d.searchRef.current!=="";n||x&&p.key===" "||Vg.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});of.displayName=ah;var LC=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...l}=t,c=fv(ah,n),d=RC(n),h=v.useRef(null),m=Ye(e,h),[g,p]=v.useState(!1),[x,N]=v.useState("");return v.useEffect(()=>{const k=h.current;k&&N((k.textContent??"").trim())},[l.children]),o.jsx(lc.ItemSlot,{scope:n,disabled:r,textValue:i??x,children:o.jsx(xC,{asChild:!0,...d,focusable:!r,children:o.jsx(Ae.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:m,onPointerMove:fe(t.onPointerMove,cc(k=>{r?c.onItemLeave(k):(c.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(t.onPointerLeave,cc(k=>c.onItemLeave(k))),onFocus:fe(t.onFocus,()=>p(!0)),onBlur:fe(t.onBlur,()=>p(!1))})})})}),J6="MenuCheckboxItem",FC=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return o.jsx(VC,{scope:t.__scopeMenu,checked:n,children:o.jsx(of,{role:"menuitemcheckbox","aria-checked":lh(n)?"mixed":n,...i,ref:e,"data-state":yv(n),onSelect:fe(i.onSelect,()=>r==null?void 0:r(lh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});FC.displayName=J6;var UC="MenuRadioGroup",[e8,t8]=io(UC,{value:void 0,onValueChange:()=>{}}),$C=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,l=un(r);return o.jsx(e8,{scope:t.__scopeMenu,value:n,onValueChange:l,children:o.jsx(pv,{...i,ref:e})})});$C.displayName=UC;var BC="MenuRadioItem",zC=v.forwardRef((t,e)=>{const{value:n,...r}=t,i=t8(BC,t.__scopeMenu),l=n===i.value;return o.jsx(VC,{scope:t.__scopeMenu,checked:l,children:o.jsx(of,{role:"menuitemradio","aria-checked":l,...r,ref:e,"data-state":yv(l),onSelect:fe(r.onSelect,()=>{var c;return(c=i.onValueChange)==null?void 0:c.call(i,n)},{checkForDefaultPrevented:!1})})})});zC.displayName=BC;var gv="MenuItemIndicator",[VC,n8]=io(gv,{checked:!1}),HC=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,l=n8(gv,n);return o.jsx(or,{present:r||lh(l.checked)||l.checked===!0,children:o.jsx(Ae.span,{...i,ref:e,"data-state":yv(l.checked)})})});HC.displayName=gv;var r8="MenuSeparator",WC=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});WC.displayName=r8;var s8="MenuArrow",GC=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=sf(n);return o.jsx(Kk,{...i,...r,ref:e})});GC.displayName=s8;var i8="MenuSub",[kW,KC]=io(i8),Dl="MenuSubTrigger",qC=v.forwardRef((t,e)=>{const n=oo(Dl,t.__scopeMenu),r=Oc(Dl,t.__scopeMenu),i=KC(Dl,t.__scopeMenu),l=fv(Dl,t.__scopeMenu),c=v.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=l,m={__scopeMenu:t.__scopeMenu},g=v.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return v.useEffect(()=>g,[g]),v.useEffect(()=>{const p=d.current;return()=>{window.clearTimeout(p),h(null)}},[d,h]),o.jsx(dv,{asChild:!0,...m,children:o.jsx(LC,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":ZC(n.open),...t,ref:Ph(e,i.onTriggerChange),onClick:p=>{var x;(x=t.onClick)==null||x.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:fe(t.onPointerMove,cc(p=>{l.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:fe(t.onPointerLeave,cc(p=>{var N,k;g();const x=(N=n.content)==null?void 0:N.getBoundingClientRect();if(x){const S=(k=n.content)==null?void 0:k.dataset.side,w=S==="right",j=w?-5:5,P=x[w?"left":"right"],C=x[w?"right":"left"];l.onPointerGraceIntentChange({area:[{x:p.clientX+j,y:p.clientY},{x:P,y:x.top},{x:C,y:x.top},{x:C,y:x.bottom},{x:P,y:x.bottom}],side:S}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(p),p.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:fe(t.onKeyDown,p=>{var N;const x=l.searchRef.current!=="";t.disabled||x&&p.key===" "||U6[r.dir].includes(p.key)&&(n.onOpenChange(!0),(N=n.content)==null||N.focus(),p.preventDefault())})})})});qC.displayName=Dl;var YC="MenuSubContent",QC=v.forwardRef((t,e)=>{const n=IC(On,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,l=oo(On,t.__scopeMenu),c=Oc(On,t.__scopeMenu),d=KC(YC,t.__scopeMenu),h=v.useRef(null),m=Ye(e,h);return o.jsx(lc.Provider,{scope:t.__scopeMenu,children:o.jsx(or,{present:r||l.open,children:o.jsx(lc.Slot,{scope:t.__scopeMenu,children:o.jsx(mv,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var p;c.isUsingKeyboardRef.current&&((p=h.current)==null||p.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:fe(t.onFocusOutside,g=>{g.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:fe(t.onEscapeKeyDown,g=>{c.onClose(),g.preventDefault()}),onKeyDown:fe(t.onKeyDown,g=>{var N;const p=g.currentTarget.contains(g.target),x=$6[c.dir].includes(g.key);p&&x&&(l.onOpenChange(!1),(N=d.trigger)==null||N.focus(),g.preventDefault())})})})})})});QC.displayName=YC;function ZC(t){return t?"open":"closed"}function lh(t){return t==="indeterminate"}function yv(t){return lh(t)?"indeterminate":t?"checked":"unchecked"}function o8(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function a8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function l8(t,e,n){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let c=a8(t,Math.max(l,0));i.length===1&&(c=c.filter(m=>m!==n));const h=c.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function c8(t,e){const{x:n,y:r}=t;let i=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l],h=e[c],m=d.x,g=d.y,p=h.x,x=h.y;g>r!=x>r&&n<(p-m)*(r-g)/(x-g)+m&&(i=!i)}return i}function u8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return c8(n,e)}function cc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var d8=AC,h8=dv,f8=MC,m8=DC,p8=pv,g8=OC,y8=of,v8=FC,x8=$C,w8=zC,b8=HC,N8=WC,S8=GC,k8=qC,j8=QC,af="DropdownMenu",[_8]=dn(af,[TC]),en=TC(),[C8,XC]=_8(af),JC=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:l,onOpenChange:c,modal:d=!0}=t,h=en(e),m=v.useRef(null),[g,p]=fi({prop:i,defaultProp:l??!1,onChange:c,caller:af});return o.jsx(C8,{scope:e,triggerId:Gi(),triggerRef:m,contentId:Gi(),open:g,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(x=>!x),[p]),modal:d,children:o.jsx(d8,{...h,open:g,onOpenChange:p,dir:r,modal:d,children:n})})};JC.displayName=af;var eE="DropdownMenuTrigger",tE=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,l=XC(eE,n),c=en(n);return o.jsx(h8,{asChild:!0,...c,children:o.jsx(Ae.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Ph(e,l.triggerRef),onPointerDown:fe(t.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:fe(t.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});tE.displayName=eE;var E8="DropdownMenuPortal",nE=t=>{const{__scopeDropdownMenu:e,...n}=t,r=en(e);return o.jsx(f8,{...r,...n})};nE.displayName=E8;var rE="DropdownMenuContent",sE=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=XC(rE,n),l=en(n),c=v.useRef(!1);return o.jsx(m8,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...r,ref:e,onCloseAutoFocus:fe(t.onCloseAutoFocus,d=>{var h;c.current||(h=i.triggerRef.current)==null||h.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:fe(t.onInteractOutside,d=>{const h=d.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0,g=h.button===2||m;(!i.modal||g)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sE.displayName=rE;var P8="DropdownMenuGroup",T8=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return o.jsx(p8,{...i,...r,ref:e})});T8.displayName=P8;var R8="DropdownMenuLabel",iE=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return o.jsx(g8,{...i,...r,ref:e})});iE.displayName=R8;var A8="DropdownMenuItem",oE=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return o.jsx(y8,{...i,...r,ref:e})});oE.displayName=A8;var I8="DropdownMenuCheckboxItem",aE=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return o.jsx(v8,{...i,...r,ref:e})});aE.displayName=I8;var M8="DropdownMenuRadioGroup",D8=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return o.jsx(x8,{...i,...r,ref:e})});D8.displayName=M8;var O8="DropdownMenuRadioItem",lE=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return o.jsx(w8,{...i,...r,ref:e})});lE.displayName=O8;var L8="DropdownMenuItemIndicator",cE=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return o.jsx(b8,{...i,...r,ref:e})});cE.displayName=L8;var F8="DropdownMenuSeparator",uE=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return o.jsx(N8,{...i,...r,ref:e})});uE.displayName=F8;var U8="DropdownMenuArrow",$8=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return o.jsx(S8,{...i,...r,ref:e})});$8.displayName=U8;var B8="DropdownMenuSubTrigger",dE=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return o.jsx(k8,{...i,...r,ref:e})});dE.displayName=B8;var z8="DropdownMenuSubContent",hE=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=en(n);return o.jsx(j8,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hE.displayName=z8;var V8=JC,H8=tE,W8=nE,fE=sE,mE=iE,pE=oE,gE=aE,yE=lE,vE=cE,xE=uE,wE=dE,bE=hE;const NE=V8,SE=H8,G8=v.forwardRef(({className:t,inset:e,children:n,...r},i)=>o.jsxs(wE,{ref:i,className:Ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(Aj,{className:"ml-auto h-4 w-4"})]}));G8.displayName=wE.displayName;const K8=v.forwardRef(({className:t,...e},n)=>o.jsx(bE,{ref:n,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));K8.displayName=bE.displayName;const vv=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(W8,{children:o.jsx(fE,{ref:r,sideOffset:e,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));vv.displayName=fE.displayName;const Js=v.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(pE,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Js.displayName=pE.displayName;const q8=v.forwardRef(({className:t,children:e,checked:n,...r},i)=>o.jsxs(gE,{ref:i,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(vE,{children:o.jsx(Hh,{className:"h-4 w-4"})})}),e]}));q8.displayName=gE.displayName;const Y8=v.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(yE,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(vE,{children:o.jsx(Mj,{className:"h-2 w-2 fill-current"})})}),e]}));Y8.displayName=yE.displayName;const kE=v.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(mE,{ref:r,className:Ee("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));kE.displayName=mE.displayName;const Hg=v.forwardRef(({className:t,...e},n)=>o.jsx(xE,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));Hg.displayName=xE.displayName;function Q8(){var x,N,k,S;const{user:t,isAuthenticated:e}=Un(),[n,r]=ir(),[i,l]=v.useState(""),[c,d]=v.useState(!1),h=w=>{w.preventDefault(),i.trim()?r(`/discover?search=${encodeURIComponent(i.trim())}`):r("/discover")},m=w=>{w.key==="Enter"&&h(w)},{data:g=[]}=ii({queryKey:["/api/notifications/history"],queryFn:async()=>{try{const w=await fetch("/api/notifications/history",{credentials:"include"});if(!w.ok)throw new Error("Failed to fetch notifications");return await w.json()}catch(w){return console.debug("Failed to fetch notifications:",w),[]}},enabled:e}),p=g&&Array.isArray(g)?g.filter(w=>!w.isRead).length:0;return e?o.jsx("header",{className:"fixed top-0 left-0 right-0 z-[9999] w-full border-b border-slate-800/50 bg-black backdrop-blur-md",style:{position:"fixed"},children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex h-16 items-center justify-between",children:[o.jsx(Et,{href:"/",children:o.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-10 h-8 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative group-hover:scale-105 transition-transform duration-300",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:o.jsx("div",{className:"text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),o.jsxs("div",{className:"block",children:[o.jsxs("span",{className:"text-xl sm:text-2xl",children:[o.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent font-black",children:"Binge"}),o.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]}),o.jsx("div",{className:"text-xs text-teal-400 font-medium tracking-widest uppercase opacity-75 hidden sm:block",children:"Entertainment Hub"})]})]})}),o.jsx("div",{className:"flex-1 max-w-lg mx-8 hidden md:block",children:o.jsx("form",{onSubmit:h,className:"relative",children:o.jsxs("div",{className:"relative",children:[o.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(Zt,{type:"text",placeholder:"Search shows, movies, actors...",value:i,onChange:w=>l(w.target.value),onKeyDown:m,onFocus:()=>d(!0),onBlur:()=>d(!1),className:`pl-10 pr-4 py-2 bg-slate-800/50 border-slate-700 text-white placeholder-gray-400 focus:border-teal-500 focus:ring-1 focus:ring-teal-500 transition-all duration-200 ${c?"bg-slate-800/80 border-teal-500":"hover:bg-slate-800/70"}`})]})})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"md:hidden",children:o.jsx(ae,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white",onClick:()=>r("/discover"),children:o.jsx(ga,{className:"h-5 w-5"})})}),o.jsx(Et,{href:"/notifications",children:o.jsxs(ae,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white relative",children:[o.jsx(tc,{className:"h-5 w-5"}),p>0&&o.jsx($e,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs min-w-0",children:p>9?"9+":p})]})}),o.jsxs(NE,{children:[o.jsx(SE,{asChild:!0,children:o.jsx(ae,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:o.jsxs(no,{className:"h-10 w-10",children:[o.jsx(ro,{src:(t==null?void 0:t.profileImageUrl)||void 0,alt:(t==null?void 0:t.firstName)||"User"}),o.jsx(so,{className:"bg-gradient-to-br from-cyan-500 to-blue-500 text-white",children:((N=(x=t==null?void 0:t.firstName)==null?void 0:x[0])==null?void 0:N.toUpperCase())||((S=(k=t==null?void 0:t.email)==null?void 0:k[0])==null?void 0:S.toUpperCase())||"U"})]})})}),o.jsxs(vv,{className:"w-56 bg-slate-800 border-slate-700 mr-4 z-[10000]",align:"end",alignOffset:-8,sideOffset:8,forceMount:!0,style:{zIndex:1e4},children:[o.jsx(kE,{className:"font-normal",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none text-white",children:t!=null&&t.firstName&&(t!=null&&t.lastName)?`${t.firstName} ${t.lastName}`:(t==null?void 0:t.email)||"User"}),(t==null?void 0:t.email)&&o.jsx("p",{className:"text-xs leading-none text-gray-400",children:t.email})]})}),o.jsx(Hg,{className:"bg-slate-700"}),o.jsx(Js,{className:"text-gray-300 hover:text-white hover:bg-slate-700 cursor-pointer",children:o.jsxs(Et,{href:"/profile",className:"flex items-center w-full",children:[o.jsx(Kh,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]})}),o.jsx(Js,{className:"text-gray-300 hover:text-white hover:bg-slate-700 cursor-pointer",children:o.jsxs(Et,{href:"/pricing",className:"flex items-center w-full",children:[o.jsx(o3,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Upgrade to Premium"})]})}),o.jsx(Js,{className:"text-gray-300 hover:text-white hover:bg-slate-700 cursor-pointer",children:o.jsxs(Et,{href:"/settings",className:"flex items-center w-full",children:[o.jsx(Gh,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Settings"})]})}),o.jsx(Hg,{className:"bg-slate-700"}),o.jsxs(Js,{className:"text-gray-300 hover:text-white hover:bg-slate-700 cursor-pointer",onClick:async()=>{console.log(" MANUAL LOGOUT BUTTON CLICKED - Starting logout process..."),console.trace(" Stack trace for logout button click:");try{const{auth:w}=await ut(async()=>{const{auth:j}=await Promise.resolve().then(()=>tC);return{auth:j}},void 0);await O_(w),console.log(" Firebase client signout successful")}catch(w){console.error(" Firebase signout error:",w)}try{const w=await fetch("/api/auth/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});w.ok?console.log(" Backend session cleared successfully"):console.error(" Backend logout failed:",w.status)}catch(w){console.error(" Backend logout error:",w)}console.log(" Redirecting to home page..."),window.location.href="/"},children:[o.jsx(Dj,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Log out"})]})]})]})]})]})})}):o.jsx("header",{className:"nav-opaque border-b border-slate-800 sticky top-0 z-[60]",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs(Et,{href:"/",className:"flex items-center space-x-3",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-10 h-8 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:o.jsx("div",{className:"text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),o.jsxs("div",{className:"block",children:[o.jsxs("span",{className:"text-xl sm:text-2xl",children:[o.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent font-black",children:"Binge"}),o.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]}),o.jsx("div",{className:"text-xs text-teal-400 font-medium tracking-widest uppercase opacity-75 hidden sm:block",children:"Entertainment Hub"})]})]}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsx(Et,{href:"/login",children:o.jsx(ae,{className:"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white font-semibold px-6 py-2",children:"Log In"})})})]})})})}const Z8=Ke.memo(Q8),Qe=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ee("bg-gray-800 text-white shadow-md rounded-lg border border-gray-700",t),...e}));Qe.displayName="Card";const Ct=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ee("flex flex-col space-y-1.5 p-6",t),...e}));Ct.displayName="CardHeader";const It=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));It.displayName="CardTitle";const jE=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ee("text-sm text-gray-400",t),...e}));jE.displayName="CardDescription";const Ze=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ee("p-6 pt-0",t),...e}));Ze.displayName="CardContent";const X8=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ee("flex items-center p-6 pt-0",t),...e}));X8.displayName="CardFooter";function xv(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var lf="Switch",[J8]=dn(lf),[eU,tU]=J8(lf),_E=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:l,required:c,disabled:d,value:h="on",onCheckedChange:m,form:g,...p}=t,[x,N]=v.useState(null),k=Ye(e,C=>N(C)),S=v.useRef(!1),w=x?g||!!x.closest("form"):!0,[j,P]=fi({prop:i,defaultProp:l??!1,onChange:m,caller:lf});return o.jsxs(eU,{scope:n,checked:j,disabled:d,children:[o.jsx(Ae.button,{type:"button",role:"switch","aria-checked":j,"aria-required":c,"data-state":TE(j),"data-disabled":d?"":void 0,disabled:d,value:h,...p,ref:k,onClick:fe(t.onClick,C=>{P(T=>!T),w&&(S.current=C.isPropagationStopped(),S.current||C.stopPropagation())})}),w&&o.jsx(PE,{control:x,bubbles:!S.current,name:r,value:h,checked:j,required:c,disabled:d,form:g,style:{transform:"translateX(-100%)"}})]})});_E.displayName=lf;var CE="SwitchThumb",EE=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=tU(CE,n);return o.jsx(Ae.span,{"data-state":TE(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});EE.displayName=CE;var nU="SwitchBubbleInput",PE=v.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},l)=>{const c=v.useRef(null),d=Ye(c,l),h=xv(n),m=Mh(e);return v.useEffect(()=>{const g=c.current;if(!g)return;const p=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(p,"checked").set;if(h!==n&&N){const k=new Event("click",{bubbles:r});N.call(g,n),g.dispatchEvent(k)}},[h,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});PE.displayName=nU;function TE(t){return t?"checked":"unchecked"}var RE=_E,rU=EE;const En=v.forwardRef(({className:t,...e},n)=>o.jsx(RE,{className:Ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(rU,{className:Ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));En.displayName=RE.displayName;class sU{constructor(e){this.cache=new Map,this.gistId=null,this.baseUrl="https://api.github.com",this.githubToken=e}getHeaders(){return{Authorization:`token ${this.githubToken}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"}}async findOrCreateGist(){try{const e=await fetch(`${this.baseUrl}/gists`,{headers:this.getHeaders()});if(!e.ok)return console.error("Failed to fetch gists:",e.status),null;const r=(await e.json()).find(c=>c.description==="BingeBoard User Data"&&c.files["bingeboard-data.json"]);if(r)return this.gistId=r.id,console.log(" Found existing BingeBoard gist"),r.id;const i=await fetch(`${this.baseUrl}/gists`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({description:"BingeBoard User Data",public:!1,files:{"bingeboard-data.json":{content:JSON.stringify({})}}})});if(!i.ok)return console.error("Failed to create gist:",i.status),null;const l=await i.json();return this.gistId=l.id,console.log(" Created new BingeBoard gist"),l.id}catch(e){return console.error(" Error with gist operations:",e),null}}async getUserData(e){var n;try{if(this.cache.has(e))return this.cache.get(e);if(!this.gistId&&(this.gistId=await this.findOrCreateGist(),!this.gistId))return null;const r=await fetch(`${this.baseUrl}/gists/${this.gistId}`,{headers:this.getHeaders()});if(!r.ok)return console.error("Failed to fetch gist:",r.status),null;const l=(n=(await r.json()).files["bingeboard-data.json"])==null?void 0:n.content;if(!l)return console.log("No data file found in gist"),null;const d=JSON.parse(l)[e];return d&&(this.cache.set(e,d),console.log(" Loaded user data from GitHub")),d||null}catch(r){return console.error(" Error loading user data:",r),null}}async saveUserData(e){var n;try{if(!this.gistId&&(this.gistId=await this.findOrCreateGist(),!this.gistId))return!1;const r=await fetch(`${this.baseUrl}/gists/${this.gistId}`,{headers:this.getHeaders()});let i={};if(r.ok){const d=(n=(await r.json()).files["bingeboard-data.json"])==null?void 0:n.content;d&&(i=JSON.parse(d))}i[e.userId]=e;const l=await fetch(`${this.baseUrl}/gists/${this.gistId}`,{method:"PATCH",headers:this.getHeaders(),body:JSON.stringify({files:{"bingeboard-data.json":{content:JSON.stringify(i,null,2)}}})});return l.ok?(this.cache.set(e.userId,e),console.log(" Saved user data to GitHub"),!0):(console.error("Failed to update gist:",l.status),!1)}catch(r){return console.error(" Error saving user data:",r),!1}}clearCache(){this.cache.clear()}async deleteUserData(e){var n;try{if(!this.gistId&&(this.gistId=await this.findOrCreateGist(),!this.gistId))return!1;const r=await fetch(`${this.baseUrl}/gists/${this.gistId}`,{headers:this.getHeaders()});if(!r.ok)return!1;const l=(n=(await r.json()).files["bingeboard-data.json"])==null?void 0:n.content;if(!l)return!0;const c=JSON.parse(l);return delete c[e],(await fetch(`${this.baseUrl}/gists/${this.gistId}`,{method:"PATCH",headers:this.getHeaders(),body:JSON.stringify({files:{"bingeboard-data.json":{content:JSON.stringify(c,null,2)}}})})).ok?(this.cache.delete(e),console.log(" Deleted user data from GitHub"),!0):!1}catch(r){return console.error(" Error deleting user data:",r),!1}}}class iU{constructor(){this.githubService=null,this.currentUser=null}async initialize(e){try{return e?(this.githubService=new sU(e),console.log(" GitHub user data service initialized"),!0):(console.log(" No GitHub token provided, using localStorage fallback"),!0)}catch(n){return console.error(" Failed to initialize user data service:",n),!1}}async getCurrentUser(){const e=We.currentUser;return e?await this.getUserData(e.uid):(console.log(" No authenticated user"),null)}async getUserData(e){try{if(this.githubService){const r=await this.githubService.getUserData(e);if(r)return this.currentUser=r,r}const n=localStorage.getItem(`bingeboard-user-${e}`);if(n){const r=JSON.parse(n);return this.currentUser=r,console.log(" Loaded user data from localStorage"),r}return null}catch(n){return console.error(" Error loading user data:",n),null}}async createUserFromFirebase(e){const n={userId:e.uid,email:e.email||"",displayName:e.displayName||"User",createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString(),preferences:{favoriteGenres:[],watchingGoals:"",experience:"",notifications:!0,privacy:"private"},watchlists:{watching:[],completed:[],planToWatch:[],dropped:[]},stats:{showsWatched:0,moviesWatched:0,totalHours:0,favoriteGenres:[]},social:{friends:[],following:[],followers:[]}};return await this.saveUserData(n),this.currentUser=n,console.log(" Created new user profile"),n}async saveUserData(e){try{return e.lastUpdated=new Date().toISOString(),this.githubService&&await this.githubService.saveUserData(e)?(this.currentUser=e,localStorage.setItem(`bingeboard-user-${e.userId}`,JSON.stringify(e)),!0):(localStorage.setItem(`bingeboard-user-${e.userId}`,JSON.stringify(e)),this.currentUser=e,console.log(" Saved user data to localStorage"),!0)}catch(n){return console.error(" Error saving user data:",n),!1}}async updatePreferences(e){const n=We.currentUser;if(!n)return console.error(" No authenticated user"),!1;let r=await this.getUserData(n.uid);return r||(r=await this.createUserFromFirebase(n)),r.preferences={...r.preferences,...e},await this.saveUserData(r)}async addToWatchlist(e,n="planToWatch"){const r=We.currentUser;if(!r)return console.error(" No authenticated user"),!1;let i=await this.getUserData(r.uid);i||(i=await this.createUserFromFirebase(r));const l={...e,dateAdded:new Date().toISOString(),notes:"",rating:void 0};return i.watchlists[n].some(d=>d.id===e.id)?!0:(i.watchlists[n].push(l),await this.saveUserData(i))}getUserStats(){var e;return((e=this.currentUser)==null?void 0:e.stats)||null}getUserWatchlists(){var e;return((e=this.currentUser)==null?void 0:e.watchlists)||null}getUserPreferences(){var e;return((e=this.currentUser)==null?void 0:e.preferences)||null}clearCurrentUser(){this.currentUser=null,this.githubService&&this.githubService.clearCache()}}const Wg=new iU;function oU({isOpen:t,onComplete:e,userDisplayName:n,userData:r}){console.log(" PREMIUM ONBOARDING MODAL RENDERED",{isOpen:t,userDisplayName:n,userData:r==null?void 0:r.email});const[i,l]=v.useState(1),[c,d]=v.useState(!1),[h,m]=v.useState({userProfile:{firstName:(r==null?void 0:r.firstName)||"",lastName:(r==null?void 0:r.lastName)||"",email:(r==null?void 0:r.email)||"",phone:"",location:"",birthday:""},favoriteGenres:[],favoriteTeams:[],contentTypes:[],streamingPlatforms:[],viewingHabits:{preferredTime:"evening",bingeDuration:"2-3 hours",weeklyGoal:"5-10 hours"},privacy:"private",shareActivity:!1,findFriends:!1,allowRecommendations:!0,notifications:{newEpisodes:!0,friendActivity:!1,recommendations:!0,weeklyRecap:!1,trendingContent:!1},importHistory:!1,connectPlatforms:[],uploadedFiles:[],discoveryPreferences:{showRecommendations:!0,includePopular:!0,includeCriticsChoice:!1,includeHidden:!1},contentFilters:{hideAdult:!0,hideViolence:!1,maxRating:"R"},theme:"dark",selectedPlan:"free"}),g=["Action","Adventure","Animation","Comedy","Crime","Documentary","Drama","Family","Fantasy","History","Horror","Music","Mystery","Romance","Sci-Fi","Sports","Thriller","War","Western"],p=["TV Series","Movies","Documentaries","Anime","Reality TV","Talk Shows","News","Sports","Kids Content","International"],x=["Netflix","Disney+","HBO Max","Amazon Prime","Hulu","Apple TV+","Paramount+","Peacock","YouTube","Crunchyroll","Other"],N={NFL:["Arizona Cardinals","Atlanta Falcons","Baltimore Ravens","Buffalo Bills","Carolina Panthers","Chicago Bears","Cincinnati Bengals","Cleveland Browns","Dallas Cowboys","Denver Broncos","Detroit Lions","Green Bay Packers","Houston Texans","Indianapolis Colts","Jacksonville Jaguars","Kansas City Chiefs","Las Vegas Raiders","Los Angeles Chargers","Los Angeles Rams","Miami Dolphins","Minnesota Vikings","New England Patriots","New Orleans Saints","New York Giants","New York Jets","Philadelphia Eagles","Pittsburgh Steelers","San Francisco 49ers","Seattle Seahawks","Tampa Bay Buccaneers","Tennessee Titans","Washington Commanders"],NBA:["Atlanta Hawks","Boston Celtics","Brooklyn Nets","Charlotte Hornets","Chicago Bulls","Cleveland Cavaliers","Dallas Mavericks","Denver Nuggets","Detroit Pistons","Golden State Warriors","Houston Rockets","Indiana Pacers","Los Angeles Clippers","Los Angeles Lakers","Memphis Grizzlies","Miami Heat","Milwaukee Bucks","Minnesota Timberwolves","New Orleans Pelicans","New York Knicks","Oklahoma City Thunder","Orlando Magic","Philadelphia 76ers","Phoenix Suns","Portland Trail Blazers","Sacramento Kings","San Antonio Spurs","Toronto Raptors","Utah Jazz","Washington Wizards"],MLB:["Arizona Diamondbacks","Atlanta Braves","Baltimore Orioles","Boston Red Sox","Chicago Cubs","Chicago White Sox","Cincinnati Reds","Cleveland Guardians","Colorado Rockies","Detroit Tigers","Houston Astros","Kansas City Royals","Los Angeles Angels","Los Angeles Dodgers","Miami Marlins","Milwaukee Brewers","Minnesota Twins","New York Mets","New York Yankees","Oakland Athletics","Philadelphia Phillies","Pittsburgh Pirates","San Diego Padres","San Francisco Giants","Seattle Mariners","St. Louis Cardinals","Tampa Bay Rays","Texas Rangers","Toronto Blue Jays","Washington Nationals"],NHL:["Anaheim Ducks","Arizona Coyotes","Boston Bruins","Buffalo Sabres","Calgary Flames","Carolina Hurricanes","Chicago Blackhawks","Colorado Avalanche","Columbus Blue Jackets","Dallas Stars","Detroit Red Wings","Edmonton Oilers","Florida Panthers","Los Angeles Kings","Minnesota Wild","Montreal Canadiens","Nashville Predators","New Jersey Devils","New York Islanders","New York Rangers","Ottawa Senators","Philadelphia Flyers","Pittsburgh Penguins","San Jose Sharks","Seattle Kraken","St. Louis Blues","Tampa Bay Lightning","Toronto Maple Leafs","Vancouver Canucks","Vegas Golden Knights","Washington Capitals","Winnipeg Jets"]},k=[{value:"dark",name:"Dark Mode",description:"Easy on the eyes for late-night binges",icon:Dn,gradient:"bg-gradient-to-br from-slate-700 to-slate-900"},{value:"light",name:"Light Mode",description:"Clean and bright for daytime viewing",icon:Nt,gradient:"bg-gradient-to-br from-blue-400 to-cyan-400"},{value:"cinema",name:"Cinema Mode",description:"Immersive dark theme for the full movie experience",icon:St,gradient:"bg-gradient-to-br from-red-600 to-red-800"},{value:"neon",name:"Neon Nights",description:"Vibrant colors for a modern streaming experience",icon:ls,gradient:"bg-gradient-to-br from-purple-500 to-pink-500"}],S=()=>h.favoriteGenres.includes("Sports"),w=()=>S()?14:13,j=(E,A)=>{m(F=>({...F,[A]:F[A].includes(E)?F[A].filter(q=>q!==E):[...F[A],E]}))};if(v.useEffect(()=>{r?(console.log(" OnboardingModal: userData received:",r),m(E=>{const A={...E,userProfile:{...E.userProfile,firstName:r.firstName||E.userProfile.firstName,lastName:r.lastName||E.userProfile.lastName,email:r.email||E.userProfile.email}};return console.log(" OnboardingModal: Form data updated from:",E.userProfile,"to:",A.userProfile),A})):console.log(" OnboardingModal: No userData available for auto-population")},[r]),!t)return console.log(" Premium onboarding not showing because isOpen is:",t),null;const P=()=>{switch(i){case 1:return o.jsx("div",{className:"text-center",children:o.jsxs("div",{className:"relative mx-auto space-y-8",children:[o.jsxs("div",{className:"relative mx-auto mb-6",children:[o.jsx("div",{className:"absolute inset-0 w-20 h-20 bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 rounded-full blur-xl opacity-30 animate-pulse"}),o.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl flex items-center justify-center shadow-2xl border border-slate-600",children:o.jsxs("div",{className:"w-12 h-10 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-sm flex items-center justify-center",children:o.jsx("div",{className:"text-lg font-black text-white tracking-tight",children:"B"})}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-white/20 to-transparent rounded-sm"})]})})]}),o.jsxs("div",{className:"space-y-6 relative z-10",children:[o.jsxs("h1",{className:"text-5xl font-bold text-white leading-tight",children:["Welcome to"," ",o.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"BingeBoard"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("p",{className:"text-2xl text-gray-200 font-medium",children:["Hi ",n,"!"]}),o.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Let's customize your entertainment experience and get you started."})]})]})]})});case 2:return console.log(" Step 2 rendering with formData.userProfile:",h.userProfile,"and userData:",r),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(Kh,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Tell us about yourself "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Help us personalize your BingeBoard experience"}),r&&o.jsx("div",{className:"text-center",children:o.jsxs($e,{variant:"secondary",className:"text-sm px-3 py-1",children:[r.provider==="google"?" Google Account":r.provider==="facebook"?" Facebook Account":" Email Account"," - Some fields pre-filled"]})})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Ct,{children:o.jsx(It,{className:"text-xl text-white",children:"Profile Information"})}),o.jsxs(Ze,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-white",children:"First Name *"}),o.jsx("input",{type:"text",value:h.userProfile.firstName,onChange:E=>m(A=>({...A,userProfile:{...A.userProfile,firstName:E.target.value}})),className:`w-full px-4 py-3 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.userProfile.firstName?"bg-blue-500/10 border-blue-500/40":"bg-slate-800/50 border-slate-600"}`,placeholder:"Enter your first name"}),h.userProfile.firstName&&o.jsx("p",{className:"text-xs text-blue-400",children:" Auto-filled from your account"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-white",children:"Last Name *"}),o.jsx("input",{type:"text",value:h.userProfile.lastName,onChange:E=>m(A=>({...A,userProfile:{...A.userProfile,lastName:E.target.value}})),className:`w-full px-4 py-3 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.userProfile.lastName?"bg-blue-500/10 border-blue-500/40":"bg-slate-800/50 border-slate-600"}`,placeholder:"Enter your last name"}),h.userProfile.lastName&&o.jsx("p",{className:"text-xs text-blue-400",children:" Auto-filled from your account"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-white flex items-center gap-2",children:[o.jsx(Zd,{className:"h-4 w-4"}),"Email Address *"]}),o.jsx("input",{type:"email",value:h.userProfile.email,onChange:E=>m(A=>({...A,userProfile:{...A.userProfile,email:E.target.value}})),className:`w-full px-4 py-3 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.userProfile.email?"bg-blue-500/10 border-blue-500/40":"bg-slate-800/50 border-slate-600"}`,placeholder:"Enter your email address"}),h.userProfile.email&&o.jsx("p",{className:"text-xs text-blue-400",children:" Auto-filled from your account"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-white flex items-center gap-2",children:[o.jsx(x3,{className:"h-4 w-4"}),"Mobile Phone *"]}),o.jsx("input",{type:"tel",value:h.userProfile.phone,onChange:E=>m(A=>({...A,userProfile:{...A.userProfile,phone:E.target.value}})),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your mobile phone number"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Required for password recovery via SMS"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-white flex items-center gap-2",children:[o.jsx(JM,{className:"h-4 w-4"}),"Birthday *"]}),o.jsx("input",{type:"date",value:h.userProfile.birthday,onChange:E=>m(A=>({...A,userProfile:{...A.userProfile,birthday:E.target.value}})),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Helps us recommend age-appropriate content"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-white flex items-center gap-2",children:[o.jsx(m3,{className:"h-4 w-4"}),"Location (Optional)"]}),o.jsx("input",{type:"text",value:h.userProfile.location,onChange:E=>m(A=>({...A,userProfile:{...A.userProfile,location:E.target.value}})),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"City, State/Country"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Helps us show local content and streaming availability"})]}),o.jsx("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:o.jsxs("p",{className:"text-sm text-blue-300",children:[o.jsx(pa,{className:"h-4 w-4 inline mr-2"}),"Your information is secure and will only be used to personalize your experience and provide better recommendations."]})})]})]})]});case 3:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(ns,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"What genres do you love?"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Select your favorite genres (choose at least 3)"})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Ct,{className:"text-center pb-4",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:" Scroll to explore all genres "})}),o.jsxs(Ze,{children:[o.jsx("div",{className:"max-h-80 overflow-y-auto scroll-container pr-2",children:o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(E=>o.jsx(ae,{variant:h.favoriteGenres.includes(E)?"default":"outline",onClick:()=>j(E,"favoriteGenres"),className:`h-14 text-base font-medium transition-all duration-300 ${h.favoriteGenres.includes(E)?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg":"glass-effect hover:bg-white/10 hover:border-teal-400/40"}`,children:E},E))})}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs($e,{variant:"secondary",className:"text-sm px-4 py-2",children:["Selected: ",h.favoriteGenres.length," / ",g.length," genres"]})})]})]})]});case 4:return S()?o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(d3,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Choose Your Sports Teams! "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Select your favorite teams to get sports content recommendations"})]}),o.jsxs("div",{className:"space-y-6",children:[Object.entries(N).map(([E,A])=>o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Ct,{children:o.jsx(It,{className:"text-xl text-white",children:E})}),o.jsx(Ze,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 max-h-64 overflow-y-auto",children:A.map(F=>o.jsx(ae,{variant:h.favoriteTeams.includes(F)?"default":"outline",onClick:()=>j(F,"favoriteTeams"),className:`h-12 text-sm font-medium transition-all duration-300 ${h.favoriteTeams.includes(F)?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg":"glass-effect hover:bg-white/10 hover:border-green-400/40"}`,children:F},F))})})]},E)),o.jsx("div",{className:"text-center",children:o.jsxs($e,{variant:"secondary",className:"text-sm px-4 py-2",children:["Selected: ",h.favoriteTeams.length," teams"]})})]})]}):null;case 5:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(St,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Which platforms do you use? "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Select your streaming services"})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(E=>o.jsx(ae,{variant:h.streamingPlatforms.includes(E)?"default":"outline",onClick:()=>j(E,"streamingPlatforms"),className:`h-16 text-base font-medium transition-all duration-300 ${h.streamingPlatforms.includes(E)?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg":"glass-effect hover:bg-white/10 hover:border-blue-400/40"}`,children:E},E))})]});case 6:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-pink-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(Rr,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"What type of content do you love? "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Select all that you enjoy watching"})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:p.map(E=>o.jsx(ae,{variant:h.contentTypes.includes(E)?"default":"outline",onClick:()=>j(E,"contentTypes"),className:`h-16 text-base font-medium transition-all duration-300 ${h.contentTypes.includes(E)?"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-lg scale-105":"glass-effect hover:bg-white/10 hover:border-red-400/40 hover:scale-105"}`,children:E},E))}),o.jsx("div",{className:"text-center",children:o.jsxs($e,{variant:"secondary",className:"text-sm px-4 py-2",children:["Selected: ",h.contentTypes.length," content types"]})})]});case 7:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(tc,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Notification Preferences "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Choose what you'd like to be notified about"})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Ct,{children:o.jsx(It,{className:"text-xl text-white",children:"Notification Settings"})}),o.jsx(Ze,{className:"space-y-6",children:[{key:"newEpisodes",label:"New episodes available",desc:"When shows you're watching release new episodes",icon:St},{key:"friendActivity",label:"Friend activity",desc:"When friends finish shows or add new ones",icon:Mn},{key:"recommendations",label:"Personalized recommendations",desc:"Show and movie suggestions tailored for you",icon:Pg},{key:"weeklyRecap",label:"Weekly recap",desc:"Summary of your watching activity each week",icon:_c},{key:"trendingContent",label:"Trending content",desc:"Popular shows and movies everyone's talking about",icon:kr}].map(E=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(E.icon,{className:"h-5 w-5 text-orange-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:E.label}),o.jsx("p",{className:"text-sm text-muted-foreground",children:E.desc})]})]}),o.jsx(En,{checked:h.notifications[E.key],onCheckedChange:A=>m(F=>({...F,notifications:{...F.notifications,[E.key]:A}}))})]},E.key))})]})]});case 8:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(Zb,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Import Your Viewing History "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Upload your watch history files or connect your streaming accounts"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Ct,{children:o.jsx(It,{className:"text-xl text-white",children:"Import Options"})}),o.jsx(Ze,{className:"space-y-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Zb,{className:"h-5 w-5 text-blue-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Import my viewing history"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload files or connect streaming accounts"})]})]}),o.jsx(En,{checked:h.importHistory,onCheckedChange:E=>m(A=>({...A,importHistory:E}))})]})})]}),h.importHistory&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsxs(Ct,{children:[o.jsxs(It,{className:"text-lg text-white flex items-center gap-2",children:[o.jsx(Jb,{className:"h-5 w-5"}),"Upload History Files"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload CSV or JSON files from your streaming platforms"})]}),o.jsxs(Ze,{className:"space-y-4",children:[o.jsx("div",{className:"border-2 border-dashed border-slate-600 rounded-lg p-8 text-center hover:border-blue-400 transition-colors duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(Jb,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"Drop your files here or click to browse"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Supports: CSV, JSON, TXT files (max 10MB each)"})]}),o.jsx(ae,{variant:"outline",className:"bg-transparent border-blue-400 text-blue-400 hover:bg-blue-400/10",children:"Choose Files"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-center",children:[o.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[o.jsx("div",{className:"text-blue-400 font-medium",children:"CSV"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Comma-separated"})]}),o.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[o.jsx("div",{className:"text-purple-400 font-medium",children:"JSON"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Data export"})]}),o.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[o.jsx("div",{className:"text-green-400 font-medium",children:"TXT"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Plain text lists"})]})]})]})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsxs(Ct,{children:[o.jsxs(It,{className:"text-lg text-white flex items-center gap-2",children:[o.jsx(Dn,{className:"h-5 w-5"}),"How to Export from Popular Platforms"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Step-by-step guides for exporting your viewing history"})]}),o.jsx(Ze,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-8 h-8 bg-red-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"N"})}),o.jsx("h4",{className:"text-white font-semibold",children:"Netflix"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[o.jsxs("p",{children:["1. Go to ",o.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"netflix.com/account"})]}),o.jsx("p",{children:'2. Scroll to "Profile & Parental Controls"'}),o.jsx("p",{children:'3. Click "Download your information"'}),o.jsx("p",{children:'4. Select "Viewing Activity" and download CSV'}),o.jsxs("div",{className:"mt-2 p-2 bg-red-500/10 border border-red-500/20 rounded text-red-300 text-xs",children:[o.jsx("strong",{children:"Format:"})," CSV with titles, dates, and duration"]})]})]}),o.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"D+"})}),o.jsx("h4",{className:"text-white font-semibold",children:"Disney+"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[o.jsxs("p",{children:["1. Visit ",o.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"disneyplus.com/account"})]}),o.jsx("p",{children:'2. Go to "Privacy Settings"'}),o.jsx("p",{children:'3. Click "Download My Data"'}),o.jsx("p",{children:"4. Request viewing history export (JSON format)"}),o.jsxs("div",{className:"mt-2 p-2 bg-blue-500/10 border border-blue-500/20 rounded text-blue-300 text-xs",children:[o.jsx("strong",{children:"Note:"})," May take 24-48 hours to receive download link"]})]})]}),o.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-8 h-8 bg-orange-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"P"})}),o.jsx("h4",{className:"text-white font-semibold",children:"Amazon Prime Video"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[o.jsxs("p",{children:["1. Go to ",o.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"amazon.com/gp/privacyprefs"})]}),o.jsx("p",{children:'2. Click "Request My Data"'}),o.jsx("p",{children:'3. Select "Prime Video Watch History"'}),o.jsx("p",{children:"4. Choose CSV format and submit request"}),o.jsxs("div",{className:"mt-2 p-2 bg-orange-500/10 border border-orange-500/20 rounded text-orange-300 text-xs",children:[o.jsx("strong",{children:"Processing:"})," Usually takes 1-2 business days"]})]})]}),o.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"H"})}),o.jsx("h4",{className:"text-white font-semibold",children:"HBO Max"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[o.jsxs("p",{children:["1. Visit ",o.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"hbomax.com/account"})]}),o.jsx("p",{children:'2. Go to "Privacy" section'}),o.jsx("p",{children:'3. Click "Download Your Information"'}),o.jsx("p",{children:"4. Select viewing history and download JSON"}),o.jsxs("div",{className:"mt-2 p-2 bg-purple-500/10 border border-purple-500/20 rounded text-purple-300 text-xs",children:[o.jsx("strong",{children:"Alternative:"})," Use browser history or manually create list"]})]})]}),o.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-8 h-8 bg-green-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"H"})}),o.jsx("h4",{className:"text-white font-semibold",children:"Hulu"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[o.jsxs("p",{children:["1. Go to ",o.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"hulu.com/account"})]}),o.jsx("p",{children:'2. Click "Manage Your Data"'}),o.jsx("p",{children:'3. Request "Viewing History Export"'}),o.jsx("p",{children:"4. Download CSV file when ready"}),o.jsxs("div",{className:"mt-2 p-2 bg-green-500/10 border border-green-500/20 rounded text-green-300 text-xs",children:[o.jsx("strong",{children:"Tip:"}),' Also check "Keep Watching" section for recent items']})]})]}),o.jsxs("div",{className:"border border-slate-700/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"TV"})}),o.jsx("h4",{className:"text-white font-semibold",children:"Apple TV+"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[o.jsxs("p",{children:["1. Visit ",o.jsx("code",{className:"bg-slate-800 px-1 rounded",children:"privacy.apple.com"})]}),o.jsx("p",{children:'2. Sign in and click "Request a copy of your data"'}),o.jsx("p",{children:'3. Select "Apple TV & Apple Music"'}),o.jsx("p",{children:"4. Download when processing is complete"}),o.jsxs("div",{className:"mt-2 p-2 bg-gray-500/10 border border-gray-500/20 rounded text-gray-300 text-xs",children:[o.jsx("strong",{children:"Format:"})," JSON file with detailed viewing data"]})]})]})]})})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsxs(Ct,{children:[o.jsxs(It,{className:"text-lg text-white flex items-center gap-2",children:[o.jsx(g3,{className:"h-5 w-5"}),"Manual Entry"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Can't export? Tell us your favorite shows and we'll help you get started"})]}),o.jsx(Ze,{children:o.jsxs(ae,{variant:"outline",className:"w-full h-12 border-dashed border-gray-500 text-gray-300 hover:bg-white/5",onClick:()=>{console.log("Open manual entry modal")},children:[o.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Add Shows & Movies Manually"]})})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsxs(Ct,{children:[o.jsxs(It,{className:"text-lg text-white flex items-center gap-2",children:[o.jsx(h3,{className:"h-5 w-5"}),"Connect Accounts",o.jsx($e,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white text-xs",children:"Premium"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct platform integration for automatic sync"})]}),o.jsxs(Ze,{children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:x.slice(0,6).map(E=>o.jsxs(ae,{variant:"outline",disabled:!0,className:"h-12 opacity-50 cursor-not-allowed relative",children:[E,o.jsx(Nt,{className:"h-3 w-3 text-yellow-400 absolute top-1 right-1"})]},E))}),o.jsx("div",{className:"mt-4 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-300",children:[" ",o.jsx("strong",{children:"Coming Soon:"})," Direct account connections for automatic history sync. For now, please use the file upload method above."]})})]})]})]})]})]});case 9:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(Dn,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Content Discovery "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Customize how you discover new content"})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Ct,{children:o.jsx(It,{className:"text-xl text-white",children:"Discovery Preferences"})}),o.jsxs(Ze,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Pg,{className:"h-5 w-5 text-green-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Show personalized recommendations"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Content suggestions based on your preferences"})]})]}),o.jsx(En,{checked:h.discoveryPreferences.showRecommendations,onCheckedChange:E=>m(A=>({...A,discoveryPreferences:{...A.discoveryPreferences,showRecommendations:E}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(kr,{className:"h-5 w-5 text-green-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Include popular content"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Show trending and most-watched content"})]})]}),o.jsx(En,{checked:h.discoveryPreferences.includePopular,onCheckedChange:E=>m(A=>({...A,discoveryPreferences:{...A.discoveryPreferences,includePopular:E}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Gy,{className:"h-5 w-5 text-green-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Include critics' choice"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Show critically acclaimed content"})]})]}),o.jsx(En,{checked:h.discoveryPreferences.includeCriticsChoice,onCheckedChange:E=>m(A=>({...A,discoveryPreferences:{...A.discoveryPreferences,includeCriticsChoice:E}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ns,{className:"h-5 w-5 text-green-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Include hidden gems"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Discover lesser-known quality content"})]})]}),o.jsx(En,{checked:h.discoveryPreferences.includeHidden,onCheckedChange:E=>m(A=>({...A,discoveryPreferences:{...A.discoveryPreferences,includeHidden:E}}))})]})]})]})]});case 10:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-emerald-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(Mn,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Social & Privacy "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Control how you interact with others on BingeBoard"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Ct,{children:o.jsx(It,{className:"text-xl text-white",children:"Profile Visibility"})}),o.jsx(Ze,{className:"space-y-4",children:[{value:"public",label:"Public",desc:"Anyone can see my activity",icon:Wh},{value:"friends",label:"Friends only",desc:"Only friends can see my activity",icon:Mn},{value:"private",label:"Private",desc:"Keep my activity to myself",icon:pa}].map(E=>o.jsxs(ae,{variant:h.privacy===E.value?"default":"outline",onClick:()=>m(A=>({...A,privacy:E.value})),className:`w-full h-16 justify-start text-left transition-all duration-300 ${h.privacy===E.value?"bg-gradient-to-r from-teal-500 to-emerald-500 text-white shadow-lg":"glass-effect hover:bg-white/10"}`,children:[o.jsx(E.icon,{className:"h-5 w-5 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:E.label}),o.jsx("div",{className:"text-sm opacity-80",children:E.desc})]})]},E.value))})]}),o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Ct,{children:o.jsx(It,{className:"text-xl text-white",children:"Social Features"})}),o.jsxs(Ze,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Fj,{className:"h-5 w-5 text-teal-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Share my watching activity"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Let friends see what you're watching"})]})]}),o.jsx(En,{checked:h.shareActivity,onCheckedChange:E=>m(A=>({...A,shareActivity:E}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ky,{className:"h-5 w-5 text-teal-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Find friends with similar tastes"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get friend suggestions based on preferences"})]})]}),o.jsx(En,{checked:h.findFriends,onCheckedChange:E=>m(A=>({...A,findFriends:E}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(kr,{className:"h-5 w-5 text-teal-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Allow personalized recommendations"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Use my data to suggest better content"})]})]}),o.jsx(En,{checked:h.allowRecommendations,onCheckedChange:E=>m(A=>({...A,allowRecommendations:E}))})]})]})]})]})]});case 11:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-500 to-purple-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(Xb,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Choose Your Theme "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Select a theme that matches your style"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.map(E=>o.jsx(Qe,{className:`cursor-pointer transition-all duration-300 ${h.theme===E.value?"ring-2 ring-violet-500 bg-gradient-to-br from-violet-500/20 to-purple-500/20":"glass-effect hover:bg-white/10"}`,onClick:()=>m(A=>({...A,theme:E.value})),children:o.jsxs(Ze,{className:"p-6 text-center space-y-4",children:[o.jsx("div",{className:`w-16 h-16 rounded-xl flex items-center justify-center mx-auto ${E.gradient}`,children:o.jsx(E.icon,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:E.name}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:E.description})]})]})},E.value))}),o.jsx("div",{className:"text-center",children:o.jsx(Qe,{className:"glass-effect border-yellow-500/30 bg-gradient-to-r from-yellow-500/10 to-orange-500/10",children:o.jsx(Ze,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(Nt,{className:"h-4 w-4 text-yellow-400"}),o.jsx("span",{className:"text-yellow-300 text-sm font-medium",children:"Premium includes 12+ additional themes and a custom theme builder"})]})})})})]});case 12:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-500 to-indigo-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(Sr,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Content Filters "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Customize your content preferences and safety settings"})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsx(Ct,{children:o.jsx(It,{className:"text-xl text-white",children:"Content Safety"})}),o.jsxs(Ze,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Sr,{className:"h-5 w-5 text-violet-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Hide adult content"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Filter out mature content from recommendations"})]})]}),o.jsx(En,{checked:h.contentFilters.hideAdult,onCheckedChange:E=>m(A=>({...A,contentFilters:{...A.contentFilters,hideAdult:E}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Sr,{className:"h-5 w-5 text-violet-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Hide violent content"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduce violent content in recommendations"})]})]}),o.jsx(En,{checked:h.contentFilters.hideViolence,onCheckedChange:E=>m(A=>({...A,contentFilters:{...A.contentFilters,hideViolence:E}}))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-white font-medium",children:"Maximum content rating"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Set the highest content rating you want to see"}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:["G","PG","PG-13","R","NC-17"].map(E=>o.jsx(ae,{variant:h.contentFilters.maxRating===E?"default":"outline",onClick:()=>m(A=>({...A,contentFilters:{...A.contentFilters,maxRating:E}})),className:`h-10 transition-all duration-300 ${h.contentFilters.maxRating===E?"bg-gradient-to-r from-violet-500 to-indigo-500 text-white":"glass-effect hover:bg-white/10"}`,children:E},E))}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[o.jsx("strong",{children:"G:"})," General audiences  ",o.jsx("strong",{children:"PG:"})," Parental guidance  ",o.jsx("strong",{children:"PG-13:"})," Parents strongly cautioned  ",o.jsx("strong",{children:"R:"})," Restricted  ",o.jsx("strong",{children:"NC-17:"})," Adults only"]})]})]})]})})]});case 13:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center mx-auto",children:o.jsx(Nt,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Unlock Premium Features "}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Get the most out of your BingeBoard experience"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(Qe,{className:"glass-effect border-slate-700/50",children:[o.jsxs(Ct,{children:[o.jsxs(It,{className:"text-xl text-white flex items-center gap-2",children:[o.jsx(qd,{className:"h-5 w-5 text-green-400"}),"Free Plan"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Perfect for getting started"})]}),o.jsxs(Ze,{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:["Basic recommendations","Track up to 50 shows/movies","Standard themes (4 options)","Basic notifications","Public profile sharing","Manual viewing history import"].map((E,A)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Hh,{className:"h-4 w-4 text-green-400"}),o.jsx("span",{className:"text-gray-300 text-sm",children:E})]},A))}),o.jsx(ae,{variant:"outline",className:"w-full mt-6 border-gray-600 text-gray-300",onClick:()=>m(E=>({...E,selectedPlan:"free"})),children:"Continue with Free"})]})]}),o.jsxs(Qe,{className:"glass-effect border-yellow-500/50 bg-gradient-to-br from-yellow-500/10 to-orange-500/10",children:[o.jsxs(Ct,{children:[o.jsxs(It,{className:"text-xl text-white flex items-center gap-2",children:[o.jsx(Nt,{className:"h-5 w-5 text-yellow-400"}),"Premium Plan",o.jsx($e,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white ml-2",children:"Recommended"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Everything you need for the ultimate experience"})]}),o.jsxs(Ze,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsxs("div",{className:"text-3xl font-bold text-white",children:["$4.99",o.jsx("span",{className:"text-lg text-gray-400",children:"/month"})]}),o.jsx("p",{className:"text-sm text-yellow-400",children:"First month free!"})]}),o.jsx("div",{className:"space-y-3",children:["AI-powered recommendations","Unlimited show/movie tracking","Premium themes + custom theme builder","Advanced notifications & insights","Private groups & watch parties","Automatic platform sync","Detailed viewing analytics","Priority customer support","Early access to new features"].map((E,A)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Nt,{className:"h-4 w-4 text-yellow-400"}),o.jsx("span",{className:"text-white text-sm font-medium",children:E})]},A))}),o.jsx(ae,{className:"w-full mt-6 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-semibold",onClick:()=>m(E=>({...E,selectedPlan:"premium"})),children:"Start Free Trial"}),o.jsx("p",{className:"text-xs text-center text-gray-400 mt-2",children:"Cancel anytime. No commitment."})]})]})]}),o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-400",children:"You can always upgrade later from your account settings"})})]});case 14:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-6",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto shadow-2xl",children:o.jsx(qd,{className:"h-10 w-10 text-white"})}),o.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-green-400 to-emerald-400 bg-clip-text text-transparent",children:"Welcome to BingeBoard! "}),o.jsxs("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:["Hi ",n,"! Let's customize your entertainment experience and get you started."]})]}),o.jsx(Qe,{className:"glass-effect border-green-500/20 p-8",children:o.jsxs(Ze,{className:"space-y-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-white text-center mb-6",children:"Your Profile Summary"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ns,{className:"h-5 w-5 text-teal-400"}),o.jsx("span",{className:"text-white font-medium",children:"Favorite Genres:"}),o.jsxs($e,{variant:"secondary",children:[h.favoriteGenres.length," selected"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ls,{className:"h-5 w-5 text-purple-400"}),o.jsx("span",{className:"text-white font-medium",children:"Content Types:"}),o.jsxs($e,{variant:"secondary",children:[h.contentTypes.length," selected"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(St,{className:"h-5 w-5 text-blue-400"}),o.jsx("span",{className:"text-white font-medium",children:"Platforms:"}),o.jsxs($e,{variant:"secondary",children:[h.streamingPlatforms.length," selected"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(li,{className:"h-5 w-5 text-indigo-400"}),o.jsx("span",{className:"text-white font-medium",children:"Viewing Time:"}),o.jsx($e,{variant:"secondary",className:"capitalize",children:h.viewingHabits.preferredTime})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Mn,{className:"h-5 w-5 text-teal-400"}),o.jsx("span",{className:"text-white font-medium",children:"Privacy:"}),o.jsx($e,{variant:"secondary",className:"capitalize",children:h.privacy})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Xb,{className:"h-5 w-5 text-violet-400"}),o.jsx("span",{className:"text-white font-medium",children:"Theme:"}),o.jsx($e,{variant:"secondary",className:"capitalize",children:h.theme})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(tc,{className:"h-5 w-5 text-orange-400"}),o.jsx("span",{className:"text-white font-medium",children:"Notifications:"}),o.jsx($e,{variant:"secondary",children:"Configured"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Gh,{className:"h-5 w-5 text-violet-400"}),o.jsx("span",{className:"text-white font-medium",children:"Preferences:"}),o.jsx($e,{variant:"secondary",children:"Customized"})]})]})]}),o.jsx("div",{className:"mt-8 p-6 bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-xl",children:o.jsxs("div",{className:"text-center space-y-3",children:[o.jsx("h4",{className:"text-lg font-semibold text-white",children:"You're all set!"}),o.jsx("p",{className:"text-green-300",children:"Your personalized BingeBoard experience is ready. Start discovering, tracking, and enjoying your favorite content!"})]})})]})}),o.jsx("div",{className:"text-center space-y-6",children:o.jsx(ae,{onClick:I,disabled:c,className:"bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 hover:from-green-700 hover:via-emerald-700 hover:to-teal-700 text-white px-12 py-6 text-xl font-semibold rounded-xl shadow-2xl transition-all duration-300 hover:scale-105",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin mr-3"}),"Completing Setup..."]}):o.jsx(o.Fragment,{children:"Complete Setup & Enter BingeBoard "})})})]});default:return null}},C=i/w()*100,T=()=>{if(i<w()){let E=i+1;E===4&&!S()&&(console.log(" Skipping Sports Teams step (4) because Sports genre not selected"),E=5),console.log(` Navigation: Step ${i}  Step ${E}`),l(E)}},R=()=>{if(i>1){let E=i-1;E===4&&!S()&&(console.log(" Skipping Sports Teams step (4) in reverse because Sports genre not selected"),E=3),console.log(` Navigation: Step ${i}  Step ${E}`),l(E)}},O=()=>{i<w()&&l(i+1)},I=async()=>{d(!0);try{console.log(" ONBOARDING COMPLETED! Here's what we collected:"),console.log(" Complete Form Data:",{userProfile:h.userProfile,favoriteGenres:h.favoriteGenres,favoriteTeams:h.favoriteTeams,streamingPlatforms:h.streamingPlatforms,contentTypes:h.contentTypes,notifications:h.notifications,importHistory:h.importHistory,discoveryPreferences:h.discoveryPreferences,privacy:h.privacy,shareActivity:h.shareActivity,findFriends:h.findFriends,allowRecommendations:h.allowRecommendations,theme:h.theme,selectedPlan:h.selectedPlan,contentFilters:h.contentFilters}),console.log(" Summary:"),console.log(` User: ${h.userProfile.firstName} ${h.userProfile.lastName}`),console.log(` Email: ${h.userProfile.email}`),console.log(` Favorite Genres: ${h.favoriteGenres.join(", ")}`),console.log(` Streaming Platforms: ${h.streamingPlatforms.join(", ")}`),console.log(` Sports Teams: ${h.favoriteTeams.join(", ")}`),console.log(` Theme: ${h.theme}`),console.log(` Plan: ${h.selectedPlan}`),console.log(" Saving onboarding data to database...");const E=await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({firstName:h.userProfile.firstName,lastName:h.userProfile.lastName,phoneNumber:h.userProfile.phone,location:h.userProfile.location,birthday:h.userProfile.birthday})});E.ok?console.log(" Profile saved successfully"):console.error("Failed to save profile:",await E.text());const A=await fetch("/api/user/preferences",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({preferredGenres:h.favoriteGenres,preferredNetworks:h.streamingPlatforms,contentRating:h.contentFilters.maxRating,languagePreferences:["English"],aiPersonality:"balanced",notificationFrequency:"weekly",favoriteSports:h.favoriteTeams.length>0?["Sports"]:[],favoriteTeams:h.favoriteTeams,sportsNotifications:h.notifications.trendingContent,watchingHabits:JSON.stringify({theme:h.theme,privacy:h.privacy,preferredTime:h.viewingHabits.preferredTime,bingeDuration:h.viewingHabits.bingeDuration,weeklyGoal:h.viewingHabits.weeklyGoal})})});A.ok?console.log(" Preferences saved successfully"):console.error("Failed to save preferences:",await A.text());const F=await fetch("/api/notifications/preferences",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({newEpisodes:h.notifications.newEpisodes,friendActivity:h.notifications.friendActivity,recommendations:h.notifications.recommendations,weeklyRecap:h.notifications.weeklyRecap,trendingContent:h.notifications.trendingContent})});F.ok?console.log(" Notifications saved successfully"):console.error("Failed to save notifications:",await F.text());const q=await fetch("/api/user/onboarding/complete",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({onboardingData:{profile:h.userProfile,preferences:{genres:h.favoriteGenres,platforms:h.streamingPlatforms,teams:h.favoriteTeams,contentTypes:h.contentTypes,theme:h.theme,plan:h.selectedPlan},settings:{notifications:h.notifications,privacy:h.privacy,discoveryPreferences:h.discoveryPreferences,contentFilters:h.contentFilters}}})});q.ok?console.log(" Onboarding marked as complete"):console.error("Failed to complete onboarding:",await q.text()),console.log(" All onboarding data saved successfully to the database!"),setTimeout(()=>{d(!1),e()},1e3)}catch(E){console.error(" Error saving onboarding data:",E),d(!1),e()}console.log(` Email: ${h.userProfile.email}`),console.log(` Phone: ${h.userProfile.phone}`),console.log(` Genres: ${h.favoriteGenres.join(", ")}`),console.log(` Sports Teams: ${h.favoriteTeams.join(", ")}`),console.log(` Platforms: ${h.streamingPlatforms.join(", ")}`),console.log(` Content Types: ${h.contentTypes.join(", ")}`),console.log(` Privacy: ${h.privacy}`),console.log(` Theme: ${h.theme}`),console.log(` Plan: ${h.selectedPlan}`);try{await Wg.updatePreferences({favoriteGenres:h.favoriteGenres,watchingGoals:"entertainment",experience:"casual"}),console.log(" Onboarding data saved to user manager successfully"),(await fetch("/api/user/preferences/sync-onboarding",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({onboardingData:{favoriteGenres:h.favoriteGenres,streamingPlatforms:h.streamingPlatforms,contentTypes:h.contentTypes,favoriteTeams:h.favoriteTeams,viewingHabits:{preferredTime:"evening",bingeDuration:"2-3 hours",weeklyGoal:"5-10 hours"},theme:h.theme,userProfile:h.userProfile,privacy:h.privacy}})})).ok?console.log(" Onboarding data synced to server successfully"):console.warn(" Failed to sync onboarding data to server, but continuing"),setTimeout(()=>{e()},1e3)}catch(E){console.error(" Error saving onboarding data:",E),e()}finally{d(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-xl z-50 flex items-center justify-center p-6",children:o.jsxs("div",{className:"w-full max-w-4xl max-h-[95vh] bg-slate-900/95 backdrop-blur-xl border border-slate-700/50 rounded-2xl shadow-2xl flex flex-col",children:[o.jsx("div",{className:"flex-shrink-0 p-4 border-b border-slate-700/50 bg-gradient-to-r from-slate-900/80 to-slate-800/80 rounded-t-2xl",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold text-white",children:"Welcome to BingeBoard"}),o.jsxs("p",{className:"text-xs text-gray-400",children:["Hi ",n,"! Let's customize your entertainment experience and get you started."]})]}),o.jsx(ae,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-400 hover:text-white hover:bg-slate-800/50 rounded-lg p-1.5",title:"Close onboarding",children:o.jsx(Dr,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[o.jsxs("span",{children:["Step ",i," of ",w()]}),o.jsxs("span",{children:[Math.round(C),"% complete"]})]}),o.jsx("div",{className:"w-full bg-slate-800 rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 via-cyan-500 to-blue-500 transition-all duration-500 ease-out",style:{width:`${C}%`}})})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:P()}),o.jsx("div",{className:"flex-shrink-0 p-4 border-t border-slate-700/50 bg-slate-900/50",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(ae,{variant:"outline",onClick:R,disabled:i===1,className:"border-slate-600 text-gray-300 hover:bg-slate-700/50 px-6 py-3 rounded-xl transition-all duration-300 disabled:opacity-50",children:[o.jsx(ZM,{className:"h-4 w-4 mr-2"}),"Previous"]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[i>=5&&i<=10&&o.jsx(ae,{variant:"ghost",onClick:O,className:"text-gray-400 hover:text-white px-4 py-3",children:"Skip"}),i<w()?o.jsxs(ae,{onClick:T,className:"bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 hover:from-teal-700 hover:via-cyan-700 hover:to-blue-700 text-white px-8 py-3 text-base font-semibold shadow-lg transition-all duration-300 hover:scale-105 rounded-xl",disabled:i===2&&(!h.userProfile.firstName.trim()||!h.userProfile.lastName.trim()||!h.userProfile.email.trim()||!h.userProfile.phone.trim()||!h.userProfile.birthday)||i===3&&h.favoriteGenres.length<3||i===5&&h.streamingPlatforms.length===0||i===6&&h.contentTypes.length===0,children:["Next Step ",o.jsx(Tj,{className:"h-4 w-4 ml-2"})]}):null]})]})})]})})}function aU(){const[t]=ir(),e=[{path:"/",label:"Home"},{path:"/discover",label:"Discover"},{path:"/upcoming",label:"Upcoming"},{path:"/friends",label:"Binge Friends"}];return o.jsx("nav",{className:"sticky top-0 z-50 bg-binge-charcoal/95 backdrop-blur-md border-b border-binge-gray",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Et,{href:"/",className:"flex items-center space-x-3 group",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-teal-500/25 transition-all duration-300 group-hover:scale-105",children:o.jsx("span",{className:"text-white font-black text-lg tracking-tight",children:"B"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-xl font-black tracking-tight bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:["Binge",o.jsx("span",{className:"font-light",children:"Board"})]}),o.jsx("div",{className:"text-[10px] text-teal-400 font-medium tracking-widest uppercase opacity-75 -mt-1",children:"Entertainment Hub"})]})]}),o.jsx("div",{className:"hidden md:flex space-x-6",children:e.map(n=>o.jsx(Et,{href:n.path,className:`transition-colors ${t===n.path?"text-binge-purple":"text-muted-foreground hover:text-binge-purple"}`,children:n.label},n.path))})]})})})}function lU({onAccept:t,onDecline:e}){const[n,r]=v.useState(!1);v.useEffect(()=>{localStorage.getItem("bingeboard-consent")||r(!0)},[]);const i=()=>{localStorage.setItem("bingeboard-consent","accepted"),localStorage.setItem("bingeboard-consent-date",new Date().toISOString()),r(!1),t()},l=()=>{localStorage.setItem("bingeboard-consent","declined"),localStorage.setItem("bingeboard-consent-date",new Date().toISOString()),r(!1),e()},c=()=>{r(!1)};return n?o.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[60] p-4 bg-black/95 backdrop-blur-sm border-t border-gray-700",children:o.jsx(Qe,{className:"max-w-4xl mx-auto bg-gray-900 border-gray-700",children:o.jsxs(Ze,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-teal-500/20 rounded-lg flex items-center justify-center flex-shrink-0 mt-1",children:o.jsx(Sr,{className:"h-5 w-5 text-teal-400"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Privacy & Data Consent"}),o.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"We value your privacy and are committed to protecting your personal data. By using BingeBoard, you consent to our collection and use of information as described in our Privacy Policy."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(i3,{className:"h-4 w-4 text-teal-400"}),o.jsx("span",{className:"text-sm text-gray-300",children:"Essential cookies for functionality"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dn,{className:"h-4 w-4 text-teal-400"}),o.jsx("span",{className:"text-sm text-gray-300",children:"Analytics to improve our service"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Sr,{className:"h-4 w-4 text-teal-400"}),o.jsx("span",{className:"text-sm text-gray-300",children:"Secure data encryption"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[o.jsx(Et,{href:"/privacy-policy",className:"text-teal-400 hover:text-teal-300 underline",children:"Privacy Policy"}),o.jsx("span",{className:"text-gray-500",children:""}),o.jsx(Et,{href:"/terms-of-service",className:"text-teal-400 hover:text-teal-300 underline",children:"Terms of Service"}),o.jsx("span",{className:"text-gray-500",children:""}),o.jsx(Et,{href:"/eula",className:"text-teal-400 hover:text-teal-300 underline",children:"EULA"})]})]})]}),o.jsx(ae,{variant:"ghost",size:"sm",onClick:c,className:"text-gray-400 hover:text-white flex-shrink-0",children:o.jsx(Dr,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[o.jsx(ae,{variant:"outline",onClick:l,className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Decline"}),o.jsx(ae,{onClick:i,className:"bg-teal-600 hover:bg-teal-700 text-white",children:"Accept & Continue"})]})]})})}):null}class cU extends Ke.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){if(this.state.hasError){const e=this.props.fallback||uU;return o.jsx(e,{error:this.state.error})}return this.props.children}}function uU({error:t}){return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"text-red-400 text-xl",children:"Something went wrong"}),o.jsx("div",{className:"text-gray-400 text-sm",children:t.message||"An unexpected error occurred"}),o.jsx("button",{onClick:()=>window.location.reload(),className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded",children:"Reload Page"})]})})}function Fp({component:t,lazy:e=!1,requireAuth:n=!1,fallback:r=o.jsx("div",{className:"p-6 text-gray-400",children:"Loading"})}){const{isAuthenticated:i,isLoading:l}=Un();return l?o.jsx("div",{className:"p-6 text-gray-400",children:" Loading..."}):n&&!i?(console.log(" Redirecting unauthenticated user to /login"),o.jsx(Nd,{to:"/login"})):e?o.jsx(v.Suspense,{fallback:r,children:o.jsx(t,{})}):o.jsx(t,{})}const dU=({isOpen:t,onClose:e,title:n,embedUrl:r,thumbnail:i})=>{const[l,c]=v.useState(!0);if(v.useEffect(()=>(t?(document.body.style.overflow="hidden",c(!0)):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const d=m=>{m.target===m.currentTarget&&e()},h=()=>{c(!1)};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 p-4",onClick:d,children:o.jsxs("div",{className:"relative w-full max-w-4xl bg-slate-900 rounded-lg overflow-hidden shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800 border-b border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-white truncate pr-4",children:n}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-700 rounded-full transition-colors","aria-label":"Close modal",children:o.jsx(Dr,{className:"w-5 h-5 text-gray-400"})})]}),o.jsxs("div",{className:"relative aspect-video bg-black",children:[l&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-800",children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-gray-400",children:"Loading trailer..."})]})}),o.jsx("iframe",{src:r,title:n,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:h})]}),o.jsx("div",{className:"p-4 bg-slate-800 border-t border-slate-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-gray-400",children:["Press ",o.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded text-xs",children:"ESC"})," to close"]}),o.jsx("button",{onClick:e,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded transition-colors",children:"Close"})]})})]})})};let Os=null;const hU=({children:t})=>{const[e,n]=v.useState(null);return v.useEffect(()=>{Os={open:l=>{n({...l,isOpen:!0,onClose:()=>n(null)})},close:()=>n(null)};const r=l=>{Os==null||Os.open(l.detail)};window.addEventListener("openTrailerModal",r);const i=l=>{l.key==="Escape"&&(e!=null&&e.isOpen)&&(Os==null||Os.close())};return document.addEventListener("keydown",i),()=>{window.removeEventListener("openTrailerModal",r),document.removeEventListener("keydown",i),Os=null}},[e==null?void 0:e.isOpen]),o.jsxs(o.Fragment,{children:[t,e&&o.jsx(dU,{...e})]})};var AE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},V1=Ke.createContext&&Ke.createContext(AE),fU=["attr","size","title"];function mU(t,e){if(t==null)return{};var n=pU(t,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(this,arguments)}function H1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(n),!0).forEach(function(r){gU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gU(t,e,n){return e=yU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yU(t){var e=vU(t,"string");return typeof e=="symbol"?e:e+""}function vU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IE(t){return t&&t.map((e,n)=>Ke.createElement(e.tag,uh({key:n},e.attr),IE(e.child)))}function ME(t){return e=>Ke.createElement(xU,ch({attr:uh({},t.attr)},e),IE(t.child))}function xU(t){var e=n=>{var{attr:r,size:i,title:l}=t,c=mU(t,fU),d=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Ke.createElement("svg",ch({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:h,style:uh(uh({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"https://www.w3.org/2000/svg"}),l&&Ke.createElement("title",null,l),t.children)};return V1!==void 0?Ke.createElement(V1.Consumer,null,n=>e(n)):e(AE)}function wv(t){return ME({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(t)}function bv(t){return ME({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}const cd={Netflix:"/logos/icons8-netflix (1).svg","Prime Video":"/logos/icons8-amazon-prime-video (1).svg","Disney+":"/logos/icons8-disney-plus.svg",Max:"/logos/icons8-hbo-max.svg","Apple TV+":"/logos/Apple-tv-plus-official.svg",Peacock:"/logos/icons8-peacock-tv.svg","Paramount+":"/logos/icons8-paramount-plus.svg",Crunchyroll:"/logos/icons8-crunchyroll.svg",Starz:"/logos/Starz--Streamline-Simple-Icons.svg",Showtime:"/logos/Showtime--Streamline-Simple-Icons.svg",Hulu:"/logos/hulu-official.svg","YouTube TV":"/logos/icons8-youtube-tv.svg","Discovery+":"/logos/icons8-discovery-plus.svg",ESPN:"/logos/icons8-espn.svg",netflix:"/logos/icons8-netflix (1).svg","prime video":"/logos/icons8-amazon-prime-video (1).svg","disney+":"/logos/icons8-disney-plus.svg",max:"/logos/icons8-hbo-max.svg","apple tv+":"/logos/Apple-tv-plus-official.svg",peacock:"/logos/icons8-peacock-tv.svg","paramount+":"/logos/icons8-paramount-plus.svg",crunchyroll:"/logos/icons8-crunchyroll.svg",starz:"/logos/Starz--Streamline-Simple-Icons.svg",showtime:"/logos/Showtime--Streamline-Simple-Icons.svg",hulu:"/logos/hulu-official.svg","youtube tv":"/logos/icons8-youtube-tv.svg","discovery+":"/logos/icons8-discovery-plus.svg",espn:"/logos/icons8-espn.svg"},wU={"amazon prime video":"Prime Video","amazon prime video with ads":"Prime Video","prime video":"Prime Video","amazon video":"Prime Video","amazon prime":"Prime Video",prime:"Prime Video",netflix:"Netflix","netflix standard with ads":"Netflix","disney plus":"Disney+","disney+":"Disney+",disney:"Disney+","hbo max":"Max",max:"Max","hbo max amazon channel":"Max","hbo max  amazon channel":"Max","apple tv":"Apple TV+","apple tv+":"Apple TV+","apple tv plus":"Apple TV+","paramount+":"Paramount+","paramount plus":"Paramount+",paramount:"Paramount+","paramount plus apple tv channel":"Paramount+","paramount+ amazon channel":"Paramount+","paramount+ roku premium channel":"Paramount+","paramount+ originals amazon channel":"Paramount+","paramount+ mtv amazon channel":"Paramount+",hulu:"Hulu",crunchyroll:"Crunchyroll","crunchyroll amazon channel":"Crunchyroll",peacock:"Peacock","peacock premium":"Peacock",starz:"Starz","starz amazon channel":"Starz",showtime:"Showtime","showtime amazon channel":"Showtime","discovery+":"Discovery+","discovery plus":"Discovery+",espn:"ESPN","espn+":"ESPN","espn plus":"ESPN","adult swim":"Adult Swim",tbs:"TBS",tnt:"TNT","youtube premium":"YouTube Premium","youtube tv":"YouTube TV","fandango at home":"Vudu","google play movies":"Google Play","spectrum on demand":"Spectrum",fubotv:"fuboTV","amc+":"AMC+","amc plus":"AMC+"};function bU(t){if(!t||typeof t!="string")return"Unknown";const e=t.toLowerCase().trim();return wU[e]||t}const uc=t=>{const e=typeof t=="string"?t:(t==null?void 0:t.name)||(t==null?void 0:t.provider_name),n=e?bU(e):"Unknown";if(t&&typeof t=="object"&&t.logo_path){const i=t.logo_path;return i.startsWith("http")?i:i.startsWith("/")?`https://image.tmdb.org/t/p/w92${i}`:cd[n]||cd[n.toLowerCase()]||W1(n)}const r=cd[n]||cd[n.toLowerCase()];return r||W1(n)};function W1(t){const e=["#E50914","#113CCF","#002BE7","#00A8E1","#1CE783","#000000","#0064FF","#FA6B00","#FF6600","#FF0000","#0077C8"],r=t.toLowerCase().trim().split("").reduce((d,h)=>d+h.charCodeAt(0),0)%e.length,i=e[r],l=t.charAt(0).toUpperCase(),c=`<svg width="32" height="24" xmlns="https://www.w3.org/2000/svg">
    <rect width="32" height="24" fill="${i}" rx="4"/>
    <text x="16" y="16" font-family="Arial, sans-serif" font-size="12" font-weight="bold" 
          text-anchor="middle" fill="white">${l}</text>
  </svg>`;return`data:image/svg+xml;base64,${btoa(c)}`}const NU=({platforms:t,maxVisible:e=1,size:n="sm",className:r})=>{if(!t||t.length===0)return null;const i=t.slice(0,e),l=t.length-i.length,c=n==="xs"?"h-5 w-5 text-[10px]":"h-6 w-6 text-xs",d=h=>{const m=h.provider_name||"",g=uc(m);return g&&!g.includes("default.svg")?g:h.logo_path?h.logo_path.startsWith("http")?h.logo_path:`https://image.tmdb.org/t/p/w45${h.logo_path}`:g};return o.jsx(cj,{children:o.jsxs("div",{className:"flex items-center gap-1 flex-wrap "+(r||""),children:[i.map(h=>{const m=h.provider_name||"Unknown",g=d(h);return o.jsxs(Wb,{children:[o.jsx(Gb,{asChild:!0,children:o.jsx("img",{src:g,alt:m,className:`rounded-sm object-contain bg-white/10 p-0.5 ${c}`,loading:"lazy",onError:p=>{const x=p.target;x.src.includes("default.svg")||(x.src="/logos/default.svg")}})}),o.jsx(jg,{children:m})]},h.provider_id||m)}),l>0&&o.jsxs(Wb,{children:[o.jsx(Gb,{asChild:!0,children:o.jsxs($e,{variant:"outline",className:"cursor-default",children:["+",l]})}),o.jsx(jg,{className:"max-w-xs",children:o.jsx("div",{className:"text-xs space-y-1",children:t.slice(e).map(h=>o.jsx("div",{children:h.provider_name},h.provider_id||h.provider_name))})})]})]})})};var Nv="Progress",Sv=100,[SU]=dn(Nv),[kU,jU]=SU(Nv),DE=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:l=_U,...c}=t;(i||i===0)&&!G1(i)&&console.error(CU(`${i}`,"Progress"));const d=G1(i)?i:Sv;r!==null&&!K1(r,d)&&console.error(EU(`${r}`,"Progress"));const h=K1(r,d)?r:null,m=dh(h)?l(h,d):void 0;return o.jsx(kU,{scope:n,value:h,max:d,children:o.jsx(Ae.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":dh(h)?h:void 0,"aria-valuetext":m,role:"progressbar","data-state":FE(h,d),"data-value":h??void 0,"data-max":d,...c,ref:e})})});DE.displayName=Nv;var OE="ProgressIndicator",LE=v.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=jU(OE,n);return o.jsx(Ae.div,{"data-state":FE(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});LE.displayName=OE;function _U(t,e){return`${Math.round(t/e*100)}%`}function FE(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function dh(t){return typeof t=="number"}function G1(t){return dh(t)&&!isNaN(t)&&t>0}function K1(t,e){return dh(t)&&!isNaN(t)&&t<=e&&t>=0}function CU(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Sv}\`.`}function EU(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Sv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var UE=DE,PU=LE;const $E=v.forwardRef(({className:t,value:e,...n},r)=>o.jsx(UE,{ref:r,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(PU,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));$E.displayName=UE.displayName;const hh=[{id:"streammax",name:"StreamMax",weight:30,active:!0,commissionRate:.08},{id:"cinemahub",name:"CinemaHub",weight:25,active:!0,commissionRate:.06},{id:"techvision",name:"TechVision",weight:20,active:!0,commissionRate:.05},{id:"snacktime",name:"SnackTime",weight:15,active:!0,commissionRate:.04},{id:"gamezone",name:"GameZone",weight:10,active:!0,commissionRate:.07}],Gg=[{id:"ad_streaming_001",partnerId:"streammax",title:"Stream Unlimited Movies & Shows",description:"Get access to thousands of movies and TV shows with StreamMax Premium",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",clickUrl:"https://streammax.example.com/signup?ref=bingeboard",advertiser:"StreamMax",duration:15,skipAfter:5,category:"streaming",targetAudience:["movie-lovers","tv-fans"],active:!0},{id:"ad_tech_001",partnerId:"techvision",title:"Upgrade Your Home Theater",description:"Experience cinema-quality sound and picture with TechVision Smart TVs",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",clickUrl:"https://techvision.example.com/smart-tv?ref=bingeboard",advertiser:"TechVision",duration:20,skipAfter:8,category:"tech",targetAudience:["tech-enthusiasts","home-theater"],active:!0},{id:"ad_food_001",partnerId:"snacktime",title:"Perfect Movie Night Snacks",description:"Gourmet popcorn and snacks delivered to your door",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",clickUrl:"https://snacktime.example.com/movie-snacks?ref=bingeboard",advertiser:"SnackTime",duration:10,skipAfter:3,category:"food",targetAudience:["snack-lovers","movie-fans"],active:!0},{id:"ad_cinema_001",partnerId:"cinemahub",title:"Local Cinema Experience",description:"Book premium movie tickets at your local CinemaHub theater",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",clickUrl:"https://cinemahub.example.com/tickets?ref=bingeboard",advertiser:"CinemaHub",duration:12,skipAfter:4,category:"entertainment",targetAudience:["cinema-goers","date-night"],active:!0},{id:"ad_gaming_001",partnerId:"gamezone",title:"Level Up Your Gaming",description:"Discover the latest games and gaming gear at GameZone",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4",clickUrl:"https://gamezone.example.com/latest?ref=bingeboard",advertiser:"GameZone",duration:18,skipAfter:6,category:"entertainment",targetAudience:["gamers","tech-enthusiasts"],active:!0}];class TU{static getActivePartners(){return hh.filter(e=>e.active)}static getActiveAds(){const e=this.getActivePartners().map(n=>n.id);return Gg.filter(n=>n.active&&e.includes(n.partnerId))}static selectAd(e){const n=this.getActiveAds();if(n.length===0)return null;if(e&&e.length>0){const r=n.filter(i=>{var l;return(l=i.targetAudience)==null?void 0:l.some(c=>e.includes(c))});if(r.length>0)return this.weightedRandomSelection(r)}return this.weightedRandomSelection(n)}static weightedRandomSelection(e){const n=e.map(l=>{const c=hh.find(d=>d.id===l.partnerId);return{ad:l,weight:(c==null?void 0:c.weight)||1}}),r=n.reduce((l,c)=>l+c.weight,0);let i=Math.random()*r;for(const l of n)if(i-=l.weight,i<=0)return l.ad;return e[0]}static selectMultipleAds(e=3,n){const r=this.getActiveAds(),i=[],l=new Set;for(let c=0;c<e&&c<r.length&&r.filter(m=>!l.has(m.partnerId)&&!i.includes(m)).length!==0;c++){const h=this.selectAd(n);h&&!i.includes(h)&&(i.push(h),l.add(h.partnerId))}return i}}class ud{static async trackAdView(e,n,r){try{await fetch("/api/analytics/ad-view",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adId:e,userId:n,context:r,timestamp:new Date().toISOString()})})}catch(i){console.error("Failed to track ad view:",i)}}static async trackAdClick(e,n,r){try{await fetch("/api/analytics/ad-click",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adId:e,userId:n,clickUrl:r,timestamp:new Date().toISOString()})})}catch(i){console.error("Failed to track ad click:",i)}}static async trackAdCompletion(e,n,r){try{await fetch("/api/analytics/ad-completion",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adId:e,userId:n,watchTime:r,timestamp:new Date().toISOString()})})}catch(i){console.error("Failed to track ad completion:",i)}}}class q1{static calculateAdRevenue(e,n=!1){const r=Gg.find(h=>h.id===e);if(!r)return 0;const i=hh.find(h=>h.id===r.partnerId);if(!i)return 0;const l=.002,c=n?1.5:.7,d=i.commissionRate||.05;return l*c*(1+d)}static calculateClickRevenue(e){const n=Gg.find(c=>c.id===e);if(!n)return 0;const r=hh.find(c=>c.id===n.partnerId);if(!r)return 0;const i=.05,l=r.commissionRate||.05;return i*(1+l*2)}}function RU({onAdComplete:t,onSkip:e,skipAfter:n=5,duration:r=15,className:i="",userPreferences:l=[]}){const[c,d]=v.useState(null),[h,m]=v.useState(r),[g,p]=v.useState(!1),[x,N]=v.useState(!1),[k,S]=v.useState(!1),[w,j]=v.useState(!1),[P,C]=v.useState(0),T=v.useRef(null),{toast:R}=Oa(),{user:O}=Un();v.useEffect(()=>{const z=TU.selectAd(l);z&&(d(z),m(z.duration),O&&ud.trackAdView(z.id,O.id||O.uid,"trailer-monetization"))},[l,O]),v.useEffect(()=>{if(!c||!k)return;const z=setInterval(()=>{m(D=>{if(D<=1){if(O&&c){const X=Date.now()-P;ud.trackAdCompletion(c.id,O.id||O.uid,X)}return t(),0}return D-1})},1e3),Q=setTimeout(()=>{p(!0)},(c.skipAfter||n)*1e3);return()=>{clearInterval(z),clearTimeout(Q)}},[c,t,n,k,O,P]);const I=()=>{var z;S(!0),C(Date.now()),(z=T.current)==null||z.play()},E=()=>{if(g&&e){if(O&&c){const z=Date.now()-P;ud.trackAdCompletion(c.id,O.id||O.uid,z)}e()}},A=()=>{c!=null&&c.clickUrl&&O&&(ud.trackAdClick(c.id,O.id||O.uid,c.clickUrl),console.log(" Ad clicked - Estimated revenue:",q1.calculateClickRevenue(c.id)),window.open(c.clickUrl,"_blank"),R({title:"Opening advertiser page",description:"You'll continue to your trailer after the ad"}))},F=()=>{N(!x),T.current&&(T.current.muted=!x)},q=c?(c.duration-h)/c.duration*100:0;return c?o.jsxs(Qe,{className:`relative overflow-hidden bg-black ${i}`,children:[o.jsxs("div",{className:"relative aspect-video bg-black",children:[k?o.jsxs(o.Fragment,{children:[o.jsx("video",{ref:T,src:c.videoUrl,className:"w-full h-full object-cover",autoPlay:!0,muted:x,onEnded:t,onClick:()=>j(!0)}),w&&c.clickUrl&&o.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center cursor-pointer",onClick:A,onMouseLeave:()=>j(!1),children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-4 text-center",children:[o.jsx(zl,{className:"w-6 h-6 mx-auto mb-2"}),o.jsx("div",{className:"font-medium",children:"Visit Advertiser"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:c.advertiser})]})})]}):o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-purple-900/50 to-blue-900/50",children:o.jsxs("div",{className:"text-center text-white space-y-4",children:[o.jsx("div",{className:"text-sm opacity-75",children:"Advertisement"}),o.jsx("h3",{className:"text-xl font-bold",children:c.title}),o.jsx("p",{className:"text-sm opacity-90",children:c.description}),o.jsxs(ae,{onClick:I,size:"lg",className:"gap-2",children:[o.jsx(St,{className:"w-5 h-5"}),"Play Ad (",c.duration,"s)"]}),o.jsxs("div",{className:"text-xs opacity-75",children:["by ",c.advertiser]})]})}),k&&o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-black/30",children:[o.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-white text-sm",children:[o.jsxs("div",{className:"bg-red-600 px-2 py-1 rounded text-xs font-medium flex items-center gap-1",children:["AD",o.jsx(a3,{className:"w-3 h-3"})]}),o.jsx("span",{children:c.advertiser}),o.jsxs($e,{variant:"outline",className:"border-green-500 text-green-400 text-xs",children:["Revenue: $",q1.calculateAdRevenue(c.id,!1).toFixed(3)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ae,{variant:"ghost",size:"sm",onClick:F,className:"text-white hover:bg-white/20",children:x?o.jsx(C3,{className:"w-4 h-4"}):o.jsx(_3,{className:"w-4 h-4"})}),g&&o.jsxs(ae,{variant:"secondary",size:"sm",onClick:E,className:"gap-1",children:[o.jsx(Dr,{className:"w-3 h-3"}),"Skip"]})]})]}),o.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-2",children:[o.jsx($E,{value:q,className:"h-1"}),o.jsxs("div",{className:"flex items-center justify-between text-white text-sm",children:[o.jsx("div",{className:"flex items-center gap-2",children:c.clickUrl&&o.jsxs(ae,{variant:"outline",size:"sm",onClick:A,className:"gap-1 text-white border-white/30 hover:bg-white/20",children:[o.jsx(zl,{className:"w-3 h-3"}),"Learn More"]})}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs opacity-75",children:"Ad ends in"}),o.jsxs("div",{className:"font-medium",children:[h,"s"]})]})]})]}),!g&&o.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-1 rounded text-sm",children:["Skip in ",Math.max(0,(c.skipAfter||n)-(c.duration-h)),"s"]})]})]}),o.jsx("div",{className:"p-3 bg-muted/50 border-t",children:o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:c.title}),o.jsx("div",{className:"text-muted-foreground",children:c.description})]}),o.jsxs("div",{className:"text-right text-muted-foreground",children:[o.jsx("div",{children:"Sponsored by"}),o.jsx("div",{className:"font-medium",children:c.advertiser})]})]})})]}):o.jsx("div",{className:"flex items-center justify-center h-64 bg-black/50 rounded-lg",children:o.jsx("div",{className:"text-white",children:"Loading advertisement..."})})}function AU({trailerUrl:t,showTitle:e,children:n}){const[r,i]=v.useState(!0),[l,c]=v.useState(!1),d=()=>{i(!1),c(!0)},h=()=>{i(!1),c(!0)};return r?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-center",children:o.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:['Watch a short ad to continue to "',e,'" trailer']})}),o.jsx(RU,{onAdComplete:d,onSkip:h})]}):o.jsxs("div",{className:"space-y-4",children:[l&&o.jsx("div",{className:"text-center text-sm text-green-600 mb-2",children:"Ad completed! Enjoy your trailer."}),n]})}function kv(t,e,n){return ii({queryKey:["trailer",e,t],enabled:!!t&&(e==="movie"||e==="tv"),queryFn:async()=>{const r=await Ht(`/api/multi-api/trailer/${e}/${t}?title=${encodeURIComponent(n||"")}`);if(!r.ok)throw new Error("Failed to load trailer");return r.json()},staleTime:1e3*60*30})}function fh({show:t,variant:e="outline",size:n="sm",className:r="",showLabel:i=!0}){var x;const[l,c]=v.useState(!1);Un();const{data:d,isLoading:h,error:m}=kv(t.tmdbId||t.id,"tv",t.title),g=()=>{d!=null&&d.primaryTrailer&&c(!0)},p=N=>{var k;return N.includes("youtube.com/watch")?`https://www.youtube.com/embed/${(k=N.split("v=")[1])==null?void 0:k.split("&")[0]}?autoplay=1&rel=0`:N};return o.jsxs(o.Fragment,{children:[o.jsxs(ae,{variant:e,size:n,className:`${r} ${h?"opacity-75":""} bg-red-600 hover:bg-red-700 text-white border-red-500`,onClick:g,disabled:h||!(d!=null&&d.primaryTrailer),children:[o.jsx(St,{className:"h-3 w-3 mr-1"}),i?h?"Loading...":"Trailer":""]}),l&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"fixed inset-0 bg-black/80",onClick:()=>c(!1)}),o.jsxs("div",{className:"relative bg-slate-900 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-auto mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Tg,{className:"h-5 w-5"}),o.jsxs("h2",{className:"text-lg font-semibold",children:[t.title," - Trailer"]})]}),o.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-white",children:""})]}),o.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Watch this trailer after a brief ad"}),m||!(d!=null&&d.primaryTrailer)?o.jsx("div",{className:"aspect-video bg-black rounded-lg flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(Tg,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No trailer available for this show"})]})}):o.jsx(AU,{trailerUrl:p(d.primaryTrailer.url),showTitle:t.title,children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Source: ",d.primaryTrailer.source,"  ",((x=d.stats)==null?void 0:x.total)||0," trailers found"]}),o.jsx("div",{className:"aspect-video bg-black rounded-lg",children:o.jsx("iframe",{width:"100%",height:"100%",src:p(d.primaryTrailer.url),title:`${t.title} Trailer`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-lg"})})]})})]})]})]})}function Y1(t){var e,n;return((e=t==null?void 0:t.message)==null?void 0:e.includes("401"))||((n=t==null?void 0:t.message)==null?void 0:n.includes("Unauthorized"))||(t==null?void 0:t.status)===401}function IU(t={}){const{toast:e}=Oa(),n=Aa(),r=Vd({mutationFn:async d=>{const h=await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...d,status:d.status||"want_to_watch"})});if(!h.ok)throw h.status===401?new Error("401: Unauthorized"):new Error("Failed to add to watchlist");return h.json()},onSuccess:()=>{var d;n.invalidateQueries({queryKey:["/api/watchlist"]}),e({title:"Success",description:"Added to your watchlist!"}),(d=t.onSuccess)==null||d.call(t,"addToWatchlist")},onError:d=>{var h;if(Y1(d)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}e({title:"Error",description:"Failed to add to watchlist",variant:"destructive"}),(h=t.onError)==null||h.call(t,d,"addToWatchlist")}}),i=Vd({mutationFn:async d=>{const h=await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...d,status:"watched"})});if(!h.ok)throw h.status===401?new Error("401: Unauthorized"):new Error("Failed to mark as seen");return h.json()},onSuccess:()=>{var d;n.invalidateQueries({queryKey:["/api/watchlist"]}),e({title:"Success",description:"Marked as seen!"}),(d=t.onSuccess)==null||d.call(t,"markAsSeen")},onError:d=>{var h;if(Y1(d)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}e({title:"Error",description:"Failed to mark as seen",variant:"destructive"}),(h=t.onError)==null||h.call(t,d,"markAsSeen")}});return{addToWatchlist:d=>r.mutate({tmdbId:d}),markAsSeen:d=>i.mutate({tmdbId:d}),share:async d=>{var h,m;try{const g=`${window.location.origin}/show/${d}`;navigator.share?await navigator.share({title:"Check out this show!",url:g}):(await navigator.clipboard.writeText(g),e({title:"Success",description:"Link copied to clipboard!"})),(h=t.onSuccess)==null||h.call(t,"share")}catch(g){e({title:"Error",description:"Failed to share",variant:"destructive"}),(m=t.onError)==null||m.call(t,g,"share")}},playTrailer:d=>{var h,m;try{window.open(d,"_blank"),(h=t.onSuccess)==null||h.call(t,"playTrailer")}catch(g){e({title:"Error",description:"Failed to open trailer",variant:"destructive"}),(m=t.onError)==null||m.call(t,g,"playTrailer")}},isLoading:{addToWatchlist:r.isPending,markAsSeen:i.isPending}}}const MU=v.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));MU.displayName="Textarea";const DU=Vh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),OU=v.forwardRef(({className:t,...e},n)=>o.jsx("label",{ref:n,className:Ee(DU(),t),...e}));OU.displayName="Label";var jv="Radio",[LU,BE]=dn(jv),[FU,UU]=LU(jv),zE=v.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:l,disabled:c,value:d="on",onCheck:h,form:m,...g}=t,[p,x]=v.useState(null),N=Ye(e,w=>x(w)),k=v.useRef(!1),S=p?m||!!p.closest("form"):!0;return o.jsxs(FU,{scope:n,checked:i,disabled:c,children:[o.jsx(Ae.button,{type:"button",role:"radio","aria-checked":i,"data-state":GE(i),"data-disabled":c?"":void 0,disabled:c,value:d,...g,ref:N,onClick:fe(t.onClick,w=>{i||h==null||h(),S&&(k.current=w.isPropagationStopped(),k.current||w.stopPropagation())})}),S&&o.jsx(WE,{control:p,bubbles:!k.current,name:r,value:d,checked:i,required:l,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});zE.displayName=jv;var VE="RadioIndicator",HE=v.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,l=UU(VE,n);return o.jsx(or,{present:r||l.checked,children:o.jsx(Ae.span,{"data-state":GE(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:e})})});HE.displayName=VE;var $U="RadioBubbleInput",WE=v.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...i},l)=>{const c=v.useRef(null),d=Ye(c,l),h=xv(n),m=Mh(e);return v.useEffect(()=>{const g=c.current;if(!g)return;const p=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(p,"checked").set;if(h!==n&&N){const k=new Event("click",{bubbles:r});N.call(g,n),g.dispatchEvent(k)}},[h,n,r]),o.jsx(Ae.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});WE.displayName=$U;function GE(t){return t?"checked":"unchecked"}var BU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cf="RadioGroup",[zU]=dn(cf,[nf,BE]),KE=nf(),qE=BE(),[VU,HU]=zU(cf),YE=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:l,required:c=!1,disabled:d=!1,orientation:h,dir:m,loop:g=!0,onValueChange:p,...x}=t,N=KE(n),k=tf(m),[S,w]=fi({prop:l,defaultProp:i??null,onChange:p,caller:cf});return o.jsx(VU,{scope:n,name:r,required:c,disabled:d,value:S,onValueChange:w,children:o.jsx(vC,{asChild:!0,...N,orientation:h,dir:k,loop:g,children:o.jsx(Ae.div,{role:"radiogroup","aria-required":c,"aria-orientation":h,"data-disabled":d?"":void 0,dir:k,...x,ref:e})})})});YE.displayName=cf;var QE="RadioGroupItem",ZE=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,l=HU(QE,n),c=l.disabled||r,d=KE(n),h=qE(n),m=v.useRef(null),g=Ye(e,m),p=l.value===i.value,x=v.useRef(!1);return v.useEffect(()=>{const N=S=>{BU.includes(S.key)&&(x.current=!0)},k=()=>x.current=!1;return document.addEventListener("keydown",N),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",N),document.removeEventListener("keyup",k)}},[]),o.jsx(xC,{asChild:!0,...d,focusable:!c,active:p,children:o.jsx(zE,{disabled:c,required:l.required,checked:p,...h,...i,name:l.name,ref:g,onCheck:()=>l.onValueChange(i.value),onKeyDown:fe(N=>{N.key==="Enter"&&N.preventDefault()}),onFocus:fe(i.onFocus,()=>{var N;x.current&&((N=m.current)==null||N.click())})})})});ZE.displayName=QE;var WU="RadioGroupIndicator",XE=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=qE(n);return o.jsx(HE,{...i,...r,ref:e})});XE.displayName=WU;var JE=YE,eP=ZE,GU=XE;const KU=v.forwardRef(({className:t,...e},n)=>o.jsx(JE,{className:Ee("grid gap-2",t),...e,ref:n}));KU.displayName=JE.displayName;const qU=v.forwardRef(({className:t,...e},n)=>o.jsx(eP,{ref:n,className:Ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(GU,{className:"flex items-center justify-center",children:o.jsx(Mj,{className:"h-2.5 w-2.5 fill-current text-current"})})}));qU.displayName=eP.displayName;function tP(t,[e,n]){return Math.min(n,Math.max(e,t))}var nP=["PageUp","PageDown"],rP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sP={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},La="Slider",[Kg,YU,QU]=Bh(La),[iP]=dn(La,[QU]),[ZU,uf]=iP(La),oP=v.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:l=1,orientation:c="horizontal",disabled:d=!1,minStepsBetweenThumbs:h=0,defaultValue:m=[r],value:g,onValueChange:p=()=>{},onValueCommit:x=()=>{},inverted:N=!1,form:k,...S}=t,w=v.useRef(new Set),j=v.useRef(0),C=c==="horizontal"?XU:JU,[T=[],R]=fi({prop:g,defaultProp:m,onChange:q=>{var Q;(Q=[...w.current][j.current])==null||Q.focus(),p(q)}}),O=v.useRef(T);function I(q){const z=s$(T,q);F(q,z)}function E(q){F(q,j.current)}function A(){const q=O.current[j.current];T[j.current]!==q&&x(T)}function F(q,z,{commit:Q}={commit:!1}){const D=l$(l),X=c$(Math.round((q-r)/l)*l+r,D),ie=tP(X,[r,i]);R((oe=[])=>{const G=n$(oe,ie,z);if(a$(G,h*l)){j.current=G.indexOf(ie);const H=String(G)!==String(oe);return H&&Q&&x(G),H?G:oe}else return oe})}return o.jsx(ZU,{scope:t.__scopeSlider,name:n,disabled:d,min:r,max:i,valueIndexToChangeRef:j,thumbs:w.current,values:T,orientation:c,form:k,children:o.jsx(Kg.Provider,{scope:t.__scopeSlider,children:o.jsx(Kg.Slot,{scope:t.__scopeSlider,children:o.jsx(C,{"aria-disabled":d,"data-disabled":d?"":void 0,...S,ref:e,onPointerDown:fe(S.onPointerDown,()=>{d||(O.current=T)}),min:r,max:i,inverted:N,onSlideStart:d?void 0:I,onSlideMove:d?void 0:E,onSlideEnd:d?void 0:A,onHomeKeyDown:()=>!d&&F(r,0,{commit:!0}),onEndKeyDown:()=>!d&&F(i,T.length-1,{commit:!0}),onStepKeyDown:({event:q,direction:z})=>{if(!d){const X=nP.includes(q.key)||q.shiftKey&&rP.includes(q.key)?10:1,ie=j.current,oe=T[ie],G=l*X*z;F(oe+G,ie,{commit:!0})}}})})})})});oP.displayName=La;var[aP,lP]=iP(La,{startEdge:"left",endEdge:"right",size:"width",direction:1}),XU=v.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:l,onSlideStart:c,onSlideMove:d,onSlideEnd:h,onStepKeyDown:m,...g}=t,[p,x]=v.useState(null),N=Ye(e,C=>x(C)),k=v.useRef(void 0),S=tf(i),w=S==="ltr",j=w&&!l||!w&&l;function P(C){const T=k.current||p.getBoundingClientRect(),R=[0,T.width],I=_v(R,j?[n,r]:[r,n]);return k.current=T,I(C-T.left)}return o.jsx(aP,{scope:t.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:o.jsx(cP,{dir:S,"data-orientation":"horizontal",...g,ref:N,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const T=P(C.clientX);c==null||c(T)},onSlideMove:C=>{const T=P(C.clientX);d==null||d(T)},onSlideEnd:()=>{k.current=void 0,h==null||h()},onStepKeyDown:C=>{const R=sP[j?"from-left":"from-right"].includes(C.key);m==null||m({event:C,direction:R?-1:1})}})})}),JU=v.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...m}=t,g=v.useRef(null),p=Ye(e,g),x=v.useRef(void 0),N=!i;function k(S){const w=x.current||g.current.getBoundingClientRect(),j=[0,w.height],C=_v(j,N?[r,n]:[n,r]);return x.current=w,C(S-w.top)}return o.jsx(aP,{scope:t.__scopeSlider,startEdge:N?"bottom":"top",endEdge:N?"top":"bottom",size:"height",direction:N?1:-1,children:o.jsx(cP,{"data-orientation":"vertical",...m,ref:p,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const w=k(S.clientY);l==null||l(w)},onSlideMove:S=>{const w=k(S.clientY);c==null||c(w)},onSlideEnd:()=>{x.current=void 0,d==null||d()},onStepKeyDown:S=>{const j=sP[N?"from-bottom":"from-top"].includes(S.key);h==null||h({event:S,direction:j?-1:1})}})})}),cP=v.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:d,onStepKeyDown:h,...m}=t,g=uf(La,n);return o.jsx(Ae.span,{...m,ref:e,onKeyDown:fe(t.onKeyDown,p=>{p.key==="Home"?(c(p),p.preventDefault()):p.key==="End"?(d(p),p.preventDefault()):nP.concat(rP).includes(p.key)&&(h(p),p.preventDefault())}),onPointerDown:fe(t.onPointerDown,p=>{const x=p.target;x.setPointerCapture(p.pointerId),p.preventDefault(),g.thumbs.has(x)?x.focus():r(p)}),onPointerMove:fe(t.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&i(p)}),onPointerUp:fe(t.onPointerUp,p=>{const x=p.target;x.hasPointerCapture(p.pointerId)&&(x.releasePointerCapture(p.pointerId),l(p))})})}),uP="SliderTrack",dP=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=uf(uP,n);return o.jsx(Ae.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});dP.displayName=uP;var qg="SliderRange",hP=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=uf(qg,n),l=lP(qg,n),c=v.useRef(null),d=Ye(e,c),h=i.values.length,m=i.values.map(x=>pP(x,i.min,i.max)),g=h>1?Math.min(...m):0,p=100-Math.max(...m);return o.jsx(Ae.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:d,style:{...t.style,[l.startEdge]:g+"%",[l.endEdge]:p+"%"}})});hP.displayName=qg;var Yg="SliderThumb",fP=v.forwardRef((t,e)=>{const n=YU(t.__scopeSlider),[r,i]=v.useState(null),l=Ye(e,d=>i(d)),c=v.useMemo(()=>r?n().findIndex(d=>d.ref.current===r):-1,[n,r]);return o.jsx(e$,{...t,ref:l,index:c})}),e$=v.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...l}=t,c=uf(Yg,n),d=lP(Yg,n),[h,m]=v.useState(null),g=Ye(e,P=>m(P)),p=h?c.form||!!h.closest("form"):!0,x=Mh(h),N=c.values[r],k=N===void 0?0:pP(N,c.min,c.max),S=r$(r,c.values.length),w=x==null?void 0:x[d.size],j=w?i$(w,k,d.direction):0;return v.useEffect(()=>{if(h)return c.thumbs.add(h),()=>{c.thumbs.delete(h)}},[h,c.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${k}% + ${j}px)`},children:[o.jsx(Kg.ItemSlot,{scope:t.__scopeSlider,children:o.jsx(Ae.span,{role:"slider","aria-label":t["aria-label"]||S,"aria-valuemin":c.min,"aria-valuenow":N,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:g,style:N===void 0?{display:"none"}:t.style,onFocus:fe(t.onFocus,()=>{c.valueIndexToChangeRef.current=r})})}),p&&o.jsx(mP,{name:i??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:N},r)]})});fP.displayName=Yg;var t$="RadioBubbleInput",mP=v.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=v.useRef(null),l=Ye(i,r),c=xv(e);return v.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&g){const p=new Event("input",{bubbles:!0});g.call(d,e),d.dispatchEvent(p)}},[c,e]),o.jsx(Ae.input,{style:{display:"none"},...n,ref:l,defaultValue:e})});mP.displayName=t$;function n$(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,l)=>i-l)}function pP(t,e,n){const l=100/(n-e)*(t-e);return tP(l,[0,100])}function r$(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function s$(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function i$(t,e,n){const r=t/2,l=_v([0,50],[0,r]);return(r-l(e)*n)*n}function o$(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function a$(t,e){if(e>0){const n=o$(t);return Math.min(...n)>=e}return!0}function _v(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function l$(t){return(String(t).split(".")[1]||"").length}function c$(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var gP=oP,u$=dP,d$=hP,h$=fP;const f$=v.forwardRef(({className:t,...e},n)=>o.jsxs(gP,{ref:n,className:Ee("relative flex w-full touch-none select-none items-center",t),...e,children:[o.jsx(u$,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(d$,{className:"absolute h-full bg-primary"})}),o.jsx(h$,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));f$.displayName=gP.displayName;function m$(){const{toast:t}=Oa(),e=Aa(),n=Vd({mutationFn:async({contentId:r,contentType:i,feedbackType:l,rating:c=7})=>{const d=await fetch("/api/user-feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:"user-id",content_id:r,content_type:i,rating:c,feedback_type:l,watch_status:"want_to_watch",tags:[]})});if(!d.ok)throw new Error("Failed to submit feedback");return d.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/user-feedback"]}),t({title:"Feedback Submitted",description:"Thank you for your feedback!",duration:2e3})}});return{submitQuickFeedback:n.mutate,isSubmitting:n.isPending}}function p$({show:t,isInWatchlist:e=!1,isSeen:n=!1,customActions:r,variant:i="default",onInteraction:l}){const[c,d]=v.useState(!1),[h,m]=v.useState(!1),g=IU({onSuccess:T=>l==null?void 0:l(T,t.tmdbId)}),{submitQuickFeedback:p,isSubmitting:x}=m$(),N=()=>{r!=null&&r.onAddToWatchlist?r.onAddToWatchlist(t.tmdbId):g.addToWatchlist(t.tmdbId)},k=()=>{r!=null&&r.onMarkAsSeen?r.onMarkAsSeen(t.tmdbId):g.markAsSeen(t.tmdbId)},S=()=>{r!=null&&r.onShare?r.onShare(t.tmdbId):g.share(t.tmdbId)},w=T=>{p({contentId:t.tmdbId,contentType:"movie",feedbackType:T,rating:T==="love"?9:T==="like"?7:T==="recommend"?8:3}),l==null||l(T,t.tmdbId)},j=()=>{window.location.href=`/show/${t.tmdbId}`,l==null||l("navigate",t.tmdbId)},P=()=>{const T="recommendation-card glass-effect border-white/10 flex-shrink-0 transition-all duration-300 hover:scale-105 cursor-pointer group";switch(i){case"compact":return`${T} w-36 md:w-40`;case"large":return`${T} w-52 md:w-56`;default:return`${T} w-44 md:w-48`}},C=()=>{switch(i){case"compact":return"h-48";case"large":return"h-80";default:return"h-64"}};return o.jsx(Qe,{className:P(),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),tabIndex:0,onFocus:()=>d(!0),onBlur:()=>d(!1),children:o.jsxs(Ze,{className:"p-0",children:[o.jsxs("div",{className:"relative",onClick:j,role:"button",tabIndex:-1,children:[t.posterPath?o.jsx("img",{src:t.posterPath,alt:`${t.title} poster`,className:`w-full ${C()} object-cover rounded-t-lg`}):o.jsx("div",{className:`w-full ${C()} bg-binge-gray rounded-t-lg flex items-center justify-center`,children:o.jsx(St,{className:"w-12 h-12 text-gray-400"})}),o.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center gap-2 bg-black/60 rounded-t-lg transition-opacity duration-200 ${c?"opacity-100":"opacity-0 pointer-events-none md:group-hover:opacity-100 md:pointer-events-auto"}`,onClick:T=>T.stopPropagation(),children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{size:"icon",variant:e?"secondary":"outline",className:"rounded-full",title:e?"In Watchlist":"Add to Watchlist",onClick:N,disabled:e||g.isLoading.addToWatchlist,children:e?o.jsx(Hh,{className:"w-5 h-5"}):o.jsx(Ar,{className:"w-5 h-5"})}),o.jsx(fh,{show:{id:t.tmdbId,tmdbId:t.tmdbId,title:t.title},variant:"outline",size:"sm",showLabel:!1,className:"rounded-full w-10 h-10 p-0"}),o.jsx(ae,{size:"icon",variant:n?"secondary":"outline",className:"rounded-full",title:n?"Seen":"Mark as Seen",onClick:k,disabled:n||g.isLoading.markAsSeen,children:o.jsx(Dn,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ae,{size:"icon",variant:"outline",className:"rounded-full h-8 w-8 text-pink-500 hover:bg-pink-500/20",title:"Love It",onClick:()=>w("love"),disabled:x,children:o.jsx(Rr,{className:"w-4 h-4"})}),o.jsx(ae,{size:"icon",variant:"outline",className:"rounded-full h-8 w-8 text-green-500 hover:bg-green-500/20",title:"Like It",onClick:()=>w("like"),disabled:x,children:o.jsx(k3,{className:"w-4 h-4"})}),o.jsx(ae,{size:"icon",variant:"outline",className:"rounded-full h-8 w-8 text-yellow-500 hover:bg-yellow-500/20",title:"Recommend",onClick:()=>w("recommend"),disabled:x,children:o.jsx(Nt,{className:"w-4 h-4"})}),o.jsx(ae,{size:"icon",variant:"outline",className:"rounded-full h-8 w-8",title:"Share",onClick:S,children:o.jsx(w3,{className:"w-4 h-4"})})]})]})]}),o.jsxs("div",{className:"p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("h3",{className:"font-semibold text-sm leading-tight line-clamp-2 cursor-pointer hover:text-binge-purple transition-colors",onClick:j,children:t.title}),t.rating&&o.jsxs("span",{className:"flex items-center text-[10px] font-medium text-yellow-400",children:[o.jsx(Nt,{className:"w-3 h-3 mr-0.5"}),t.rating]})]}),t.streamingPlatforms&&t.streamingPlatforms.length>0&&o.jsx(NU,{platforms:t.streamingPlatforms,maxVisible:4,size:"xs"}),t.overview&&o.jsx("p",{className:"text-[11px] text-gray-400 line-clamp-3",children:t.overview})]})]})})}const Up=[{name:"Netflix",color:"#E50914"},{name:"Disney+",color:"#113CCF"},{name:"Max",color:"#002BE7"},{name:"Prime Video",color:"#00A8E1"},{name:"Hulu",color:"#1CE783"},{name:"Apple TV+",color:"#FFFFFF"},{name:"Paramount+",color:"#0064FF"},{name:"Peacock",color:"#FA6B00"},{name:"Crunchyroll",color:"#FF6600"},{name:"Showtime",color:"#FF0000"},{name:"Starz",color:"#FFFFFF"}];function g$(){const t=[...Up,...Up,...Up];return o.jsxs("section",{className:"py-16 bg-gradient-to-r from-slate-950 via-slate-900 to-slate-950 overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-teal-600/5"}),o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-transparent via-slate-900/50 to-transparent"}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:["Watch from ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-blue-500",children:"Everywhere"})]}),o.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"BingeBoard aggregates content from all major streaming platforms, so you never miss what's worth watching."})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-0 top-0 w-32 h-full bg-gradient-to-r from-slate-950 via-slate-950/80 to-transparent z-20 pointer-events-none"}),o.jsx("div",{className:"absolute right-0 top-0 w-32 h-full bg-gradient-to-l from-slate-950 via-slate-950/80 to-transparent z-20 pointer-events-none"}),o.jsx("div",{className:"flex overflow-hidden",children:o.jsx("div",{className:"flex animate-marquee-left space-x-16 py-8",children:t.map((e,n)=>o.jsx("div",{className:"flex-shrink-0 group cursor-pointer flex flex-col items-center",children:o.jsxs("div",{className:"w-20 h-20 flex items-center justify-center relative group-hover:scale-110 transition-all duration-300",children:[o.jsx("img",{src:uc(e.name),alt:e.name,className:`max-w-full max-h-full object-contain group-hover:brightness-125 transition-all duration-300 drop-shadow-2xl ${e.name==="Apple TV+"||e.name==="Starz"||e.name==="Showtime"||e.name==="Max"||e.name==="Peacock"||e.color==="#FFFFFF"?"filter invert brightness-100":"filter brightness-110"}`,style:{maxWidth:"64px",maxHeight:"48px"}}),o.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-30 transition-opacity duration-300 blur-xl scale-150",style:{backgroundColor:e.color}})]})},`${e.name}-${n}`))})})]}),o.jsxs("div",{className:"text-center mt-12",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Track, discover, and organize content from all major streaming platforms"}),o.jsx("div",{className:"flex flex-wrap justify-center gap-3"})]})]})]})}function Fo({icon:t,title:e,description:n,highlight:r}){return o.jsx(Qe,{className:"glass-effect border-teal-500/20 h-full group hover:border-teal-400/40 transition-all duration-300",children:o.jsxs(Ze,{className:"p-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-blue-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:o.jsx(t,{className:"h-8 w-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:e}),r&&o.jsx($e,{className:"mb-3 bg-red-500/20 text-red-300 border-red-400/30",children:r}),o.jsx("p",{className:"text-gray-400 leading-relaxed",children:n})]})})}function yP(){var S;const[t,e]=ir(),{toast:n}=Oa(),[r,i]=v.useState(!1),{refreshSession:l,isAuthenticated:c,user:d}=Un();console.log(" LANDING COMPONENT RENDERED - isAuthenticated:",c,"user:",(d==null?void 0:d.email)||"null");const[h,m]=v.useState(null);v.useEffect(()=>{(async()=>{try{const{getRedirectResult:j}=await ut(async()=>{const{getRedirectResult:T}=await Promise.resolve().then(()=>zs);return{getRedirectResult:T}},void 0),P=await g(),C=await j(P);if(C!=null&&C.user){console.log(" Redirect login successful:",C.user.email),console.log(" Starting backend session creation...");const T=await p(C.user);console.log(" Backend session created:",T),console.log(" REDIRECT - FORCING AUTH STATE REFRESH - Attempt 1"),await l(),console.log(" REDIRECT - Waiting for state propagation..."),await new Promise(R=>setTimeout(R,200)),console.log(" REDIRECT - FORCING AUTH STATE REFRESH - Attempt 2"),await l(),console.log(" REDIRECT - Final wait before navigation..."),await new Promise(R=>setTimeout(R,300)),console.log(" REDIRECT - Navigating to dashboard..."),e("/")}}catch(j){console.error(" Redirect login failed:",j),j.code!=="auth/null-user"&&n({title:"Sign-in Failed",description:j.message,variant:"destructive"})}})()},[]);const g=async()=>{const{auth:w}=await ut(async()=>{const{auth:j}=await Promise.resolve().then(()=>tC);return{auth:j}},void 0);return w},p=async w=>{try{console.log(" Creating backend session for:",w.email);const j=await w.getIdToken();console.log(" Firebase ID token obtained");const P={firebaseToken:j,user:{uid:w.uid,email:w.email,displayName:w.displayName,photoURL:w.photoURL}};console.log(" Sending session request to backend...");const C=await Ht("/api/auth/firebase-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},credentials:"include",body:JSON.stringify(P)});if(console.log(" Backend response status:",C.status),!C.ok){const R=await C.text();throw console.error(" Backend session creation failed:",R),new Error(`Failed to create backend session: ${C.status} ${R}`)}const T=await C.json();return console.log(" Backend session created successfully:",T),T}catch(j){throw console.error(" Backend session creation failed:",j),j}},x=async()=>{var w,j;console.log(" Google login button clicked!"),i(!0);try{console.log(" Starting Google login process..."),console.log(" Current URL:",window.location.href),console.log(" Firebase config check:"),console.log("  - API Key:"," Set"),console.log("  - Auth Domain:","your-project-id.firebaseapp.com"),console.log("  - Project ID:","your-project-id");const{GoogleAuthProvider:P,signInWithPopup:C}=await ut(async()=>{const{GoogleAuthProvider:A,signInWithPopup:F}=await Promise.resolve().then(()=>zs);return{GoogleAuthProvider:A,signInWithPopup:F}},void 0);console.log(" Firebase auth imports loaded");const T=await g();console.log(" Firebase auth instance obtained:",(j=(w=T==null?void 0:T.app)==null?void 0:w.options)==null?void 0:j.projectId);const R=new P;console.log(" Google provider created"),R.addScope("email"),R.addScope("profile"),R.setCustomParameters({prompt:"select_account"}),console.log(" Current origin:",window.location.origin),console.log(" Development mode:",!1);const O=window.open("","_blank","width=1,height=1");if(!O||O.closed||typeof O.closed>"u"){console.warn(" Popup might be blocked by browser"),n({title:"Popup Blocked",description:"Please allow popups for this site and try again.",variant:"destructive"});return}else O.close(),console.log(" Popup test passed");console.log(" Attempting Google popup sign-in...");const I=await C(T,R);console.log(" Google popup login successful:"),console.log("  - User ID:",I.user.uid),console.log("  - Email:",I.user.email),console.log("  - Display Name:",I.user.displayName),console.log("  - Photo URL:",I.user.photoURL),console.log(" Starting backend session creation...");const E=await p(I.user);console.log(" Backend session created:",E),console.log(" FORCING AUTH STATE REFRESH - Attempt 1"),await l(),console.log(" Waiting for state propagation..."),await new Promise(A=>setTimeout(A,200)),console.log(" FORCING AUTH STATE REFRESH - Attempt 2"),await l(),console.log(" Final wait before navigation..."),await new Promise(A=>setTimeout(A,300)),console.log(" Navigating to dashboard..."),e("/")}catch(P){console.error(" Google login error:",P),console.error("Error code:",P.code),console.error("Error message:",P.message),console.error("Error stack:",P.stack);let C=P.message;P.code==="auth/popup-blocked"?C="Popup was blocked by browser. Please allow popups and try again.":P.code==="auth/popup-closed-by-user"?C="Sign-in was cancelled.":P.code==="auth/operation-not-allowed"?C="Google sign-in is not enabled in Firebase Console.":P.code==="auth/configuration-not-found"?C="Firebase configuration error. Please check the setup.":P.code==="auth/unauthorized-domain"?C="This domain is not authorized for OAuth operations in Firebase Console.":P.code==="auth/network-request-failed"&&(C="Network error. Please check your internet connection."),n({title:"Sign-in Failed",description:C,variant:"destructive"})}finally{console.log(" Setting loading to false"),i(!1)}},N=async()=>{var w,j;console.log(" Facebook login button clicked!"),i(!0);try{console.log(" Starting Facebook login process..."),console.log(" Current URL:",window.location.href),console.log(" Firebase config check:"),console.log("  - API Key:"," Set"),console.log("  - Auth Domain:","your-project-id.firebaseapp.com"),console.log("  - Project ID:","your-project-id");const{FacebookAuthProvider:P,signInWithPopup:C}=await ut(async()=>{const{FacebookAuthProvider:A,signInWithPopup:F}=await Promise.resolve().then(()=>zs);return{FacebookAuthProvider:A,signInWithPopup:F}},void 0);console.log(" Firebase auth imports loaded");const T=await g();console.log(" Firebase auth instance obtained:",(j=(w=T==null?void 0:T.app)==null?void 0:w.options)==null?void 0:j.projectId);const R=new P;console.log(" Facebook provider created"),R.addScope("email"),R.setCustomParameters({display:"popup"}),console.log(" Current origin:",window.location.origin),console.log(" Development mode:",!1);const O=window.open("","_blank","width=1,height=1");if(!O||O.closed||typeof O.closed>"u"){console.warn(" Popup might be blocked by browser"),n({title:"Popup Blocked",description:"Please allow popups for this site and try again.",variant:"destructive"});return}else O.close(),console.log(" Popup test passed");console.log(" Attempting Facebook popup sign-in...");const I=await C(T,R);console.log(" Facebook popup login successful:"),console.log("  - User ID:",I.user.uid),console.log("  - Email:",I.user.email),console.log("  - Display Name:",I.user.displayName),console.log("  - Photo URL:",I.user.photoURL),console.log(" Starting backend session creation...");const E=await p(I.user);console.log(" Backend session created:",E),console.log(" FORCING AUTH STATE REFRESH - Attempt 1"),await l(),console.log(" Waiting for state propagation..."),await new Promise(A=>setTimeout(A,200)),console.log(" FORCING AUTH STATE REFRESH - Attempt 2"),await l(),console.log(" Final wait before navigation..."),await new Promise(A=>setTimeout(A,300)),console.log(" Navigating to dashboard..."),e("/")}catch(P){console.error(" Facebook login error:",P),console.error("Error code:",P.code),console.error("Error message:",P.message),console.error("Error stack:",P.stack);let C=P.message;P.code==="auth/popup-blocked"?C="Popup was blocked by browser. Please allow popups and try again.":P.code==="auth/popup-closed-by-user"?C="Sign-in was cancelled.":P.code==="auth/operation-not-allowed"?C="Facebook sign-in is not enabled in Firebase Console.":P.code==="auth/configuration-not-found"?C="Firebase configuration error. Please check the setup.":P.code==="auth/unauthorized-domain"?C="This domain is not authorized for OAuth operations in Firebase Console.":P.code==="auth/network-request-failed"&&(C="Network error. Please check your internet connection."),n({title:"Sign-in Failed",description:C,variant:"destructive"})}finally{console.log(" Setting loading to false"),i(!1)}},k=async w=>{try{console.log(` Fetching: ${w}`);const j=await Ht(w);if(console.log(` Response status: ${j.status} ${j.statusText}`),console.log(` Content-Type: ${j.headers.get("content-type")}`),j.ok){const P=j.headers.get("content-type");if(P&&P.includes("application/json")){const C=await j.json();return console.log(" JSON data received:",C),C}else{const C=await j.text();return console.error(" Expected JSON but got HTML/text:",C.substring(0,200)+"..."),console.warn("Response is not JSON, likely HTML error page"),null}}else{const P=await j.text();return console.error(` HTTP ${j.status}: ${P.substring(0,200)}...`),null}}catch(j){return console.error(" Fetch failed:",j),null}};return v.useEffect(()=>{(async()=>{console.log(" Loading trending shows...");const j=await k("/api/trending/tv/day?includeStreaming=true");console.log(" Trending shows data:",j),m(j)})()},[]),o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsxs("div",{className:"hero-section relative overflow-hidden bg-gradient-to-br from-black via-slate-900 to-black",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('/grid.svg?v=2')] bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"}),o.jsx("div",{className:"relative container mx-auto px-4 py-12 min-h-screen flex flex-col justify-center",children:o.jsxs("div",{className:"text-center space-y-8 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col items-center space-y-4 mb-8",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-16 h-12 md:w-20 md:h-16 bg-gradient-to-br from-slate-700 to-slate-900 rounded-xl shadow-2xl border-2 border-slate-600 relative",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-lg flex items-center justify-center",children:o.jsx("div",{className:"text-2xl md:text-3xl font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 8px rgba(0,0,0,0.8), 0 0 4px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-4 h-1.5 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-6 h-1.5 bg-slate-600 rounded-sm"})]})}),o.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black leading-tight",children:[o.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Binge"}),o.jsx("span",{className:"text-white font-light",children:"Board"})]})]}),o.jsxs("p",{className:"text-lg md:text-xl lg:text-2xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:["Your ",o.jsx("span",{className:"text-teal-400 font-semibold",children:"ultimate entertainment hub"})," for tracking shows, movies, and sports"]}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-sm",children:[o.jsxs($e,{className:"bg-teal-500/20 text-teal-300 border-teal-400/30 px-4 py-2",children:[o.jsx(ns,{className:"w-4 h-4 mr-2"}),"AI Recommendations"]}),o.jsxs($e,{className:"bg-blue-500/20 text-blue-300 border-blue-400/30 px-4 py-2",children:[o.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Social Features"]}),o.jsxs($e,{className:"bg-purple-500/20 text-purple-300 border-purple-400/30 px-4 py-2",children:[o.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Privacy First"]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center items-center pt-8",children:[o.jsxs(ae,{onClick:x,disabled:r,className:"group relative bg-white/5 backdrop-blur-sm hover:bg-white/10 border border-white/10 hover:border-red-400/50 text-white font-medium px-6 py-3 text-sm inline-flex items-center gap-2 transition-all duration-300 hover:scale-[1.02] rounded-lg w-full sm:w-auto",children:[o.jsx(bv,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{children:r?"Signing in...":"Join with Google"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"})]}),o.jsxs(ae,{onClick:N,disabled:r,className:"group relative bg-white/5 backdrop-blur-sm hover:bg-white/10 border border-white/10 hover:border-blue-400/50 text-white font-medium px-6 py-3 text-sm inline-flex items-center gap-2 transition-all duration-300 hover:scale-[1.02] rounded-lg w-full sm:w-auto",children:[o.jsx(wv,{className:"w-4 h-4 text-blue-400"}),o.jsx("span",{children:r?"Signing in...":"Join with Facebook"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"})]}),o.jsxs("a",{href:"/signup",className:"group relative bg-white/5 backdrop-blur-sm hover:bg-white/10 border border-white/10 hover:border-teal-400/50 text-white font-medium px-6 py-3 text-sm inline-flex items-center gap-2 transition-all duration-300 hover:scale-[1.02] rounded-lg w-full sm:w-auto",children:[o.jsx(Tj,{className:"w-4 h-4 text-teal-400"}),o.jsx("span",{children:"Create Account"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"})]})]}),o.jsx("div",{className:"text-center space-y-3",children:o.jsxs("div",{className:"pt-4 text-base text-gray-300",children:[o.jsx("span",{children:"Already have an account? "}),o.jsx("a",{href:"/login",className:"text-teal-400 hover:text-teal-300 underline font-semibold text-lg",children:"Sign in"})]})})]})})]}),o.jsx(g$,{}),o.jsx("div",{className:"py-24 bg-gradient-to-b from-black to-slate-900",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Everything You Need in One Place"}),o.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Powerful features designed for modern entertainment enthusiasts"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[o.jsx(Fo,{icon:St,title:"Smart Tracking",description:"Automatically track your viewing progress across all platforms with intelligent episode detection and seamless syncing."}),o.jsx(Fo,{icon:Mn,title:"Social Discovery",description:"Connect with friends, share recommendations, and discover trending content through our vibrant community."}),o.jsx(Fo,{icon:ls,title:"AI Recommendations",description:"Get personalized suggestions powered by advanced AI that learns from your viewing habits and preferences.",highlight:"AI Powered"}),o.jsx(Fo,{icon:kr,title:"Real-time Stats",description:"Track your viewing statistics, discover patterns, and see how your taste evolves over time."}),o.jsx(Fo,{icon:Wh,title:"Multi-Platform",description:"Works seamlessly across web, mobile, and tablet with real-time synchronization of all your data."}),o.jsx(Fo,{icon:Sr,title:"Privacy First",description:"Your data stays secure with end-to-end encryption and transparent privacy controls you can trust."})]})]})}),h&&o.jsx("div",{className:"py-16 bg-black",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white",children:"Trending Now"}),o.jsx($e,{className:"bg-red-500/20 text-red-300 border-red-400/30",children:"Live Data"})]}),o.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",children:(S=h.results)==null?void 0:S.filter(w=>w&&w.vote_average!=null).slice(0,8).map(w=>{var j;return o.jsx(p$,{show:{tmdbId:w.id,title:w.name||w.title||"Unknown Title",posterPath:w.poster_path?`https://image.tmdb.org/t/p/w300${w.poster_path}`:void 0,rating:((j=w.vote_average)==null?void 0:j.toFixed(1))||"N/A",streamingPlatforms:w.streamingPlatforms},variant:"compact",onInteraction:(P,C)=>{console.log(`Landing page trending interaction: ${P} on ${C}`)}},w.id)})})]})}),o.jsx("footer",{className:"bg-slate-900 py-12 border-t border-slate-800",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[o.jsxs("div",{className:"flex flex-col items-center md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-3 mb-4 md:mb-0",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-12 h-10 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:o.jsx("div",{className:"text-lg font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),o.jsxs("span",{className:"text-xl select-none text-center md:text-left",children:[o.jsx("span",{className:"font-black bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Binge"}),o.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]})]}),o.jsxs("div",{className:"flex space-x-6 text-gray-400",children:[o.jsx(Et,{href:"/terms",className:"hover:text-white transition-colors",children:"Terms"}),o.jsx(Et,{href:"/privacy",className:"hover:text-white transition-colors",children:"Privacy"}),o.jsx(Et,{href:"/contact",className:"hover:text-white transition-colors",children:"Contact"})]})]}),o.jsx("div",{className:"mt-8 pt-8 border-t border-slate-800 text-center text-gray-400",children:o.jsx("p",{children:" 2024 BingeBoard. All rights reserved."})})]})})]})}async function dd(t){return(await Ht("/api/auth/firebase-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebaseToken:t})})).ok}function Q1(){const t=navigator.userAgent;return/iPhone|iPad|iPod/i.test(t)&&/Safari/i.test(t)&&!/CriOS|FxiOS|EdgiOS/i.test(t)}function y$(){const[,t]=ir(),{toast:e}=Oa(),{isAuthenticated:n,user:r,isLoading:i,refreshSession:l}=Un(),[c,d]=v.useState(!0),[h,m]=v.useState(!1),[g,p]=v.useState(!1),[x,N]=v.useState(!1),[k,S]=v.useState(!1),[w,j]=v.useState({email:"",password:"",firstName:"",lastName:""});v.useEffect(()=>{n&&r&&!i&&(console.log(" User already authenticated, redirecting to dashboard:",r.email),t("/"))},[n,r,i,t]),v.useEffect(()=>{},[]);const P=async E=>{if(E.preventDefault(),!h){if(!w.email.includes("@")||w.password.length<6){e({title:"Invalid input",description:"Please provide a valid email and password (min 6 characters).",variant:"destructive"});return}m(!0);try{if(c){console.log(" Firebase email/password login attempt for:",w.email.trim());const F=(await nv(We,w.email.trim(),w.password.trim())).user;console.log(" Firebase email/password login successful:",F.email);const q=await F.getIdToken();await dd(q)?(console.log(" Backend session created successfully"),k?(localStorage.setItem("rememberLogin","true"),localStorage.setItem("userEmail",w.email)):(localStorage.removeItem("rememberLogin"),localStorage.removeItem("userEmail")),await l(),t("/")):(console.error(" Failed to create backend session"),await We.signOut(),e({title:"Login failed",description:"Failed to complete authentication. Please try again.",variant:"destructive"}))}else{console.log(" Firebase email/password registration attempt for:",w.email.trim());const F=(await tv(We,w.email.trim(),w.password.trim())).user;console.log(" Firebase email/password registration successful:",F.email);const q=await F.getIdToken();(await Ht("/api/auth/firebase-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebaseToken:q,user:{firstName:w.firstName.trim(),lastName:w.lastName.trim(),email:w.email.trim()}})})).ok?(console.log(" Backend session created successfully"),await l(),t("/")):(console.error(" Failed to create backend session"),await We.signOut(),e({title:"Registration failed",description:"Failed to complete registration. Please try again.",variant:"destructive"}))}}catch(A){console.error("Authentication error:",A);let F="Authentication failed. Please try again.",q="Error";if(A.code)switch(A.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":q="Login Failed",F="Invalid email or password. Please check your credentials and try again.";break;case"auth/email-already-in-use":q="Account Exists",F="An account with this email already exists. Try logging in instead.";break;case"auth/weak-password":q="Weak Password",F="Password should be at least 6 characters long.";break;case"auth/invalid-email":q="Invalid Email",F="Please enter a valid email address.";break;case"auth/network-request-failed":q="Network Error",F="Unable to connect. Please check your internet connection and try again.";break;case"auth/too-many-requests":q="Too Many Attempts",F="Too many failed attempts. Please try again later.";break;default:q="Authentication Error",F=A.message||"Failed to authenticate. Please try again."}else q="Network Error",F="Unable to connect to server. Please check your connection and try again.";e({title:q,description:F,variant:"destructive"})}finally{m(!1)}}},C=async()=>{if(!w.email){e({title:"Email required",description:"Please enter your email address first.",variant:"destructive"});return}m(!0);try{const E=await Ht("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:w.email})}),A=await E.json();E.ok?(e({title:"Password reset email sent",description:"Check your email for password reset instructions."}),N(!1)):e({title:"Error",description:A.message||"Failed to send password reset email",variant:"destructive"})}catch{e({title:"Error",description:"Network error. Please try again.",variant:"destructive"})}finally{m(!1)}};v.useEffect(()=>{(async()=>{try{console.log(" Checking for OAuth redirect result on login page...");const A=await Y_(We);if(A&&A.user){console.log(" OAuth redirect result found:",A.user.email),m(!0);const F=await A.user.getIdToken();await dd(F)?(console.log(" Backend session created successfully"),await l(),t("/")):(console.error(" Failed to create backend session"),await We.signOut(),e({title:"Login failed",description:"Failed to complete authentication. Please try again.",variant:"destructive"}),m(!1))}else console.log(" No OAuth redirect result found")}catch(A){console.error(" OAuth redirect error:",A),A.message.includes("popup-closed-by-user")||e({title:"Authentication error",description:A.message||"Failed to complete authentication",variant:"destructive"}),m(!1)}})()},[e]);const T=E=>{j({...w,[E.target.name]:E.target.value})},R=E=>{S(E),E||(localStorage.removeItem("rememberLogin"),localStorage.removeItem("userEmail"),console.log(" Cleared remembered credentials"))},O=async()=>{try{if(console.log(" Starting Google authentication..."),m(!0),Q1()){console.log(" Mobile Safari detected, using redirect flow"),await Ug(We,wa);return}console.log(" Using popup flow for Google auth"),m(!0);const E=await oc(We,wa);if(E.user){console.log(" Google popup authentication successful:",E.user.email);const A=await E.user.getIdToken();await dd(A)?(console.log(" Backend session created successfully"),k&&E.user.email&&(localStorage.setItem("rememberLogin","true"),localStorage.setItem("userEmail",E.user.email)),await l(),t("/")):(console.error(" Failed to create backend session"),await We.signOut(),e({title:"Login failed",description:"Failed to complete authentication. Please try again.",variant:"destructive"}))}}catch(E){console.error(" Google authentication error:",E),E.code==="auth/popup-closed-by-user"?e({title:"Authentication cancelled",description:"Google login was cancelled",variant:"default"}):E.code==="auth/popup-blocked"?e({title:"Popup blocked",description:"Please allow popups for this site and try again",variant:"destructive"}):e({title:"Authentication Error",description:E.message||"Failed to authenticate with Google",variant:"destructive"})}finally{m(!1)}},I=async()=>{try{if(console.log(" Starting Facebook authentication..."),m(!0),Q1()){console.log(" Mobile Safari detected, using redirect flow"),await Ug(We,ac);return}console.log(" Using popup flow for Facebook auth"),m(!0);const E=await oc(We,ac);if(E.user){console.log(" Facebook popup authentication successful:",E.user.email);const A=await E.user.getIdToken();await dd(A)?(console.log(" Backend session created successfully"),k&&E.user.email&&(localStorage.setItem("rememberLogin","true"),localStorage.setItem("userEmail",E.user.email)),await l(),t("/")):(console.error(" Failed to create backend session"),await We.signOut(),e({title:"Login failed",description:"Failed to complete authentication. Please try again.",variant:"destructive"}))}}catch(E){console.error(" Facebook authentication error:",E),E.code==="auth/popup-closed-by-user"?e({title:"Authentication cancelled",description:"Facebook login was cancelled",variant:"default"}):E.code==="auth/popup-blocked"?e({title:"Popup blocked",description:"Please allow popups for this site and try again",variant:"destructive"}):e({title:"Authentication Error",description:E.message||"Failed to authenticate with Facebook",variant:"destructive"})}finally{m(!1)}};return o.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:o.jsx(Qe,{className:"w-full max-w-md glass-effect border-slate-700/50",children:o.jsxs(Ze,{className:"pt-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-12 h-10 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:o.jsx("div",{className:"text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-1 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-slate-600 rounded-sm"})]})}),o.jsxs("div",{className:"block",children:[o.jsxs("span",{className:"text-xl sm:text-2xl select-none",children:[o.jsx("span",{className:"font-black bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Binge"}),o.jsx("span",{className:"font-light text-white ml-1",children:"Board"})]}),o.jsx("div",{className:"text-xs text-teal-400 font-medium tracking-widest uppercase opacity-75 hidden sm:block",children:"Entertainment Hub"})]})]})}),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&o.jsx("div",{className:"mb-6 p-3 bg-amber-900/20 border border-amber-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full flex-shrink-0"}),o.jsx("p",{className:"text-amber-200 text-xs",children:"Mobile authentication optimized for better compatibility."})]})}),x?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Reset your password"}),o.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"Enter your email address and we'll send you a password reset link."})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Zd,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Zt,{type:"email",name:"email",placeholder:"Email address",value:w.email,onChange:T,className:"bg-gray-800/50 border-slate-600/50 text-white pl-10 focus:border-teal-500/50 focus:ring-teal-500/20",required:!0})]}),o.jsx(ae,{onClick:C,disabled:h,className:"w-full bg-gradient-to-r from-teal-600 to-blue-600 hover:from-teal-700 hover:to-blue-700 text-white font-semibold",children:h?"Sending...":"Send Reset Link"}),o.jsx(ae,{variant:"link",onClick:()=>N(!1),className:"w-full text-teal-400 hover:text-teal-300",children:"Back to Login"})]}):o.jsxs("div",{children:[o.jsx("div",{className:"text-center mb-6",children:o.jsx("p",{className:"text-gray-400 text-sm",children:c?"Welcome back to your entertainment hub":"Join the ultimate entertainment hub"})}),o.jsxs("form",{onSubmit:P,className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Zd,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Zt,{type:"email",name:"email",placeholder:"Email address",value:w.email,onChange:T,className:"bg-gray-800/50 border-slate-600/50 text-white pl-10 focus:border-teal-500/50 focus:ring-teal-500/20",required:!0})]}),o.jsxs("div",{className:"relative",children:[o.jsx(pa,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Zt,{type:g?"text":"password",name:"password",placeholder:"Password",value:w.password,onChange:T,className:"bg-gray-800/50 border-slate-600/50 text-white pl-10 pr-10 focus:border-teal-500/50 focus:ring-teal-500/20",required:!0}),o.jsx("button",{type:"button",onClick:()=>p(!g),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-300","aria-label":g?"Hide password":"Show password",children:g?o.jsx(Yd,{className:"h-4 w-4"}):o.jsx(Dn,{className:"h-4 w-4"})})]}),!c&&o.jsx("div",{className:"relative",children:o.jsx(Zt,{type:"text",name:"firstName",placeholder:"First Name",value:w.firstName,onChange:T,className:"bg-gray-800/50 border-slate-600/50 text-white focus:border-teal-500/50 focus:ring-teal-500/20",required:!0})}),!c&&o.jsx("div",{className:"relative",children:o.jsx(Zt,{type:"text",name:"lastName",placeholder:"Last Name",value:w.lastName,onChange:T,className:"bg-gray-800/50 border-slate-600/50 text-white focus:border-teal-500/50 focus:ring-teal-500/20",required:!0})}),c&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"remember",checked:k,onChange:E=>R(E.target.checked),className:"h-4 w-4 rounded border-slate-600/50 bg-gray-800/50 text-teal-600 focus:ring-teal-500/20"}),o.jsx("label",{htmlFor:"remember",className:"text-sm text-gray-300 cursor-pointer",children:"Remember me"})]}),o.jsx(ae,{type:"button",variant:"link",onClick:()=>N(!0),className:"text-teal-400 hover:text-teal-300 p-0 h-auto",children:"Forgot password?"})]}),o.jsx(ae,{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-teal-600 to-blue-600 hover:from-teal-700 hover:to-blue-700 text-white font-semibold",children:h?"Please wait...":c?"Log In":"Create Account"}),o.jsx(ae,{type:"button",onClick:()=>{console.log(" Demo login activated"),window.location.href="/dashboard?demo=true"},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold",children:" Demo Login (Skip Firebase)"}),o.jsx("div",{className:"text-center",children:o.jsx(ae,{type:"button",variant:"link",onClick:()=>d(!c),className:"text-teal-400 hover:text-teal-300",children:c?"Need an account? Sign up":"Already have an account? Log in"})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-slate-600/50"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-black px-2 text-gray-400",children:"Or continue with"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(ae,{type:"button",variant:"outline",onClick:O,disabled:h,className:"bg-gray-800/50 border-slate-600/50 text-white hover:bg-gray-700/50",children:[o.jsx(bv,{className:"h-4 w-4 mr-2"}),"Google"]}),o.jsxs(ae,{type:"button",variant:"outline",onClick:I,disabled:h,className:"bg-gray-800/50 border-slate-600/50 text-white hover:bg-gray-700/50",children:[o.jsx(wv,{className:"h-4 w-4 mr-2"}),"Facebook"]})]})]})]})]})})})}const Cv=new Jn,vP=new Xn;Cv.addScope("email");Cv.addScope("profile");vP.addScope("email");const Ev=t=>({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL}),v$=async()=>{try{console.log("Starting Google sign-in...");const e=(await oc(We,Cv)).user;return console.log("Google sign-in successful:",e.email),Ev(e)}catch(t){throw console.error("Google sign-in error:",t),t.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled"):t.code==="auth/popup-blocked"?new Error("Pop-up was blocked by browser. Please allow pop-ups for this site."):t.code==="auth/cancelled-popup-request"?new Error("Sign-in was cancelled"):new Error(t.message||"Google sign-in failed")}},x$=async()=>{try{console.log("Starting Facebook sign-in...");const e=(await oc(We,vP)).user;return console.log("Facebook sign-in successful:",e.email),Ev(e)}catch(t){throw console.error("Facebook sign-in error:",t),t.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled"):t.code==="auth/popup-blocked"?new Error("Pop-up was blocked by browser. Please allow pop-ups for this site."):t.code==="auth/account-exists-with-different-credential"?new Error("An account already exists with the same email address but different sign-in credentials."):new Error(t.message||"Facebook sign-in failed")}},w$=async(t,e,n)=>{try{if(console.log(" Starting email sign-up for:",t),console.log(" Password length:",e.length),console.log(" Display name:",n),!t||!e)throw new Error("Email and password are required");if(!t.includes("@"))throw new Error("Please enter a valid email address");if(e.length<6)throw new Error("Password must be at least 6 characters");const r=await tv(We,t,e);return console.log(" Email sign-up successful:",r.user.email),Ev(r.user)}catch(r){if(console.error(" Email sign-up error:",r),console.error(" Error code:",r.code),console.error(" Error message:",r.message),r.code==="auth/email-already-in-use"){try{const i=await rv(We,t);if(i.length>0){const l=i.map(c=>c.includes("google")?"Google":c.includes("facebook")?"Facebook":c==="password"?"Email/Password":c).join(", ");throw new Error(`This email is already registered with ${l}. Please use that sign-in method instead.`)}}catch(i){console.warn("Could not check existing sign-in methods:",i)}throw new Error("An account already exists with this email address. Please sign in instead.")}else{if(r.code==="auth/invalid-email")throw new Error("Invalid email address");if(r.code==="auth/operation-not-allowed")throw new Error("Email/password accounts are not enabled for this project");if(r.code==="auth/weak-password")throw new Error("Password should be at least 6 characters")}throw new Error(r.message||"Sign-up failed")}},b$=`
To enable proper Firebase token verification in production:

1. Install Firebase Admin SDK:
   npm install firebase-admin

2. Set environment variables:
   FIREBASE_PROJECT_ID=your-project-id
   FIREBASE_CLIENT_EMAIL=your-service-account-email
   FIREBASE_PRIVATE_KEY=your-private-key

3. Uncomment the Firebase Admin code in getAuthUser function

4. Use requireAuth middleware on protected routes:
   app.get('/api/protected', requireAuth, (req, res) => {
     // req.user will contain the authenticated user
   });

5. Use authenticatedFetch on the client:
   const response = await authenticatedFetch('/api/protected');
`;console.log(" Auth module loaded. For production Firebase setup:");console.log(b$);function N$(){const[,t]=ir(),[e,n]=v.useState(1),[r,i]=v.useState(!1),[l,c]=v.useState(!1),[d,h]=v.useState(null),[m,g]=v.useState(null),[p,x]=v.useState({email:"",password:"",firstName:"",lastName:"",favoriteGenres:[],watchingGoals:"",experience:""}),[N,k]=v.useState(!1),S=I=>{h(I),g(null),setTimeout(()=>h(null),6e3)},w=I=>{g(I),h(null),console.log("",I)},j=async()=>{c(!0),h(null),k(!0);try{console.log(" Starting Google signup...");const I=await v$();w(`Welcome ${I.displayName||I.email}! `),setTimeout(()=>{console.log(" Moving to onboarding after Google signup..."),n(2),k(!1)},1e3)}catch(I){console.error(" Google signup error:",I),S(I.message),k(!1)}finally{c(!1)}},P=async()=>{c(!0),h(null),k(!0);try{console.log(" Starting Facebook signup...");const I=await x$();w(`Welcome ${I.displayName||I.email}! `),setTimeout(()=>{console.log(" Moving to onboarding after Facebook signup..."),n(2),k(!1)},1e3)}catch(I){console.error(" Facebook signup error:",I),S(I.message),k(!1)}finally{c(!1)}},C=async I=>{I.preventDefault(),c(!0),h(null),k(!0);try{console.log(" Starting email signup process...");const E=`${p.firstName} ${p.lastName}`.trim(),A=await w$(p.email,p.password,E||void 0);console.log(" Signup successful, showing onboarding..."),w(`Account created for ${A.email}! Welcome to BingeBoard! `),setTimeout(()=>{console.log(" Moving to onboarding step..."),n(2),k(!1)},1e3)}catch(E){if(console.error(" Signup error:",E),k(!1),E.message.includes("already registered")||E.message.includes("already exists"))try{const A=await rv(We,p.email);if(A.length>0){const F=A.some(z=>z.includes("google")),q=A.some(z=>z.includes("facebook"));if(F||q){const z=[];F&&z.push("Google"),q&&z.push("Facebook"),S(`This email is already registered with ${z.join(" and ")}. Please use the "${z[0]} Sign-in" button above instead.`)}else S("This email is already registered. Please use the login page instead.")}else S(E.message)}catch{S(E.message)}else S(E.message)}finally{c(!1)}},T=async I=>{I.preventDefault(),c(!0);try{await Wg.initialize();const E=await Wg.updatePreferences({favoriteGenres:p.favoriteGenres,watchingGoals:p.watchingGoals,experience:p.experience});try{(await fetch("/api/user/preferences/sync-onboarding",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({onboardingData:{favoriteGenres:p.favoriteGenres,watchingGoals:[p.watchingGoals],experience:p.experience,streamingPlatforms:[],contentTypes:["Movies","TV Series"],viewingHabits:{preferredTime:"evening",bingeDuration:"2-3 hours",weeklyGoal:"5-10 hours"},theme:"dark"}})})).ok&&console.log(" Onboarding data synced to server successfully")}catch(A){console.warn(" Failed to sync onboarding data to server:",A)}E?(console.log(" Saved onboarding data to user profile"),w("Profile setup complete! Welcome to BingeBoard! "),setTimeout(()=>{console.log(" Navigating to dashboard..."),t("/")},1500)):(console.warn(" Failed to save preferences, but continuing to dashboard"),w("Welcome to BingeBoard! "),setTimeout(()=>t("/"),1500))}catch(E){console.error(" Error saving onboarding data:",E),w("Welcome to BingeBoard! "),setTimeout(()=>t("/"),1500)}finally{c(!1)}},R=["Action","Adventure","Comedy","Drama","Horror","Sci-Fi","Fantasy","Romance","Thriller","Documentary","Animation","Crime"],O=I=>{x(E=>({...E,favoriteGenres:E.favoriteGenres.includes(I)?E.favoriteGenres.filter(A=>A!==I):[...E.favoriteGenres,I]}))};return e===2?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx(Et,{href:"/",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-6 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-sm flex items-center justify-center",children:o.jsx("div",{className:"text-xs font-black text-white",children:"B"})})}),o.jsxs("span",{className:"text-lg font-bold text-white",children:[o.jsx("span",{className:"font-black",children:"Binge"}),o.jsx("span",{className:"bg-gradient-to-r from-teal-400 to-cyan-400 bg-clip-text text-transparent font-light",children:"Board"})]})]})})}),o.jsxs(Qe,{className:"w-full max-w-2xl glass-effect border-slate-700/50",children:[o.jsxs(Ct,{className:"text-center",children:[o.jsx(It,{className:"text-3xl font-bold text-white mb-2",children:"Welcome to BingeBoard! "}),o.jsx("p",{className:"text-gray-400",children:"Let's personalize your experience"})]}),o.jsx(Ze,{children:o.jsxs("form",{onSubmit:T,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"What genres do you love? (Select all that apply)"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:R.map(I=>o.jsx(ae,{type:"button",variant:p.favoriteGenres.includes(I)?"default":"outline",className:`text-sm ${p.favoriteGenres.includes(I)?"bg-gradient-to-r from-teal-600 to-blue-600 text-white":"border-slate-700 text-gray-300 hover:text-white"}`,onClick:()=>O(I),children:I},I))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"What's your main goal?"}),o.jsx("div",{className:"space-y-2",children:["Discover new shows and movies","Keep track of what I'm watching","Get recommendations from friends","Organize my watchlist","Just for fun!"].map(I=>o.jsxs(ae,{type:"button",variant:p.watchingGoals===I?"default":"outline",className:`w-full justify-start text-left ${p.watchingGoals===I?"bg-gradient-to-r from-teal-600 to-blue-600 text-white":"border-slate-700 text-gray-300 hover:text-white"}`,onClick:()=>x(E=>({...E,watchingGoals:I})),children:[p.watchingGoals===I&&o.jsx(qd,{className:"h-4 w-4 mr-2"}),I]},I))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"How would you describe yourself?"}),o.jsx("div",{className:"space-y-2",children:["Casual viewer - I watch occasionally","Regular watcher - I always have something on","Binge expert - I finish series in one sitting","Completionist - I track everything I watch"].map(I=>o.jsxs(ae,{type:"button",variant:p.experience===I?"default":"outline",className:`w-full justify-start text-left ${p.experience===I?"bg-gradient-to-r from-teal-600 to-blue-600 text-white":"border-slate-700 text-gray-300 hover:text-white"}`,onClick:()=>x(E=>({...E,experience:I})),children:[p.experience===I&&o.jsx(qd,{className:"h-4 w-4 mr-2"}),I]},I))})]}),o.jsx(ae,{type:"submit",className:"w-full bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 hover:from-teal-700 hover:via-cyan-700 hover:to-blue-700",size:"lg",children:"Complete Setup & Start Exploring"})]})})]})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx(Et,{href:"/",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-6 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-sm flex items-center justify-center",children:o.jsx("div",{className:"text-xs font-black text-white",children:"B"})})}),o.jsxs("span",{className:"text-lg font-bold text-white",children:[o.jsx("span",{className:"font-black",children:"Binge"}),o.jsx("span",{className:"bg-gradient-to-r from-teal-400 to-cyan-400 bg-clip-text text-transparent font-light",children:"Board"})]})]})})}),o.jsxs(Qe,{className:"w-full max-w-md glass-effect border-slate-700/50",children:[o.jsxs(Ct,{className:"text-center",children:[o.jsx(It,{className:"text-2xl font-bold text-white",children:"Join BingeBoard"}),o.jsx("p",{className:"text-gray-400",children:"Start tracking your entertainment journey"})]}),o.jsxs(Ze,{className:"space-y-6",children:[d&&o.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-300 text-sm backdrop-blur-sm animate-slide-down",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"}),o.jsx("span",{className:"font-medium",children:d})]})}),m&&o.jsx("div",{className:"p-4 rounded-xl bg-green-500/10 border border-green-500/20 text-green-300 text-sm backdrop-blur-sm animate-slide-down",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ns,{className:"h-4 w-4 text-green-400 animate-pulse"}),o.jsx("span",{className:"font-medium",children:m})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(ae,{variant:"outline",className:"w-full border-slate-700 bg-white/5 hover:bg-white/10 text-white transition-all duration-200 hover:scale-105 hover:shadow-lg group",onClick:j,disabled:l,children:[l?o.jsx(Cd,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(bv,{className:"h-4 w-4 mr-2 group-hover:scale-110 transition-transform"}),"Sign up with Google"]}),o.jsxs(ae,{variant:"outline",className:"w-full border-slate-700 bg-blue-600/10 hover:bg-blue-600/20 text-white transition-all duration-200 hover:scale-105 hover:shadow-lg group",onClick:P,disabled:l,children:[l?o.jsx(Cd,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(wv,{className:"h-4 w-4 mr-2 group-hover:scale-110 transition-transform"}),"Sign up with Facebook"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-slate-700"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-slate-950 px-2 text-slate-400",children:"Or"})})]}),o.jsxs("form",{onSubmit:C,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Kh,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Zt,{type:"text",placeholder:"First name",value:p.firstName,onChange:I=>x({...p,firstName:I.target.value}),className:"pl-10 bg-slate-800/50 border-slate-700 text-white placeholder:text-gray-400",required:!0})]}),o.jsx("div",{children:o.jsx(Zt,{type:"text",placeholder:"Last name",value:p.lastName,onChange:I=>x({...p,lastName:I.target.value}),className:"bg-slate-800/50 border-slate-700 text-white placeholder:text-gray-400",required:!0})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Zd,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Zt,{type:"email",placeholder:"Email address",value:p.email,onChange:I=>x({...p,email:I.target.value}),className:"pl-10 bg-slate-800/50 border-slate-700 text-white placeholder:text-gray-400",required:!0})]}),o.jsxs("div",{className:"relative",children:[o.jsx(pa,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(Zt,{type:r?"text":"password",placeholder:"Password (min 6 characters)",value:p.password,onChange:I=>x({...p,password:I.target.value}),className:"pl-10 pr-10 bg-slate-800/50 border-slate-700 text-white placeholder:text-gray-400",required:!0,minLength:6}),o.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:r?o.jsx(Yd,{className:"h-4 w-4"}):o.jsx(Dn,{className:"h-4 w-4"})})]}),o.jsx(ae,{type:"submit",className:"w-full bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 hover:from-teal-700 hover:via-cyan-700 hover:to-blue-700",disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(Cd,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Account..."]}):"Create Account"})]}),o.jsx("div",{className:"text-center",children:o.jsx(Et,{href:"/login",children:o.jsx("button",{className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Already have an account? Sign in"})})}),o.jsx("div",{className:"text-center",children:o.jsx(Et,{href:"/",children:o.jsx("button",{className:"text-sm text-teal-400 hover:text-teal-300 transition-colors",children:" Back to Home"})})})]})]})]})}function S$(){const[,t]=ir(),[e,n]=v.useState(""),[r,i]=v.useState(""),[l,c]=v.useState(!1),[d,h]=v.useState(!1),[m,g]=v.useState(""),[p,x]=v.useState(!1),[N,k]=v.useState("");v.useEffect(()=>{const j=new URLSearchParams(window.location.search).get("token");j?g(j):k("Invalid or missing reset token")},[]);const S=async w=>{if(w.preventDefault(),x(!0),k(""),e!==r){k("Passwords do not match"),x(!1);return}if(e.length<6){k("Password must be at least 6 characters long"),x(!1);return}try{const j=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:m,password:e})}),P=await j.json();j.ok?(k("Password reset successful! Redirecting to login..."),setTimeout(()=>{t("/login")},2e3)):k(P.message||"Password reset failed")}catch{k("Network error. Please try again.")}finally{x(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[hsl(228,25%,3%)] via-[hsl(226,22%,6%)] to-[hsl(224,20%,8%)] flex items-center justify-center p-4",children:o.jsxs(Qe,{className:"w-full max-w-md bg-gray-900/50 border-gray-700 backdrop-blur-sm",children:[o.jsxs(Ct,{className:"space-y-1 pb-4 text-center",children:[o.jsxs(It,{className:"text-2xl text-white flex items-center justify-center",children:[o.jsx(Sr,{className:"w-6 h-6 mr-2 text-teal-400"}),"Reset Password"]}),o.jsx(jE,{className:"text-gray-400",children:"Enter your new password below"})]}),o.jsxs(Ze,{className:"space-y-6",children:[m?o.jsxs("form",{onSubmit:S,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-300",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(pa,{className:"h-5 w-5 text-gray-400"})}),o.jsx(Zt,{type:l?"text":"password",placeholder:"Enter new password",value:e,onChange:w=>n(w.target.value),className:"pl-10 pr-10 bg-gray-800/50 border-gray-600 text-white placeholder-gray-400 focus:border-teal-400 focus:ring-teal-400",required:!0}),o.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?o.jsx(Yd,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):o.jsx(Dn,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(pa,{className:"h-5 w-5 text-gray-400"})}),o.jsx(Zt,{type:d?"text":"password",placeholder:"Confirm new password",value:r,onChange:w=>i(w.target.value),className:"pl-10 pr-10 bg-gray-800/50 border-gray-600 text-white placeholder-gray-400 focus:border-teal-400 focus:ring-teal-400",required:!0}),o.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?o.jsx(Yd,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):o.jsx(Dn,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]})]}),o.jsx(ae,{type:"submit",disabled:p,className:"w-full bg-teal-600 hover:bg-teal-700",children:p?"Resetting...":"Reset Password"})]}):o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx("p",{children:"Invalid or missing reset token. Please request a new password reset."}),o.jsx(ae,{variant:"outline",onClick:()=>t("/login"),className:"mt-4",children:"Back to Login"})]}),N&&o.jsx("div",{className:`text-center text-sm ${N.includes("successful")?"text-green-400":"text-red-400"}`,children:N})]})]})})}const Pv=v.createContext({});function Tv(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const df=v.createContext(null),Rv=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class k$ extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function j$({children:t,isPresent:e}){const n=v.useId(),r=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=v.useContext(Rv);return v.useInsertionEffect(()=>{const{width:c,height:d,top:h,left:m}=i.current;if(e||!r.current||!c||!d)return;r.current.dataset.motionPopId=n;const g=document.createElement("style");return l&&(g.nonce=l),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            top: ${h}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),o.jsx(k$,{isPresent:e,childRef:r,sizeRef:i,children:v.cloneElement(t,{ref:r})})}const _$=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:l,mode:c})=>{const d=Tv(C$),h=v.useId(),m=v.useCallback(p=>{d.set(p,!0);for(const x of d.values())if(!x)return;r&&r()},[d,r]),g=v.useMemo(()=>({id:h,initial:e,isPresent:n,custom:i,onExitComplete:m,register:p=>(d.set(p,!1),()=>d.delete(p))}),l?[Math.random(),m]:[n,m]);return v.useMemo(()=>{d.forEach((p,x)=>d.set(x,!1))},[n]),v.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),c==="popLayout"&&(t=o.jsx(j$,{isPresent:n,children:t})),o.jsx(df.Provider,{value:g,children:t})};function C$(){return new Map}function xP(t=!0){const e=v.useContext(df);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,l=v.useId();v.useEffect(()=>{t&&i(l)},[t]);const c=v.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const hd=t=>t.key||"";function Z1(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const Av=typeof window<"u",wP=Av?v.useLayoutEffect:v.useEffect,ba=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:l="sync",propagate:c=!1})=>{const[d,h]=xP(c),m=v.useMemo(()=>Z1(t),[t]),g=c&&!d?[]:m.map(hd),p=v.useRef(!0),x=v.useRef(m),N=Tv(()=>new Map),[k,S]=v.useState(m),[w,j]=v.useState(m);wP(()=>{p.current=!1,x.current=m;for(let T=0;T<w.length;T++){const R=hd(w[T]);g.includes(R)?N.delete(R):N.get(R)!==!0&&N.set(R,!1)}},[w,g.length,g.join("-")]);const P=[];if(m!==k){let T=[...m];for(let R=0;R<w.length;R++){const O=w[R],I=hd(O);g.includes(I)||(T.splice(R,0,O),P.push(O))}l==="wait"&&P.length&&(T=P),j(Z1(T)),S(m);return}const{forceRender:C}=v.useContext(Pv);return o.jsx(o.Fragment,{children:w.map(T=>{const R=hd(T),O=c&&!d?!1:m===w||g.includes(R),I=()=>{if(N.has(R))N.set(R,!0);else return;let E=!0;N.forEach(A=>{A||(E=!1)}),E&&(C==null||C(),j(x.current),c&&(h==null||h()),r&&r())};return o.jsx(_$,{isPresent:O,initial:!p.current||n?void 0:!1,custom:O?void 0:e,presenceAffectsLayout:i,mode:l,onExitComplete:O?void 0:I,children:T},R)})})},xn=t=>t;let bP=xn;function Iv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Na=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},rs=t=>t*1e3,ss=t=>t/1e3,E$={useManualTiming:!1};function P$(t){let e=new Set,n=new Set,r=!1,i=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,g=!1,p=!1)=>{const N=p&&r?e:n;return g&&l.add(m),N.has(m)||N.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(c=m,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,i&&(i=!1,h.process(m))}};return h}const fd=["read","resolveKeyframes","update","preRender","render","postRender"],T$=40;function NP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=fd.reduce((j,P)=>(j[P]=P$(l),j),{}),{read:d,resolveKeyframes:h,update:m,preRender:g,render:p,postRender:x}=c,N=()=>{const j=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(j-i.timestamp,T$),1),i.timestamp=j,i.isProcessing=!0,d.process(i),h.process(i),m.process(i),g.process(i),p.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(N))},k=()=>{n=!0,r=!0,i.isProcessing||t(N)};return{schedule:fd.reduce((j,P)=>{const C=c[P];return j[P]=(T,R=!1,O=!1)=>(n||k(),C.schedule(T,R,O)),j},{}),cancel:j=>{for(let P=0;P<fd.length;P++)c[fd[P]].cancel(j)},state:i,steps:c}}const{schedule:it,cancel:ui,state:Ot,steps:$p}=NP(typeof requestAnimationFrame<"u"?requestAnimationFrame:xn,!0),SP=v.createContext({strict:!1}),X1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sa={};for(const t in X1)Sa[t]={isEnabled:e=>X1[t].some(n=>!!e[n])};function R$(t){for(const e in t)Sa[e]={...Sa[e],...t[e]}}const A$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||A$.has(t)}let kP=t=>!mh(t);function I$(t){t&&(kP=e=>e.startsWith("on")?!mh(e):t(e))}try{I$(require("@emotion/is-prop-valid").default)}catch{}function M$(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(kP(i)||n===!0&&mh(i)||!e&&!mh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function D$(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const hf=v.createContext({});function dc(t){return typeof t=="string"||Array.isArray(t)}function ff(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Mv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dv=["initial",...Mv];function mf(t){return ff(t.animate)||Dv.some(e=>dc(t[e]))}function jP(t){return!!(mf(t)||t.variants)}function O$(t,e){if(mf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||dc(n)?n:void 0,animate:dc(r)?r:void 0}}return t.inherit!==!1?e:{}}function L$(t){const{initial:e,animate:n}=O$(t,v.useContext(hf));return v.useMemo(()=>({initial:e,animate:n}),[J1(e),J1(n)])}function J1(t){return Array.isArray(t)?t.join(" "):t}const F$=Symbol.for("motionComponentSymbol");function Bo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function U$(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Bo(n)&&(n.current=r))},[e])}const Ov=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$$="framerAppearId",_P="data-"+Ov($$),{schedule:Lv}=NP(queueMicrotask,!1),CP=v.createContext({});function B$(t,e,n,r,i){var l,c;const{visualElement:d}=v.useContext(hf),h=v.useContext(SP),m=v.useContext(df),g=v.useContext(Rv).reducedMotion,p=v.useRef(null);r=r||h.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:d,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const x=p.current,N=v.useContext(CP);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&z$(p.current,n,i,N);const k=v.useRef(!1);v.useInsertionEffect(()=>{x&&k.current&&x.update(n,m)});const S=n[_P],w=v.useRef(!!S&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,S))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,S)));return wP(()=>{x&&(k.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),Lv.render(x.render),w.current&&x.animationState&&x.animationState.animateChanges())}),v.useEffect(()=>{x&&(!w.current&&x.animationState&&x.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,S)}),w.current=!1))}),x}function z$(t,e,n,r){const{layoutId:i,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:EP(t.parent)),t.projection.setOptions({layoutId:i,layout:l,alwaysMeasureLayout:!!c||d&&Bo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:m})}function EP(t){if(t)return t.options.allowProjection!==!1?t.projection:EP(t.parent)}function V$({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var l,c;t&&R$(t);function d(m,g){let p;const x={...v.useContext(Rv),...m,layoutId:H$(m)},{isStatic:N}=x,k=L$(m),S=r(m,N);if(!N&&Av){W$();const w=G$(x);p=w.MeasureLayout,k.visualElement=B$(i,S,x,e,w.ProjectionNode)}return o.jsxs(hf.Provider,{value:k,children:[p&&k.visualElement?o.jsx(p,{visualElement:k.visualElement,...x}):null,n(i,m,U$(S,k.visualElement,g),S,N,k.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(c=(l=i.displayName)!==null&&l!==void 0?l:i.name)!==null&&c!==void 0?c:""})`}`;const h=v.forwardRef(d);return h[F$]=i,h}function H$({layoutId:t}){const e=v.useContext(Pv).id;return e&&t!==void 0?e+"-"+t:t}function W$(t,e){v.useContext(SP).strict}function G$(t){const{drag:e,layout:n}=Sa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const K$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fv(t){return typeof t!="string"||t.includes("-")?!1:!!(K$.indexOf(t)>-1||/[A-Z]/u.test(t))}function eN(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Uv(t,e,n,r){if(typeof e=="function"){const[i,l]=eN(r);e=e(n!==void 0?n:t.custom,i,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,l]=eN(r);e=e(n!==void 0?n:t.custom,i,l)}return e}const Qg=t=>Array.isArray(t),q$=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Y$=t=>Qg(t)?t[t.length-1]||0:t,Vt=t=>!!(t&&t.getVelocity);function Md(t){const e=Vt(t)?t.get():t;return q$(e)?e.toValue():e}function Q$({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,l){const c={latestValues:Z$(r,i,l,t),renderState:e()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const PP=t=>(e,n)=>{const r=v.useContext(hf),i=v.useContext(df),l=()=>Q$(t,e,r,i);return n?l():Tv(l)};function Z$(t,e,n,r){const i={},l=r(t,{});for(const x in l)i[x]=Md(l[x]);let{initial:c,animate:d}=t;const h=mf(t),m=jP(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const p=g?d:c;if(p&&typeof p!="boolean"&&!ff(p)){const x=Array.isArray(p)?p:[p];for(let N=0;N<x.length;N++){const k=Uv(t,x[N]);if(k){const{transitionEnd:S,transition:w,...j}=k;for(const P in j){let C=j[P];if(Array.isArray(C)){const T=g?C.length-1:0;C=C[T]}C!==null&&(i[P]=C)}for(const P in S)i[P]=S[P]}}}return i}const Fa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ao=new Set(Fa),TP=t=>e=>typeof e=="string"&&e.startsWith(t),RP=TP("--"),X$=TP("var(--"),$v=t=>X$(t)?J$.test(t.split("/*")[0].trim()):!1,J$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,AP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ds=(t,e,n)=>n>e?e:n<t?t:n,Ua={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hc={...Ua,transform:t=>ds(0,1,t)},md={...Ua,default:1},Lc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$s=Lc("deg"),Cr=Lc("%"),_e=Lc("px"),eB=Lc("vh"),tB=Lc("vw"),tN={...Cr,parse:t=>Cr.parse(t)/100,transform:t=>Cr.transform(t*100)},nB={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e},rB={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:md,scaleX:md,scaleY:md,scaleZ:md,skew:$s,skewX:$s,skewY:$s,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:hc,originX:tN,originY:tN,originZ:_e},nN={...Ua,transform:Math.round},Bv={...nB,...rB,zIndex:nN,size:_e,fillOpacity:hc,strokeOpacity:hc,numOctaves:nN},sB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iB=Fa.length;function oB(t,e,n){let r="",i=!0;for(let l=0;l<iB;l++){const c=Fa[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const m=AP(d,Bv[c]);if(!h){i=!1;const g=sB[c]||c;r+=`${g}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function zv(t,e,n){const{style:r,vars:i,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const m=e[h];if(ao.has(h)){c=!0;continue}else if(RP(h)){i[h]=m;continue}else{const g=AP(m,Bv[h]);h.startsWith("origin")?(d=!0,l[h]=g):r[h]=g}}if(e.transform||(c||n?r.transform=oB(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:g=0}=l;r.transformOrigin=`${h} ${m} ${g}`}}const aB={offset:"stroke-dashoffset",array:"stroke-dasharray"},lB={offset:"strokeDashoffset",array:"strokeDasharray"};function cB(t,e,n=1,r=0,i=!0){t.pathLength=1;const l=i?aB:lB;t[l.offset]=_e.transform(-r);const c=_e.transform(e),d=_e.transform(n);t[l.array]=`${c} ${d}`}function rN(t,e,n){return typeof t=="string"?t:_e.transform(e+n*t)}function uB(t,e,n){const r=rN(e,t.x,t.width),i=rN(n,t.y,t.height);return`${r} ${i}`}function Vv(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...m},g,p){if(zv(t,m,p),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:N,dimensions:k}=t;x.transform&&(k&&(N.transform=x.transform),delete x.transform),k&&(i!==void 0||l!==void 0||N.transform)&&(N.transformOrigin=uB(k,i!==void 0?i:.5,l!==void 0?l:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),c!==void 0&&cB(x,c,d,h,!1)}const Hv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),IP=()=>({...Hv(),attrs:{}}),Wv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function MP(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const DP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function OP(t,e,n,r){MP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(DP.has(i)?i:Ov(i),e.attrs[i])}const ph={};function dB(t){Object.assign(ph,t)}function LP(t,{layout:e,layoutId:n}){return ao.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ph[t]||t==="opacity")}function Gv(t,e,n){var r;const{style:i}=t,l={};for(const c in i)(Vt(i[c])||e.style&&Vt(e.style[c])||LP(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=i[c]);return l}function FP(t,e,n){const r=Gv(t,e,n);for(const i in t)if(Vt(t[i])||Vt(e[i])){const l=Fa.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[l]=t[i]}return r}function hB(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const sN=["x","y","width","height","cx","cy","r"],fB={useVisualState:PP({scrapeMotionValuesFromProps:FP,createRenderState:IP,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in i)if(ao.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<sN.length;d++){const h=sN[d];t[h]!==e[h]&&(c=!0)}c&&it.read(()=>{hB(n,r),it.render(()=>{Vv(r,i,Wv(n.tagName),t.transformTemplate),OP(n,r)})})}})},mB={useVisualState:PP({scrapeMotionValuesFromProps:Gv,createRenderState:Hv})};function UP(t,e,n){for(const r in e)!Vt(e[r])&&!LP(r,n)&&(t[r]=e[r])}function pB({transformTemplate:t},e){return v.useMemo(()=>{const n=Hv();return zv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gB(t,e){const n=t.style||{},r={};return UP(r,n,t),Object.assign(r,pB(t,e)),r}function yB(t,e){const n={},r=gB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function vB(t,e,n,r){const i=v.useMemo(()=>{const l=IP();return Vv(l,e,Wv(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};UP(l,t.style,t),i.style={...l,...i.style}}return i}function xB(t=!1){return(n,r,i,{latestValues:l},c)=>{const h=(Fv(n)?vB:yB)(r,l,c,n),m=M$(r,typeof n=="string",t),g=n!==v.Fragment?{...m,...h,ref:i}:{},{children:p}=r,x=v.useMemo(()=>Vt(p)?p.get():p,[p]);return v.createElement(n,{...g,children:x})}}function wB(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...Fv(r)?fB:mB,preloadedFeatures:t,useRender:xB(i),createVisualElement:e,Component:r};return V$(c)}}function $P(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function pf(t,e,n){const r=t.getProps();return Uv(r,e,n!==void 0?n:r.custom,t)}const bB=Iv(()=>window.ScrollTimeline!==void 0);class NB{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(bB()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,l)=>{i&&i(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class SB extends NB{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Kv(t,e){return t?t[e]||t.default||t:void 0}const Zg=2e4;function BP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Zg;)e+=n,r=t.next(e);return e>=Zg?1/0:e}function qv(t){return typeof t=="function"}function iN(t,e){t.timeline=e,t.onfinish=null}const Yv=t=>Array.isArray(t)&&typeof t[0]=="number",kB={linearEasing:void 0};function jB(t,e){const n=Iv(t);return()=>{var r;return(r=kB[e])!==null&&r!==void 0?r:n()}}const gh=jB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let l=0;l<i;l++)r+=t(Na(0,i-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function VP(t){return!!(typeof t=="function"&&gh()||!t||typeof t=="string"&&(t in Xg||gh())||Yv(t)||Array.isArray(t)&&t.every(VP))}const Ol=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Xg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ol([0,.65,.55,1]),circOut:Ol([.55,0,1,.45]),backIn:Ol([.31,.01,.66,-.59]),backOut:Ol([.33,1.53,.69,.99])};function HP(t,e){if(t)return typeof t=="function"&&gh()?zP(t,e):Yv(t)?Ol(t):Array.isArray(t)?t.map(n=>HP(n,e)||Xg.easeOut):Xg[t]}const Yn={x:!1,y:!1};function WP(){return Yn.x||Yn.y}function _B(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const l=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function GP(t,e){const n=_B(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function oN(t){return e=>{e.pointerType==="touch"||WP()||t(e)}}function CB(t,e,n={}){const[r,i,l]=GP(t,n),c=oN(d=>{const{target:h}=d,m=e(d);if(typeof m!="function"||!h)return;const g=oN(p=>{m(p),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,i)});return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),l}const KP=(t,e)=>e?t===e?!0:KP(t,e.parentElement):!1,Qv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,EB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PB(t){return EB.has(t.tagName)||t.tabIndex!==-1}const Ll=new WeakSet;function aN(t){return e=>{e.key==="Enter"&&t(e)}}function Bp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const TB=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=aN(()=>{if(Ll.has(n))return;Bp(n,"down");const i=aN(()=>{Bp(n,"up")}),l=()=>Bp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function lN(t){return Qv(t)&&!WP()}function RB(t,e,n={}){const[r,i,l]=GP(t,n),c=d=>{const h=d.currentTarget;if(!lN(d)||Ll.has(h))return;Ll.add(h);const m=e(d),g=(N,k)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",x),!(!lN(N)||!Ll.has(h))&&(Ll.delete(h),typeof m=="function"&&m(N,{success:k}))},p=N=>{g(N,n.useGlobalTarget||KP(h,N.target))},x=N=>{g(N,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",x,i)};return r.forEach(d=>{!PB(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d.addEventListener("focus",m=>TB(m,i),i)}),l}function AB(t){return t==="x"||t==="y"?Yn[t]?null:(Yn[t]=!0,()=>{Yn[t]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}const qP=new Set(["width","height","top","left","right","bottom",...Fa]);let Dd;function IB(){Dd=void 0}const Er={now:()=>(Dd===void 0&&Er.set(Ot.isProcessing||E$.useManualTiming?Ot.timestamp:performance.now()),Dd),set:t=>{Dd=t,queueMicrotask(IB)}};function Zv(t,e){t.indexOf(e)===-1&&t.push(e)}function Xv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Jv{constructor(){this.subscriptions=[]}add(e){return Zv(this.subscriptions,e),()=>Xv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let l=0;l<i;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function YP(t,e){return e?t*(1e3/e):0}const cN=30,MB=t=>!isNaN(parseFloat(t));class DB{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const l=Er.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Jv);const r=this.events[e].add(n);return e==="change"?()=>{r(),it.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cN)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cN);return YP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fc(t,e){return new DB(t,e)}function OB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fc(n))}function LB(t,e){const n=pf(t,e);let{transitionEnd:r={},transition:i={},...l}=n||{};l={...l,...r};for(const c in l){const d=Y$(l[c]);OB(t,c,d)}}function FB(t){return!!(Vt(t)&&t.add)}function Jg(t,e){const n=t.getValue("willChange");if(FB(n))return n.add(e)}function QP(t){return t.props[_P]}const ZP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,UB=1e-7,$B=12;function BB(t,e,n,r,i){let l,c,d=0;do c=e+(n-e)/2,l=ZP(c,r,i)-t,l>0?n=c:e=c;while(Math.abs(l)>UB&&++d<$B);return c}function Fc(t,e,n,r){if(t===e&&n===r)return xn;const i=l=>BB(l,0,1,t,n);return l=>l===0||l===1?l:ZP(i(l),e,r)}const XP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,JP=t=>e=>1-t(1-e),eT=Fc(.33,1.53,.69,.99),e0=JP(eT),tT=XP(e0),nT=t=>(t*=2)<1?.5*e0(t):.5*(2-Math.pow(2,-10*(t-1))),t0=t=>1-Math.sin(Math.acos(t)),rT=JP(t0),sT=XP(t0),iT=t=>/^0[^.\s]+$/u.test(t);function zB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||iT(t):!0}const Wl=t=>Math.round(t*1e5)/1e5,n0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VB(t){return t==null}const HB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r0=(t,e)=>n=>!!(typeof n=="string"&&HB.test(n)&&n.startsWith(t)||e&&!VB(n)&&Object.prototype.hasOwnProperty.call(n,e)),oT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,l,c,d]=r.match(n0);return{[t]:parseFloat(i),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},WB=t=>ds(0,255,t),zp={...Ua,transform:t=>Math.round(WB(t))},Oi={test:r0("rgb","red"),parse:oT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+zp.transform(t)+", "+zp.transform(e)+", "+zp.transform(n)+", "+Wl(hc.transform(r))+")"};function GB(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ey={test:r0("#"),parse:GB,transform:Oi.transform},zo={test:r0("hsl","hue"),parse:oT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Cr.transform(Wl(e))+", "+Cr.transform(Wl(n))+", "+Wl(hc.transform(r))+")"},zt={test:t=>Oi.test(t)||ey.test(t)||zo.test(t),parse:t=>Oi.test(t)?Oi.parse(t):zo.test(t)?zo.parse(t):ey.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oi.transform(t):zo.transform(t)},KB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qB(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(n0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(KB))===null||n===void 0?void 0:n.length)||0)>0}const aT="number",lT="color",YB="var",QB="var(",uN="${}",ZB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let l=0;const d=e.replace(ZB,h=>(zt.test(h)?(r.color.push(l),i.push(lT),n.push(zt.parse(h))):h.startsWith(QB)?(r.var.push(l),i.push(YB),n.push(h)):(r.number.push(l),i.push(aT),n.push(parseFloat(h))),++l,uN)).split(uN);return{values:n,split:d,indexes:r,types:i}}function cT(t){return mc(t).values}function uT(t){const{split:e,types:n}=mc(t),r=e.length;return i=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],i[c]!==void 0){const d=n[c];d===aT?l+=Wl(i[c]):d===lT?l+=zt.transform(i[c]):l+=i[c]}return l}}const XB=t=>typeof t=="number"?0:t;function JB(t){const e=cT(t);return uT(t)(e.map(XB))}const di={test:qB,parse:cT,createTransformer:uT,getAnimatableNone:JB},ez=new Set(["brightness","contrast","saturate","opacity"]);function tz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(n0)||[];if(!r)return t;const i=n.replace(r,"");let l=ez.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+i+")"}const nz=/\b([a-z-]*)\(.*?\)/gu,ty={...di,getAnimatableNone:t=>{const e=t.match(nz);return e?e.map(tz).join(" "):t}},rz={...Bv,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:ty,WebkitFilter:ty},s0=t=>rz[t];function dT(t,e){let n=s0(t);return n!==ty&&(n=di),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sz=new Set(["auto","none","0"]);function iz(t,e,n){let r=0,i;for(;r<t.length&&!i;){const l=t[r];typeof l=="string"&&!sz.has(l)&&mc(l).values.length&&(i=t[r]),r++}if(i&&n)for(const l of e)t[l]=dT(n,i)}const dN=t=>t===Ua||t===_e,hN=(t,e)=>parseFloat(t.split(", ")[e]),fN=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return hN(i[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?hN(l[1],t):0}},oz=new Set(["x","y","z"]),az=Fa.filter(t=>!oz.has(t));function lz(t){const e=[];return az.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ka={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:fN(4,13),y:fN(5,14)};ka.translateX=ka.x;ka.translateY=ka.y;const Ki=new Set;let ny=!1,ry=!1;function hT(){if(ry){const t=Array.from(Ki).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=lz(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([l,c])=>{var d;(d=r.getValue(l))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ry=!1,ny=!1,Ki.forEach(t=>t.complete()),Ki.clear()}function fT(){Ki.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ry=!0)})}function cz(){fT(),hT()}class i0{constructor(e,n,r,i,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ki.add(this),ny||(ny=!0,it.read(fT),it.resolveKeyframes(hT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=i==null?void 0:i.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const h=r.readValue(n,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),i&&c===void 0&&i.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ki.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ki.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const mT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),uz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dz(t){const e=uz.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function pT(t,e,n=1){const[r,i]=dz(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return mT(c)?parseFloat(c):c}return $v(i)?pT(i,e,n+1):i}const gT=t=>e=>e.test(t),hz={test:t=>t==="auto",parse:t=>t},yT=[Ua,_e,Cr,$s,tB,eB,hz],mN=t=>yT.find(gT(t));class vT extends i0{constructor(e,n,r,i,l){super(e,n,r,i,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),$v(m))){const g=pT(m,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!qP.has(r)||e.length!==2)return;const[i,l]=e,c=mN(i),d=mN(l);if(c!==d)if(dN(c)&&dN(d))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)zB(e[i])&&r.push(i);r.length&&iz(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ka[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=ka[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,m])=>{n.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const pN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(di.test(t)||t==="0")&&!t.startsWith("url("));function fz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mz(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=pN(i,e),d=pN(l,e);return!c||!d?!1:fz(t)||(n==="spring"||qv(n))&&r}const pz=t=>t!==null;function gf(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(pz),l=e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const gz=40;class xT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Er.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>gz?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&cz(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Er.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:l,delay:c,onComplete:d,onUpdate:h,isGenerator:m}=this.options;if(!m&&!mz(e,r,i,l))if(c)this.options.duration=0;else{h&&h(gf(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const dt=(t,e,n)=>t+(e-t)*n;function Vp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,l=0,c=0;if(!e)i=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;i=Vp(h,d,t+1/3),l=Vp(h,d,t),c=Vp(h,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function yh(t,e){return n=>n>0?e:t}const Hp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},vz=[ey,Oi,zo],xz=t=>vz.find(e=>e.test(t));function gN(t){const e=xz(t);if(!e)return!1;let n=e.parse(t);return e===zo&&(n=yz(n)),n}const yN=(t,e)=>{const n=gN(t),r=gN(e);if(!n||!r)return yh(t,e);const i={...n};return l=>(i.red=Hp(n.red,r.red,l),i.green=Hp(n.green,r.green,l),i.blue=Hp(n.blue,r.blue,l),i.alpha=dt(n.alpha,r.alpha,l),Oi.transform(i))},wz=(t,e)=>n=>e(t(n)),Uc=(...t)=>t.reduce(wz),sy=new Set(["none","hidden"]);function bz(t,e){return sy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Nz(t,e){return n=>dt(t,e,n)}function o0(t){return typeof t=="number"?Nz:typeof t=="string"?$v(t)?yh:zt.test(t)?yN:jz:Array.isArray(t)?wT:typeof t=="object"?zt.test(t)?yN:Sz:yh}function wT(t,e){const n=[...t],r=n.length,i=t.map((l,c)=>o0(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=i[c](l);return n}}function Sz(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=o0(t[i])(t[i],e[i]));return i=>{for(const l in r)n[l]=r[l](i);return n}}function kz(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][i[c]],h=(n=t.values[d])!==null&&n!==void 0?n:0;r[l]=h,i[c]++}return r}const jz=(t,e)=>{const n=di.createTransformer(e),r=mc(t),i=mc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sy.has(t)&&!i.values.length||sy.has(e)&&!r.values.length?bz(t,e):Uc(wT(kz(r,i),i.values),n):yh(t,e)};function bT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):o0(t)(t,e)}const _z=5;function NT(t,e,n){const r=Math.max(e-_z,0);return YP(n-t(r),e-r)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wp=.001;function Cz({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:r=mt.mass}){let i,l,c=1-e;c=ds(mt.minDamping,mt.maxDamping,c),t=ds(mt.minDuration,mt.maxDuration,ss(t)),c<1?(i=m=>{const g=m*c,p=g*t,x=g-n,N=iy(m,c),k=Math.exp(-p);return Wp-x/N*k},l=m=>{const p=m*c*t,x=p*n+n,N=Math.pow(c,2)*Math.pow(m,2)*t,k=Math.exp(-p),S=iy(Math.pow(m,2),c);return(-i(m)+Wp>0?-1:1)*((x-N)*k)/S}):(i=m=>{const g=Math.exp(-m*t),p=(m-n)*t+1;return-Wp+g*p},l=m=>{const g=Math.exp(-m*t),p=(n-m)*(t*t);return g*p});const d=5/t,h=Pz(i,l,d);if(t=rs(t),isNaN(h))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const Ez=12;function Pz(t,e,n){let r=n;for(let i=1;i<Ez;i++)r=r-t(r)/e(r);return r}function iy(t,e){return t*Math.sqrt(1-e*e)}const Tz=["duration","bounce"],Rz=["stiffness","damping","mass"];function vN(t,e){return e.some(n=>t[n]!==void 0)}function Az(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!vN(t,Rz)&&vN(t,Tz))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,l=2*ds(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:mt.mass,stiffness:i,damping:l}}else{const n=Cz(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function ST(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:m,mass:g,duration:p,velocity:x,isResolvedFromDuration:N}=Az({...n,velocity:-ss(n.velocity||0)}),k=x||0,S=m/(2*Math.sqrt(h*g)),w=c-l,j=ss(Math.sqrt(h/g)),P=Math.abs(w)<5;r||(r=P?mt.restSpeed.granular:mt.restSpeed.default),i||(i=P?mt.restDelta.granular:mt.restDelta.default);let C;if(S<1){const R=iy(j,S);C=O=>{const I=Math.exp(-S*j*O);return c-I*((k+S*j*w)/R*Math.sin(R*O)+w*Math.cos(R*O))}}else if(S===1)C=R=>c-Math.exp(-j*R)*(w+(k+j*w)*R);else{const R=j*Math.sqrt(S*S-1);C=O=>{const I=Math.exp(-S*j*O),E=Math.min(R*O,300);return c-I*((k+S*j*w)*Math.sinh(E)+R*w*Math.cosh(E))/R}}const T={calculatedDuration:N&&p||null,next:R=>{const O=C(R);if(N)d.done=R>=p;else{let I=0;S<1&&(I=R===0?rs(k):NT(C,R,O));const E=Math.abs(I)<=r,A=Math.abs(c-O)<=i;d.done=E&&A}return d.value=d.done?c:O,d},toString:()=>{const R=Math.min(BP(T),Zg),O=zP(I=>T.next(R*I).value,R,30);return R+"ms "+O}};return T}function xN({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:m=.5,restSpeed:g}){const p=t[0],x={done:!1,value:p},N=E=>d!==void 0&&E<d||h!==void 0&&E>h,k=E=>d===void 0?h:h===void 0||Math.abs(d-E)<Math.abs(h-E)?d:h;let S=n*e;const w=p+S,j=c===void 0?w:c(w);j!==w&&(S=j-p);const P=E=>-S*Math.exp(-E/r),C=E=>j+P(E),T=E=>{const A=P(E),F=C(E);x.done=Math.abs(A)<=m,x.value=x.done?j:F};let R,O;const I=E=>{N(x.value)&&(R=E,O=ST({keyframes:[x.value,k(x.value)],velocity:NT(C,E,x.value),damping:i,stiffness:l,restDelta:m,restSpeed:g}))};return I(0),{calculatedDuration:null,next:E=>{let A=!1;return!O&&R===void 0&&(A=!0,T(E),I(E)),R!==void 0&&E>=R?O.next(E-R):(!A&&T(E),x)}}}const Iz=Fc(.42,0,1,1),Mz=Fc(0,0,.58,1),kT=Fc(.42,0,.58,1),Dz=t=>Array.isArray(t)&&typeof t[0]!="number",Oz={linear:xn,easeIn:Iz,easeInOut:kT,easeOut:Mz,circIn:t0,circInOut:sT,circOut:rT,backIn:e0,backInOut:tT,backOut:eT,anticipate:nT},wN=t=>{if(Yv(t)){bP(t.length===4);const[e,n,r,i]=t;return Fc(e,n,r,i)}else if(typeof t=="string")return Oz[t];return t};function Lz(t,e,n){const r=[],i=n||bT,l=t.length-1;for(let c=0;c<l;c++){let d=i(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||xn:e;d=Uc(h,d)}r.push(d)}return r}function Fz(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const l=t.length;if(bP(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=Lz(e,r,i),h=d.length,m=g=>{if(c&&g<t[0])return e[0];let p=0;if(h>1)for(;p<t.length-2&&!(g<t[p+1]);p++);const x=Na(t[p],t[p+1],g);return d[p](x)};return n?g=>m(ds(t[0],t[l-1],g)):m}function Uz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Na(0,e,r);t.push(dt(n,1,i))}}function $z(t){const e=[0];return Uz(e,t.length-1),e}function Bz(t,e){return t.map(n=>n*e)}function zz(t,e){return t.map(()=>e||kT).splice(0,t.length-1)}function vh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Dz(r)?r.map(wN):wN(r),l={done:!1,value:e[0]},c=Bz(n&&n.length===e.length?n:$z(e),t),d=Fz(c,e,{ease:Array.isArray(i)?i:zz(e,i)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const Vz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>it.update(e,!0),stop:()=>ui(e),now:()=>Ot.isProcessing?Ot.timestamp:Er.now()}},Hz={decay:xN,inertia:xN,tween:vh,keyframes:vh,spring:ST},Wz=t=>t/100;class a0 extends xT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:i,keyframes:l}=this.options,c=(i==null?void 0:i.KeyframeResolver)||i0,d=(h,m)=>this.onKeyframesResolved(h,m);this.resolver=new c(l,d,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:l,velocity:c=0}=this.options,d=qv(n)?n:Hz[n]||vh;let h,m;d!==vh&&typeof e[0]!="number"&&(h=Uc(Wz,bT(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});l==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=BP(g));const{calculatedDuration:p}=g,x=p+i,N=x*(r+1)-i;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:h,calculatedDuration:p,resolvedDuration:x,totalDuration:N}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:m,totalDuration:g,resolvedDuration:p}=r;if(this.startTime===null)return l.next(0);const{delay:x,repeat:N,repeatType:k,repeatDelay:S,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-x*(this.speed>=0?1:-1),P=this.speed>=0?j<0:j>g;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let C=this.currentTime,T=l;if(N){const E=Math.min(this.currentTime,g)/p;let A=Math.floor(E),F=E%1;!F&&E>=1&&(F=1),F===1&&A--,A=Math.min(A,N+1),!!(A%2)&&(k==="reverse"?(F=1-F,S&&(F-=S/p)):k==="mirror"&&(T=c)),C=ds(0,1,F)*p}const R=P?{done:!1,value:h[0]}:T.next(C);d&&(R.value=d(R.value));let{done:O}=R;!P&&m!==null&&(O=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return I&&i!==void 0&&(R.value=gf(h,this.options,i)),w&&w(R.value),I&&this.finish(),R}get duration(){const{resolved:e}=this;return e?ss(e.calculatedDuration):0}get time(){return ss(this.currentTime)}set time(e){e=rs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ss(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Vz,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Gz=new Set(["opacity","clipPath","filter","transform"]);function Kz(t,e,n,{delay:r=0,duration:i=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:h}={}){const m={[e]:n};h&&(m.offset=h);const g=HP(d,i);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const qz=Iv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xh=10,Yz=2e4;function Qz(t){return qv(t.type)||t.type==="spring"||!VP(t.ease)}function Zz(t,e){const n=new a0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let l=0;for(;!r.done&&l<Yz;)r=n.sample(l),i.push(r.value),l+=xh;return{times:void 0,keyframes:i,duration:l-xh,ease:"linear"}}const jT={anticipate:nT,backInOut:tT,circInOut:sT};function Xz(t){return t in jT}class bN extends xT{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:l}=this.options;this.resolver=new vT(l,(c,d)=>this.onKeyframesResolved(c,d),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:l,type:c,motionValue:d,name:h,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&gh()&&Xz(l)&&(l=jT[l]),Qz(this.options)){const{onComplete:p,onUpdate:x,motionValue:N,element:k,...S}=this.options,w=Zz(e,S);e=w.keyframes,e.length===1&&(e[1]=e[0]),r=w.duration,i=w.times,l=w.ease,c="keyframes"}const g=Kz(d.owner.current,h,e,{...this.options,duration:r,times:i,ease:l});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(iN(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:p}=this.options;d.set(gf(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:i,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ss(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ss(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=rs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return xn;const{animation:r}=n;iN(r,e)}return xn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:l,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:p,element:x,...N}=this.options,k=new a0({...N,keyframes:r,duration:i,type:l,ease:c,times:d,isGenerator:!0}),S=rs(this.time);m.setWithVelocity(k.sample(S-xh).value,k.sample(S).value,xh)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:l,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=n.owner.getProps();return qz()&&r&&Gz.has(r)&&!h&&!m&&!i&&l!=="mirror"&&c!==0&&d!=="inertia"}}const Jz={type:"spring",stiffness:500,damping:25,restSpeed:10},eV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tV={type:"keyframes",duration:.8},nV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rV=(t,{keyframes:e})=>e.length>2?tV:ao.has(t)?t.startsWith("scale")?eV(e[1]):Jz:nV;function sV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const l0=(t,e,n,r={},i,l)=>c=>{const d=Kv(r,t)||{},h=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-rs(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:i};sV(d)||(g={...g,...rV(t,g)}),g.duration&&(g.duration=rs(g.duration)),g.repeatDelay&&(g.repeatDelay=rs(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let p=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(p=!0)),p&&!l&&e.get()!==void 0){const x=gf(g.keyframes,d);if(x!==void 0)return it.update(()=>{g.onUpdate(x),g.onComplete()}),new SB([])}return!l&&bN.supports(g)?new bN(g):new a0(g)};function iV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function _T(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...h}=e;r&&(c=r);const m=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const p in h){const x=t.getValue(p,(l=t.latestValues[p])!==null&&l!==void 0?l:null),N=h[p];if(N===void 0||g&&iV(g,p))continue;const k={delay:n,...Kv(c||{},p)};let S=!1;if(window.MotionHandoffAnimation){const j=QP(t);if(j){const P=window.MotionHandoffAnimation(j,p,it);P!==null&&(k.startTime=P,S=!0)}}Jg(t,p),x.start(l0(p,x,N,t.shouldReduceMotion&&qP.has(p)?{type:!1}:k,t,S));const w=x.animation;w&&m.push(w)}return d&&Promise.all(m).then(()=>{it.update(()=>{d&&LB(t,d)})}),m}function oy(t,e,n={}){var r;const i=pf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(l=n.transitionOverride);const c=i?()=>Promise.all(_T(t,i,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:p,staggerDirection:x}=l;return oV(t,e,g+m,p,x,n)}:()=>Promise.resolve(),{when:h}=l;if(h){const[m,g]=h==="beforeChildren"?[c,d]:[d,c];return m().then(()=>g())}else return Promise.all([c(),d(n.delay)])}function oV(t,e,n=0,r=0,i=1,l){const c=[],d=(t.variantChildren.size-1)*r,h=i===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(t.variantChildren).sort(aV).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(oy(m,e,{...l,delay:n+h(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function aV(t,e){return t.sortNodePosition(e)}function lV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(l=>oy(t,l,n));r=Promise.all(i)}else if(typeof e=="string")r=oy(t,e,n);else{const i=typeof e=="function"?pf(t,e,n.custom):e;r=Promise.all(_T(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const cV=Dv.length;function CT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?CT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cV;n++){const r=Dv[n],i=t.props[r];(dc(i)||i===!1)&&(e[r]=i)}return e}const uV=[...Mv].reverse(),dV=Mv.length;function hV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>lV(t,n,r)))}function fV(t){let e=hV(t),n=NN(),r=!0;const i=h=>(m,g)=>{var p;const x=pf(t,g,h==="exit"?(p=t.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(x){const{transition:N,transitionEnd:k,...S}=x;m={...m,...S,...k}}return m};function l(h){e=h(t)}function c(h){const{props:m}=t,g=CT(t.parent)||{},p=[],x=new Set;let N={},k=1/0;for(let w=0;w<dV;w++){const j=uV[w],P=n[j],C=m[j]!==void 0?m[j]:g[j],T=dc(C),R=j===h?P.isActive:null;R===!1&&(k=w);let O=C===g[j]&&C!==m[j]&&T;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),P.protectedKeys={...N},!P.isActive&&R===null||!C&&!P.prevProp||ff(C)||typeof C=="boolean")continue;const I=mV(P.prevProp,C);let E=I||j===h&&P.isActive&&!O&&T||w>k&&T,A=!1;const F=Array.isArray(C)?C:[C];let q=F.reduce(i(j),{});R===!1&&(q={});const{prevResolvedValues:z={}}=P,Q={...z,...q},D=oe=>{E=!0,x.has(oe)&&(A=!0,x.delete(oe)),P.needsAnimating[oe]=!0;const G=t.getValue(oe);G&&(G.liveStyle=!1)};for(const oe in Q){const G=q[oe],H=z[oe];if(N.hasOwnProperty(oe))continue;let Z=!1;Qg(G)&&Qg(H)?Z=!$P(G,H):Z=G!==H,Z?G!=null?D(oe):x.add(oe):G!==void 0&&x.has(oe)?D(oe):P.protectedKeys[oe]=!0}P.prevProp=C,P.prevResolvedValues=q,P.isActive&&(N={...N,...q}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(O&&I)||A)&&p.push(...F.map(oe=>({animation:oe,options:{type:j}})))}if(x.size){const w={};x.forEach(j=>{const P=t.getBaseTarget(j),C=t.getValue(j);C&&(C.liveStyle=!0),w[j]=P??null}),p.push({animation:w})}let S=!!p.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function d(h,m){var g;if(n[h].isActive===m)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(x=>{var N;return(N=x.animationState)===null||N===void 0?void 0:N.setActive(h,m)}),n[h].isActive=m;const p=c(h);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=NN(),r=!0}}}function mV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$P(e,t):!1}function Ri(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NN(){return{animate:Ri(!0),whileInView:Ri(),whileHover:Ri(),whileTap:Ri(),whileDrag:Ri(),whileFocus:Ri(),exit:Ri()}}class pi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pV extends pi{constructor(e){super(e),e.animationState||(e.animationState=fV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ff(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let gV=0;class yV extends pi{constructor(){super(...arguments),this.id=gV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const vV={animation:{Feature:pV},exit:{Feature:yV}};function pc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $c(t){return{point:{x:t.pageX,y:t.pageY}}}const xV=t=>e=>Qv(e)&&t(e,$c(e));function Gl(t,e,n,r){return pc(t,e,xV(n),r)}const SN=(t,e)=>Math.abs(t-e);function wV(t,e){const n=SN(t.x,e.x),r=SN(t.y,e.y);return Math.sqrt(n**2+r**2)}class ET{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Kp(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,N=wV(p.offset,{x:0,y:0})>=3;if(!x&&!N)return;const{point:k}=p,{timestamp:S}=Ot;this.history.push({...k,timestamp:S});const{onStart:w,onMove:j}=this.handlers;x||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Gp(x,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:N,onSessionEnd:k,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Kp(p.type==="pointercancel"?this.lastMoveEventInfo:Gp(x,this.transformPagePoint),this.history);this.startEvent&&N&&N(p,w),k&&k(p,w)},!Qv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const c=$c(e),d=Gp(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=Ot;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Kp(d,this.history)),this.removeListeners=Uc(Gl(this.contextWindow,"pointermove",this.handlePointerMove),Gl(this.contextWindow,"pointerup",this.handlePointerUp),Gl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ui(this.updatePoint)}}function Gp(t,e){return e?{point:e(t.point)}:t}function kN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kp({point:t},e){return{point:t,delta:kN(t,PT(e)),offset:kN(t,bV(e)),velocity:NV(e,.1)}}function bV(t){return t[0]}function PT(t){return t[t.length-1]}function NV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=PT(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>rs(e)));)n--;if(!r)return{x:0,y:0};const l=ss(i.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(i.x-r.x)/l,y:(i.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const TT=1e-4,SV=1-TT,kV=1+TT,RT=.01,jV=0-RT,_V=0+RT;function wn(t){return t.max-t.min}function CV(t,e,n){return Math.abs(t-e)<=n}function jN(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=wn(n)/wn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=SV&&t.scale<=kV||isNaN(t.scale))&&(t.scale=1),(t.translate>=jV&&t.translate<=_V||isNaN(t.translate))&&(t.translate=0)}function Kl(t,e,n,r){jN(t.x,e.x,n.x,r?r.originX:void 0),jN(t.y,e.y,n.y,r?r.originY:void 0)}function _N(t,e,n){t.min=n.min+e.min,t.max=t.min+wn(e)}function EV(t,e,n){_N(t.x,e.x,n.x),_N(t.y,e.y,n.y)}function CN(t,e,n){t.min=e.min-n.min,t.max=t.min+wn(e)}function ql(t,e,n){CN(t.x,e.x,n.x),CN(t.y,e.y,n.y)}function PV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function EN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function TV(t,{top:e,left:n,bottom:r,right:i}){return{x:EN(t.x,n,i),y:EN(t.y,e,r)}}function PN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function RV(t,e){return{x:PN(t.x,e.x),y:PN(t.y,e.y)}}function AV(t,e){let n=.5;const r=wn(t),i=wn(e);return i>r?n=Na(e.min,e.max-r,t.min):r>i&&(n=Na(t.min,t.max-i,e.min)),ds(0,1,n)}function IV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ay=.35;function MV(t=ay){return t===!1?t=0:t===!0&&(t=ay),{x:TN(t,"left","right"),y:TN(t,"top","bottom")}}function TN(t,e,n){return{min:RN(t,e),max:RN(t,n)}}function RN(t,e){return typeof t=="number"?t:t[e]||0}const AN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vo=()=>({x:AN(),y:AN()}),IN=()=>({min:0,max:0}),yt=()=>({x:IN(),y:IN()});function Pn(t){return[t("x"),t("y")]}function AT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function DV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function OV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function qp(t){return t===void 0||t===1}function ly({scale:t,scaleX:e,scaleY:n}){return!qp(t)||!qp(e)||!qp(n)}function Ii(t){return ly(t)||IT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function IT(t){return MN(t.x)||MN(t.y)}function MN(t){return t&&t!=="0%"}function wh(t,e,n){const r=t-n,i=e*r;return n+i}function DN(t,e,n,r,i){return i!==void 0&&(t=wh(t,i,r)),wh(t,n,r)+e}function cy(t,e=0,n=1,r,i){t.min=DN(t.min,e,n,r,i),t.max=DN(t.max,e,n,r,i)}function MT(t,{x:e,y:n}){cy(t.x,e.translate,e.scale,e.originPoint),cy(t.y,n.translate,n.scale,n.originPoint)}const ON=.999999999999,LN=1.0000000000001;function LV(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let l,c;for(let d=0;d<i;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Wo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,MT(t,c)),r&&Ii(l.latestValues)&&Wo(t,l.latestValues))}e.x<LN&&e.x>ON&&(e.x=1),e.y<LN&&e.y>ON&&(e.y=1)}function Ho(t,e){t.min=t.min+e,t.max=t.max+e}function FN(t,e,n,r,i=.5){const l=dt(t.min,t.max,i);cy(t,e,n,l,r)}function Wo(t,e){FN(t.x,e.x,e.scaleX,e.scale,e.originX),FN(t.y,e.y,e.scaleY,e.scale,e.originY)}function DT(t,e){return AT(OV(t.getBoundingClientRect(),e))}function FV(t,e,n){const r=DT(t,n),{scroll:i}=e;return i&&(Ho(r.x,i.offset.x),Ho(r.y,i.offset.y)),r}const OT=({current:t})=>t?t.ownerDocument.defaultView:null,UV=new WeakMap;class $V{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($c(g).point)},l=(g,p)=>{const{drag:x,dragPropagation:N,onDragStart:k}=this.getProps();if(x&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AB(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pn(w=>{let j=this.getAxisMotionValue(w).get()||0;if(Cr.test(j)){const{projection:P}=this.visualElement;if(P&&P.layout){const C=P.layout.layoutBox[w];C&&(j=wn(C)*(parseFloat(j)/100))}}this.originPoint[w]=j}),k&&it.postRender(()=>k(g,p)),Jg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(g,p)=>{const{dragPropagation:x,dragDirectionLock:N,onDirectionLock:k,onDrag:S}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:w}=p;if(N&&this.currentDirection===null){this.currentDirection=BV(w),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),S&&S(g,p)},d=(g,p)=>this.stop(g,p),h=()=>Pn(g=>{var p;return this.getAnimationState(g)==="paused"&&((p=this.getAxisMotionValue(g).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new ET(e,{onSessionStart:i,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:OT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&it.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!pd(e,i,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=PV(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Bo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=TV(i.layoutBox,n):this.constraints=!1,this.elastic=MV(r),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Pn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=IV(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=FV(r,i.root,this.visualElement.getTransformPagePoint());let c=RV(i.layout.layoutBox,l);if(n){const d=n(DV(c));this.hasMutatedConstraints=!!d,d&&(c=AT(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=Pn(g=>{if(!pd(g,n,this.currentDirection))return;let p=h&&h[g]||{};c&&(p={min:0,max:0});const x=i?200:1e6,N=i?40:1e7,k={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...l,...p};return this.startAxisValueAnimation(g,k)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Jg(this.visualElement,e),r.start(l0(e,r,0,n,this.visualElement,!1))}stopAnimation(){Pn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Pn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Pn(n=>{const{drag:r}=this.getProps();if(!pd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];l.set(e[n]-dt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Pn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();i[c]=AV({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pn(c=>{if(!pd(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];d.set(dt(h,m,i[c]))})}addListeners(){if(!this.visualElement.current)return;UV.set(this.visualElement,this);const e=this.visualElement.current,n=Gl(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Bo(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),it.read(r);const c=pc(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Pn(g=>{const p=this.getAxisMotionValue(g);p&&(this.originPoint[g]+=h[g].translate,p.set(p.get()+h[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:c=ay,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function pd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class zV extends pi{constructor(e){super(e),this.removeGroupControls=xn,this.removeListeners=xn,this.controls=new $V(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const UN=t=>(e,n)=>{t&&it.postRender(()=>t(e,n))};class VV extends pi{constructor(){super(...arguments),this.removePointerDownListener=xn}onPointerDown(e){this.session=new ET(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:UN(e),onStart:UN(n),onMove:r,onEnd:(l,c)=>{delete this.session,i&&it.postRender(()=>i(l,c))}}}mount(){this.removePointerDownListener=Gl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Od={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $N(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_e.test(t))t=parseFloat(t);else return t;const n=$N(t,e.target.x),r=$N(t,e.target.y);return`${n}% ${r}%`}},HV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=di.parse(t);if(i.length>5)return r;const l=di.createTransformer(t),c=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;i[0+c]/=d,i[1+c]/=h;const m=dt(d,h,.5);return typeof i[2+c]=="number"&&(i[2+c]/=m),typeof i[3+c]=="number"&&(i[3+c]/=m),l(i)}};class WV extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:l}=e;dB(GV),l&&(n.group&&n.group.add(l),r&&r.register&&i&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Od.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,i||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||it.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Lv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LT(t){const[e,n]=xP(),r=v.useContext(Pv);return o.jsx(WV,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(CP),isPresent:e,safeToRemove:n})}const GV={borderRadius:{...Tl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tl,borderTopRightRadius:Tl,borderBottomLeftRadius:Tl,borderBottomRightRadius:Tl,boxShadow:HV};function KV(t,e,n){const r=Vt(t)?t:fc(t);return r.start(l0("",r,e,n)),r.animation}function qV(t){return t instanceof SVGElement&&t.tagName!=="svg"}const YV=(t,e)=>t.depth-e.depth;class QV{constructor(){this.children=[],this.isDirty=!1}add(e){Zv(this.children,e),this.isDirty=!0}remove(e){Xv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YV),this.isDirty=!1,this.children.forEach(e)}}function ZV(t,e){const n=Er.now(),r=({timestamp:i})=>{const l=i-n;l>=e&&(ui(r),t(l-e))};return it.read(r,!0),()=>ui(r)}const FT=["TopLeft","TopRight","BottomLeft","BottomRight"],XV=FT.length,BN=t=>typeof t=="string"?parseFloat(t):t,zN=t=>typeof t=="number"||_e.test(t);function JV(t,e,n,r,i,l){i?(t.opacity=dt(0,n.opacity!==void 0?n.opacity:1,e7(r)),t.opacityExit=dt(e.opacity!==void 0?e.opacity:1,0,t7(r))):l&&(t.opacity=dt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<XV;c++){const d=`border${FT[c]}Radius`;let h=VN(e,d),m=VN(n,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||zN(h)===zN(m)?(t[d]=Math.max(dt(BN(h),BN(m),r),0),(Cr.test(m)||Cr.test(h))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function VN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const e7=UT(0,.5,rT),t7=UT(.5,.95,xn);function UT(t,e,n){return r=>r<t?0:r>e?1:n(Na(t,e,r))}function HN(t,e){t.min=e.min,t.max=e.max}function Cn(t,e){HN(t.x,e.x),HN(t.y,e.y)}function WN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function GN(t,e,n,r,i){return t-=e,t=wh(t,1/n,r),i!==void 0&&(t=wh(t,1/i,r)),t}function n7(t,e=0,n=1,r=.5,i,l=t,c=t){if(Cr.test(e)&&(e=parseFloat(e),e=dt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=dt(l.min,l.max,r);t===l&&(d-=e),t.min=GN(t.min,e,n,d,i),t.max=GN(t.max,e,n,d,i)}function KN(t,e,[n,r,i],l,c){n7(t,e[n],e[r],e[i],e.scale,l,c)}const r7=["x","scaleX","originX"],s7=["y","scaleY","originY"];function qN(t,e,n,r){KN(t.x,e,r7,n?n.x:void 0,r?r.x:void 0),KN(t.y,e,s7,n?n.y:void 0,r?r.y:void 0)}function YN(t){return t.translate===0&&t.scale===1}function $T(t){return YN(t.x)&&YN(t.y)}function QN(t,e){return t.min===e.min&&t.max===e.max}function i7(t,e){return QN(t.x,e.x)&&QN(t.y,e.y)}function ZN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function BT(t,e){return ZN(t.x,e.x)&&ZN(t.y,e.y)}function XN(t){return wn(t.x)/wn(t.y)}function JN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class o7{constructor(){this.members=[]}add(e){Zv(this.members,e),e.scheduleRender()}remove(e){if(Xv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function a7(t,e,n){let r="";const i=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||l||c)&&(r=`translate3d(${i}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:p,rotateY:x,skewX:N,skewY:k}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),p&&(r+=`rotateX(${p}deg) `),x&&(r+=`rotateY(${x}deg) `),N&&(r+=`skewX(${N}deg) `),k&&(r+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const Mi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Fl=typeof window<"u"&&window.MotionDebug!==void 0,Yp=["","X","Y","Z"],l7={visibility:"hidden"},eS=1e3;let c7=0;function Qp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=QP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",it,!(i||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zT(r)}function VT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=e==null?void 0:e()){this.id=c7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fl&&(Mi.totalNodes=Mi.resolvedTargetDeltas=Mi.recalculatedProjection=0),this.nodes.forEach(h7),this.nodes.forEach(y7),this.nodes.forEach(v7),this.nodes.forEach(f7),Fl&&window.MotionDebug.record(Mi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new QV)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Jv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qV(c),this.instance=c;const{layoutId:h,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||h)&&(this.isLayoutDirty=!0),t){let p;const x=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=ZV(x,250),Od.hasAnimatedSinceResize&&(Od.hasAnimatedSinceResize=!1,this.nodes.forEach(nS))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||m)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:x,hasRelativeTargetChanged:N,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||S7,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=g.getProps(),P=!this.targetLayout||!BT(this.targetLayout,k)||N,C=!x&&N;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||x&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,C);const T={...Kv(S,"layout"),onPlay:w,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else x||nS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ui(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(x7),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const p=this.path[g];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tS);return}this.isUpdating||this.nodes.forEach(p7),this.isUpdating=!1,this.nodes.forEach(g7),this.nodes.forEach(u7),this.nodes.forEach(d7),this.clearAllSnapshots();const d=Er.now();Ot.delta=ds(0,1e3/60,d-Ot.timestamp),Ot.timestamp=d,Ot.isProcessing=!0,$p.update.process(Ot),$p.preRender.process(Ot),$p.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(m7),this.sharedNodes.forEach(w7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!$T(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&(d||Ii(this.latestValues)||g)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),k7(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return yt();const h=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(j7))){const{scroll:g}=this.root;g&&(Ho(h.x,g.offset.x),Ho(h.y,g.offset.y))}return h}removeElementScroll(c){var d;const h=yt();if(Cn(h,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:p,options:x}=g;g!==this.root&&p&&x.layoutScroll&&(p.wasRoot&&Cn(h,c),Ho(h.x,p.offset.x),Ho(h.y,p.offset.y))}return h}applyTransform(c,d=!1){const h=yt();Cn(h,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Wo(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ii(g.latestValues)&&Wo(h,g.latestValues)}return Ii(this.latestValues)&&Wo(h,this.latestValues),h}removeTransform(c){const d=yt();Cn(d,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Ii(m.latestValues))continue;ly(m.latestValues)&&m.updateSnapshot();const g=yt(),p=m.measurePageBox();Cn(g,p),qN(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ii(this.latestValues)&&qN(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:x}=this.options;if(!(!this.layout||!(p||x))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const N=this.getClosestProjectingParent();N&&N.layout&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),ql(this.relativeTargetOrigin,this.layout.layoutBox,N.layout.layoutBox),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cn(this.target,this.layout.layoutBox),MT(this.target,this.targetDelta)):Cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const N=this.getClosestProjectingParent();N&&!!N.resumingFrom==!!this.resumingFrom&&!N.options.layoutScroll&&N.target&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),ql(this.relativeTargetOrigin,this.target,N.target),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fl&&Mi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ly(this.parent.latestValues)||IT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(m=!1),m)return;const{layout:g,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||p))return;Cn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,N=this.treeScale.y;LV(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=yt());const{target:k}=d;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WN(this.prevProjectionDelta.x,this.projectionDelta.x),WN(this.prevProjectionDelta.y,this.projectionDelta.y)),Kl(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==N||!JN(this.projectionDelta.x,this.prevProjectionDelta.x)||!JN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),Fl&&Mi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vo(),this.projectionDelta=Vo(),this.projectionDeltaWithTransform=Vo()}setAnimationOrigin(c,d=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},p=Vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=yt(),N=h?h.source:void 0,k=this.layout?this.layout.source:void 0,S=N!==k,w=this.getStack(),j=!w||w.members.length<=1,P=!!(S&&!j&&this.options.crossfade===!0&&!this.path.some(N7));this.animationProgress=0;let C;this.mixTargetDelta=T=>{const R=T/1e3;rS(p.x,c.x,R),rS(p.y,c.y,R),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ql(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),b7(this.relativeTarget,this.relativeTargetOrigin,x,R),C&&i7(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=yt()),Cn(C,this.relativeTarget)),S&&(this.animationValues=g,JV(g,m,this.latestValues,R,P,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ui(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{Od.hasAnimatedSinceResize=!0,this.currentAnimation=KV(0,eS,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:g}=c;if(!(!d||!h||!m)){if(this!==c&&this.layout&&m&&HT(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||yt();const p=wn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+p;const x=wn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+x}Cn(d,h),Wo(d,g),Kl(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new o7),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&Qp("z",c,m,this.animationValues);for(let g=0;g<Yp.length;g++)Qp(`rotate${Yp[g]}`,c,m,this.animationValues),Qp(`skew${Yp[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return l7;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Md(c==null?void 0:c.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Md(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ii(this.latestValues)&&(S.transform=g?g({},""):"none",this.hasProjected=!1),S}const x=p.animationValues||p.latestValues;this.applyTransformsToTarget(),m.transform=a7(this.projectionDeltaWithTransform,this.treeScale,x),g&&(m.transform=g(x,m.transform));const{x:N,y:k}=this.projectionDelta;m.transformOrigin=`${N.origin*100}% ${k.origin*100}% 0`,p.animationValues?m.opacity=p===this?(h=(d=x.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:m.opacity=p===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const S in ph){if(x[S]===void 0)continue;const{correct:w,applyTo:j}=ph[S],P=m.transform==="none"?x[S]:w(x[S],p);if(j){const C=j.length;for(let T=0;T<C;T++)m[j[T]]=P}else m[S]=P}return this.options.layoutId&&(m.pointerEvents=p===this?Md(c==null?void 0:c.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(tS),this.root.sharedNodes.clear()}}}function u7(t){t.updateLayout()}function d7(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?Pn(p=>{const x=c?n.measuredBox[p]:n.layoutBox[p],N=wn(x);x.min=r[p].min,x.max=x.min+N}):HT(l,n.layoutBox,r)&&Pn(p=>{const x=c?n.measuredBox[p]:n.layoutBox[p],N=wn(r[p]);x.max=x.min+N,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+N)});const d=Vo();Kl(d,r,n.layoutBox);const h=Vo();c?Kl(h,t.applyTransform(i,!0),n.measuredBox):Kl(h,r,n.layoutBox);const m=!$T(d);let g=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:N}=p;if(x&&N){const k=yt();ql(k,n.layoutBox,x.layoutBox);const S=yt();ql(S,r,N.layoutBox),BT(k,S)||(g=!0),p.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=k,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function h7(t){Fl&&Mi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function f7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function m7(t){t.clearSnapshot()}function tS(t){t.clearMeasurements()}function p7(t){t.isLayoutDirty=!1}function g7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function y7(t){t.resolveTargetDelta()}function v7(t){t.calcProjection()}function x7(t){t.resetSkewAndRotation()}function w7(t){t.removeLeadSnapshot()}function rS(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sS(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function b7(t,e,n,r){sS(t.x,e.x,n.x,r),sS(t.y,e.y,n.y,r)}function N7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const S7={duration:.45,ease:[.4,0,.1,1]},iS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),oS=iS("applewebkit/")&&!iS("chrome/")?Math.round:xn;function aS(t){t.min=oS(t.min),t.max=oS(t.max)}function k7(t){aS(t.x),aS(t.y)}function HT(t,e,n){return t==="position"||t==="preserve-aspect"&&!CV(XN(e),XN(n),.2)}function j7(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const _7=VT({attachResizeListener:(t,e)=>pc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zp={current:void 0},WT=VT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zp.current){const t=new _7({});t.mount(window),t.setOptions({layoutScroll:!0}),Zp.current=t}return Zp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),C7={pan:{Feature:VV},drag:{Feature:zV,ProjectionNode:WT,MeasureLayout:LT}};function lS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,l=r[i];l&&it.postRender(()=>l(e,$c(e)))}class E7 extends pi{mount(){const{current:e}=this.node;e&&(this.unmount=CB(e,n=>(lS(this.node,n,"Start"),r=>lS(this.node,r,"End"))))}unmount(){}}class P7 extends pi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uc(pc(this.node.current,"focus",()=>this.onFocus()),pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cS(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),l=r[i];l&&it.postRender(()=>l(e,$c(e)))}class T7 extends pi{mount(){const{current:e}=this.node;e&&(this.unmount=RB(e,n=>(cS(this.node,n,"Start"),(r,{success:i})=>cS(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uy=new WeakMap,Xp=new WeakMap,R7=t=>{const e=uy.get(t.target);e&&e(t)},A7=t=>{t.forEach(R7)};function I7({root:t,...e}){const n=t||document;Xp.has(n)||Xp.set(n,{});const r=Xp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(A7,{root:t,...e})),r[i]}function M7(t,e,n){const r=I7(e);return uy.set(t,n),r.observe(t),()=>{uy.delete(t),r.unobserve(t)}}const D7={some:0,all:1};class O7 extends pi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:D7[i]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:p}=this.node.getProps(),x=m?g:p;x&&x(h)};return M7(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(L7(e,n))&&this.startObserver()}unmount(){}}function L7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const F7={inView:{Feature:O7},tap:{Feature:T7},focus:{Feature:P7},hover:{Feature:E7}},U7={layout:{ProjectionNode:WT,MeasureLayout:LT}},dy={current:null},GT={current:!1};function $7(){if(GT.current=!0,!!Av)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dy.current=t.matches;t.addListener(e),e()}else dy.current=!1}const B7=[...yT,zt,di],z7=t=>B7.find(gT(t)),uS=new WeakMap;function V7(t,e,n){for(const r in e){const i=e[r],l=n[r];if(Vt(i))t.addValue(r,i);else if(Vt(l))t.addValue(r,fc(i,{owner:t}));else if(l!==i)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(r);t.addValue(r,fc(c!==void 0?c:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const dS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class H7{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const N=Er.now();this.renderScheduledAt<N&&(this.renderScheduledAt=N,it.render(this.render,!1,!0))};const{latestValues:h,renderState:m,onUpdate:g}=c;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=mf(n),this.isVariantNode=jP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const N in x){const k=x[N];h[N]!==void 0&&Vt(k)&&k.set(h[N],!1)}}mount(e){this.current=e,uS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),GT.current||$7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uS.delete(this.current),this.projection&&this.projection.unmount(),ui(this.notifyUpdate),ui(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ao.has(e),i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&it.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sa){const n=Sa[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dS.length;r++){const i=dS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const l="on"+i,c=e[l];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=V7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=fc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(mT(i)||iT(i))?i=parseFloat(i):!z7(i)&&di.test(n)&&(i=dT(e,n)),this.setBaseTarget(e,Vt(i)?i.get():i)),Vt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=Uv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(i=c[e])}if(r&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Vt(l)?l:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Jv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class KT extends H7{constructor(){super(...arguments),this.KeyframeResolver=vT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function W7(t){return window.getComputedStyle(t)}class G7 extends KT{constructor(){super(...arguments),this.type="html",this.renderInstance=MP}readValueFromInstance(e,n){if(ao.has(n)){const r=s0(n);return r&&r.default||0}else{const r=W7(e),i=(RP(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DT(e,n)}build(e,n,r){zv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Gv(e,n,r)}}class K7 extends KT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ao.has(n)){const r=s0(n);return r&&r.default||0}return n=DP.has(n)?n:Ov(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return FP(e,n,r)}build(e,n,r){Vv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){OP(e,n,r,i)}mount(e){this.isSVGTag=Wv(e.tagName),super.mount(e)}}const q7=(t,e)=>Fv(t)?new K7(e):new G7(e,{allowProjection:t!==v.Fragment}),Y7=wB({...vV,...F7,...C7,...U7},q7),we=D$(Y7);function Q7(t,e=300){const[n,r]=v.useState(t);return v.useEffect(()=>{const i=setTimeout(()=>r(t),e);return()=>clearTimeout(i)},[t,e]),n}var qe;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const l={};for(const c of i)l[c]=c;return l},t.getValidEnumValues=i=>{const l=t.objectKeys(i).filter(d=>typeof i[i[d]]!="number"),c={};for(const d of l)c[d]=i[d];return t.objectValues(c)},t.objectValues=i=>t.objectKeys(i).map(function(l){return i[l]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const l=[];for(const c in i)Object.prototype.hasOwnProperty.call(i,c)&&l.push(c);return l},t.find=(i,l)=>{for(const c of i)if(l(c))return c},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,l=" | "){return i.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}t.joinValues=r,t.jsonStringifyReplacer=(i,l)=>typeof l=="bigint"?l.toString():l})(qe||(qe={}));var hS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(hS||(hS={}));const ge=qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bs=t=>{switch(typeof t){case"undefined":return ge.undefined;case"string":return ge.string;case"number":return Number.isNaN(t)?ge.nan:ge.number;case"boolean":return ge.boolean;case"function":return ge.function;case"bigint":return ge.bigint;case"symbol":return ge.symbol;case"object":return Array.isArray(t)?ge.array:t===null?ge.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ge.promise:typeof Map<"u"&&t instanceof Map?ge.map:typeof Set<"u"&&t instanceof Set?ge.set:typeof Date<"u"&&t instanceof Date?ge.date:ge.object;default:return ge.unknown}},re=qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class hs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(l){return l.message},r={_errors:[]},i=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(i);else if(c.code==="invalid_return_type")i(c.returnTypeError);else if(c.code==="invalid_arguments")i(c.argumentsError);else if(c.path.length===0)r._errors.push(n(c));else{let d=r,h=0;for(;h<c.path.length;){const m=c.path[h];h===c.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(n(c))):d[m]=d[m]||{_errors:[]},d=d[m],h++}}};return i(this),r}static assert(e){if(!(e instanceof hs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const l=i.path[0];n[l]=n[l]||[],n[l].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}hs.create=t=>new hs(t);const hy=(t,e)=>{let n;switch(t.code){case re.invalid_type:t.received===ge.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,qe.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:n=`Unrecognized key(s) in object: ${qe.joinValues(t.keys,", ")}`;break;case re.invalid_union:n="Invalid input";break;case re.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${qe.joinValues(t.options)}`;break;case re.invalid_enum_value:n=`Invalid enum value. Expected ${qe.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:n="Invalid function arguments";break;case re.invalid_return_type:n="Invalid function return type";break;case re.invalid_date:n="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:qe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case re.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case re.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case re.custom:n="Invalid input";break;case re.invalid_intersection_types:n="Intersection results could not be merged";break;case re.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:n="Number must be finite";break;default:n=e.defaultError,qe.assertNever(t)}return{message:n}};let Z7=hy;function X7(){return Z7}const J7=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,l=[...n,...i.path||[]],c={...i,path:l};if(i.message!==void 0)return{...i,path:l,message:i.message};let d="";const h=r.filter(m=>!!m).slice().reverse();for(const m of h)d=m(c,{data:e,defaultError:d}).message;return{...i,path:l,message:d}};function ce(t,e){const n=X7(),r=J7({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===hy?void 0:hy].filter(i=>!!i)});t.common.issues.push(r)}class Jt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Re;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const l=await i.key,c=await i.value;r.push({key:l,value:c})}return Jt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:l,value:c}=i;if(l.status==="aborted"||c.status==="aborted")return Re;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||i.alwaysSet)&&(r[l.value]=c.value)}return{status:e.value,value:r}}}const Re=Object.freeze({status:"aborted"}),Ul=t=>({status:"dirty",value:t}),$n=t=>({status:"valid",value:t}),fS=t=>t.status==="aborted",mS=t=>t.status==="dirty",ja=t=>t.status==="valid",bh=t=>typeof Promise<"u"&&t instanceof Promise;var xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(xe||(xe={}));class Ir{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pS=(t,e)=>{if(ja(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new hs(t.common.issues);return this._error=n,this._error}}};function Oe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(c,d)=>{const{message:h}=t;return c.code==="invalid_enum_value"?{message:h??d.defaultError}:typeof d.data>"u"?{message:h??r??d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:h??n??d.defaultError}},description:i}}class Ve{get description(){return this._def.description}_getType(e){return Bs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Jt,ctx:{common:e.parent.common,data:e.data,parsedType:Bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(bh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)},i=this._parseSync({data:e,path:r.path,parent:r});return pS(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:n});return ja(l)?{value:l.value}:{issues:n.common.issues}}catch(l){(i=(r=l==null?void 0:l.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(l=>ja(l)?{value:l.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)},i=this._parse({data:e,path:r.path,parent:r}),l=await(bh(i)?i:Promise.resolve(i));return pS(r,l)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,l)=>{const c=e(i),d=()=>l.addIssue({code:re.custom,...r(i)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ea({schema:this,typeName:Pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return si.create(this,this._def)}nullable(){return Pa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pr.create(this)}promise(){return _h.create(this,this._def)}or(e){return Sh.create([this,e],this._def)}and(e){return kh.create(this,e,this._def)}transform(e){return new Ea({...Oe(this._def),schema:this,typeName:Pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new gy({...Oe(this._def),innerType:this,defaultValue:n,typeName:Pe.ZodDefault})}brand(){return new N9({typeName:Pe.ZodBranded,type:this,...Oe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new yy({...Oe(this._def),innerType:this,catchValue:n,typeName:Pe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return c0.create(this,e)}readonly(){return vy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const e9=/^c[^\s-]{8,}$/i,t9=/^[0-9a-z]+$/,n9=/^[0-9A-HJKMNP-TV-Z]{26}$/i,r9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,s9=/^[a-z0-9_-]{21}$/i,i9=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,o9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,a9=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,l9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Jp;const c9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,u9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,d9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,h9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,f9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,m9=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,qT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",p9=new RegExp(`^${qT}$`);function YT(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function g9(t){return new RegExp(`^${YT(t)}$`)}function y9(t){let e=`${qT}T${YT(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function v9(t,e){return!!((e==="v4"||!e)&&c9.test(t)||(e==="v6"||!e)&&d9.test(t))}function x9(t,e){if(!i9.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function w9(t,e){return!!((e==="v4"||!e)&&u9.test(t)||(e==="v6"||!e)&&h9.test(t))}class ts extends Ve{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ge.string){const l=this._getOrReturnCtx(e);return ce(l,{code:re.invalid_type,expected:ge.string,received:l.parsedType}),Re}const r=new Jt;let i;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(i=this._getOrReturnCtx(e,i),ce(i,{code:re.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),r.dirty());else if(l.kind==="max")e.data.length>l.value&&(i=this._getOrReturnCtx(e,i),ce(i,{code:re.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),r.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,d=e.data.length<l.value;(c||d)&&(i=this._getOrReturnCtx(e,i),c?ce(i,{code:re.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&ce(i,{code:re.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),r.dirty())}else if(l.kind==="email")a9.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"email",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="emoji")Jp||(Jp=new RegExp(l9,"u")),Jp.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"emoji",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="uuid")r9.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"uuid",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="nanoid")s9.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"nanoid",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="cuid")e9.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"cuid",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="cuid2")t9.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"cuid2",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="ulid")n9.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"ulid",code:re.invalid_string,message:l.message}),r.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ce(i,{validation:"url",code:re.invalid_string,message:l.message}),r.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"regex",code:re.invalid_string,message:l.message}),r.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(i=this._getOrReturnCtx(e,i),ce(i,{code:re.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),r.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(i=this._getOrReturnCtx(e,i),ce(i,{code:re.invalid_string,validation:{startsWith:l.value},message:l.message}),r.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(i=this._getOrReturnCtx(e,i),ce(i,{code:re.invalid_string,validation:{endsWith:l.value},message:l.message}),r.dirty()):l.kind==="datetime"?y9(l).test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{code:re.invalid_string,validation:"datetime",message:l.message}),r.dirty()):l.kind==="date"?p9.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{code:re.invalid_string,validation:"date",message:l.message}),r.dirty()):l.kind==="time"?g9(l).test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{code:re.invalid_string,validation:"time",message:l.message}),r.dirty()):l.kind==="duration"?o9.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"duration",code:re.invalid_string,message:l.message}),r.dirty()):l.kind==="ip"?v9(e.data,l.version)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"ip",code:re.invalid_string,message:l.message}),r.dirty()):l.kind==="jwt"?x9(e.data,l.alg)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"jwt",code:re.invalid_string,message:l.message}),r.dirty()):l.kind==="cidr"?w9(e.data,l.version)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"cidr",code:re.invalid_string,message:l.message}),r.dirty()):l.kind==="base64"?f9.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"base64",code:re.invalid_string,message:l.message}),r.dirty()):l.kind==="base64url"?m9.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"base64url",code:re.invalid_string,message:l.message}),r.dirty()):qe.assertNever(l);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:re.invalid_string,...xe.errToObj(r)})}_addCheck(e){return new ts({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...xe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...xe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...xe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...xe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...xe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...xe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...xe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...xe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...xe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...xe.errToObj(n)})}nonempty(e){return this.min(1,xe.errToObj(e))}trim(){return new ts({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ts({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ts({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ts.create=t=>new ts({checks:[],typeName:Pe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Oe(t)});function b9(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,l=Number.parseInt(t.toFixed(i).replace(".","")),c=Number.parseInt(e.toFixed(i).replace(".",""));return l%c/10**i}class _a extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ge.number){const l=this._getOrReturnCtx(e);return ce(l,{code:re.invalid_type,expected:ge.number,received:l.parsedType}),Re}let r;const i=new Jt;for(const l of this._def.checks)l.kind==="int"?qe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:re.invalid_type,expected:"integer",received:"float",message:l.message}),i.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),i.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),i.dirty()):l.kind==="multipleOf"?b9(e.data,l.value)!==0&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.not_multiple_of,multipleOf:l.value,message:l.message}),i.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:re.not_finite,message:l.message}),i.dirty()):qe.assertNever(l);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,i){return new _a({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(i)}]})}_addCheck(e){return new _a({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}_a.create=t=>new _a({checks:[],typeName:Pe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Oe(t)});class gc extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ge.bigint)return this._getInvalidInput(e);let r;const i=new Jt;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),i.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),i.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.not_multiple_of,multipleOf:l.value,message:l.message}),i.dirty()):qe.assertNever(l);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ce(n,{code:re.invalid_type,expected:ge.bigint,received:n.parsedType}),Re}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,i){return new gc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(i)}]})}_addCheck(e){return new gc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}gc.create=t=>new gc({checks:[],typeName:Pe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Oe(t)});class fy extends Ve{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ge.boolean){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.boolean,received:r.parsedType}),Re}return $n(e.data)}}fy.create=t=>new fy({typeName:Pe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Oe(t)});class Nh extends Ve{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ge.date){const l=this._getOrReturnCtx(e);return ce(l,{code:re.invalid_type,expected:ge.date,received:l.parsedType}),Re}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return ce(l,{code:re.invalid_date}),Re}const r=new Jt;let i;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(i=this._getOrReturnCtx(e,i),ce(i,{code:re.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),r.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(i=this._getOrReturnCtx(e,i),ce(i,{code:re.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),r.dirty()):qe.assertNever(l);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Nh({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:xe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:xe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Nh.create=t=>new Nh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Pe.ZodDate,...Oe(t)});class gS extends Ve{_parse(e){if(this._getType(e)!==ge.symbol){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.symbol,received:r.parsedType}),Re}return $n(e.data)}}gS.create=t=>new gS({typeName:Pe.ZodSymbol,...Oe(t)});class yS extends Ve{_parse(e){if(this._getType(e)!==ge.undefined){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.undefined,received:r.parsedType}),Re}return $n(e.data)}}yS.create=t=>new yS({typeName:Pe.ZodUndefined,...Oe(t)});class vS extends Ve{_parse(e){if(this._getType(e)!==ge.null){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.null,received:r.parsedType}),Re}return $n(e.data)}}vS.create=t=>new vS({typeName:Pe.ZodNull,...Oe(t)});class my extends Ve{constructor(){super(...arguments),this._any=!0}_parse(e){return $n(e.data)}}my.create=t=>new my({typeName:Pe.ZodAny,...Oe(t)});class xS extends Ve{constructor(){super(...arguments),this._unknown=!0}_parse(e){return $n(e.data)}}xS.create=t=>new xS({typeName:Pe.ZodUnknown,...Oe(t)});class hi extends Ve{_parse(e){const n=this._getOrReturnCtx(e);return ce(n,{code:re.invalid_type,expected:ge.never,received:n.parsedType}),Re}}hi.create=t=>new hi({typeName:Pe.ZodNever,...Oe(t)});class wS extends Ve{_parse(e){if(this._getType(e)!==ge.undefined){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.void,received:r.parsedType}),Re}return $n(e.data)}}wS.create=t=>new wS({typeName:Pe.ZodVoid,...Oe(t)});class Pr extends Ve{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ge.array)return ce(n,{code:re.invalid_type,expected:ge.array,received:n.parsedType}),Re;if(i.exactLength!==null){const c=n.data.length>i.exactLength.value,d=n.data.length<i.exactLength.value;(c||d)&&(ce(n,{code:c?re.too_big:re.too_small,minimum:d?i.exactLength.value:void 0,maximum:c?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ce(n,{code:re.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ce(n,{code:re.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((c,d)=>i.type._parseAsync(new Ir(n,c,n.path,d)))).then(c=>Jt.mergeArray(r,c));const l=[...n.data].map((c,d)=>i.type._parseSync(new Ir(n,c,n.path,d)));return Jt.mergeArray(r,l)}get element(){return this._def.type}min(e,n){return new Pr({...this._def,minLength:{value:e,message:xe.toString(n)}})}max(e,n){return new Pr({...this._def,maxLength:{value:e,message:xe.toString(n)}})}length(e,n){return new Pr({...this._def,exactLength:{value:e,message:xe.toString(n)}})}nonempty(e){return this.min(1,e)}}Pr.create=(t,e)=>new Pr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Pe.ZodArray,...Oe(e)});function Uo(t){if(t instanceof bt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=si.create(Uo(r))}return new bt({...t._def,shape:()=>e})}else return t instanceof Pr?new Pr({...t._def,type:Uo(t.element)}):t instanceof si?si.create(Uo(t.unwrap())):t instanceof Pa?Pa.create(Uo(t.unwrap())):t instanceof Ji?Ji.create(t.items.map(e=>Uo(e))):t}class bt extends Ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=qe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ge.object){const m=this._getOrReturnCtx(e);return ce(m,{code:re.invalid_type,expected:ge.object,received:m.parsedType}),Re}const{status:r,ctx:i}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof hi&&this._def.unknownKeys==="strip"))for(const m in i.data)c.includes(m)||d.push(m);const h=[];for(const m of c){const g=l[m],p=i.data[m];h.push({key:{status:"valid",value:m},value:g._parse(new Ir(i,p,i.path,m)),alwaysSet:m in i.data})}if(this._def.catchall instanceof hi){const m=this._def.unknownKeys;if(m==="passthrough")for(const g of d)h.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if(m==="strict")d.length>0&&(ce(i,{code:re.unrecognized_keys,keys:d}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const g of d){const p=i.data[g];h.push({key:{status:"valid",value:g},value:m._parse(new Ir(i,p,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const m=[];for(const g of h){const p=await g.key,x=await g.value;m.push({key:p,value:x,alwaysSet:g.alwaysSet})}return m}).then(m=>Jt.mergeObjectSync(r,m)):Jt.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(e){return xe.errToObj,new bt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var l,c;const i=((c=(l=this._def).errorMap)==null?void 0:c.call(l,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:xe.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new bt({...this._def,unknownKeys:"strip"})}passthrough(){return new bt({...this._def,unknownKeys:"passthrough"})}extend(e){return new bt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new bt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Pe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new bt({...this._def,catchall:e})}pick(e){const n={};for(const r of qe.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new bt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of qe.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new bt({...this._def,shape:()=>n})}deepPartial(){return Uo(this)}partial(e){const n={};for(const r of qe.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new bt({...this._def,shape:()=>n})}required(e){const n={};for(const r of qe.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let l=this.shape[r];for(;l instanceof si;)l=l._def.innerType;n[r]=l}return new bt({...this._def,shape:()=>n})}keyof(){return QT(qe.objectKeys(this.shape))}}bt.create=(t,e)=>new bt({shape:()=>t,unknownKeys:"strip",catchall:hi.create(),typeName:Pe.ZodObject,...Oe(e)});bt.strictCreate=(t,e)=>new bt({shape:()=>t,unknownKeys:"strict",catchall:hi.create(),typeName:Pe.ZodObject,...Oe(e)});bt.lazycreate=(t,e)=>new bt({shape:t,unknownKeys:"strip",catchall:hi.create(),typeName:Pe.ZodObject,...Oe(e)});class Sh extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(l){for(const d of l)if(d.result.status==="valid")return d.result;for(const d of l)if(d.result.status==="dirty")return n.common.issues.push(...d.ctx.common.issues),d.result;const c=l.map(d=>new hs(d.ctx.common.issues));return ce(n,{code:re.invalid_union,unionErrors:c}),Re}if(n.common.async)return Promise.all(r.map(async l=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(i);{let l;const c=[];for(const h of r){const m={...n,common:{...n.common,issues:[]},parent:null},g=h._parseSync({data:n.data,path:n.path,parent:m});if(g.status==="valid")return g;g.status==="dirty"&&!l&&(l={result:g,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const d=c.map(h=>new hs(h));return ce(n,{code:re.invalid_union,unionErrors:d}),Re}}get options(){return this._def.options}}Sh.create=(t,e)=>new Sh({options:t,typeName:Pe.ZodUnion,...Oe(e)});function py(t,e){const n=Bs(t),r=Bs(e);if(t===e)return{valid:!0,data:t};if(n===ge.object&&r===ge.object){const i=qe.objectKeys(e),l=qe.objectKeys(t).filter(d=>i.indexOf(d)!==-1),c={...t,...e};for(const d of l){const h=py(t[d],e[d]);if(!h.valid)return{valid:!1};c[d]=h.data}return{valid:!0,data:c}}else if(n===ge.array&&r===ge.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let l=0;l<t.length;l++){const c=t[l],d=e[l],h=py(c,d);if(!h.valid)return{valid:!1};i.push(h.data)}return{valid:!0,data:i}}else return n===ge.date&&r===ge.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class kh extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(l,c)=>{if(fS(l)||fS(c))return Re;const d=py(l.value,c.value);return d.valid?((mS(l)||mS(c))&&n.dirty(),{status:n.value,value:d.data}):(ce(r,{code:re.invalid_intersection_types}),Re)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([l,c])=>i(l,c)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}kh.create=(t,e,n)=>new kh({left:t,right:e,typeName:Pe.ZodIntersection,...Oe(n)});class Ji extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.array)return ce(r,{code:re.invalid_type,expected:ge.array,received:r.parsedType}),Re;if(r.data.length<this._def.items.length)return ce(r,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Re;!this._def.rest&&r.data.length>this._def.items.length&&(ce(r,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...r.data].map((c,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new Ir(r,c,r.path,d)):null}).filter(c=>!!c);return r.common.async?Promise.all(l).then(c=>Jt.mergeArray(n,c)):Jt.mergeArray(n,l)}get items(){return this._def.items}rest(e){return new Ji({...this._def,rest:e})}}Ji.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ji({items:t,typeName:Pe.ZodTuple,rest:null,...Oe(e)})};class jh extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.object)return ce(r,{code:re.invalid_type,expected:ge.object,received:r.parsedType}),Re;const i=[],l=this._def.keyType,c=this._def.valueType;for(const d in r.data)i.push({key:l._parse(new Ir(r,d,r.path,d)),value:c._parse(new Ir(r,r.data[d],r.path,d)),alwaysSet:d in r.data});return r.common.async?Jt.mergeObjectAsync(n,i):Jt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ve?new jh({keyType:e,valueType:n,typeName:Pe.ZodRecord,...Oe(r)}):new jh({keyType:ts.create(),valueType:e,typeName:Pe.ZodRecord,...Oe(n)})}}class bS extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.map)return ce(r,{code:re.invalid_type,expected:ge.map,received:r.parsedType}),Re;const i=this._def.keyType,l=this._def.valueType,c=[...r.data.entries()].map(([d,h],m)=>({key:i._parse(new Ir(r,d,r.path,[m,"key"])),value:l._parse(new Ir(r,h,r.path,[m,"value"]))}));if(r.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of c){const m=await h.key,g=await h.value;if(m.status==="aborted"||g.status==="aborted")return Re;(m.status==="dirty"||g.status==="dirty")&&n.dirty(),d.set(m.value,g.value)}return{status:n.value,value:d}})}else{const d=new Map;for(const h of c){const m=h.key,g=h.value;if(m.status==="aborted"||g.status==="aborted")return Re;(m.status==="dirty"||g.status==="dirty")&&n.dirty(),d.set(m.value,g.value)}return{status:n.value,value:d}}}}bS.create=(t,e,n)=>new bS({valueType:e,keyType:t,typeName:Pe.ZodMap,...Oe(n)});class yc extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.set)return ce(r,{code:re.invalid_type,expected:ge.set,received:r.parsedType}),Re;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ce(r,{code:re.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ce(r,{code:re.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const l=this._def.valueType;function c(h){const m=new Set;for(const g of h){if(g.status==="aborted")return Re;g.status==="dirty"&&n.dirty(),m.add(g.value)}return{status:n.value,value:m}}const d=[...r.data.values()].map((h,m)=>l._parse(new Ir(r,h,r.path,m)));return r.common.async?Promise.all(d).then(h=>c(h)):c(d)}min(e,n){return new yc({...this._def,minSize:{value:e,message:xe.toString(n)}})}max(e,n){return new yc({...this._def,maxSize:{value:e,message:xe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}yc.create=(t,e)=>new yc({valueType:t,minSize:null,maxSize:null,typeName:Pe.ZodSet,...Oe(e)});class NS extends Ve{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}NS.create=(t,e)=>new NS({getter:t,typeName:Pe.ZodLazy,...Oe(e)});class SS extends Ve{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ce(n,{received:n.data,code:re.invalid_literal,expected:this._def.value}),Re}return{status:"valid",value:e.data}}get value(){return this._def.value}}SS.create=(t,e)=>new SS({value:t,typeName:Pe.ZodLiteral,...Oe(e)});function QT(t,e){return new Ca({values:t,typeName:Pe.ZodEnum,...Oe(e)})}class Ca extends Ve{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ce(n,{expected:qe.joinValues(r),received:n.parsedType,code:re.invalid_type}),Re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ce(n,{received:n.data,code:re.invalid_enum_value,options:r}),Re}return $n(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ca.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ca.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ca.create=QT;class kS extends Ve{_parse(e){const n=qe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ge.string&&r.parsedType!==ge.number){const i=qe.objectValues(n);return ce(r,{expected:qe.joinValues(i),received:r.parsedType,code:re.invalid_type}),Re}if(this._cache||(this._cache=new Set(qe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=qe.objectValues(n);return ce(r,{received:r.data,code:re.invalid_enum_value,options:i}),Re}return $n(e.data)}get enum(){return this._def.values}}kS.create=(t,e)=>new kS({values:t,typeName:Pe.ZodNativeEnum,...Oe(e)});class _h extends Ve{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.promise&&n.common.async===!1)return ce(n,{code:re.invalid_type,expected:ge.promise,received:n.parsedType}),Re;const r=n.parsedType===ge.promise?n.data:Promise.resolve(n.data);return $n(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}_h.create=(t,e)=>new _h({type:t,typeName:Pe.ZodPromise,...Oe(e)});class Ea extends Ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,l={addIssue:c=>{ce(r,c),c.fatal?n.abort():n.dirty()},get path(){return r.path}};if(l.addIssue=l.addIssue.bind(l),i.type==="preprocess"){const c=i.transform(r.data,l);if(r.common.async)return Promise.resolve(c).then(async d=>{if(n.value==="aborted")return Re;const h=await this._def.schema._parseAsync({data:d,path:r.path,parent:r});return h.status==="aborted"?Re:h.status==="dirty"||n.value==="dirty"?Ul(h.value):h});{if(n.value==="aborted")return Re;const d=this._def.schema._parseSync({data:c,path:r.path,parent:r});return d.status==="aborted"?Re:d.status==="dirty"||n.value==="dirty"?Ul(d.value):d}}if(i.type==="refinement"){const c=d=>{const h=i.refinement(d,l);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return d.status==="aborted"?Re:(d.status==="dirty"&&n.dirty(),c(d.value),{status:n.value,value:d.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>d.status==="aborted"?Re:(d.status==="dirty"&&n.dirty(),c(d.value).then(()=>({status:n.value,value:d.value}))))}if(i.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ja(c))return Re;const d=i.transform(c.value,l);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:d}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>ja(c)?Promise.resolve(i.transform(c.value,l)).then(d=>({status:n.value,value:d})):Re);qe.assertNever(i)}}Ea.create=(t,e,n)=>new Ea({schema:t,typeName:Pe.ZodEffects,effect:e,...Oe(n)});Ea.createWithPreprocess=(t,e,n)=>new Ea({schema:e,effect:{type:"preprocess",transform:t},typeName:Pe.ZodEffects,...Oe(n)});class si extends Ve{_parse(e){return this._getType(e)===ge.undefined?$n(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}si.create=(t,e)=>new si({innerType:t,typeName:Pe.ZodOptional,...Oe(e)});class Pa extends Ve{_parse(e){return this._getType(e)===ge.null?$n(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pa.create=(t,e)=>new Pa({innerType:t,typeName:Pe.ZodNullable,...Oe(e)});class gy extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ge.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}gy.create=(t,e)=>new gy({innerType:t,typeName:Pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Oe(e)});class yy extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return bh(i)?i.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new hs(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new hs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}yy.create=(t,e)=>new yy({innerType:t,typeName:Pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Oe(e)});class jS extends Ve{_parse(e){if(this._getType(e)!==ge.nan){const r=this._getOrReturnCtx(e);return ce(r,{code:re.invalid_type,expected:ge.nan,received:r.parsedType}),Re}return{status:"valid",value:e.data}}}jS.create=t=>new jS({typeName:Pe.ZodNaN,...Oe(t)});class N9 extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class c0 extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Re:l.status==="dirty"?(n.dirty(),Ul(l.value)):this._def.out._parseAsync({data:l.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Re:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new c0({in:e,out:n,typeName:Pe.ZodPipeline})}}class vy extends Ve{_parse(e){const n=this._def.innerType._parse(e),r=i=>(ja(i)&&(i.value=Object.freeze(i.value)),i);return bh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}vy.create=(t,e)=>new vy({innerType:t,typeName:Pe.ZodReadonly,...Oe(e)});var Pe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Pe||(Pe={}));const ct=ts.create,vt=_a.create,ZT=fy.create,Go=my.create;hi.create;const xr=Pr.create,er=bt.create;Sh.create;kh.create;Ji.create;const XT=jh.create;Ca.create;_h.create;si.create;Pa.create;const S9=er({id:vt(),title:ct().optional(),name:ct().optional(),poster_path:ct().nullable().optional(),backdrop_path:ct().nullable().optional(),release_date:ct().optional(),first_air_date:ct().optional(),genre_ids:xr(vt()).optional(),media_type:ct().optional(),overview:ct().optional(),vote_average:vt().optional(),popularity:vt().optional(),adult:ZT().optional()}).strip(),k9=er({results:xr(S9).optional()}).strip(),j9=er({id:vt(),title:ct().optional(),name:ct().optional(),poster_path:ct().nullable().optional(),backdrop_path:ct().nullable().optional(),release_date:ct().optional(),first_air_date:ct().optional(),overview:ct().nullable().optional(),genres:xr(er({id:vt().optional(),name:ct().optional()})).optional(),vote_average:vt().optional(),popularity:vt().optional(),adult:ZT().optional(),runtime:vt().nullable().optional(),episode_run_time:xr(vt()).optional(),status:ct().optional(),videos:er({results:xr(Go()).optional()}).optional(),external_ids:er({imdb_id:ct().nullable().optional()}).optional(),homepage:ct().nullable().optional(),tagline:ct().nullable().optional(),production_companies:xr(Go()).optional(),credits:er({cast:xr(Go()).optional(),crew:xr(Go()).optional()}).optional()}).strip(),_9=er({provider_id:vt().optional(),provider_name:ct().optional(),logo_path:ct().nullable().optional(),display_priority:vt().optional(),monetization_type:ct().optional()}).strip();er({platforms:xr(_9).optional(),totalPlatforms:vt().optional(),affiliatePlatforms:vt().optional(),premiumPlatforms:vt().optional(),freePlatforms:vt().optional(),sources:XT(Go()).optional()}).strip();er({results:XT(Go()).default({}),order:xr(vt()).optional(),stats:er({requested:vt().optional(),processed:vt().optional(),returned:vt().optional(),durationMs:vt().optional()}).optional()}).strip();function C9(t,e){return t.ok?t.data:e}function E9(t){return t.ok?t.data:void 0}function P9(t){return{id:t.id.toString(),title:t.title||t.name||"Untitled",poster:t.poster_path?`https://image.tmdb.org/t/p/w300${t.poster_path}`:null,year:(t.release_date||t.first_air_date||"").split("-")[0]||"",genres:t.genre_ids||[],type:t.media_type==="tv"||!t.title&&t.name?"tv":"movie",synopsis:t.overview||"",vote_average:t.vote_average||0,popularity:t.popularity||0,adult:t.adult||!1}}async function JT(t){if(!t.ok){const e=await t.text().catch(()=>"");throw new Error(`HTTP ${t.status} ${t.statusText} ${e}`)}return t.json()}function e2(t,e,n){const r=t.safeParse(e);if(!r.success)throw new Error(`Validation failed for ${n}: ${r.error.issues.map(i=>i.path.join(".")+" "+i.message).slice(0,5).join("; ")}`);return r.data}async function t2(t){try{if(!t||t.trim().length<2)return{ok:!0,data:[]};const e=await fetch(`/api/streaming/enhanced-search?query=${encodeURIComponent(t)}&type=multi`),n=await JT(e);return{ok:!0,data:(e2(k9,n,"searchShowsApi results").results||[]).map(l=>P9(l))}}catch(e){return{ok:!1,error:e}}}async function T9(t,e="movie"){var n,r,i,l,c,d,h,m,g,p,x,N;try{if(!t)throw new Error("Missing id");const k=await fetch(`/api/tmdb/${e}/${t}`),S=await JT(k),w=e2(j9,S,"fetchShowDetailsApi TMDB details");let j=null;try{const C=await fetch(`/api/streaming/comprehensive/${e}/${t}?title=${encodeURIComponent(w.title||w.name||"")}&imdbId=${((n=w.external_ids)==null?void 0:n.imdb_id)||""}`);C.ok&&(j=await C.json())}catch(C){console.warn("Failed to fetch streaming data:",C)}return{ok:!0,data:{id:w.id.toString(),title:w.title||w.name||"Untitled",poster:w.poster_path?`https://image.tmdb.org/t/p/w500${w.poster_path}`:null,backdrop:w.backdrop_path?`https://image.tmdb.org/t/p/w1280${w.backdrop_path}`:null,year:(w.release_date||w.first_air_date||"").split("-")[0]||"",genres:((r=w.genres)==null?void 0:r.map(C=>C.name))||[],vote_average:w.vote_average||0,synopsis:w.overview||"",popularity:w.popularity||0,adult:w.adult||!1,runtime:w.runtime||((i=w.episode_run_time)==null?void 0:i[0])||null,status:w.status||"",type:e,streaming:(j==null?void 0:j.platforms)||[],streamingStats:j?{totalPlatforms:j.totalPlatforms,affiliatePlatforms:j.affiliatePlatforms,premiumPlatforms:j.premiumPlatforms,freePlatforms:j.freePlatforms,sources:j.sources}:null,trailer:((d=(c=(l=w.videos)==null?void 0:l.results)==null?void 0:c.find(C=>C.type==="Trailer"&&C.site==="YouTube"))==null?void 0:d.key)||null,imdbId:((h=w.external_ids)==null?void 0:h.imdb_id)||null,homepage:w.homepage||null,tagline:w.tagline||null,productionCompanies:w.production_companies||[],cast:((g=(m=w.credits)==null?void 0:m.cast)==null?void 0:g.slice(0,10))||[],crew:((N=(x=(p=w.credits)==null?void 0:p.crew)==null?void 0:x.filter(C=>["Director","Producer","Executive Producer"].includes(C.job)))==null?void 0:N.slice(0,5))||[]}}}catch(k){return{ok:!1,error:k}}}function R9(t){const e=Q7(t,300);return ii({queryKey:["search-shows",e],queryFn:async()=>C9(await t2(e),[]),enabled:!!e&&e.length>=2,staleTime:1e3*60*5,gcTime:1e3*60*10})}const se={primary:"#FF4F64",primaryLight:"#FF6B7D",secondaryLight:"#2A2A2A",accent:"#FFD369",background:"#0F0F0F",backgroundCard:"#1A1A1A",backgroundOverlay:"rgba(0, 0, 0, 0.6)",text:"#FFFFFF",textSecondary:"#B3B3B3",textMuted:"#666666",textDark:"#000000",success:"#4ADE80",info:"#3B82F6",focus:"rgba(255, 79, 100, 0.2)",border:"rgba(255, 255, 255, 0.1)",borderLight:"rgba(255, 255, 255, 0.2)"},$l={primary:"linear-gradient(135deg, #FF4F64 0%, #E63946 100%)",accent:"linear-gradient(135deg, #FFD369 0%, #FFB627 100%)"},wt={sm:"4px",md:"8px",lg:"12px",xl:"16px","2xl":"20px"},$o={"2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",glow:"0 0 20px rgba(255, 79, 100, 0.3)",glowAccent:"0 0 20px rgba(255, 211, 105, 0.3)"},A9=v.forwardRef(function({results:e,loading:n,highlightedIndex:r,onHoverIndex:i,onChoose:l,onWatchTrailer:c,onAddToWatchlist:d,listboxId:h,optionIdForIndex:m},g){const p=v.useRef(null);v.useEffect(()=>(e.length>0||n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e.length,n]);const x=k=>{k.key==="ArrowDown"?(k.preventDefault(),i(Math.min(e.length-1,r+1))):k.key==="ArrowUp"?(k.preventDefault(),i(Math.max(0,r-1))):k.key==="Enter"?(k.preventDefault(),e[r]&&l(e[r])):k.key==="Escape"&&k.preventDefault()},N=()=>o.jsxs("div",{className:"p-4 space-y-4","data-testid":"loading-skeleton",role:"status","aria-live":"polite",children:[o.jsx("div",{className:"text-center text-sm font-medium",style:{color:se.textSecondary},children:"Searching BingeBoard..."}),[...Array(4)].map((k,S)=>o.jsxs("div",{className:"flex gap-4 animate-pulse",children:[o.jsx("div",{className:"rounded-md",style:{width:56,height:80,backgroundColor:se.secondaryLight}}),o.jsxs("div",{className:"flex flex-col flex-1 space-y-2",children:[o.jsx("div",{className:"h-5 rounded w-3/4",style:{backgroundColor:se.secondaryLight}}),o.jsx("div",{className:"h-3 rounded w-1/4",style:{backgroundColor:se.secondaryLight}}),o.jsx("div",{className:"h-3 rounded w-full max-w-sm",style:{backgroundColor:se.secondaryLight}})]})]},S))]});return o.jsx(ba,{children:(n||e.length>0)&&o.jsxs(we.div,{ref:k=>{p.current=k,typeof g=="function"?g(k):g&&typeof g=="object"&&(g.current=k)},tabIndex:0,role:"listbox",id:h,"aria-label":"Search Results","aria-activedescendant":m?m(r):`result-${r}`,onKeyDown:x,initial:{opacity:0,y:-8,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute z-50 mt-3 w-full max-w-xl overflow-hidden max-h-[26rem] md:max-h-[30rem]",style:{background:`${se.backgroundCard}dd`,backdropFilter:"blur(20px)",border:`1px solid ${se.borderLight}`,borderRadius:wt["2xl"],boxShadow:$o["2xl"],outline:"none",WebkitOverflowScrolling:"touch"},children:[n&&o.jsx(N,{}),!n&&e.length===0&&o.jsxs("div",{className:"p-8 text-center text-sm font-medium",role:"alert","aria-live":"polite",style:{color:se.textMuted},children:[o.jsx("div",{className:"mb-3",children:o.jsx("div",{className:"w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-4",style:{backgroundColor:se.secondaryLight},children:o.jsx(St,{className:"w-8 h-8",style:{color:se.textMuted}})})}),o.jsx("p",{style:{color:se.textSecondary},children:"No results found"}),o.jsx("p",{className:"text-xs mt-1",style:{color:se.textMuted},children:"Try searching for a different show or movie"})]}),o.jsx("div",{className:"max-h-[22rem] overflow-y-auto",style:{scrollBehavior:"smooth"},children:e.map((k,S)=>{const w=S===r;return o.jsxs(we.div,{id:m?m(S):`result-${S}`,role:"option","aria-selected":w,tabIndex:w?0:-1,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:S*.05,duration:.3},onMouseEnter:()=>i(S),onFocus:()=>i(S),onClick:()=>l(k),className:"w-full cursor-pointer text-left flex gap-4 items-start p-4 transition-all duration-300 group relative overflow-hidden",style:{background:w?`linear-gradient(135deg, ${se.primary}20 0%, ${se.primaryLight}10 100%)`:"transparent",borderLeft:w?`4px solid ${se.primary}`:"4px solid transparent",outline:"none"},onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),l(k))},children:[w&&o.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 opacity-30",style:{background:$l.primary,filter:"blur(20px)",zIndex:0},"aria-hidden":"true"}),o.jsxs("div",{className:"relative flex-shrink-0 overflow-hidden shadow-lg",children:[o.jsx("img",{src:k.poster||"/placeholder.png",alt:k.title,className:"w-14 h-20 object-cover transition-transform duration-300 group-hover:scale-105",style:{borderRadius:wt.md},onError:j=>{j.currentTarget.src="/placeholder.png"}}),o.jsx(we.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute inset-0 flex items-center justify-center",style:{background:se.backgroundOverlay,borderRadius:wt.md},"aria-hidden":"true",children:o.jsx(St,{className:"w-6 h-6",style:{color:se.primary},fill:"currentColor"})})]}),o.jsxs("div",{className:"flex-1 min-w-0 relative z-10 select-none",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[o.jsx("h4",{className:"font-semibold text-base leading-tight truncate transition-colors duration-200",style:{color:se.text,textShadow:w?`0 0 10px ${se.primary}40`:"none"},children:k.title}),k.type&&o.jsx("span",{className:"px-2 py-1 text-xs font-medium uppercase tracking-wide flex-shrink-0",style:{backgroundColor:k.type==="movie"?se.accent:se.info,color:se.textDark,borderRadius:wt.sm},children:k.type})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs mb-2",style:{color:se.textSecondary},children:[k.year&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(_c,{className:"w-3 h-3"}),k.year]}),k.vote_average&&k.vote_average>0&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Nt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400","aria-label":`Rating: ${k.vote_average.toFixed(1)}`}),k.vote_average.toFixed(1)]})]}),k.synopsis&&o.jsx("p",{className:"text-xs line-clamp-2 leading-relaxed transition-colors duration-200 mb-3",style:{color:w?se.textSecondary:se.textMuted},children:k.synopsis.length>120?`${k.synopsis.slice(0,120)}...`:k.synopsis}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{type:"button",onClick:j=>{j.stopPropagation(),c(k)},className:"flex items-center gap-1 text-xs font-semibold px-2 py-1 rounded transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-pink-500",style:{color:se.primary,backgroundColor:`${se.primary}15`,border:`1px solid ${se.primary}30`},"aria-label":`Watch trailer for ${k.title}`,children:[o.jsx(Tg,{className:"w-3 h-3"}),"Trailer"]}),o.jsxs("button",{type:"button",onClick:j=>{j.stopPropagation(),d(k)},className:"flex items-center gap-1 text-xs font-semibold px-2 py-1 rounded transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-yellow-400",style:{color:se.accent,backgroundColor:`${se.accent}15`,border:`1px solid ${se.accent}30`},"aria-label":`Add ${k.title} to watchlist`,children:[o.jsx(Ar,{className:"w-3 h-3"}),"Watchlist"]})]})]}),o.jsx(we.div,{initial:{scale:0},animate:{scale:w?1:0},className:"absolute right-4 top-1/2 transform -translate-y-1/2 rounded-full",style:{backgroundColor:se.primary,width:8,height:8},"aria-hidden":"true"})]},k.id)})}),e.length>0&&o.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"px-4 py-3 text-xs border-t select-none",style:{color:se.textMuted,borderColor:se.border,background:`${se.backgroundCard}80`},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Use  to navigate"}),o.jsx("span",{children:"Press Enter to select"})]})})]})})});var yf="Dialog",[n2]=dn(yf),[I9,lr]=n2(yf),r2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,d=v.useRef(null),h=v.useRef(null),[m,g]=fi({prop:r,defaultProp:i??!1,onChange:l,caller:yf});return o.jsx(I9,{scope:e,triggerRef:d,contentRef:h,contentId:Gi(),titleId:Gi(),descriptionId:Gi(),open:m,onOpenChange:g,onOpenToggle:v.useCallback(()=>g(p=>!p),[g]),modal:c,children:n})};r2.displayName=yf;var s2="DialogTrigger",M9=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=lr(s2,n),l=Ye(e,i.triggerRef);return o.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":h0(i.open),...r,ref:l,onClick:fe(t.onClick,i.onOpenToggle)})});M9.displayName=s2;var u0="DialogPortal",[D9,i2]=n2(u0,{forceMount:void 0}),o2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,l=lr(u0,e);return o.jsx(D9,{scope:e,forceMount:n,children:v.Children.map(r,c=>o.jsx(or,{present:n||l.open,children:o.jsx(Oh,{asChild:!0,container:i,children:c})}))})};o2.displayName=u0;var Ch="DialogOverlay",a2=v.forwardRef((t,e)=>{const n=i2(Ch,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,l=lr(Ch,t.__scopeDialog);return l.modal?o.jsx(or,{present:r||l.open,children:o.jsx(L9,{...i,ref:e})}):null});a2.displayName=Ch;var O9=ha("DialogOverlay.RemoveScroll"),L9=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=lr(Ch,n);return o.jsx(uv,{as:O9,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(Ae.div,{"data-state":h0(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),eo="DialogContent",l2=v.forwardRef((t,e)=>{const n=i2(eo,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,l=lr(eo,t.__scopeDialog);return o.jsx(or,{present:r||l.open,children:l.modal?o.jsx(F9,{...i,ref:e}):o.jsx(U9,{...i,ref:e})})});l2.displayName=eo;var F9=v.forwardRef((t,e)=>{const n=lr(eo,t.__scopeDialog),r=v.useRef(null),i=Ye(e,n.contentRef,r);return v.useEffect(()=>{const l=r.current;if(l)return bC(l)},[]),o.jsx(c2,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,l=>l.preventDefault())})}),U9=v.forwardRef((t,e)=>{const n=lr(eo,t.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return o.jsx(c2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),l.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:l=>{var h,m;(h=t.onInteractOutside)==null||h.call(t,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;((m=n.triggerRef.current)==null?void 0:m.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),c2=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=t,d=lr(eo,n),h=v.useRef(null),m=Ye(e,h);return dC(),o.jsxs(o.Fragment,{children:[o.jsx(cv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:o.jsx(Sc,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":h0(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx($9,{titleId:d.titleId}),o.jsx(z9,{contentRef:h,descriptionId:d.descriptionId})]})]})}),d0="DialogTitle",u2=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=lr(d0,n);return o.jsx(Ae.h2,{id:i.titleId,...r,ref:e})});u2.displayName=d0;var d2="DialogDescription",h2=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=lr(d2,n);return o.jsx(Ae.p,{id:i.descriptionId,...r,ref:e})});h2.displayName=d2;var f2="DialogClose",m2=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=lr(f2,n);return o.jsx(Ae.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>i.onOpenChange(!1))})});m2.displayName=f2;function h0(t){return t?"open":"closed"}var p2="DialogTitleWarning",[_W,g2]=II(p2,{contentName:eo,titleName:d0,docsSlug:"dialog"}),$9=({titleId:t})=>{const e=g2(p2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},B9="DialogDescriptionWarning",z9=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${g2(B9).contentName}}.`;return v.useEffect(()=>{var l;const i=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},V9=r2,H9=o2,y2=a2,v2=l2,x2=u2,w2=h2,W9=m2;const _S=V9,G9=H9,b2=v.forwardRef(({className:t,...e},n)=>o.jsx(y2,{ref:n,className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));b2.displayName=y2.displayName;const xy=v.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(G9,{children:[o.jsx(b2,{}),o.jsxs(v2,{ref:r,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(W9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Dr,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xy.displayName=v2.displayName;const Ld=({className:t,...e})=>o.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ld.displayName="DialogHeader";const Fd=v.forwardRef(({className:t,...e},n)=>o.jsx(x2,{ref:n,className:Ee("text-lg font-semibold leading-none tracking-tight",t),...e}));Fd.displayName=x2.displayName;const K9=v.forwardRef(({className:t,...e},n)=>o.jsx(w2,{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));K9.displayName=w2.displayName;const N2=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,CS=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,ES=/\.(m3u8)($|\?)/i,q9=/\.(mpd)($|\?)/i,Y9=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,Q9=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,Z9=/vimeo\.com\/(?!progressive_redirect).+/,X9=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,J9=/open\.spotify\.com\/(\w+)\/(\w+)/i,eH=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,tH=/tiktok\.com\/(?:@[^/]+\/video\/)?(\d+)(?:\/([\w-]+))?/,Yl=(t,e)=>{if(Array.isArray(t)){for(const n of t)if(typeof n=="string"&&Yl(n,e)||Yl(n.src,e))return!0;return!1}return e(t)},pr={html:t=>Yl(t,e=>N2.test(e)||CS.test(e)),hls:t=>Yl(t,e=>ES.test(e)),dash:t=>Yl(t,e=>q9.test(e)),mux:t=>Y9.test(t),youtube:t=>Q9.test(t),vimeo:t=>Z9.test(t)&&!CS.test(t)&&!ES.test(t),wistia:t=>X9.test(t),spotify:t=>J9.test(t),twitch:t=>eH.test(t),tiktok:t=>tH.test(t)},nH=Ke.forwardRef((t,e)=>{const n=N2.test(`${t.src}`)?"audio":"video";return Ke.createElement(n,{...t,ref:e},t.children)});var rH=nH;const sH=[{key:"hls",name:"hls.js",canPlay:pr.hls,canEnablePIP:()=>!0,player:v.lazy(()=>ut(()=>import("./react-vk-CPTWl.js"),__vite__mapDeps([0,1,2])))},{key:"dash",name:"dash.js",canPlay:pr.dash,canEnablePIP:()=>!0,player:v.lazy(()=>ut(()=>import("./react-BoeU2g4Z.js"),__vite__mapDeps([3,1])))},{key:"mux",name:"Mux",canPlay:pr.mux,canEnablePIP:()=>!0,player:v.lazy(()=>ut(()=>import("./index-BRKyTy26.js"),__vite__mapDeps([4,2,1])))},{key:"youtube",name:"YouTube",canPlay:pr.youtube,player:v.lazy(()=>ut(()=>import("./react-MAJ9T-fO.js"),[]))},{key:"vimeo",name:"Vimeo",canPlay:pr.vimeo,player:v.lazy(()=>ut(()=>import("./react-CTIyGcFl.js"),[]))},{key:"wistia",name:"Wistia",canPlay:pr.wistia,canEnablePIP:()=>!0,player:v.lazy(()=>ut(()=>import("./react-GXJbOPeC.js"),[]))},{key:"spotify",name:"Spotify",canPlay:pr.spotify,canEnablePIP:()=>!1,player:v.lazy(()=>ut(()=>import("./react-Cz3xRVsK.js"),[]))},{key:"twitch",name:"Twitch",canPlay:pr.twitch,canEnablePIP:()=>!1,player:v.lazy(()=>ut(()=>import("./react-Cmedsg-7.js"),[]))},{key:"tiktok",name:"TikTok",canPlay:pr.tiktok,canEnablePIP:()=>!1,player:v.lazy(()=>ut(()=>import("./react-DyVXW65x.js"),[]))},{key:"html",name:"html",canPlay:pr.html,canEnablePIP:()=>!0,player:rH}];var wy=sH;const iH={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},S2=Ke.forwardRef((t,e)=>{const{playing:n,pip:r}=t,i=t.activePlayer,l=v.useRef(null),c=v.useRef(!0);v.useEffect(()=>{var g,p;l.current&&(l.current.paused&&n===!0&&l.current.play(),!l.current.paused&&n===!1&&l.current.pause(),l.current.playbackRate=(g=t.playbackRate)!=null?g:1,l.current.volume=(p=t.volume)!=null?p:1)}),v.useEffect(()=>{var g,p,x,N,k;if(!(!l.current||!globalThis.document)){if(r&&!document.pictureInPictureElement)try{(p=(g=l.current).requestPictureInPicture)==null||p.call(g)}catch{}if(!r&&document.pictureInPictureElement)try{(N=(x=l.current).exitPictureInPicture)==null||N.call(x),(k=document.exitPictureInPicture)==null||k.call(document)}catch{}}},[r]);const d=g=>{var p,x;c.current=!0,(p=t.onReady)==null||p.call(t),(x=t.onLoadStart)==null||x.call(t,g)},h=g=>{var p,x;c.current&&(c.current=!1,(p=t.onStart)==null||p.call(t,g)),(x=t.onPlay)==null||x.call(t,g)};if(!i)return null;const m={};for(const g in t)g.startsWith("on")&&(m[g]=t[g]);return Ke.createElement(i,{...m,style:t.style,className:t.className,slot:t.slot,ref:v.useCallback(g=>{l.current=g,typeof e=="function"?e(g):e!==null&&(e.current=g)},[e]),src:t.src,crossOrigin:t.crossOrigin,preload:t.preload,controls:t.controls,muted:t.muted,autoPlay:t.autoPlay,loop:t.loop,playsInline:t.playsInline,config:t.config,onLoadStart:d,onPlay:h},t.children)});S2.displayName="Player";var oH=S2;const aH=v.lazy(()=>ut(()=>import("./Preview-BB04n_2O.js"),[])),Rl=[],lH=(t,e)=>{const n=i=>{for(const l of[...Rl,...t])if(i&&l.canPlay(i))return l;return e||null},r=Ke.forwardRef((i,l)=>{const c={...iH,...i},{src:d,slot:h,className:m,style:g,width:p,height:x,fallback:N,wrapper:k}=c,[S,w]=v.useState(!!c.light);v.useEffect(()=>{c.light?w(!0):w(!1)},[c.light]);const j=O=>{var I;w(!1),(I=c.onClickPreview)==null||I.call(c,O)},P=O=>{if(!O)return null;const{light:I,playIcon:E,previewTabIndex:A,oEmbedUrl:F,previewAriaLabel:q}=c;return Ke.createElement(aH,{src:O,light:I,playIcon:E,previewTabIndex:A,previewAriaLabel:q,oEmbedUrl:F,onClickPreview:j})},C=O=>{var I,E;const A=n(O);if(!A)return null;const{style:F,width:q,height:z,wrapper:Q}=c,D=(I=c.config)==null?void 0:I[A.key];return Ke.createElement(oH,{...c,ref:l,activePlayer:(E=A.player)!=null?E:A,slot:Q?void 0:h,className:Q?void 0:m,style:Q?{display:"block",width:"100%",height:"100%"}:{display:"block",width:q,height:z,...F},config:D})},T=k??PS,R=N===!1?PS:v.Suspense;return Ke.createElement(T,{slot:h,className:m,style:{width:p,height:x,...g}},Ke.createElement(R,{fallback:N},S?P(d):C(d)))});return r.displayName="ReactPlayer",r.addCustomPlayer=i=>{Rl.push(i)},r.removeCustomPlayers=()=>{Rl.length=0},r.canPlay=i=>{if(i){for(const l of[...Rl,...t])if(l.canPlay(i))return!0}return!1},r.canEnablePIP=i=>{var l;if(i){for(const c of[...Rl,...t])if(c.canPlay(i)&&((l=c.canEnablePIP)!=null&&l.call(c)))return!0}return!1},r},PS=({children:t})=>t,cH=wy[wy.length-1];var uH=lH(wy,cH);function dH(t,e="movie"){return ii({queryKey:["show-details",t,e],queryFn:async()=>E9(await T9(t,e)),enabled:!!t,staleTime:1e3*60*10,gcTime:1e3*60*30})}const k2=({platforms:t,compact:e=!1,className:n})=>{if(!t||t.length===0)return null;const r=e?t.slice(0,3):t;return o.jsxs("div",{className:`streaming-platforms ${n||""}`.trim(),children:[r.map(i=>o.jsxs("div",{className:"platform-badge",children:[o.jsx("span",{className:"platform-name",children:i.provider_name}),i.affiliate_supported&&o.jsx("span",{className:"affiliate-badge",title:"Affiliate supported",children:""})]},i.provider_id)),e&&t.length>3&&o.jsxs("span",{className:"more-platforms",children:["+",t.length-3," more"]})]})};function hH({showId:t,showType:e="movie",open:n,onClose:r,onAddToWatchlist:i,onWatchNow:l}){var T;const[c,d]=v.useState(!1),[h,m]=v.useState(!1),g=Aa(),{data:p,isLoading:x}=dH(t,e),N=Vd({mutationFn:async R=>{m(!0);const O=await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({showId:R})});if(!O.ok)throw new Error("Failed to add to watchlist");return O.json()},onMutate:async R=>{await g.cancelQueries({queryKey:["watchlist"]});const O=g.getQueryData(["watchlist"]);return g.setQueryData(["watchlist"],I=>[...I||[],{id:R,pending:!0,title:p==null?void 0:p.title}]),{previousWatchlist:O}},onError:(R,O,I)=>{g.setQueryData(["watchlist"],I==null?void 0:I.previousWatchlist)},onSettled:()=>{m(!1),g.invalidateQueries({queryKey:["watchlist"]})}}),k=()=>{p&&(N.mutate(parseInt(p.id)),i==null||i(parseInt(p.id)))},{data:S,isLoading:w}=kv(p?p.id:null,e,p==null?void 0:p.title),j=()=>{d(!0)},P=()=>{p&&(l==null||l(p))},C=t?`show-${t}-description`:"show-generic-description";return o.jsx(_S,{open:n,onOpenChange:()=>r(),children:o.jsxs(xy,{className:"max-w-6xl p-0 border-0 overflow-hidden",style:{backgroundColor:se.background,borderRadius:wt["2xl"],boxShadow:$o["2xl"]},"aria-describedby":C,children:[o.jsx(ba,{children:x||!p?o.jsxs(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-12 text-center",children:[o.jsx(Ld,{children:o.jsx(Fd,{className:"sr-only",children:"Loading show details"})}),o.jsx("div",{className:"animate-spin w-12 h-12 border-4 rounded-full mx-auto mb-6",style:{borderColor:se.primary,borderTopColor:"transparent"}}),o.jsx("p",{style:{color:se.textSecondary},children:"Loading show details..."})]}):o.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.4,ease:"easeOut"},children:[p.backdrop&&o.jsxs("div",{className:"relative h-80 bg-cover bg-center",style:{backgroundImage:`url(${p.backdrop})`,borderRadius:`${wt["2xl"]} ${wt["2xl"]} 0 0`},children:[o.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(to bottom, transparent 0%, ${se.background}40 50%, ${se.background} 100%)`,borderRadius:`${wt["2xl"]} ${wt["2xl"]} 0 0`}}),o.jsx(we.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2},onClick:r,className:"absolute top-6 right-6 p-2 rounded-full transition-all duration-200 z-10",style:{backgroundColor:`${se.background}80`,backdropFilter:"blur(10px)",border:`1px solid ${se.border}`},children:o.jsx(Dr,{className:"w-6 h-6",style:{color:se.text}})}),o.jsxs(we.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"absolute bottom-8 left-8 right-8",children:[o.jsxs(Ld,{children:[o.jsxs(Fd,{className:"text-4xl font-bold mb-4",style:{color:se.text,textShadow:`0 2px 10px ${se.background}80`},children:[p.title,p.year&&o.jsxs("span",{className:"text-2xl font-normal ml-3",style:{color:se.textSecondary},children:["(",p.year,")"]})]}),o.jsx("p",{id:C,className:"sr-only",children:p.synopsis||"Show details dialog"})]}),o.jsxs("div",{className:"flex items-center gap-6 text-lg",children:[p.vote_average>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nt,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),o.jsx("span",{style:{color:se.text,fontWeight:600},children:p.vote_average.toFixed(1)})]}),p.runtime&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(li,{className:"w-5 h-5",style:{color:se.textSecondary}}),o.jsxs("span",{style:{color:se.textSecondary},children:[p.runtime," min"]})]}),p.year&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_c,{className:"w-5 h-5",style:{color:se.textSecondary}}),o.jsx("span",{style:{color:se.textSecondary},children:p.year})]})]})]})]}),o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[!p.backdrop&&o.jsx(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.3},className:"lg:col-span-1",children:o.jsx("img",{src:p.poster||"/placeholder.png",alt:p.title,className:"w-full h-auto object-cover shadow-2xl",style:{borderRadius:wt.xl},onError:R=>{R.currentTarget.src="/placeholder.png"}})}),o.jsxs("div",{className:`${p.backdrop?"lg:col-span-3":"lg:col-span-2"} space-y-6`,children:[!p.backdrop&&o.jsx(Ld,{children:o.jsxs(Fd,{className:"text-3xl font-bold",style:{color:se.text},children:[p.title,p.year&&o.jsxs("span",{className:"text-xl font-normal ml-3",style:{color:se.textSecondary},children:["(",p.year,")"]})]})}),o.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:o.jsx("p",{className:"text-lg leading-relaxed",style:{color:se.textSecondary},children:p.synopsis})}),Array.isArray(p.genres)&&p.genres.length>0&&o.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},className:"flex flex-wrap gap-3",children:p.genres.map(R=>o.jsx($e,{variant:"secondary",className:"px-3 py-1 text-sm font-medium",style:{backgroundColor:se.secondaryLight,color:se.text,border:`1px solid ${se.border}`,borderRadius:wt.lg},children:R},R))}),o.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.3},className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs(ae,{size:"lg",className:"gap-3 text-lg font-semibold px-8 py-4 transition-all duration-200 hover:scale-105",style:{background:$l.primary,color:se.text,borderRadius:wt.xl,boxShadow:$o.glow},onClick:j,children:[o.jsx(St,{className:"w-5 h-5",fill:"currentColor"}),"Watch Trailer"]}),o.jsxs(ae,{size:"lg",variant:"secondary",className:"gap-3 text-lg font-semibold px-8 py-4 transition-all duration-200 hover:scale-105",style:{backgroundColor:se.backgroundCard,color:se.text,border:`1px solid ${se.border}`,borderRadius:wt.xl},onClick:k,disabled:h,children:[h?o.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):o.jsx(Rr,{className:"w-5 h-5"}),h?"Adding...":"Add to Watchlist"]}),o.jsxs(ae,{size:"lg",variant:"outline",className:"gap-3 text-lg font-semibold px-8 py-4 transition-all duration-200 hover:scale-105",style:{borderColor:se.border,color:se.textSecondary,borderRadius:wt.xl},onClick:P,children:[o.jsx(zl,{className:"w-5 h-5"}),"Watch Now"]})]}),p.streaming&&p.streaming.length>0&&o.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.3},className:"pt-6 border-t",style:{borderColor:se.border},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-lg font-semibold",style:{color:se.text},children:"Available on"}),p.streamingStats&&o.jsxs("div",{className:"flex gap-2 text-xs",children:[o.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:se.success+"20",color:se.success},children:[p.streamingStats.freePlatforms," Free"]}),o.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:se.accent+"20",color:se.accent},children:[p.streamingStats.affiliatePlatforms," Affiliate"]})]})]}),o.jsx(k2,{platforms:p.streaming}),((T=p.streamingStats)==null?void 0:T.sources)&&o.jsx("div",{className:"mt-3 text-xs text-center",children:o.jsxs("span",{style:{color:se.textMuted},children:["Data from: ",Object.entries(p.streamingStats.sources).filter(([R,O])=>O).map(([R])=>R.toUpperCase()).join(", ")]})})]})]})]})})]})}),o.jsx(_S,{open:c,onOpenChange:d,children:o.jsx(xy,{className:"max-w-4xl p-0 border-0",style:{backgroundColor:se.background,borderRadius:wt.xl},children:o.jsxs(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative aspect-video",children:[w&&o.jsx("div",{className:"flex items-center justify-center h-full",style:{backgroundColor:se.backgroundCard},children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-current border-t-transparent rounded-full animate-spin mx-auto mb-4",style:{color:se.primary}}),o.jsx("p",{style:{color:se.textSecondary},children:"Loading trailer..."})]})}),!w&&(S!=null&&S.primaryTrailer)?Ke.createElement(uH,{url:S.primaryTrailer.url,playing:!0,controls:!0,width:"100%",height:"100%",style:{borderRadius:wt.xl},config:{youtube:{playerVars:{modestbranding:1,rel:0}}}}):!w&&o.jsx("div",{className:"flex items-center justify-center h-full",style:{backgroundColor:se.backgroundCard},children:o.jsxs("div",{className:"text-center",children:[o.jsx(St,{className:"w-16 h-16 mx-auto mb-4",style:{color:se.textMuted}}),o.jsx("p",{style:{color:se.textSecondary},children:"No trailer available for this title"})]})}),o.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"absolute bottom-4 left-4 right-4",children:p!=null&&p.streaming&&p.streaming.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:p.streaming.slice(0,2).map((R,O)=>o.jsxs(ae,{size:"lg",className:"gap-3 text-base font-semibold py-3",style:{background:O===0?$l.accent:$l.primary,color:se.textDark,borderRadius:wt.xl,boxShadow:O===0?$o.glowAccent:$o.glow},onClick:()=>{R.web_url?window.open(R.web_url,"_blank"):P()},children:[R.logo_path?o.jsx("img",{src:R.logo_path.startsWith("http")?R.logo_path:`https://image.tmdb.org/t/p/w92${R.logo_path}`,alt:R.provider_name,className:"w-5 h-5 object-contain"}):o.jsx(zl,{className:"w-5 h-5"}),"Watch on ",R.provider_name,R.affiliate_supported&&o.jsx("span",{className:"text-xs opacity-75",children:"(Earn rewards)"})]},R.provider_id||O))}):o.jsxs(ae,{size:"lg",className:"w-full gap-3 text-lg font-semibold py-4",style:{background:$l.accent,color:se.textDark,borderRadius:wt.xl,boxShadow:$o.glowAccent},onClick:P,children:[o.jsx(zl,{className:"w-5 h-5"}),"Find Where to Watch"]})})]})})})]})})}function TS({placeholder:t="Search shows, movies, people...",className:e="",onAddToWatchlist:n,onWatchNow:r}){const[i,l]=v.useState(""),[c,d]=v.useState(!1),[h,m]=v.useState(0),[g,p]=v.useState(null),[x,N]=v.useState("movie"),[k,S]=v.useState(!1),[w,j]=v.useState(!1),P=v.useRef(null),C=v.useRef(null),T=Aa(),R=v.useId(),O=`${R}-search-results`,I=`${R}-search-input`,E=`${R}-search-status`,A=`${R}-search-instructions`,F=K=>`${O}-option-${K}`,[q,z]=v.useState(""),{data:Q=[],isFetching:D}=R9(i);v.useEffect(()=>{m(0),Q.length>0?z(`${Q.length} result${Q.length===1?"":"s"} available. Use up and down arrow keys to navigate.`):i.trim().length>=2?z("No results."):z("")},[Q,i]),v.useEffect(()=>{const K=me=>{C.current&&!C.current.contains(me.target)&&(d(!1),j(!1))};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]);function X(K){var me;if(K.key==="Escape"){d(!1),j(!1),(me=P.current)==null||me.blur();return}if(!(!Q||Q.length===0))switch(K.key){case"ArrowDown":K.preventDefault(),m(Te=>Math.min(Te+1,Q.length-1)),d(!0);break;case"ArrowUp":K.preventDefault(),m(Te=>Math.max(Te-1,0)),d(!0);break;case"Home":K.preventDefault(),m(0);break;case"End":K.preventDefault(),m(Q.length-1);break;case"PageDown":K.preventDefault(),m(Te=>Math.min(Te+5,Q.length-1));break;case"PageUp":K.preventDefault(),m(Te=>Math.max(Te-5,0));break;case"Enter":K.preventDefault();const Se=Q[h];Se?ie(Se.id,Se.type||"movie"):i.trim()&&(window.location.href=`/search?query=${encodeURIComponent(i.trim())}`,d(!1));break}}function ie(K,me="movie"){p(K),N(me),S(!0),d(!1),T.prefetchQuery({queryKey:["show-details",K,me],queryFn:()=>fetch(`/api/tmdb/${me}/${K}`).then(Se=>Se.json()),staleTime:1e3*60*10})}function oe(K){const me=K.target.value;l(me),d(!!me.trim())}function G(){j(!0),i.trim()&&d(!0)}const H=K=>{ie(K.id,K.type||"movie")},Z=K=>{n&&K.id&&n(K.id)};function $(K){ie(K.id,K.type||"movie"),l("")}return o.jsxs("div",{ref:C,className:`relative w-full max-w-xl ${e}`,children:[o.jsxs(we.div,{className:"relative",animate:{scale:w?1.02:1},transition:{duration:.2,ease:"easeOut"},children:[o.jsx(ga,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 z-10",size:18}),o.jsxs(we.div,{className:"relative",style:{background:w?`linear-gradient(135deg, ${se.backgroundCard} 0%, ${se.secondaryLight} 100%)`:se.backgroundCard,borderRadius:wt.xl,border:`1px solid ${w?se.primary:se.border}`,boxShadow:w?`0 0 20px ${se.focus}`:"none",transition:"all 0.3s ease"},children:[o.jsx(Zt,{ref:P,value:i,onChange:oe,onKeyDown:X,onFocus:G,onBlur:()=>j(!1),placeholder:t,className:"pl-12 pr-4 py-3 bg-transparent border-0 text-white placeholder-slate-400 focus:ring-0 focus:outline-none",style:{borderRadius:wt.xl,fontSize:"16px"},autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-controls":O,"aria-expanded":c,"aria-activedescendant":c&&Q.length>0?F(h):void 0,"aria-describedby":`${A} ${E}`,id:I}),D&&o.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:o.jsx("div",{className:"w-4 h-4 border-2 rounded-full animate-spin",style:{borderColor:se.primary,borderTopColor:"transparent"}})})]})]}),c&&o.jsx(A9,{results:Q,loading:D,highlightedIndex:h,listboxId:O,optionIdForIndex:F,onHoverIndex:K=>m(K),onChoose:$,onWatchTrailer:H,onAddToWatchlist:Z}),o.jsx(hH,{showId:g,showType:x,open:k,onClose:()=>S(!1),onAddToWatchlist:n,onWatchNow:r}),g&&o.jsx("div",{className:"mt-4",children:(()=>{const K=Q.find(me=>me.id===g);return!K||!("streaming_platforms"in K)?null:o.jsx(k2,{platforms:K.streaming_platforms,compact:!0})})()}),o.jsx("div",{id:A,className:"sr-only",children:"Type to search. Results will update as you type."}),o.jsx("div",{id:E,className:"sr-only",role:"status","aria-live":"polite",children:q})]})}function qi(){var N,k;const[t,e]=ir(),{user:n,logout:r}=Un(),[i,l]=v.useState(""),[c,d]=v.useState(!1);v.useEffect(()=>{d(!1)},[t]);const h=async()=>{try{console.log(" Navigation logout clicked"),await r(),console.log(" Redirecting to landing page immediately after logout"),e("/")}catch(S){console.error(" Navigation logout error:",S),e("/")}},m=()=>{e("/notifications")},g=async S=>{try{(await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({showId:S,status:"want_to_watch",tmdbId:S})})).ok&&console.log("Added to watchlist successfully")}catch(w){console.error("Failed to add to watchlist:",w)}},p=async S=>{const{getShowTitle:w,getStreamingPlatforms:j}=await ut(async()=>{const{getShowTitle:R,getStreamingPlatforms:O}=await import("./show-utils-Bz6NAtuJ.js");return{getShowTitle:R,getStreamingPlatforms:O}},[]),P=w(S),C=j(S),T=(R,O)=>{const I=encodeURIComponent(O);return{Netflix:`https://www.netflix.com/search?q=${I}`,"Disney+":`https://www.disneyplus.com/search?q=${I}`,Hulu:`https://www.hulu.com/search?q=${I}`,"Amazon Prime Video":`https://www.amazon.com/gp/video/search?phrase=${I}`,"HBO Max":`https://play.max.com/search?q=${I}`,"Apple TV+":`https://tv.apple.com/search?term=${I}`,"Paramount+":`https://www.paramountplus.com/search/?query=${I}`,Peacock:`https://www.peacocktv.com/search?q=${I}`}[R]||`https://www.netflix.com/search?q=${I}`};if(C&&C.length>0){const R=C[0],O=R.name||R.provider_name,I=T(O,P);window.open(I,"_blank")}else{const R=T("Netflix",P);window.open(R,"_blank")}},x=[{path:"/",label:"Dashboard",active:t==="/"},{path:"/discover",label:"Discover",active:t==="/discover"||t==="/upcoming"},{path:"/lists",label:"Lists",active:t==="/lists"},{path:"/friends",label:"Binge with Friends",active:t==="/friends"}];return o.jsx("nav",{className:"bg-black/95 backdrop-blur-lg border-b border-white/10 sticky top-0 z-50",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-8",children:[o.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-3 hover:scale-105 transition-transform",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-8 h-6 md:w-10 md:h-8 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg shadow-xl border-2 border-slate-600 relative",children:[o.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-md flex items-center justify-center",children:o.jsx("div",{className:"text-xs md:text-sm font-bold text-white drop-shadow-lg",style:{textShadow:"0 0 6px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.3)"},children:"B"})}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 md:w-3 h-1 bg-slate-700 rounded-sm"}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-3 md:w-5 h-1 bg-slate-600 rounded-sm"})]})}),o.jsxs("span",{className:"text-lg md:text-xl font-bold",children:[o.jsx("span",{className:"bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent font-black",children:"Binge"}),o.jsx("span",{className:"text-white font-light ml-1",children:"Board"})]})]}),o.jsx("div",{className:"hidden md:flex space-x-1",children:x.map(S=>o.jsx("button",{onClick:()=>e(S.path),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${S.active?"bg-teal-500/20 text-teal-400 border border-teal-500/30":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:S.label},S.path))})]}),o.jsx("div",{className:"hidden sm:block flex-1 max-w-md mx-8",children:o.jsx(TS,{placeholder:"Search shows, movies...",onAddToWatchlist:g,onWatchNow:p})}),o.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[o.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>e("/discover"),className:"sm:hidden text-gray-300 hover:text-white hover:bg-white/5 p-2",children:o.jsx(ga,{className:"h-5 w-5"})}),o.jsx(ae,{variant:"ghost",size:"sm",onClick:m,className:"text-gray-300 hover:text-white hover:bg-white/5 p-2",children:o.jsx(tc,{className:"h-5 w-5"})}),o.jsxs(NE,{children:[o.jsx(SE,{asChild:!0,children:o.jsx(ae,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:o.jsxs(no,{className:"h-8 w-8",children:[o.jsx(ro,{src:void 0,alt:(n==null?void 0:n.displayName)||"User"}),o.jsx(so,{className:"bg-gradient-to-br from-teal-500 to-blue-500 text-white text-sm",children:((N=n==null?void 0:n.displayName)==null?void 0:N[0])||((k=n==null?void 0:n.email)==null?void 0:k[0])||"U"})]})})}),o.jsxs(vv,{align:"end",className:"glass-effect border-white/20 bg-slate-900/95 text-white",children:[o.jsxs(Js,{onClick:()=>e("/profile"),className:"text-white hover:bg-white/10 focus:bg-white/10",children:[o.jsx(Kh,{className:"mr-2 h-4 w-4"}),"Profile"]}),o.jsxs(Js,{onClick:()=>e("/streaming"),className:"text-white hover:bg-white/10 focus:bg-white/10",children:[o.jsx(Gh,{className:"mr-2 h-4 w-4"}),"Settings"]}),o.jsxs(Js,{onClick:h,className:"text-white hover:bg-white/10 focus:bg-white/10",children:[o.jsx(Dj,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),o.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>d(!c),className:"md:hidden text-gray-300 hover:text-white hover:bg-white/5 p-2",children:c?o.jsx(Dr,{className:"h-5 w-5"}):o.jsx(p3,{className:"h-5 w-5"})})]})]}),c&&o.jsxs("div",{className:"md:hidden border-t border-white/10 py-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(TS,{placeholder:"Search shows, movies...",onAddToWatchlist:g,onWatchNow:p})}),o.jsx("div",{className:"space-y-2",children:x.map(S=>o.jsx("button",{onClick:()=>{e(S.path),d(!1)},className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors ${S.active?"bg-teal-500/20 text-teal-400 border border-teal-500/30":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:S.label},S.path))})]})]})})}const fH=t=>({Netflix:"/logos/netflix.png","Prime Video":"/logos/prime-video.png","Disney+":"/logos/disney-plus.png","HBO Max":"/logos/hbo-max.png",Hulu:"/logos/hulu.png","FX on Hulu":"/logos/hulu.png","Paramount+":"/logos/paramount-plus.png",Peacock:"/logos/peacock.png","Apple TV+":"/logos/apple-tv.png",Showtime:"/logos/showtime.png",Starz:"/logos/starz.png","Discovery+":"/logos/discovery-plus.png"})[t]||"/logos/netflix.png",gd=[{id:"1",title:"The Bear",description:"A young chef from the fine dining world comes home to Chicago to run his deceased brother's Italian beef sandwich shop. A world of blue-collar cooking, grief, and chaos awaits.",shortDescription:"Critically acclaimed kitchen drama with heart",backdropImage:"https://image.tmdb.org/t/p/w780/9XkScd3aKhkUgcCzwTdFPtJrPCQ.jpg",posterImage:"https://image.tmdb.org/t/p/w342/rtnBpKMjMqVTiKR7VBFWmnhITJg.jpg",rating:9.1,year:2022,runtime:28,genre:["Drama","Comedy"],network:"Hulu",type:"tv",matchPercentage:97,totalViewers:"2.4M",mood:"Intense but Rewarding",intensity:"medium",criticsScore:95,audienceScore:89,releaseStatus:"trending",reasons:[{icon:o.jsx(Gy,{className:"w-4 h-4"}),text:"11 Emmy wins including Best Comedy",type:"critical"},{icon:o.jsx(kr,{className:"w-4 h-4"}),text:"Most talked about show this week",type:"trending"},{icon:o.jsx(Rr,{className:"w-4 h-4"}),text:"Perfect for fans of workplace dramedies",type:"personal"},{icon:o.jsx(ns,{className:"w-4 h-4"}),text:"Authentic portrayal of kitchen culture",type:"mood"}]},{id:"2",title:"Avatar: The Way of Water",description:"Set more than a decade after the events of the first film, Avatar: The Way of Water begins to tell the story of the Sully family, the trouble that follows them, and the lengths they go to keep each other safe.",shortDescription:"Visually stunning underwater epic",backdropImage:"https://image.tmdb.org/t/p/w1280/s16H6tpK2utvwDtzZ8Qy4qm5Emw.jpg",posterImage:"https://image.tmdb.org/t/p/w500/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg",rating:7.8,year:2022,runtime:192,genre:["Sci-Fi","Adventure","Family"],network:"Disney+",type:"movie",matchPercentage:89,totalViewers:"15.2M",mood:"Epic Adventure",intensity:"medium",criticsScore:76,audienceScore:92,releaseStatus:"released",reasons:[{icon:o.jsx(Dn,{className:"w-4 h-4"}),text:"Groundbreaking visual effects",type:"critical"},{icon:o.jsx(Wh,{className:"w-4 h-4"}),text:"Immersive world-building experience",type:"mood"},{icon:o.jsx(Mn,{className:"w-4 h-4"}),text:"92% audience loved the underwater scenes",type:"personal"},{icon:o.jsx(Nt,{className:"w-4 h-4"}),text:"Perfect weekend family viewing",type:"seasonal"}]},{id:"3",title:"House of the Dragon",description:"The Targaryen civil war, known as the Dance of the Dragons, comes to the small screen in this Game of Thrones prequel series.",shortDescription:"Epic fantasy returning to Westeros",backdropImage:"https://image.tmdb.org/t/p/w1280/7ZQJWbKEHdyBpH7G5hWhJ3V3LIC.jpg",posterImage:"https://image.tmdb.org/t/p/w500/7QMsOTMUswlwxJP0rTTZfmz2tX2.jpg",rating:8.4,year:2022,runtime:68,genre:["Fantasy","Drama","Action"],network:"HBO Max",type:"tv",matchPercentage:94,totalViewers:"29.1M",mood:"Dark & Political",intensity:"intense",criticsScore:84,audienceScore:86,releaseStatus:"trending",reasons:[{icon:o.jsx(kr,{className:"w-4 h-4"}),text:"HBO's biggest premiere ever",type:"trending"},{icon:o.jsx(ls,{className:"w-4 h-4"}),text:"Redeems the Game of Thrones universe",type:"critical"},{icon:o.jsx(Rr,{className:"w-4 h-4"}),text:"For fans craving epic fantasy",type:"personal"},{icon:o.jsx(_c,{className:"w-4 h-4"}),text:"New episodes weekly",type:"seasonal"}]}],mH=({onWatchNow:t,onAddToWatchlist:e,onShowInfo:n})=>{const[r,i]=v.useState(0),[l,c]=v.useState(!0),[d,h]=v.useState(!1),[m,g]=v.useState({}),p=gd[r];v.useEffect(()=>{gd.forEach(N=>{const k=new Image;k.onload=()=>{g(w=>({...w,[N.backdropImage]:!0}))},k.src=N.backdropImage;const S=new Image;S.onload=()=>{g(w=>({...w,[N.posterImage]:!0}))},S.src=N.posterImage})},[]),v.useEffect(()=>{h(m[p.backdropImage]||!1)},[p.backdropImage,m]),v.useEffect(()=>{if(!l)return;const N=setInterval(()=>{i(k=>(k+1)%gd.length)},15e3);return()=>clearInterval(N)},[l]);const x=N=>{switch(N){case"light":return"bg-green-500/20 text-green-300 border-green-400/30";case"medium":return"bg-yellow-500/20 text-yellow-300 border-yellow-400/30";case"intense":return"bg-red-500/20 text-red-300 border-red-400/30";default:return"bg-gray-500/20 text-gray-300 border-gray-400/30"}};return o.jsxs("div",{className:"relative h-[90vh] w-full overflow-hidden rounded-3xl bg-slate-900",children:[!d&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-30",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full animate-spin"}),o.jsx("p",{className:"text-white/60 text-lg",children:"Loading your personalized recommendations..."})]})}),o.jsx(ba,{mode:"wait",children:o.jsxs(we.div,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:d?1:0},exit:{scale:.95,opacity:0},transition:{duration:1.2,ease:"easeInOut"},className:"absolute inset-0",children:[o.jsx("img",{src:p.backdropImage,alt:p.title,className:"w-full h-full object-cover",loading:"eager"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/90 via-black/60 to-black/30"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-black/20"})]},p.id)}),o.jsx("div",{className:"relative z-10 h-full flex items-center",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 w-full",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsxs(we.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[o.jsxs($e,{variant:"secondary",className:"bg-blue-600/20 text-blue-300 border-blue-500/30 px-3 py-1",children:[o.jsx(ns,{className:"w-3 h-3 mr-1"}),p.matchPercentage,"% Match"]}),o.jsx($e,{variant:"secondary",className:x(p.intensity),children:p.mood}),o.jsxs($e,{variant:"secondary",className:"bg-purple-600/20 text-purple-300 border-purple-500/30",children:[o.jsx(kr,{className:"w-3 h-3 mr-1"}),p.totalViewers," watching"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(we.h1,{className:"text-5xl lg:text-7xl font-bold text-white leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:p.title}),o.jsxs("div",{className:"flex items-center gap-4 text-slate-300 flex-wrap",children:[o.jsx("span",{className:"text-xl font-medium",children:p.year}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Nt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"font-medium",children:p.rating})]}),o.jsxs("span",{children:[p.runtime,"min"]}),o.jsx("span",{className:"capitalize",children:p.type}),o.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-lg px-3 py-1 border border-white/20",children:[o.jsx("img",{src:fH(p.network),alt:p.network,className:"w-5 h-5 object-contain",onError:N=>{N.target.style.display="none"}}),o.jsx("span",{className:"text-sm font-medium",children:p.network})]})]})]}),o.jsx("p",{className:"text-lg text-slate-200 leading-relaxed max-w-xl",children:p.shortDescription}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx(ls,{className:"w-5 h-5 text-blue-400"}),"Why we picked this for you"]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:p.reasons.map((N,k)=>o.jsxs(we.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6+k*.1},className:"flex items-center gap-3 bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:[o.jsx("div",{className:"text-blue-400 flex-shrink-0",children:N.icon}),o.jsx("span",{className:"text-sm text-slate-200",children:N.text})]},k))})]}),o.jsxs(we.div,{className:"flex flex-wrap gap-4 pt-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:[o.jsxs(ae,{size:"lg",className:"bg-white text-black hover:bg-gray-100 font-semibold px-8 py-3 text-lg",onClick:()=>t==null?void 0:t(p),children:[o.jsx(St,{className:"w-5 h-5 mr-2 fill-current"}),"Watch Now"]}),o.jsxs(ae,{size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 px-6 py-3",onClick:()=>e==null?void 0:e(p),children:[o.jsx(Ar,{className:"w-5 h-5 mr-2"}),"My List"]}),o.jsxs(ae,{size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 px-6 py-3",onClick:()=>n==null?void 0:n(p),children:[o.jsx(Qd,{className:"w-5 h-5 mr-2"}),"More Info"]})]})]},`content-${p.id}`),o.jsx(we.div,{initial:{opacity:0,scale:.8,rotateY:15},animate:{opacity:1,scale:1,rotateY:0},transition:{duration:1,delay:.3},className:"hidden lg:flex justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"relative transform transition-transform duration-700 hover:scale-105 hover:rotate-1",children:[o.jsx("img",{src:p.posterImage,alt:p.title,className:"w-80 h-[480px] object-cover rounded-2xl shadow-2xl border border-white/10"}),o.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-tr from-blue-500/20 to-purple-500/20 opacity-0 hover:opacity-100 transition-opacity duration-500"})]}),o.jsx(we.div,{className:"absolute -top-4 -right-4 bg-black/80 backdrop-blur-md rounded-xl p-4 border border-white/20",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1},children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[p.criticsScore,"%"]}),o.jsx("div",{className:"text-xs text-slate-400",children:"Critics"})]})}),o.jsx(we.div,{className:"absolute -bottom-4 -left-4 bg-black/80 backdrop-blur-md rounded-xl p-4 border border-white/20",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1.2},children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[p.audienceScore,"%"]}),o.jsx("div",{className:"text-xs text-slate-400",children:"Audience"})]})})]})},`poster-${p.id}`)]})})}),o.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex gap-3 z-20",children:gd.map((N,k)=>o.jsx("button",{onClick:()=>{i(k),c(!1),setTimeout(()=>c(!0),5e3)},className:`w-3 h-3 rounded-full transition-all duration-300 ${k===r?"bg-white scale-125":"bg-white/40 hover:bg-white/60"}`},k))}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-white/20 z-20",children:o.jsx(we.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500",initial:{width:"0%"},animate:{width:l?"100%":"0%"},transition:{duration:12,ease:"linear"}},r)})]})},eg=({children:t,onClick:e,className:n="",variant:r="vertical"})=>{const i={vertical:"group cursor-pointer rounded-2xl bg-gradient-to-br from-slate-800/90 to-slate-900/90 border border-slate-700/50 hover:border-slate-500/50 shadow-xl hover:shadow-2xl transition-all duration-500 hover:scale-[1.02] overflow-visible",horizontal:"group cursor-pointer rounded-2xl bg-gradient-to-r from-slate-800/90 to-slate-900/90 border border-slate-700/50 hover:border-slate-500/50 shadow-xl hover:shadow-2xl transition-all duration-500 hover:scale-[1.01] overflow-visible",spotlight:"group cursor-pointer rounded-3xl bg-gradient-to-br from-slate-900/95 to-black/95 border border-slate-600/30 hover:border-slate-400/50 shadow-2xl hover:shadow-3xl transition-all duration-700 hover:scale-[1.01] overflow-hidden",compact:"group cursor-pointer rounded-xl bg-gradient-to-r from-slate-800/60 to-slate-900/60 border border-slate-700/30 hover:border-slate-500/50 shadow-lg hover:shadow-xl transition-all duration-400 hover:scale-[1.01] overflow-visible","spotlight-polished":"group cursor-pointer rounded-3xl bg-gradient-to-br from-slate-900/95 to-black/95 border border-slate-600/30 hover:border-slate-400/50 shadow-2xl hover:shadow-3xl transition-all duration-700 hover:scale-[1.01] overflow-hidden","vertical-polished":"group cursor-pointer rounded-2xl bg-gradient-to-br from-slate-800/90 to-slate-900/90 border border-slate-700/50 hover:border-slate-500/50 shadow-xl hover:shadow-2xl transition-all duration-500 hover:scale-[1.02] overflow-visible","spotlight-poster-backdrop":"group cursor-pointer rounded-3xl transition-all duration-700 hover:scale-[1.01] overflow-hidden"};return o.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onClick:e,className:`${i[r]} ${n}`,children:t})},In=({children:t,onClick:e,variant:n="secondary",size:r="md",className:i=""})=>{const l="transition-all duration-300 font-medium flex items-center justify-center gap-2 shadow-lg backdrop-blur-sm",c={primary:"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 hover:shadow-xl hover:scale-105 border border-blue-500/30",secondary:"bg-gradient-to-r from-slate-800/90 to-slate-700/90 text-white hover:from-slate-700/90 hover:to-slate-600/90 hover:shadow-xl hover:scale-105 border border-slate-500/30",floating:"bg-gradient-to-r from-black/80 to-slate-900/80 text-white hover:from-black/90 hover:to-slate-800/90 hover:shadow-2xl hover:scale-110 border border-white/10 backdrop-blur-md"},d={sm:"px-3 py-2 text-xs rounded-lg",md:"px-4 py-2.5 text-sm rounded-xl",lg:"px-6 py-3 text-base rounded-xl"};return o.jsx(we.button,{whileHover:{scale:n==="floating"?1.1:1.05},whileTap:{scale:.95},onClick:e,className:`${l} ${c[n]} ${d[r]} ${i}`,children:t})},by=({rating:t,className:e=""})=>o.jsxs(we.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:`inline-flex items-center px-2 py-1 rounded-full bg-gradient-to-r from-yellow-400/90 to-amber-500/90 backdrop-blur-sm shadow-lg border border-yellow-300/30 ${e}`,children:[o.jsx(Nt,{className:"w-3 h-3 mr-1 fill-yellow-900 text-yellow-900"}),o.jsx("span",{className:"text-xs font-semibold text-yellow-900",children:t})]}),pH=({posterUrl:t,backdropUrl:e,showRating:n=!0,rating:r,actions:i={watchNow:!0,trailer:!0,addToList:!0},onWatchNow:l,onAddToWatchlist:c,onWatchTrailer:d,firstStreamingLogo:h,showStreamingLogoInButton:m=!1,moveButtonsToBottom:g=!1,className:p="",variant:x="vertical"})=>{const N=x==null?void 0:x.includes("spotlight"),k=N?e:t,S=o.jsx(r3,{className:"w-12 h-12 text-slate-400"});return o.jsxs("div",{className:`relative w-full flex-shrink-0 ${p}`,children:[k?o.jsx(we.img,{src:k,alt:"Media poster",className:"w-full h-full object-cover object-center rounded-t-2xl transition-transform duration-700 group-hover:scale-110",style:{aspectRatio:N?"16/9":"2/3",objectPosition:"center top"},loading:"lazy",whileHover:{scale:1.1},transition:{duration:.7}}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-700 to-slate-800 flex items-center justify-center rounded-t-2xl",style:{aspectRatio:N?"16/9":"2/3"},children:S}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-500 rounded-t-2xl"}),n&&r&&o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx(by,{rating:r})}),h&&!m&&o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg p-1.5 shadow-lg border border-white/20",children:o.jsx("img",{src:h,alt:"Available on streaming platform",className:"w-6 h-6 rounded-sm object-contain"})})}),!g&&(i.watchNow||i.addToList||i.trailer)&&o.jsx(we.div,{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 rounded-t-2xl",initial:{opacity:0},whileHover:{opacity:1},children:o.jsxs("div",{className:"flex gap-3 items-center justify-center",children:[i.watchNow&&o.jsxs(In,{variant:"floating",size:"md",onClick:w=>{w==null||w.stopPropagation(),l==null||l()},children:[o.jsx(St,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Watch"})]}),i.addToList&&o.jsxs(In,{variant:"floating",size:"md",onClick:w=>{w==null||w.stopPropagation(),c==null||c()},children:[o.jsx(Ar,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Add"})]}),i.trailer&&o.jsxs(In,{variant:"floating",size:"md",onClick:w=>{w==null||w.stopPropagation(),d==null||d()},children:[o.jsx(Ij,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Trailer"})]})]})})]})},gH=({title:t,year:e,genres:n=[],showReleaseDate:r=!1,showGenres:i=!1,showDescription:l=!1,description:c,config:d,className:h=""})=>o.jsx("div",{className:`${d.padding} flex-grow flex flex-col justify-between min-h-0 ${h}`,children:o.jsxs("div",{className:"space-y-2 flex-grow",children:[o.jsx("h3",{className:`${d.titleSize} font-bold text-white leading-tight line-clamp-2 group-hover:text-blue-300 transition-colors duration-300`,children:t}),r&&e&&o.jsx("p",{className:`${d.textSize} text-slate-400`,children:e}),i&&n.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1",children:n.map((m,g)=>o.jsx("span",{className:"px-2 py-1 bg-slate-700/70 text-slate-300 text-xs rounded-md backdrop-blur-sm",children:m},g))}),l&&c&&o.jsx("p",{className:`${d.textSize} text-slate-300 line-clamp-3 leading-relaxed`,children:c})]})}),yH=({actions:t={watchNow:!0,trailer:!0,addToList:!0},firstStreamingLogo:e,showStreamingLogoInButton:n=!1,onWatchNow:r,onAddToWatchlist:i,onWatchTrailer:l,className:c="",media:d})=>!t.watchNow&&!t.trailer&&!t.addToList?null:[t.watchNow,t.trailer,t.addToList].filter(Boolean).length===3?o.jsx("div",{className:`mt-4 pt-4 border-t border-slate-700/50 ${c}`,children:o.jsxs("div",{className:"space-y-2",children:[t.watchNow&&o.jsxs(In,{size:"sm",variant:"primary",onClick:m=>{m==null||m.stopPropagation(),r==null||r()},className:"w-full flex items-center justify-center gap-2 px-3 py-2.5",children:[o.jsx(St,{className:"w-3.5 h-3.5 flex-shrink-0"}),o.jsx("span",{className:"text-xs font-medium",children:"Watch Now"})]}),o.jsxs("div",{className:"flex gap-2",children:[t.trailer&&d&&o.jsx(fh,{show:{id:d.id,tmdbId:d.id,title:d.title||d.name||"Unknown"},variant:"secondary",size:"sm",showLabel:!0,className:"flex-1 text-xs"}),t.addToList&&o.jsxs(In,{size:"sm",variant:"secondary",onClick:m=>{m==null||m.stopPropagation(),i==null||i()},className:"flex-1 flex items-center justify-center gap-1.5 px-2 py-2 bg-slate-700 hover:bg-slate-600 border-slate-600 text-white",children:[o.jsx(Ar,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{className:"text-xs font-medium",children:"Add"})]})]})]})}):o.jsx("div",{className:`mt-4 pt-4 border-t border-slate-700/50 ${c}`,children:o.jsxs("div",{className:"flex gap-2 justify-center",children:[t.watchNow&&o.jsxs(In,{size:"sm",variant:"primary",onClick:m=>{m==null||m.stopPropagation(),r==null||r()},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 min-w-0",children:[o.jsx(St,{className:"w-3.5 h-3.5 flex-shrink-0"}),o.jsx("span",{className:"truncate text-xs font-medium",children:"Watch"})]}),t.trailer&&d&&o.jsx(fh,{show:{id:d.id,tmdbId:d.id,title:d.title||d.name||"Unknown"},variant:"secondary",size:"sm",showLabel:!0,className:"flex-1 text-xs"}),t.addToList&&o.jsxs(In,{size:"sm",variant:"secondary",onClick:m=>{m==null||m.stopPropagation(),i==null||i()},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-slate-700 hover:bg-slate-600 border-slate-600 text-white min-w-0",children:[o.jsx(Ar,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{className:"truncate text-xs font-medium",children:"Add"})]})]})}),RS={vertical:{width:"w-full",height:"min-h-80",padding:"p-3",titleSize:"text-base",textSize:"text-sm",moveButtonsToBottom:!1,showOverlayButtons:!0},"vertical-polished":{width:"w-full",height:"min-h-96",padding:"p-4",titleSize:"text-lg",textSize:"text-base",moveButtonsToBottom:!0,showOverlayButtons:!1},horizontal:{width:"w-full",height:"h-48",padding:"p-3",titleSize:"text-md",textSize:"text-xs",moveButtonsToBottom:!1,showOverlayButtons:!0,layout:"horizontal"},spotlight:{width:"w-full",height:"h-96",padding:"p-6",titleSize:"text-3xl md:text-5xl",textSize:"text-sm md:text-base",moveButtonsToBottom:!1,showOverlayButtons:!1,layout:"spotlight"},"spotlight-polished":{width:"w-full",height:"h-96",padding:"p-6",titleSize:"text-4xl lg:text-5xl",textSize:"text-base",moveButtonsToBottom:!1,showOverlayButtons:!1,layout:"spotlight"},"spotlight-poster-backdrop":{width:"w-full",height:"h-96",padding:"p-6",titleSize:"text-3xl md:text-4xl lg:text-5xl",textSize:"text-base",moveButtonsToBottom:!1,showOverlayButtons:!1,layout:"spotlight-backdrop"},compact:{width:"w-full",height:"h-24",padding:"p-3",titleSize:"text-sm",textSize:"text-xs",moveButtonsToBottom:!1,showOverlayButtons:!1,layout:"compact"}},vH={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western",10759:"Action & Adventure",10762:"Kids",10763:"News",10764:"Reality",10765:"Sci-Fi & Fantasy",10766:"Soap",10767:"Talk",10768:"War & Politics"},xH={Netflix:"bg-red-600","Disney Plus":"bg-blue-600","Amazon Prime Video":"bg-blue-500","HBO Max":"bg-purple-600",Hulu:"bg-green-500","Apple TV Plus":"bg-black","Paramount Plus":"bg-blue-700",Peacock:"bg-purple-500",YouTube:"bg-red-500",Crunchyroll:"bg-orange-500"};function Ny({providers:t=[],size:e="md",maxDisplayed:n=1}){if(!t||t.length===0)return null;const r={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-10 h-10"},i={sm:"text-xs",md:"text-sm",lg:"text-base"},l={Netflix:10,"Disney+":9,"Disney Plus":9,"Amazon Prime Video":8,"Prime Video":8,"Amazon Video":8,"Amazon Prime":8,"Amazon Prime Video with Ads":8,"HBO Max":7,Max:7,"Apple TV+":6,"Apple TV Plus":6,"Apple TV":6,Hulu:5,"Paramount+":4,"Paramount Plus":4,Peacock:3,Crunchyroll:2,"Discovery+":1,"Discovery Plus":1},c=new Set,h=t.filter(x=>{if(!x||!x.provider_name)return!1;let N=x.provider_name.toLowerCase().trim().replace(/\s+(with\s+ads?|standard|premium|plus|4k|uhd|hd).*$/i,"").replace(/\s+/g,"");return N.includes("amazon")||N.includes("prime")?N="amazon":N.includes("disney")?N="disney":N.includes("hbo")||N.includes("max")?N="hbo":N.includes("apple")?N="apple":N.includes("paramount")?N="paramount":N.includes("netflix")?N="netflix":N.includes("hulu")?N="hulu":N.includes("peacock")?N="peacock":N.includes("crunchyroll")?N="crunchyroll":N.includes("discovery")&&(N="discovery"),c.has(N)?!1:(c.add(N),!0)}).slice().sort((x,N)=>{const k=x.provider_name||"",S=N.provider_name||"",w=l[k]||0;return(l[S]||0)-w}),m=h.slice(0,Math.max(1,n)),g=Math.max(0,h.length-m.length),p=g>0;return o.jsxs("div",{className:"flex items-center gap-2",children:[m.map((x,N)=>{const k=uc(x);return o.jsx("div",{className:`${r[e]} rounded-md overflow-hidden flex items-center justify-center bg-white/10 p-1`,title:x.provider_name,children:o.jsx("img",{src:k,alt:x.provider_name,className:`${r[e]} object-contain`,onError:S=>{const w=S.target,j=w.parentElement;x.logo_path&&!w.src.includes("/logos/")?w.src=uc(x):j&&w.src!=="/logos/default.svg"?w.src="/logos/default.svg":j&&(j.innerHTML=`
                    <div class="${r[e]} ${xH[x.provider_name]||"bg-gray-600"} rounded-md flex items-center justify-center">
                      <span class="${i[e]} font-bold text-white">${x.provider_name.charAt(0)}</span>
                    </div>
                  `)}})},`${x.provider_id||N}-${x.provider_name}`)}),p&&o.jsxs("span",{className:"text-xs text-gray-400",children:["+",g," more"]})]})}const wH=({media:t,variant:e="vertical",size:n="md",actions:r={watchNow:!0,trailer:!0,addToList:!0},showStreamingLogos:i=!0,showSecondaryPoster:l=!1,showStreamingLogoInButton:c=!1,hideStreamingLogos:d=!1,streamingLogoInWatchNow:h=!1,moveButtonsToBottom:m=!1,showRating:g=!0,showGenres:p=!1,showReleaseDate:x=!1,showDescription:N=!1,onAddToWatchlist:k,onWatchTrailer:S,onCardClick:w,onShareContent:j,onWatchNow:P,genreMap:C=vH,className:T=""})=>{var G;const R=t.title||t.name||"Unknown Title",O=t.release_date||t.first_air_date,I=O?new Date(O).getFullYear():null,E=t.vote_average?Number(t.vote_average).toFixed(1):null,A=t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:null,F=t.backdrop_path?`https://image.tmdb.org/t/p/w1280${t.backdrop_path}`:null,z=(t.streaming_platforms||t.streamingPlatforms||t.streaming||[]).map(H=>({provider_id:H.provider_id||0,provider_name:H.provider_name||H.name||"Unknown",logo_path:H.logo_path})).filter(H=>H.provider_id>0),Q=((G=t.genre_ids)==null?void 0:G.slice(0,3).map(H=>C[H]).filter(Boolean))||[],D=RS[e]||RS.vertical,X=z.length>0&&z[0].logo_path?z[0].logo_path.startsWith("http")?z[0].logo_path:`https://image.tmdb.org/t/p/w200${z[0].logo_path}`:null,ie=m||D.moveButtonsToBottom,oe=()=>e==="spotlight-poster-backdrop"?o.jsxs(eg,{variant:e,className:`relative h-96 w-full ${T}`,onClick:()=>w==null?void 0:w(t),children:[F&&o.jsxs(we.div,{initial:{scale:1.05,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1,ease:"easeOut"},className:"absolute inset-0 overflow-hidden",children:[o.jsx("img",{src:F,alt:R,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-black/30"})]}),o.jsxs(we.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"relative z-10 h-full p-6 flex items-center gap-6",children:[A&&o.jsx(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.3},className:"flex-shrink-0",children:o.jsx("img",{src:A,alt:R,className:"w-32 md:w-40 lg:w-48 h-48 md:h-60 lg:h-72 object-cover rounded-2xl shadow-2xl border border-white/10"})}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white",children:R}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[x&&I&&o.jsx("p",{className:"text-gray-300",children:I}),p&&Q.length>0&&o.jsx("p",{className:"text-gray-300",children:Q.slice(0,3).join(", ")}),g&&E&&o.jsx(by,{rating:E})]}),N&&t.overview&&o.jsx("p",{className:"text-gray-200 line-clamp-3 max-w-2xl",children:t.overview}),o.jsxs("div",{className:"flex gap-3 mt-4",children:[r.watchNow&&o.jsx(In,{variant:"primary",size:"lg",onClick:H=>{H==null||H.stopPropagation(),P==null||P(t)},className:"bg-teal-600 hover:bg-teal-700 text-white font-semibold",children:o.jsxs("div",{className:"flex items-center gap-2",children:[X&&o.jsx("img",{src:X,alt:"Streaming platform",className:"w-5 h-5 object-contain rounded-sm bg-white p-0.5"}),o.jsx(St,{className:"w-5 h-5"}),"Watch Now"]})}),r.trailer&&o.jsx(fh,{show:{id:t.id,tmdbId:t.id,title:R},variant:"secondary",size:"default",showLabel:!0,className:"min-w-24"}),r.addToList&&o.jsxs(In,{variant:"secondary",size:"lg",onClick:H=>{H==null||H.stopPropagation(),k==null||k(t)},children:[o.jsx(Ar,{className:"w-5 h-5"}),"Add to List"]})]})]})]})]}):o.jsxs(eg,{variant:e,className:`relative h-96 w-full ${T}`,onClick:()=>w==null?void 0:w(t),children:[F&&o.jsx("img",{src:F,alt:R,className:"absolute inset-0 w-full h-full object-cover rounded-3xl"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent rounded-3xl"}),o.jsxs("div",{className:"absolute inset-0 flex flex-col md:flex-row items-center md:items-end justify-between h-full p-8 space-y-6 md:space-y-0",children:[l&&A&&o.jsx("img",{src:A,alt:R,className:"w-24 md:w-32 rounded-xl shadow-2xl border border-slate-700 object-cover"}),o.jsxs("div",{className:"text-center md:text-left max-w-3xl md:ml-8 space-y-4",children:[g&&E&&o.jsx(by,{rating:E}),o.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-4 leading-tight group-hover:text-blue-300 transition-colors duration-300",children:R}),o.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-4 text-sm text-slate-300",children:[x&&I&&o.jsx("span",{children:I}),p&&Q.length>0&&o.jsx("div",{className:"flex gap-2",children:Q.slice(0,3).map((H,Z)=>o.jsx("span",{className:"px-2 py-1 bg-slate-700/70 rounded-md backdrop-blur-sm",children:H},Z))})]}),N&&t.overview&&o.jsx("p",{className:"text-slate-200 leading-relaxed line-clamp-3 max-w-2xl text-sm md:text-base",children:t.overview}),o.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-3 mt-4",children:[r.watchNow&&o.jsxs(In,{variant:"primary",size:"lg",onClick:H=>{H==null||H.stopPropagation(),P==null||P(t)},className:"flex items-center gap-2",children:[o.jsx(St,{className:"w-5 h-5"}),"Watch Now",X&&c&&o.jsx("img",{src:X,alt:"Streaming Logo",className:"w-5 h-5 rounded-sm bg-white p-0.5"})]}),r.trailer&&o.jsxs(In,{variant:"secondary",size:"lg",onClick:H=>{H==null||H.stopPropagation(),S==null||S(t)},children:[o.jsx(Ij,{className:"w-5 h-5"}),"Trailer"]}),r.addToList&&o.jsxs(In,{variant:"secondary",size:"lg",onClick:H=>{H==null||H.stopPropagation(),k==null||k(t)},children:[o.jsx(Ar,{className:"w-5 h-5"}),"Add to List"]})]}),!d&&i&&!c&&z.length>0&&o.jsx("div",{className:"mt-4",children:o.jsx(Ny,{providers:z,maxDisplayed:4,size:"md"})})]})]})]});return e!=null&&e.includes("spotlight")?oe():o.jsx(eg,{variant:e,className:`w-full min-h-fit ${T}`,onClick:()=>w==null?void 0:w(t),children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx(pH,{posterUrl:A,backdropUrl:F,showRating:g,rating:E,actions:r,onWatchNow:()=>P==null?void 0:P(t),onAddToWatchlist:()=>k==null?void 0:k(t),onWatchTrailer:()=>S==null?void 0:S(t),firstStreamingLogo:X,showStreamingLogoInButton:c,moveButtonsToBottom:ie,className:"flex-shrink-0 aspect-[2/3] w-full",variant:e}),o.jsx(gH,{title:R,year:I,genres:Q,showReleaseDate:x,showGenres:p,showDescription:N,description:t.overview,config:D}),ie&&o.jsx(yH,{actions:r,firstStreamingLogo:X,showStreamingLogoInButton:c,onWatchNow:()=>P==null?void 0:P(t),onAddToWatchlist:()=>k==null?void 0:k(t),onWatchTrailer:()=>S==null?void 0:S(t),media:t}),!d&&i&&!c&&!ie&&z.length>0&&o.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700/50 px-3",children:o.jsx(Ny,{providers:z,maxDisplayed:3,size:"sm"})})]})})},ei=Ke.memo(wH),bH=({media:t,matchPercentage:e,reasonForRecommendation:n,viewingInsight:r,contextualInfo:i,similarViewers:l,watchTimeEstimate:c,trendingRank:d,leavesSoon:h,friendsWatching:m,isUpcoming:g,releaseDate:p,onCardClick:x,onWatchNow:N,onAddToWatchlist:k,onWatchTrailer:S,onShowInfo:w,className:j=""})=>{const[P,C]=Ke.useState(!1),[T,R]=Ke.useState(!1),O=E=>E?E>=90?"text-green-400":E>=75?"text-blue-400":E>=60?"text-yellow-400":"text-orange-400":"text-gray-400",I=E=>E?E>=90?o.jsx(ls,{className:"w-3 h-3"}):E>=75?o.jsx(Pg,{className:"w-3 h-3"}):o.jsx(Nt,{className:"w-3 h-3"}):o.jsx(Nt,{className:"w-3 h-3"});return o.jsxs(we.div,{className:`relative group ${j}`,onHoverStart:()=>C(!0),onHoverEnd:()=>C(!1),whileHover:{y:-8},transition:{duration:.3,ease:"easeOut"},children:[o.jsx(we.div,{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur opacity-0 group-hover:opacity-100 transition duration-500",animate:{background:P?"linear-gradient(45deg, rgba(59, 130, 246, 0.3), rgba(147, 51, 234, 0.3))":"linear-gradient(45deg, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1))"}}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"absolute top-3 left-3 z-20 flex flex-col gap-2",children:[e&&o.jsx(we.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.3},children:o.jsxs($e,{variant:"secondary",className:`${O(e)} bg-black/80 backdrop-blur-md border-white/20 px-2 py-1 text-xs font-semibold`,children:[I(e),o.jsxs("span",{className:"ml-1",children:[e,"% Match"]})]})}),d&&d<=10&&o.jsxs($e,{variant:"secondary",className:"bg-red-600/80 text-white border-red-500/30 px-2 py-1 text-xs",children:[o.jsx(kr,{className:"w-3 h-3 mr-1"}),"#",d," Trending"]}),h&&o.jsxs($e,{variant:"secondary",className:"bg-orange-600/80 text-white border-orange-500/30 px-2 py-1 text-xs",children:[o.jsx(li,{className:"w-3 h-3 mr-1"}),"Leaving Soon"]})]}),m&&m>0&&o.jsx("div",{className:"absolute top-3 right-3 z-20",children:o.jsxs($e,{variant:"secondary",className:"bg-indigo-600/80 text-white border-indigo-500/30 px-2 py-1 text-xs",children:[o.jsx(Mn,{className:"w-3 h-3 mr-1"}),m," friends"]})}),o.jsx(ei,{media:t,variant:"vertical-polished",size:"md",className:"h-full transition-all duration-300 group-hover:shadow-2xl",showStreamingLogos:!0,showRating:!0,showGenres:!1,showReleaseDate:!0,showDescription:!1,moveButtonsToBottom:!0,showStreamingLogoInButton:!1,onCardClick:x,onWatchNow:N,onWatchTrailer:S,onAddToWatchlist:k}),o.jsx(ba,{children:P&&o.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/95 via-black/80 to-transparent rounded-b-2xl p-4 z-10",children:o.jsxs("div",{className:"space-y-2 text-white",children:[c&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-300",children:[o.jsx(li,{className:"w-3 h-3"}),o.jsxs("span",{children:[c," to complete"]})]}),l&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-300",children:[o.jsx(Dn,{className:"w-3 h-3"}),o.jsx("span",{children:l})]}),r&&o.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-300",children:[o.jsx(ns,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"line-clamp-2",children:r})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx(ae,{size:"sm",className:`${g?"bg-purple-600 hover:bg-purple-700":"bg-white/90 hover:bg-white"} text-${g?"white":"black"} text-xs px-3 py-1 h-7`,onClick:E=>{E.stopPropagation(),N==null||N(t)},children:g?o.jsxs(o.Fragment,{children:[o.jsx(tc,{className:"w-3 h-3 mr-1"}),"Remind Me"]}):o.jsxs(o.Fragment,{children:[o.jsx(St,{className:"w-3 h-3 mr-1"}),"Watch"]})}),o.jsx(ae,{size:"sm",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 text-xs px-3 py-1 h-7",onClick:E=>{E.stopPropagation(),k==null||k(t)},children:o.jsx(Ar,{className:"w-3 h-3"})}),o.jsx(ae,{size:"sm",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 text-xs px-3 py-1 h-7",onClick:E=>{E.stopPropagation(),w==null||w(t)},children:o.jsx(Qd,{className:"w-3 h-3"})})]})]})})}),n&&o.jsxs("div",{className:"absolute top-1/2 right-2 z-30",onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:[o.jsx(ae,{size:"sm",variant:"outline",className:"w-8 h-8 p-0 bg-black/60 border-white/20 text-white hover:bg-black/80 rounded-full",children:o.jsx(Qd,{className:"w-3 h-3"})}),o.jsx(ba,{children:T&&o.jsxs(we.div,{initial:{opacity:0,scale:.8,x:10},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8,x:10},className:"absolute right-full mr-2 top-1/2 -translate-y-1/2 bg-black/90 backdrop-blur-md border border-white/20 rounded-xl p-3 max-w-xs z-50",children:[o.jsxs("div",{className:"text-xs text-white",children:[o.jsxs("div",{className:"font-semibold mb-1 flex items-center gap-1",children:[o.jsx(ls,{className:"w-3 h-3 text-blue-400"}),"Why this?"]}),o.jsx("p",{className:"text-slate-300",children:n})]}),o.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 border-4 border-transparent border-l-black/90"})]})})]})]})]})},NH=(t,e)=>({matchPercentage:Math.floor(Math.random()*30)+70,viewingInsight:kH(e),similarViewers:`${Math.floor(Math.random()*80)+20}% of similar viewers loved this`,watchTimeEstimate:jH(t.media_type),reasonForRecommendation:_H(e),trendingRank:Math.random()>.7?Math.floor(Math.random()*10)+1:void 0,leavesSoon:Math.random()>.85,friendsWatching:Math.random()>.6?Math.floor(Math.random()*8)+1:0,isUpcoming:e==="upcoming-with-reminders",releaseDate:e==="upcoming-with-reminders"?SH():void 0}),SH=()=>{const t=["Oct 15, 2025","Nov 3, 2025","Dec 20, 2025","Jan 10, 2026","Feb 14, 2026"];return t[Math.floor(Math.random()*t.length)]},kH=t=>({"because-you-loved":"Similar themes and tone to your favorites","weekend-bingers":"Perfect cliffhangers for marathon viewing","award-season-winners":"Critics and awards panels loved this","quick-wins":"Satisfying complete story in one sitting","sports-live-events":"Live action you can't watch later","upcoming-with-reminders":"Highly anticipated by fans like you","friends-are-watching":"Your friends are talking about this","educational-entertaining":"Learn while being entertained","ai-curated-surprise":"Our AI found this gem for you","leaving-soon":"Available for limited time"})[t]||"Recommended for you",jH=t=>t==="movie"?`${Math.floor(Math.random()*60)+90} minutes`:`${Math.floor(Math.random()*8)+2} seasons`,_H=t=>({"because-you-loved":"Based on your 5-star rating of Succession and similar shows in your watchlist","weekend-bingers":"You tend to watch 3+ episodes in a session on weekends","award-season-winners":"Award-winning content aligns with your quality preferences","quick-wins":"Matches your preference for complete stories under 2 hours","sports-live-events":"Live content based on your sports interests and activity","upcoming-with-reminders":"Content matching your wishlisted genres and interests","friends-are-watching":"Multiple friends in your network are currently watching","educational-entertaining":"Balances learning with entertainment like your documentary history","ai-curated-surprise":"Advanced algorithm detected perfect match for your unique taste","leaving-soon":"High-quality content expiring from platforms soon"})[t]||"Personalized recommendation based on your viewing history",AS=[{key:"because-you-loved",title:"Because You Loved Succession",subtitle:"Power dynamics & family drama",description:"Sharp writing, complex characters, and corporate intrigue that matches your taste",iconName:"heart",gradient:"from-rose-500 to-pink-600",textColor:"text-rose-300",borderColor:"border-rose-500/30",reasoning:"Based on your 5-star rating and 3 rewatches",priority:1,personalizedFor:"Drama lovers",moodContext:"When you want intelligent storytelling"},{key:"weekend-bingers",title:"Weekend Binge-Worthy",subtitle:"Perfect for your Saturday marathon",description:"Addictive series with multiple seasons ready to consume in one sitting",iconName:"coffee",gradient:"from-amber-500 to-orange-600",textColor:"text-amber-300",borderColor:"border-amber-500/30",reasoning:"Most binged shows this weekend",priority:2,timeContext:"Weekend viewing",moodContext:"When you have time to dive deep"},{key:"award-season-winners",title:"Award Season Winners",subtitle:yd().subtitle,description:yd().description,iconName:"award",gradient:"from-yellow-500 to-amber-600",textColor:"text-yellow-300",borderColor:"border-yellow-500/30",reasoning:yd().reasoning,priority:3,personalizedFor:"Quality seekers",timeContext:yd().timeContext},{key:"quick-wins",title:"Quick Wins (Under 90 mins)",subtitle:"Perfect for tonight",description:"Satisfying complete stories you can finish before bed",iconName:"clock",gradient:"from-green-500 to-emerald-600",textColor:"text-green-300",borderColor:"border-green-500/30",reasoning:"Matches your recent viewing patterns",priority:4,timeContext:"Evening viewing",moodContext:"When you want something complete"},{key:"sports-live-events",title:"Sports & Live Events",subtitle:"Don't miss the action",description:"Live sports, breaking news, and special events happening right now",iconName:"zap",gradient:"from-orange-500 to-red-600",textColor:"text-orange-300",borderColor:"border-orange-500/30",reasoning:"Live content you can't watch later",priority:5,timeContext:"Live now",moodContext:"Real-time excitement"},{key:"upcoming-with-reminders",title:"Coming Soon",subtitle:"Set your reminders now",description:"Highly anticipated shows and movies launching soon - get reminded when they drop",iconName:"calendar",gradient:"from-purple-500 to-indigo-600",textColor:"text-purple-300",borderColor:"border-purple-500/30",reasoning:"Based on your wishlisted content",priority:6,timeContext:"Future releases",moodContext:"Anticipation building"},{key:"friends-are-watching",title:"Your Friends Are Watching",subtitle:"Stay in the conversation",description:"Shows your connected friends are currently enjoying and discussing",iconName:"users",gradient:"from-indigo-500 to-purple-600",textColor:"text-indigo-300",borderColor:"border-indigo-500/30",reasoning:"From 12 friends' activity",priority:7,personalizedFor:"Social viewers"},{key:"educational-entertaining",title:"Learn Something New",subtitle:"Educational content that doesn't feel like school",description:"Documentaries and docuseries that entertain while they educate",iconName:"eye",gradient:"from-emerald-500 to-teal-600",textColor:"text-emerald-300",borderColor:"border-emerald-500/30",reasoning:"Expands your interests",priority:8,moodContext:"When you want to learn"},{key:"ai-curated-surprise",title:"AI Curated Surprise",subtitle:"Trust us on this one",description:"Our algorithm found something special that perfectly matches your unique taste",iconName:"star",gradient:"from-pink-500 to-rose-600",textColor:"text-pink-300",borderColor:"border-pink-500/30",reasoning:"Advanced matching algorithm",priority:9,personalizedFor:"Adventurous viewers"},{key:"leaving-soon",title:"Leaving Soon",subtitle:"Watch before they're gone",description:"Quality content that's about to expire from streaming platforms",iconName:"clock",gradient:"from-red-500 to-pink-600",textColor:"text-red-300",borderColor:"border-red-500/30",reasoning:"Expiring in the next 30 days",priority:10,timeContext:"Time-sensitive"}];function yd(){const e=new Date().getMonth()+1;return e>=1&&e<=3?{subtitle:"Oscar contenders & winners",description:"Films in the awards conversation and recent Academy Award winners",reasoning:"Oscar season is here - catch the buzz",timeContext:"Awards season"}:e>=9&&e<=10?{subtitle:"Emmy nominated series",description:"Outstanding television recognized by the Television Academy",reasoning:"Emmy season highlights the best of TV",timeContext:"Television awards season"}:e>=11&&e<=12?{subtitle:"Awards season contenders",description:"Shows and films generating early awards buzz and critical acclaim",reasoning:"Getting ahead of awards season",timeContext:"Pre-awards buzz"}:{subtitle:"Award-winning content",description:"Recent winners from major awards ceremonies and critical darlings",reasoning:"Celebrate excellence in entertainment",timeContext:"Celebrating the best"}}const CH={heart:Rr,calendar:_c,award:Gy,clock:li,eye:Dn,users:Mn,zap:ls,coffee:s3,star:Nt},EH=({mediaData:t,onMediaClick:e,onWatchNow:n,onAddToWatchlist:r,onWatchTrailer:i,onShowInfo:l,onSetReminder:c,className:d=""})=>{const m=(()=>{const p={};return AS.forEach(x=>{const N=[...t].sort(()=>.5-Math.random());p[x.key]=N.slice(0,Math.floor(Math.random()*3)+4)}),p})(),g=(p,x,N)=>{if(N==="upcoming-with-reminders"&&x==="watchNow"){c==null||c(p);return}switch(x){case"click":e==null||e(p);break;case"watchNow":n==null||n(p);break;case"watchlist":r==null||r(p);break;case"trailer":i==null||i(p);break;case"info":l==null||l(p);break}};return o.jsx("div",{className:`space-y-12 ${d}`,children:AS.map((p,x)=>{const N=CH[p.iconName]||Nt,k=m[p.key]||[];return k.length===0?null:o.jsxs(we.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:x*.1,duration:.6},className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${p.gradient} flex items-center justify-center`,children:o.jsx(N,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:p.title}),o.jsx("p",{className:"text-slate-400 text-sm max-w-2xl",children:p.reasoning})]})]}),p.priority>=8&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-yellow-400 font-medium",children:"Priority for you"})]})]}),o.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors",children:"View All"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",children:[k.map((S,w)=>o.jsx(we.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:x*.1+w*.05,duration:.4},className:"flex-shrink-0 w-56",children:o.jsx(bH,{media:S,...NH(S,p.key),onCardClick:j=>g(j,"click",p.key),onWatchNow:j=>g(j,"watchNow",p.key),onAddToWatchlist:j=>g(j,"watchlist",p.key),onWatchTrailer:j=>g(j,"trailer",p.key),onShowInfo:j=>g(j,"info",p.key),className:"h-full"})},`${p.key}-${S.id}-${w}`)),o.jsx(we.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:x*.1+k.length*.05,duration:.4},className:"flex-shrink-0 w-56",children:o.jsxs("div",{className:"h-80 bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50 flex flex-col items-center justify-center gap-4 hover:bg-slate-800/70 transition-all duration-300 cursor-pointer group",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(N,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white font-medium",children:"See More"}),o.jsx("p",{className:"text-slate-400 text-sm",children:p.title})]})]})})]}),o.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-slate-950 to-transparent pointer-events-none z-10"}),o.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-slate-950 to-transparent pointer-events-none z-10"})]})]},p.key)})})},IS=[{id:"action",name:"Action",icon:ls,color:"bg-red-500"},{id:"comedy",name:"Comedy",icon:Rr,color:"bg-yellow-500"},{id:"drama",name:"Drama",icon:Mn,color:"bg-blue-500"},{id:"horror",name:"Horror",icon:Sr,color:"bg-purple-500"},{id:"romance",name:"Romance",icon:Rr,color:"bg-pink-500"},{id:"sci-fi",name:"Sci-Fi",icon:Wh,color:"bg-cyan-500"},{id:"fantasy",name:"Fantasy",icon:y3,color:"bg-indigo-500"},{id:"documentary",name:"Documentary",icon:XM,color:"bg-green-500"},{id:"thriller",name:"Thriller",icon:Rj,color:"bg-gray-500"},{id:"music",name:"Music",icon:v3,color:"bg-emerald-500"}],MS=[{id:"netflix",name:"Netflix",icon:"/logos/netflix.png",color:"bg-red-600"},{id:"disney",name:"Disney+",icon:"/logos/disney-plus.png",color:"bg-blue-600"},{id:"hbo",name:"HBO Max",icon:"/logos/hbo-max.png",color:"bg-purple-600"},{id:"prime",name:"Prime Video",icon:"/logos/prime-video.png",color:"bg-blue-500"},{id:"hulu",name:"Hulu",icon:"/logos/hulu.png",color:"bg-green-600"},{id:"paramount",name:"Paramount+",icon:"/logos/paramount-plus.png",color:"bg-blue-700"}],PH=({onGenreMix:t,onRandomDiscover:e,onTimeFilter:n,onPersonalityMatch:r,onStreamingFilter:i,className:l=""})=>{const[c,d]=v.useState([]),[h,m]=v.useState([]),[g,p]=v.useState(!1),x=S=>{const w=c.includes(S)?c.filter(j=>j!==S):[...c,S];d(w),t==null||t(w)},N=S=>{const w=h.includes(S)?h.filter(j=>j!==S):[...h,S];m(w),i==null||i(w)},k=async()=>{p(!0),await new Promise(S=>setTimeout(S,1500)),p(!1),e==null||e()};return o.jsxs("div",{className:`space-y-8 ${l}`,children:[o.jsxs("div",{className:"text-center space-y-2",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center justify-center gap-2",children:[o.jsx(ns,{className:"w-6 h-6 text-blue-400"}),"Discover Your Perfect Watch"]}),o.jsx("p",{className:"text-slate-400",children:"Filter by platform and genre to find exactly what you want"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx(j3,{className:"w-5 h-5 text-purple-400"}),"Filter by Streaming Platform",h.length>0&&o.jsxs($e,{variant:"secondary",className:"ml-2 bg-purple-500/20 text-purple-300",children:[h.length," selected"]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:MS.map(S=>{const w=h.includes(S.id);return o.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>N(S.id),className:`p-4 rounded-2xl border-2 transition-all duration-300 relative overflow-hidden group ${w?"border-white bg-white/10 shadow-lg":"border-slate-700 hover:border-slate-600 bg-slate-800/50 hover:bg-slate-800/70"}`,children:o.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[o.jsx("img",{src:S.icon,alt:S.name,className:"w-8 h-8 object-contain",onError:j=>{j.target.style.display="none"}}),o.jsx("span",{className:`text-sm font-medium ${w?"text-white":"text-slate-300"}`,children:S.name})]})},S.id)})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx(N3,{className:"w-5 h-5 text-green-400"}),"Mix & Match Genres",c.length>0&&o.jsxs($e,{variant:"secondary",className:"ml-2 bg-green-500/20 text-green-300",children:[c.length," selected"]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:IS.map(S=>{const w=c.includes(S.id),j=S.icon;return o.jsxs(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(S.id),className:`px-4 py-2 rounded-full border-2 transition-all duration-300 flex items-center gap-2 ${w?`border-white ${S.color} text-white shadow-lg`:"border-slate-600 bg-slate-800/50 text-slate-300 hover:border-slate-500 hover:bg-slate-800/70"}`,children:[o.jsx(j,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:S.name})]},S.id)})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(we.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-purple-600/20 to-pink-600/20 border border-purple-500/30 rounded-2xl p-6 text-center space-y-3 cursor-pointer",onClick:k,children:[o.jsx(we.div,{animate:g?{rotate:360}:{rotate:0},transition:{duration:1.5,ease:"easeInOut",repeat:g?1/0:0},children:o.jsx(b3,{className:"w-8 h-8 text-purple-400 mx-auto"})}),o.jsx("h4",{className:"text-white font-semibold",children:"I'm Feeling Lucky"}),o.jsx("p",{className:"text-slate-400 text-sm",children:"Surprise me with something amazing"})]}),o.jsxs(we.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-blue-600/20 to-cyan-600/20 border border-blue-500/30 rounded-2xl p-6 text-center space-y-3 cursor-pointer",onClick:()=>n==null?void 0:n("quick"),children:[o.jsx(li,{className:"w-8 h-8 text-blue-400 mx-auto"}),o.jsx("h4",{className:"text-white font-semibold",children:"Quick Watch"}),o.jsx("p",{className:"text-slate-400 text-sm",children:"30-90 minutes of great content"})]}),o.jsxs(we.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-green-600/20 to-emerald-600/20 border border-green-500/30 rounded-2xl p-6 text-center space-y-3 cursor-pointer",onClick:()=>r==null?void 0:r("quiz"),children:[o.jsx(Rj,{className:"w-8 h-8 text-green-400 mx-auto"}),o.jsx("h4",{className:"text-white font-semibold",children:"Personality Match"}),o.jsx("p",{className:"text-slate-400 text-sm",children:"Find shows that match your vibe"})]})]}),o.jsx(ba,{children:(c.length>0||h.length>0)&&o.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(u3,{className:"w-4 h-4 text-blue-400"}),o.jsx("span",{className:"text-white font-medium",children:"Active Filters:"})]}),o.jsxs(ae,{size:"sm",variant:"ghost",onClick:()=>{d([]),m([])},className:"text-slate-400 hover:text-white",children:[o.jsx(Lj,{className:"w-4 h-4 mr-1"}),"Clear All"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[h.map(S=>{const w=MS.find(j=>j.id===S);return o.jsx($e,{variant:"secondary",className:"bg-purple-500/20 text-purple-300",children:w==null?void 0:w.name},S)}),c.map(S=>{const w=IS.find(j=>j.id===S);return o.jsx($e,{variant:"secondary",className:"bg-green-500/20 text-green-300",children:w==null?void 0:w.name},S)})]})]})})]})};async function TH(t){const e=await t.text();if(!e)return null;try{return JSON.parse(e)}catch{return e}}async function vd(t,e={}){const n=await fetch(t,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers||{}},...e}),r=await TH(n);if(!n.ok)throw Object.assign(new Error(`API ${n.status}: ${n.statusText}`),{status:n.status,payload:r});return r}function xd(t){const e=Object.entries(t).filter(([r,i])=>i!=null&&i!=="");if(!e.length)return"";const n=new URLSearchParams;for(const[r,i]of e)n.append(r,String(i));return`?${n.toString()}`}const Kt={WATCHLIST:"bingeboard_watchlist",REMINDERS:"bingeboard_reminders",PREFERENCES:"bingeboard_preferences"},Ls={WATCHLIST:"/api/user/watchlist",REMINDERS:"/api/user/reminders",PREFERENCES:"/api/user/preferences"};class RH{constructor(){this.userId=null}setUserId(e){this.userId=e}getStoredData(e,n){try{const r=localStorage.getItem(e);return r?JSON.parse(r):n}catch(r){return console.warn(`Error parsing stored data for ${e}:`,r),n}}setStoredData(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch(r){console.error(`Error storing data for ${e}:`,r)}}async apiRequest(e,n={}){try{const r=await Ht(e,{headers:{"Content-Type":"application/json",...n.headers},...n});if(!r.ok)throw new Error(`API request failed: ${r.status}`);return await r.json()}catch(r){return console.error(`API request error for ${e}:`,r),null}}async syncWithServer(e,n,r){if(!this.userId)return e;try{const i=await this.apiRequest(n);if(i)return this.setStoredData(r,i),i}catch(i){console.warn("Server sync failed, using local data:",i)}return e}async getWatchlist(){const e=this.getStoredData(Kt.WATCHLIST,[]);return this.syncWithServer(e,Ls.WATCHLIST,Kt.WATCHLIST)}async addToWatchlist(e){try{const n=await this.getWatchlist();if(n.some(c=>c.id===e.id&&c.type===e.type))return console.warn("Item already in watchlist"),!1;const i={...e,addedAt:new Date().toISOString(),userId:this.userId||void 0,priority:"medium"},l=[...n,i];return this.setStoredData(Kt.WATCHLIST,l),this.userId&&await this.apiRequest(Ls.WATCHLIST,{method:"POST",body:JSON.stringify(i)}),!0}catch(n){return console.error("Error adding to watchlist:",n),!1}}async removeFromWatchlist(e,n){try{const i=(await this.getWatchlist()).filter(l=>!(l.id===e&&l.type===n));return this.setStoredData(Kt.WATCHLIST,i),this.userId&&await this.apiRequest(`${Ls.WATCHLIST}/${e}`,{method:"DELETE"}),!0}catch(r){return console.error("Error removing from watchlist:",r),!1}}async isInWatchlist(e,n){return(await this.getWatchlist()).some(i=>i.id===e&&i.type===n)}async getReminders(){const e=this.getStoredData(Kt.REMINDERS,[]);return this.syncWithServer(e,Ls.REMINDERS,Kt.REMINDERS)}async setReminder(e,n,r="release",i){try{const l=await this.getReminders();if(l.some(m=>m.id===e.id&&m.type===e.type&&m.reminderType===r))return console.warn("Reminder already set for this content"),!1;const d={...e,remindAt:n,userId:this.userId||void 0,reminderType:r,isActive:!0,customMessage:i},h=[...l,d];return this.setStoredData(Kt.REMINDERS,h),this.userId&&await this.apiRequest(Ls.REMINDERS,{method:"POST",body:JSON.stringify(d)}),!0}catch(l){return console.error("Error setting reminder:",l),!1}}async removeReminder(e,n,r){try{const l=(await this.getReminders()).filter(c=>!(c.id===e&&c.type===n&&c.reminderType===r));return this.setStoredData(Kt.REMINDERS,l),this.userId&&await this.apiRequest(`${Ls.REMINDERS}/${e}`,{method:"DELETE"}),!0}catch(i){return console.error("Error removing reminder:",i),!1}}async getActiveReminders(e=7){const n=await this.getReminders(),r=new Date,i=new Date(r.getTime()+e*24*60*60*1e3);return n.filter(l=>{const c=new Date(l.remindAt);return l.isActive&&c<=i&&c>=r})}async getPreferences(){const e={favoriteGenres:[],favoriteStreamingServices:[],reminderSettings:{emailEnabled:!0,pushEnabled:!0,smsEnabled:!1,advanceDays:1},watchlistSettings:{autoRemoveWatched:!1,sortBy:"addedAt",showOnlyAvailable:!1}},n=this.getStoredData(Kt.PREFERENCES,e);return this.syncWithServer(n,Ls.PREFERENCES,Kt.PREFERENCES)}async updatePreferences(e){try{const r={...await this.getPreferences(),...e};return this.setStoredData(Kt.PREFERENCES,r),this.userId&&await this.apiRequest(Ls.PREFERENCES,{method:"PUT",body:JSON.stringify(r)}),!0}catch(n){return console.error("Error updating preferences:",n),!1}}clearUserData(){Object.values(Kt).forEach(e=>{localStorage.removeItem(e)}),this.userId=null}async exportUserData(){const[e,n,r]=await Promise.all([this.getWatchlist(),this.getReminders(),this.getPreferences()]);return{watchlist:e,reminders:n,preferences:r}}async importUserData(e){try{return e.watchlist&&this.setStoredData(Kt.WATCHLIST,e.watchlist),e.reminders&&this.setStoredData(Kt.REMINDERS,e.reminders),e.preferences&&this.setStoredData(Kt.PREFERENCES,e.preferences),!0}catch(n){return console.error("Error importing user data:",n),!1}}}const qn=new RH,{setUserId:CW,getWatchlist:EW,addToWatchlist:PW,removeFromWatchlist:TW,isInWatchlist:RW,getReminders:AW,setReminder:IW,removeReminder:MW,getActiveReminders:DW,getPreferences:OW,updatePreferences:LW,clearUserData:FW,exportUserData:UW,importUserData:$W}=qn;async function AH(t,e="us"){return console.warn("Utelly API key not configured"),{results:[],collection:{total_results:0}}}async function IH(t,e="us"){return console.warn("Utelly API key not configured"),{results:[],collection:{total_results:0}}}const tg={netflix:{id:"netflix",name:"netflix",displayName:"Netflix",icon:"",color:"#E50914",baseUrl:"https://www.netflix.com",searchUrl:"https://www.netflix.com/search?q=",isSubscription:!0,isRental:!1,priority:1},hulu:{id:"hulu",name:"hulu",displayName:"Hulu",icon:"",color:"#1CE783",baseUrl:"https://www.hulu.com",searchUrl:"https://www.hulu.com/search?q=",isSubscription:!0,isRental:!1,priority:2},amazon_prime:{id:"amazon_prime",name:"amazon_prime",displayName:"Prime Video",icon:"",color:"#00A8E1",baseUrl:"https://www.amazon.com/prime-video",searchUrl:"https://www.amazon.com/s?k=",isSubscription:!0,isRental:!0,priority:3},disney_plus:{id:"disney_plus",name:"disney_plus",displayName:"Disney+",icon:"",color:"#113CCF",baseUrl:"https://www.disneyplus.com",searchUrl:"https://www.disneyplus.com/search?q=",isSubscription:!0,isRental:!1,priority:4},hbo_max:{id:"hbo_max",name:"hbo_max",displayName:"Max",icon:"",color:"#8C00FF",baseUrl:"https://www.max.com",searchUrl:"https://www.max.com/search?q=",isSubscription:!0,isRental:!1,priority:5},apple_tv_plus:{id:"apple_tv_plus",name:"apple_tv_plus",displayName:"Apple TV+",icon:"",color:"#000000",baseUrl:"https://tv.apple.com",searchUrl:"https://tv.apple.com/search?term=",isSubscription:!0,isRental:!0,priority:6},paramount_plus:{id:"paramount_plus",name:"paramount_plus",displayName:"Paramount+",icon:"",color:"#0064FF",baseUrl:"https://www.paramountplus.com",searchUrl:"https://www.paramountplus.com/search/?query=",isSubscription:!0,isRental:!1,priority:7},peacock:{id:"peacock",name:"peacock",displayName:"Peacock",icon:"",color:"#7B68EE",baseUrl:"https://www.peacocktv.com",searchUrl:"https://www.peacocktv.com/search?query=",isSubscription:!0,isRental:!1,priority:8},youtube:{id:"youtube",name:"youtube",displayName:"YouTube",icon:"",color:"#FF0000",baseUrl:"https://www.youtube.com",searchUrl:"https://www.youtube.com/results?search_query=",isSubscription:!1,isRental:!0,priority:9},vudu:{id:"vudu",name:"vudu",displayName:"Vudu",icon:"",color:"#3B82F6",baseUrl:"https://www.vudu.com",searchUrl:"https://www.vudu.com/content/search?query=",isSubscription:!1,isRental:!0,priority:10},tubi:{id:"tubi",name:"tubi",displayName:"Tubi",icon:"",color:"#FA541C",baseUrl:"https://tubitv.com",searchUrl:"https://tubitv.com/search/",isSubscription:!1,isRental:!1,priority:11},crackle:{id:"crackle",name:"crackle",displayName:"Crackle",icon:"",color:"#FFD700",baseUrl:"https://www.crackle.com",searchUrl:"https://www.crackle.com/search?query=",isSubscription:!1,isRental:!1,priority:12}};class MH{constructor(){this.userPlatforms=[],this.preferredPlatforms=["netflix","hulu","amazon_prime","disney_plus"]}setUserPlatforms(e){this.userPlatforms=e,localStorage.setItem("bingeboard_user_platforms",JSON.stringify(e))}getUserPlatforms(){if(this.userPlatforms.length===0)try{const e=localStorage.getItem("bingeboard_user_platforms");this.userPlatforms=e?JSON.parse(e):this.preferredPlatforms}catch(e){console.warn("Error loading user platforms:",e),this.userPlatforms=this.preferredPlatforms}return this.userPlatforms}normalizePlatformName(e){const n=e.toLowerCase();return{amazon_prime_video:"amazon_prime",amazon_video:"amazon_prime",prime_video:"amazon_prime",hbo_max:"hbo_max",hbomax:"hbo_max",disney_plus:"disney_plus",disneyplus:"disney_plus",apple_tv:"apple_tv_plus",appletv:"apple_tv_plus",paramount:"paramount_plus",youtube_movies:"youtube",google_play:"youtube"}[n]||n}convertToWatchOption(e){const n=this.normalizePlatformName(e.name),r=tg[n];if(!r)return console.warn("Unknown platform:",e.name),null;let i="subscription";return e.url.includes("rent")||e.url.includes("buy")||r.isRental&&!r.isSubscription?i="rental":!r.isSubscription&&!r.isRental&&(i="free"),{platform:r,url:e.url,type:i}}async getStreamingOptions(e){const n=e.title||e.name||"";try{let r;if(e.imdb_id&&(r=await IH(e.imdb_id)),(!r||r.results.length===0)&&(r=await AH(n)),!r||r.results.length===0)return this.getDefaultSearchOptions(e);const i=[],l=new Set;return r.results.forEach(c=>{c.locations.forEach(d=>{const h=this.convertToWatchOption(d);h&&!l.has(h.platform.id)&&(i.push(h),l.add(h.platform.id))})}),this.sortWatchOptions(i)}catch(r){return console.error("Error getting streaming options:",r),this.getDefaultSearchOptions(e)}}getDefaultSearchOptions(e){const n=e.title||e.name||"";return this.getUserPlatforms().slice(0,3).map(i=>{const l=tg[i];return l?{platform:l,url:l.searchUrl+encodeURIComponent(n),type:l.isSubscription?"subscription":"rental"}:null}).filter(Boolean)}sortWatchOptions(e){const n=this.getUserPlatforms();return e.sort((r,i)=>{const l=n.indexOf(r.platform.id),c=n.indexOf(i.platform.id);return l!==-1&&c!==-1?l-c:l!==-1?-1:c!==-1?1:r.type==="subscription"&&i.type!=="subscription"?-1:i.type==="subscription"&&r.type!=="subscription"?1:r.type==="free"&&i.type!=="free"?-1:i.type==="free"&&r.type!=="free"?1:r.platform.priority-i.platform.priority})}async getBestWatchOption(e){const n=await this.getStreamingOptions(e);return n.length>0?n[0]:null}async launchWatch(e){try{const n=await this.getBestWatchOption(e);if(!n){const r=e.title||e.name||"",i=`https://www.google.com/search?q=${encodeURIComponent(r+" watch online")}`;return window.open(i,"_blank"),!0}return window.open(n.url,"_blank"),this.trackPlatformUsage(n.platform.id),!0}catch(n){return console.error("Error launching watch:",n),!1}}trackPlatformUsage(e){try{const n=this.getPlatformUsage();n[e]=(n[e]||0)+1,localStorage.setItem("bingeboard_platform_usage",JSON.stringify(n))}catch(n){console.warn("Error tracking platform usage:",n)}}getPlatformUsage(){try{const e=localStorage.getItem("bingeboard_platform_usage");return e?JSON.parse(e):{}}catch{return{}}}getRecommendedPlatforms(){const e=this.getPlatformUsage(),n=this.getUserPlatforms();return Object.values(tg).map(i=>({platform:i,score:(e[i.id]||0)+(n.includes(i.id)?100:0)})).sort((i,l)=>l.score-i.score).slice(0,6).map(i=>i.platform)}async searchAcrossPlatforms(e){return this.getRecommendedPlatforms().map(r=>({platform:r,url:r.searchUrl+encodeURIComponent(e)}))}async isAvailableOnUserPlatforms(e){const n=await this.getStreamingOptions(e),r=this.getUserPlatforms();return n.some(i=>r.includes(i.platform.id))}}const Ud=new MH,{setUserPlatforms:BW,getUserPlatforms:zW,getStreamingOptions:VW,getBestWatchOption:HW,launchWatch:WW,getRecommendedPlatforms:GW,searchAcrossPlatforms:KW,isAvailableOnUserPlatforms:qW}=Ud;class DH{constructor(){this.YOUTUBE_BASE_URL="https://www.youtube.com",this.YOUTUBE_EMBED_URL="https://www.youtube.com/embed",this.YOUTUBE_THUMBNAIL_URL="https://img.youtube.com/vi"}async searchTMDBTrailers(e){try{const n=`/api/multi-api/trailer/${e.type}/${e.id}`,r=new URLSearchParams;e.title&&r.append("title",e.title),e.name&&r.append("title",e.name);const i=r.toString()?`${n}?${r}`:n,l=await Ht(i);if(!l.ok)throw new Error(`TMDB API error: ${l.status}`);const c=await l.json();return this.formatTMDBResults(c.results||[])}catch(n){return console.error("Error fetching TMDB trailers:",n),[]}}formatTMDBResults(e){return e.filter(n=>n.site==="YouTube"&&n.type==="Trailer").map(n=>({id:n.id,key:n.key,name:n.name,site:n.site,type:n.type,size:n.size||1080,url:`${this.YOUTUBE_BASE_URL}/watch?v=${n.key}`,thumbnail:`${this.YOUTUBE_THUMBNAIL_URL}/${n.key}/maxresdefault.jpg`,published_at:n.published_at})).sort((n,r)=>n.name.toLowerCase().includes("official")&&!r.name.toLowerCase().includes("official")?-1:r.name.toLowerCase().includes("official")&&!n.name.toLowerCase().includes("official")?1:r.size-n.size)}async searchYouTubeTrailers(e){const n=e.title||e.name||"",r=this.extractYear(e.release_date||e.first_air_date),i=e.type==="tv"?"trailer":"movie trailer",l=`${n} ${r} ${i} official`;try{const c=await Ht(`/api/youtube/search?q=${encodeURIComponent(l)}&type=video&part=snippet&maxResults=5`);if(!c.ok)throw new Error(`YouTube API error: ${c.status}`);const d=await c.json();return this.formatYouTubeResults(d.items||[])}catch(c){return console.error("Error fetching YouTube trailers:",c),this.generateFallbackSearch(e)}}formatYouTubeResults(e){return e.map(n=>{var r,i;return{id:n.id.videoId,key:n.id.videoId,name:n.snippet.title,site:"YouTube",type:"Trailer",size:1080,url:`${this.YOUTUBE_BASE_URL}/watch?v=${n.id.videoId}`,thumbnail:((i=(r=n.snippet.thumbnails)==null?void 0:r.high)==null?void 0:i.url)||`${this.YOUTUBE_THUMBNAIL_URL}/${n.id.videoId}/maxresdefault.jpg`,published_at:n.snippet.publishedAt}})}generateFallbackSearch(e){const n=e.title||e.name||"",r=this.extractYear(e.release_date||e.first_air_date),i=e.type==="tv"?"trailer":"movie trailer",l=`${n} ${r} ${i} official`,c=`${this.YOUTUBE_BASE_URL}/results?search_query=${encodeURIComponent(l)}`;return[{id:"fallback-search",key:"fallback-search",name:`Search for "${n}" trailer`,site:"YouTube",type:"Search",size:1080,url:c,thumbnail:"/placeholder-trailer.jpg"}]}extractYear(e){return e?new Date(e).getFullYear().toString():""}async getTrailers(e){try{let n=await this.searchTMDBTrailers(e);return n.length===0&&(n=await this.searchYouTubeTrailers(e)),n.length===0&&(n=this.generateFallbackSearch(e)),n.slice(0,5)}catch(n){return console.error("Error getting trailers:",n),this.generateFallbackSearch(e)}}async getBestTrailer(e){const n=await this.getTrailers(e);return n.length>0?n[0]:null}async launchTrailer(e,n=!1){try{const r=await this.getBestTrailer(e);return r?(n?this.openTrailerModal(r):window.open(r.url,"_blank"),!0):(console.warn("No trailer found for media:",e.title||e.name),!1)}catch(r){return console.error("Error launching trailer:",r),!1}}openTrailerModal(e){const n=new CustomEvent("openTrailerModal",{detail:{title:e.name,embedUrl:`${this.YOUTUBE_EMBED_URL}/${e.key}?autoplay=1&rel=0`,thumbnail:e.thumbnail}});window.dispatchEvent(n)}getEmbedUrl(e,n=!1){const r=new URLSearchParams({rel:"0",modestbranding:"1",...n&&{autoplay:"1"}});return`${this.YOUTUBE_EMBED_URL}/${e}?${r}`}getThumbnailUrl(e,n="maxres"){const r={default:"default",medium:"mqdefault",high:"hqdefault",maxres:"maxresdefault"};return`${this.YOUTUBE_THUMBNAIL_URL}/${e}/${r[n]}.jpg`}async hasTrailers(e){try{const n=await this.getTrailers(e);return n.length>0&&n[0].key!=="fallback-search"}catch(n){return console.error("Error checking for trailers:",n),!1}}async getTrailersByType(e,n){return(await this.getTrailers(e)).filter(i=>i.type===n||i.name.toLowerCase().includes(n.toLowerCase()))}async getTrailersByQuality(e,n=720){return(await this.getTrailers(e)).filter(i=>i.size>=n)}async preloadTrailers(e){const n=new Map,r=3;for(let i=0;i<e.length;i+=r){const c=e.slice(i,i+r).map(async d=>{const h=`${d.type}-${d.id}`,m=await this.getTrailers(d);return n.set(h,m),{key:h,trailers:m}});await Promise.allSettled(c),i+r<e.length&&await new Promise(d=>setTimeout(d,100))}return n}getCachedTrailer(e){try{const n=`trailer_${e.type}_${e.id}`,r=sessionStorage.getItem(n);if(r){const i=JSON.parse(r),l=i.timestamp;if(Date.now()-l<36e5)return i.trailer}}catch(n){console.warn("Error reading trailer cache:",n)}return null}cacheTrailer(e,n){try{const r=`trailer_${e.type}_${e.id}`,i={trailer:n,timestamp:Date.now()};sessionStorage.setItem(r,JSON.stringify(i))}catch(r){console.warn("Error caching trailer:",r)}}}const $d=new DH,{getTrailers:YW,getBestTrailer:QW,launchTrailer:ZW,getEmbedUrl:XW,getThumbnailUrl:JW,hasTrailers:eG,getTrailersByType:tG,getTrailersByQuality:nG,preloadTrailers:rG,getCachedTrailer:sG}=$d;function j2(t={}){const{autoLoadWatchlist:e=!0,autoLoadReminders:n=!0,cacheResults:r=!0}=t,{user:i}=Un(),[l,c]=v.useState({watchlist:[],reminders:[],isLoading:!1,error:null}),[d,h]=v.useState(new Map);v.useEffect(()=>{i!=null&&i.id&&qn.setUserId(i.id)},[i==null?void 0:i.id]),v.useEffect(()=>{(e||n)&&g()},[e,n,i==null?void 0:i.id]);const m=v.useCallback(async(A,F,q=3e5)=>{if(!r)return await F();const z=d.get(A);if(z&&Date.now()-z.timestamp<q)return z.data;const Q=await F();return h(D=>new Map(D).set(A,{data:Q,timestamp:Date.now()})),Q},[d,r]),g=v.useCallback(async()=>{var A,F;c(q=>({...q,isLoading:!0,error:null}));try{const q=[];e&&q.push(qn.getWatchlist()),n&&q.push(qn.getReminders());const z=await Promise.allSettled(q),Q={isLoading:!1};if(e&&((A=z[0])==null?void 0:A.status)==="fulfilled"&&(Q.watchlist=z[0].value),n){const D=e?1:0;((F=z[D])==null?void 0:F.status)==="fulfilled"&&(Q.reminders=z[D].value)}c(D=>({...D,...Q}))}catch(q){c(z=>({...z,isLoading:!1,error:q instanceof Error?q.message:"Failed to load data"}))}},[e,n]),p=v.useCallback(async A=>{try{const F=await qn.addToWatchlist(A);if(F&&e){const q=await qn.getWatchlist();c(z=>({...z,watchlist:q}))}return F}catch(F){return console.error("Error adding to watchlist:",F),!1}},[e]),x=v.useCallback(async(A,F)=>{try{const q=await qn.removeFromWatchlist(A,F);return q&&e&&c(z=>({...z,watchlist:z.watchlist.filter(Q=>!(Q.id===A&&Q.type===F))})),q}catch(q){return console.error("Error removing from watchlist:",q),!1}},[e]),N=v.useCallback(async(A,F)=>e&&l.watchlist.length>0?l.watchlist.some(q=>q.id===A&&q.type===F):await qn.isInWatchlist(A,F),[l.watchlist,e]),k=v.useCallback(async A=>await N(A.id,A.type)?await x(A.id,A.type):await p(A),[N,x,p]),S=v.useCallback(async A=>{try{return await Ud.launchWatch(A)}catch(F){return console.error("Error watching now:",F),!1}},[]),w=v.useCallback(async A=>{const F=`streaming_${A.type}_${A.id}`;return await m(F,()=>Ud.getStreamingOptions(A))},[m]),j=v.useCallback(async A=>{const F=`best_watch_${A.type}_${A.id}`;return await m(F,()=>Ud.getBestWatchOption(A))},[m]),P=v.useCallback(async(A,F=!1)=>{try{return await $d.launchTrailer(A,F)}catch(q){return console.error("Error watching trailer:",q),!1}},[]),C=v.useCallback(async A=>{const F=`trailers_${A.type}_${A.id}`;return await m(F,()=>$d.getTrailers(A))},[m]),T=v.useCallback(async A=>{const F=`best_trailer_${A.type}_${A.id}`;return await m(F,()=>$d.getBestTrailer(A))},[m]),R=v.useCallback(async(A,F,q="release")=>{try{let z=F;if(!z){const D=A.release_date||A.first_air_date;if(D){const X=new Date(D);X.setDate(X.getDate()-1),z=X.toISOString()}else{const X=new Date;X.setDate(X.getDate()+7),z=X.toISOString()}}const Q=await qn.setReminder(A,z,q);if(Q&&n){const D=await qn.getReminders();c(X=>({...X,reminders:D}))}return Q}catch(z){return console.error("Error setting reminder:",z),!1}},[n]),O=v.useCallback(async(A,F,q)=>{try{const z=await qn.removeReminder(A,F,q);return z&&n&&c(Q=>({...Q,reminders:Q.reminders.filter(D=>!(D.id===A&&D.type===F&&D.reminderType===q))})),z}catch(z){return console.error("Error removing reminder:",z),!1}},[n]),I=v.useCallback((A,F)=>n?l.reminders.some(q=>q.id===A&&q.type===F&&q.isActive):!1,[l.reminders,n]),E=v.useCallback(()=>{h(new Map)},[]);return{...l,addToWatchlist:p,removeFromWatchlist:x,isInWatchlist:N,toggleWatchlist:k,watchNow:S,getStreamingOptions:w,getBestWatchOption:j,watchTrailer:P,getTrailers:C,getBestTrailer:T,setReminder:R,removeReminder:O,hasReminder:I,refreshData:g,clearCache:E}}const DS=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!0),[i,l]=v.useState(null),[c,d]=v.useState(0),[h,m]=v.useState({platforms:[],genres:[],timeFilter:null}),{addToWatchlist:g,watchNow:p,watchTrailer:x,setReminder:N}=j2(),k=v.useCallback(D=>{var X;return{id:D.id,title:D.title||D.name,name:D.name||D.title,poster_path:D.poster_url||D.poster_path,backdrop_path:D.backdrop_url||D.backdrop_path,release_date:D.release_date,first_air_date:D.first_air_date,vote_average:D.vote_average,overview:D.overview,genre_ids:D.genre_ids||[],media_type:D.media_type,streaming_platforms:D.streaming_platforms||[],...D.streaming_available&&{streaming:((X=D.streaming_platforms)==null?void 0:X.slice(0,3))||[]}}},[]),S=v.useCallback(async()=>{try{const D=[vd(`/api/content/dashboard${xd({includeStreaming:"true",limit:"20"})}`),vd(`/api/content/discover${xd({sort_by:"popularity.desc",limit:"20",include_streaming:"true"})}`),vd(`/api/content/discover${xd({sort_by:"vote_average.desc",limit:"20",include_streaming:"true",vote_average_gte:"7.0"})}`),vd(`/api/content/discover${xd({sort_by:"vote_average.desc",limit:"15",genres:"Drama",vote_average_gte:"7.5",include_streaming:"true"})}`)],X=await Promise.all(D),ie=[];return X.forEach(G=>{G!=null&&G.results&&ie.push(...G.results.map(H=>k(H)))}),ie.filter((G,H,Z)=>H===Z.findIndex($=>$.id===G.id&&$.media_type===G.media_type)).slice(0,100)}catch(D){throw console.error("Error fetching content:",D),D}},[k]);v.useEffect(()=>{(async()=>{r(!0),l(null);try{const X=await S();e(X)}catch(X){console.error("Error loading discover content:",X),l("Failed to load content")}finally{r(!1)}})()},[S]);const w=D=>{m(X=>({...X,platforms:D})),console.log("Streaming platforms selected:",D)},j=D=>{m(X=>({...X,genres:D})),console.log("Genres selected:",D)},P=()=>{console.log("Random discovery triggered")},C=D=>{m(X=>({...X,timeFilter:D})),console.log("Time filter:",D)},T=D=>{console.log("Personality match:",D)},R=D=>{console.log("Media clicked:",D.title||D.name)},O=async D=>{await p({id:D.id.toString(),title:D.title,name:D.name,type:D.media_type||"movie",poster_path:D.poster_path,backdrop_path:D.backdrop_path,release_date:D.release_date,first_air_date:D.first_air_date,vote_average:D.vote_average,overview:D.overview,genre_ids:D.genre_ids})||console.error("Failed to launch watch for:",D.title||D.name)},I=async D=>{await g({id:D.id.toString(),title:D.title,name:D.name,type:D.media_type||"movie",poster_path:D.poster_path,backdrop_path:D.backdrop_path,release_date:D.release_date,first_air_date:D.first_air_date,vote_average:D.vote_average,overview:D.overview,genre_ids:D.genre_ids})?console.log("Added to watchlist:",D.title||D.name):console.error("Failed to add to watchlist")},E=async D=>{await x({id:D.id.toString(),title:D.title,name:D.name,type:D.media_type||"movie",poster_path:D.poster_path,backdrop_path:D.backdrop_path,release_date:D.release_date,first_air_date:D.first_air_date,vote_average:D.vote_average,overview:D.overview,genre_ids:D.genre_ids},!0)||console.error("No trailer available for:",D.title||D.name)},A=async D=>{await N({id:D.id.toString(),title:D.title,name:D.name,type:D.media_type||"movie",poster_path:D.poster_path,backdrop_path:D.backdrop_path,release_date:D.release_date,first_air_date:D.first_air_date,vote_average:D.vote_average,overview:D.overview,genre_ids:D.genre_ids})?console.log("Reminder set for:",D.title||D.name):console.error("Failed to set reminder")},F=D=>{console.log("Show info:",D.title||D.name)},q=D=>{const X={id:parseInt(D.id)||0,title:D.title,name:D.title,...D};O(X)},z=D=>{const X={id:parseInt(D.id)||0,title:D.title,name:D.title,...D};I(X)},Q=D=>{const X={id:parseInt(D.id)||0,title:D.title,name:D.title,...D};F(X)};return n?o.jsxs("div",{className:"min-h-screen bg-slate-950",children:[o.jsx(qi,{}),o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)]",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Cd,{className:"w-8 h-8 animate-spin text-blue-400 mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading amazing content for you..."})]})})]}):i?o.jsxs("div",{className:"min-h-screen bg-slate-950",children:[o.jsx(qi,{}),o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)]",children:o.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-900/20 border border-red-500/50 rounded-2xl p-8 text-center max-w-md mx-4",children:[o.jsx("div",{className:"text-red-400 text-4xl mb-4",children:""}),o.jsx("h3",{className:"text-lg font-semibold text-red-300 mb-2",children:"Failed to Load Content"}),o.jsx("p",{className:"text-red-200 mb-6",children:i}),o.jsxs(ae,{onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700",children:[o.jsx(Lj,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})})]}):o.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[o.jsx(qi,{}),o.jsx("div",{className:"mb-12",children:o.jsx(mH,{onWatchNow:q,onAddToWatchlist:z,onShowInfo:Q})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-16",children:[o.jsx(we.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:o.jsx(PH,{onGenreMix:j,onRandomDiscover:P,onTimeFilter:C,onPersonalityMatch:T,onStreamingFilter:w,className:"mb-16"})}),o.jsx(we.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:o.jsx(EH,{mediaData:t,onMediaClick:R,onWatchNow:O,onAddToWatchlist:I,onWatchTrailer:E,onShowInfo:F,onSetReminder:A})})]})]})};function OH(){Un();const{data:t=[],isLoading:e}=ii({queryKey:["/api/activity"]}),n=Array.isArray(t)?t:[],r=(l,c)=>{switch(l){case"watchlist_add":return"added to watchlist";case"watchlist_update":return`marked as ${(c==null?void 0:c.status)||"updated"}`;case"rating":return`rated ${(c==null?void 0:c.rating)||""} stars`;case"comment":return"commented on";default:return"interacted with"}},i=l=>{switch(l){case"watchlist_add":return o.jsx(Rr,{className:"h-4 w-4 text-teal-400"});case"watchlist_update":return o.jsx(Nt,{className:"h-4 w-4 text-cyan-400"});case"rating":return o.jsx(Nt,{className:"h-4 w-4 text-teal-400"});case"comment":return o.jsx(Oj,{className:"h-4 w-4 text-blue-400"});default:return o.jsx(li,{className:"h-4 w-4 text-gray-400"})}};return e?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[hsl(228,25%,3%)] via-[hsl(226,22%,6%)] to-[hsl(224,20%,8%)] pb-20",children:[o.jsx(qi,{}),o.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 pt-28",children:o.jsx("div",{className:"space-y-6",children:[...Array(5)].map((l,c)=>o.jsx("div",{className:"glass-effect rounded-xl p-6 border border-teal-500/20 animate-pulse",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-full"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4"}),o.jsx("div",{className:"h-3 bg-gray-700 rounded w-1/2"})]})]})},c))})})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[hsl(228,25%,3%)] via-[hsl(226,22%,6%)] to-[hsl(224,20%,8%)] pb-20",children:[o.jsx(qi,{}),o.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 pt-28",children:o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gradient-teal mb-2",children:"Activity Feed"}),o.jsx("p",{className:"text-gray-400",children:"See what's happening in your entertainment world"})]}),n.length===0?o.jsxs("div",{className:"glass-effect rounded-xl p-12 border border-teal-500/20 text-center",children:[o.jsx(kr,{className:"h-16 w-16 text-teal-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Activity Yet"}),o.jsx("p",{className:"text-gray-400",children:"Start watching shows and connecting with friends to see activity here!"})]}):o.jsx("div",{className:"space-y-4",children:n.map(l=>{var c,d,h,m,g,p,x,N;return o.jsx("div",{className:"glass-effect rounded-xl p-6 border border-teal-500/20 hover:border-teal-400/40 transition-colors",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsxs(no,{className:"h-12 w-12",children:[o.jsx(ro,{src:((c=l.user)==null?void 0:c.profileImageUrl)||void 0,alt:`${((d=l.user)==null?void 0:d.firstName)||"User"}'s avatar`}),o.jsx(so,{className:"bg-gradient-to-br from-teal-500 to-cyan-500 text-white",children:((m=(h=l.user)==null?void 0:h.firstName)==null?void 0:m[0])||"U"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i(l.actionType),o.jsxs("p",{className:"text-white",children:[o.jsx("span",{className:"font-semibold",children:((g=l.user)==null?void 0:g.firstName)||"User"})," ",o.jsx("span",{className:"text-gray-300",children:r(l.actionType,l.metadata)})," ",o.jsx("span",{className:"font-medium text-teal-400",children:((p=l.show)==null?void 0:p.title)||"Unknown Show"})]})]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(l.createdAt).toLocaleDateString()," at"," ",new Date(l.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),((x=l.metadata)==null?void 0:x.comment)&&o.jsx("div",{className:"mt-3 p-3 bg-gray-800/50 rounded-lg",children:o.jsxs("p",{className:"text-gray-300 text-sm",children:['"',l.metadata.comment,'"']})})]}),((N=l.show)==null?void 0:N.posterPath)&&o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:`https://image.tmdb.org/t/p/w92${l.show.posterPath}`,alt:l.show.title,className:"w-16 h-24 object-cover rounded-lg"})})]})},l.id)})})]})})]})}const Ql=[{id:"1",name:"Alex Chen",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",username:"@alexc",isFollowing:!1},{id:"2",name:"Sarah Kim",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop&crop=face",username:"@sarahk",isFollowing:!0},{id:"3",name:"Mike Johnson",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",username:"@mikej",isFollowing:!0}],LH=[{id:"1",user:Ql[1],type:"watched",content:{title:"The Last of Us",poster_path:"/uKvVjHNqB5VmOrdxqAt2F7J78ED.jpg",media_type:"tv"},timestamp:"2 hours ago",likes:12,comments:3,isLiked:!1},{id:"2",user:Ql[2],type:"rated",content:{title:"Dune: Part Two",poster_path:"/1pdfLvkbY9ohJlCjQH2CZjjYVvJ.jpg",media_type:"movie",rating:9},timestamp:"4 hours ago",likes:8,comments:1,isLiked:!0},{id:"3",user:Ql[0],type:"added_to_list",content:{title:"Wednesday",poster_path:"/9PFonBhy4cQy7Jz20NpMygczOkv.jpg",media_type:"tv"},timestamp:"6 hours ago",likes:5,comments:2,isLiked:!1}];function FH(){const{isAuthenticated:t}=Un(),[e,n]=v.useState(""),[r,i]=v.useState("feed"),l=Ql.filter(c=>c.name.toLowerCase().includes(e.toLowerCase())||c.username.toLowerCase().includes(e.toLowerCase()));return t?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[o.jsx(qi,{}),o.jsx("div",{className:"pb-6 px-4 sm:px-6 lg:px-8 pt-28",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:"Social"}),o.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"See what your friends are watching"})]}),o.jsx("div",{className:"flex bg-slate-800/50 rounded-lg p-1",children:[{id:"feed",label:"Feed",icon:kr},{id:"discover",label:"Discover",icon:ga},{id:"friends",label:"Friends",icon:Mn}].map(c=>{const d=c.icon;return o.jsxs("button",{onClick:()=>i(c.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-md transition-all ${r===c.id?"bg-teal-600 text-white":"text-gray-400 hover:text-white hover:bg-slate-700/50"}`,children:[o.jsx(d,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:c.label})]},c.id)})}),r==="feed"&&o.jsx(UH,{activities:LH}),r==="discover"&&o.jsx($H,{users:l,searchTerm:e,setSearchTerm:n}),r==="friends"&&o.jsx(BH,{users:Ql.filter(c=>c.isFollowing)})]})})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center px-4",children:o.jsxs("div",{className:"text-center text-white max-w-md",children:[o.jsx(Mn,{className:"w-16 h-16 mx-auto mb-4 text-teal-400"}),o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Join the community"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Connect with friends and discover what they're watching"}),o.jsx(ae,{className:"bg-teal-600 hover:bg-teal-700",children:"Sign In"})]})})}function UH({activities:t}){const[e,n]=v.useState(new Set),r=i=>{n(l=>{const c=new Set(l);return c.has(i)?c.delete(i):c.add(i),c})};return o.jsx("div",{className:"space-y-4",children:t.map(i=>o.jsx(Qe,{className:"bg-slate-800/50 border-slate-700",children:o.jsx(Ze,{className:"p-4 sm:p-6",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(no,{className:"w-10 h-10 sm:w-12 sm:h-12 flex-shrink-0",children:[o.jsx(ro,{src:i.user.avatar,alt:i.user.name}),o.jsx(so,{children:i.user.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium text-sm sm:text-base",children:i.user.name}),o.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm",children:[zH(i),"  ",i.timestamp]})]}),o.jsx(ae,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 flex-shrink-0",children:o.jsx(l3,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex gap-3 mb-3",children:[o.jsx("img",{src:`https://image.tmdb.org/t/p/w200${i.content.poster_path}`,alt:i.content.title,className:"w-12 h-16 sm:w-16 sm:h-20 object-cover rounded border border-slate-600 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white font-medium text-sm sm:text-base truncate",children:i.content.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx($e,{variant:"outline",className:"text-xs",children:i.content.media_type==="tv"?"TV":"Movie"}),i.content.rating&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Nt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),o.jsxs("span",{className:"text-yellow-400 text-xs font-medium",children:[i.content.rating,"/10"]})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-gray-400",children:[o.jsxs("button",{onClick:()=>r(i.id),className:"flex items-center gap-1 hover:text-red-400 transition-colors",children:[o.jsx(Rr,{className:`w-4 h-4 ${e.has(i.id)||i.isLiked?"fill-red-400 text-red-400":""}`}),o.jsx("span",{className:"text-sm",children:i.likes})]}),o.jsxs("button",{className:"flex items-center gap-1 hover:text-blue-400 transition-colors",children:[o.jsx(Oj,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:i.comments})]}),o.jsx("button",{className:"flex items-center gap-1 hover:text-green-400 transition-colors",children:o.jsx(Fj,{className:"w-4 h-4"})})]})]})]})})},i.id))})}function $H({users:t,searchTerm:e,setSearchTerm:n}){const[r,i]=v.useState(new Set),l=c=>{i(d=>{const h=new Set(d);return h.has(c)?h.delete(c):h.add(c),h})};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(Zt,{placeholder:"Search users...",value:e,onChange:c=>n(c.target.value),className:"pl-10 bg-slate-800/50 border-slate-700 text-white placeholder-gray-400 focus:ring-teal-500 focus:border-teal-500"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(c=>o.jsx(Qe,{className:"bg-slate-800/50 border-slate-700",children:o.jsx(Ze,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(no,{className:"w-12 h-12",children:[o.jsx(ro,{src:c.avatar,alt:c.name}),o.jsx(so,{children:c.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white font-medium truncate",children:c.name}),o.jsx("p",{className:"text-gray-400 text-sm truncate",children:c.username})]}),o.jsx(ae,{size:"sm",variant:r.has(c.id)||c.isFollowing?"outline":"default",onClick:()=>l(c.id),className:"flex-shrink-0",children:r.has(c.id)||c.isFollowing?"Following":o.jsxs(o.Fragment,{children:[o.jsx(Ky,{className:"w-4 h-4 mr-1"}),"Follow"]})})]})})},c.id))})]})}function BH({users:t}){return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Following (",t.length,")"]}),o.jsxs(ae,{size:"sm",className:"bg-teal-600 hover:bg-teal-700",children:[o.jsx(Ky,{className:"w-4 h-4 mr-1"}),"Find Friends"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(e=>o.jsx(Qe,{className:"bg-slate-800/50 border-slate-700",children:o.jsx(Ze,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(no,{className:"w-12 h-12",children:[o.jsx(ro,{src:e.avatar,alt:e.name}),o.jsx(so,{children:e.name.charAt(0)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white font-medium truncate",children:e.name}),o.jsx("p",{className:"text-gray-400 text-sm truncate",children:e.username}),o.jsx("p",{className:"text-teal-400 text-xs",children:"Following"})]}),o.jsx(ae,{size:"sm",variant:"outline",children:"Message"})]})})},e.id))})]})}function zH(t){switch(t.type){case"watched":return"watched";case"liked":return"liked";case"added_to_list":return"added to list";case"rated":return"rated";case"shared":return"shared";default:return"interacted with"}}const VH={"hbo max":"max",hbo:"max","hbo max amazon channel":"max","max amazon channel":"max","amazon prime video":"prime-video","prime video":"prime-video","amazon video":"prime-video","amazon prime":"prime-video","amazon prime video with ads":"prime-video","apple tv+":"apple-tv","apple tv plus":"apple-tv","apple tv":"apple-tv","apple tv plus amazon channel":"apple-tv","disney+":"disney-plus","disney plus":"disney-plus",disney:"disney-plus",netflix:"netflix","netflix standard with ads":"netflix","netflix basic with ads":"netflix",hulu:"hulu","hulu (no ads)":"hulu","hulu + live tv":"hulu","paramount+":"paramount-plus","paramount plus":"paramount-plus",paramount:"paramount-plus","cbs all access":"paramount-plus",peacock:"peacock","peacock premium":"peacock","peacock premium plus":"peacock",showtime:"showtime","showtime amazon channel":"showtime","paramount+ with showtime":"showtime",starz:"starz","starz amazon channel":"starz",crunchyroll:"crunchyroll","crunchyroll amazon channel":"crunchyroll",funimation:"crunchyroll","espn+":"espn-plus","espn plus":"espn-plus","discovery+":"discovery-plus","discovery plus":"discovery-plus",tubi:"tubi","pluto tv":"pluto-tv","youtube tv":"youtube-tv",fubo:"fubo",fubotv:"fubo"},HH=t=>{if(!t)return"";const e=t.toLowerCase().trim();return VH[e]||e};function WH(t){if(t.media_type){if(t.media_type==="movie")return"movie";if(t.media_type==="tv")return"tv"}return t.sportsLeague||t.homeTeam||t.awayTeam?"sports":t.episode_count||t.number_of_episodes||t.number_of_seasons||t.first_air_date?"tv":t.release_date||t.title?"movie":t.name?"tv":"movie"}function GH(t){const n=[...t.streamingPlatforms||[],...t.streaming||[],...t.streaming_platforms||[],...t.raw_streaming_platforms||[],...t.raw_streamingPlatforms||[]].reduce((i,l)=>{const c=`${l.provider_id||0}-${l.provider_name||l.name||""}`;return i.some(h=>`${h.provider_id||0}-${h.provider_name||h.name||""}`===c)||i.push({provider_id:l.provider_id||i.length+1,provider_name:l.provider_name||l.name||`Platform ${i.length+1}`,logo_path:l.logo_path||void 0,source:l.source}),i},[]),r=n.map(i=>i.provider_name||i.name||"").filter(Boolean).map(i=>HH(i));return{platforms:n,normalizedProviders:Array.from(new Set(r))}}function KH(t){if(!t.matchTime)return!1;try{const e=new Date(t.matchTime),n=new Date;return Math.abs(n.getTime()-e.getTime())/(1e3*60)<=180&&n>=e}catch{return!1}}function qH(t){if(!t.matchTime)return null;try{const e=new Date(t.matchTime);return e>new Date?e:null}catch{return null}}function YH(t){const e=t.awards||{};return{wins:e.wins||0,nominations:e.nominations||0,type:e.type,isWinner:e.isWinner||e.wins&&e.wins>0||!1,isAwardNominated:e.isAwardNominated||e.nominations&&e.nominations>0||!1}}function QH(t){return t.title||t.name||"Untitled"}function ZH(t){const e=t.release_date||t.first_air_date;if(!e)return null;try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return e}}function XH(t){const e=t.release_date||t.first_air_date;if(!e)return!1;try{return new Date(e)>new Date}catch{return!1}}function JH(t,e,n,r){let i=0;return r&&(i+=1e3),t.isWinner&&(i+=500),t.nominations&&t.nominations>0&&(i+=250),i+=e*10,n&&(i+=100),i}function OS(t){return t.map((e,n)=>{const r=WH(e),{platforms:i,normalizedProviders:l}=GH(e),c=r==="sports"?KH(e):!1,d=r==="sports"?qH(e):null,h=r==="sports"?{sportsLeague:e.sportsLeague,homeTeam:e.homeTeam,awayTeam:e.awayTeam,matchTime:e.matchTime,isLive:c,score:e.score,venue:e.venue}:void 0,m=YH(e),g=QH(e),p=ZH(e),x=XH(e),N=JH(m,i.length,x,c);return{id:typeof e.id=="string"?parseInt(e.id):e.id,type:r,displayTitle:g,displayDate:p,title:e.title,name:e.name,overview:e.overview,poster_path:e.poster_path,backdrop_path:e.backdrop_path,vote_average:e.vote_average||0,vote_count:e.vote_count||0,popularity:e.popularity||0,genre_ids:e.genre_ids||[],genres:e.genres,release_date:e.release_date,first_air_date:e.first_air_date,streaming:i,normalizedProviders:l,streaming_count:i.length,isLive:c,nextMatchTime:d,sportsInfo:h,isUpcoming:x,isAwardWinner:m.isWinner||!1,isAwardNominated:m.isAwardNominated||!1,awards:m,personalizedScore:e.personalizedScore||Math.random()*.5+.5,reason:e.reason||"Recommended for you",priority:N,originalData:e}})}function eW(t=10){return ii({queryKey:["continue-watching",t],queryFn:async()=>{console.log(" Fetching continue watching list...");try{const e=await fetch(`/api/continue-watching?limit=${t}`,{credentials:"include"});if(!e.ok)return console.warn("Continue watching endpoint failed, using fallback data"),ng();const n=await e.json();return n.success?(console.log(` Fetched ${n.continueWatching.length} shows to continue`),n.continueWatching):(console.warn("Continue watching API returned error, using fallback data"),ng())}catch(e){return console.warn("Continue watching request failed, using fallback data:",e),ng()}},staleTime:120*1e3,gcTime:900*1e3})}function ng(){return[{showId:93405,title:"Squid Game",mediaType:"tv",lastWatched:"2025-08-04T15:30:00Z",platform:{provider_name:"Netflix",provider_id:8,logo_path:"/9A1JSVmSxsyaBK4SUFsYVqbAYfW.jpg"},poster_path:"/dDlEmu3EZ0Pgg93K2SVNLCjCSvE.jpg",backdrop_path:"/qw3J9cNeLioOLoR68WX7z79aCdK.jpg",currentEpisode:{seasonNumber:1,episodeNumber:4,progressPercentage:65,duration:54,watchedDuration:35},totalEpisodes:9,completedEpisodes:3},{showId:119051,title:"Wednesday",mediaType:"tv",lastWatched:"2025-08-03T20:15:00Z",platform:{provider_name:"Netflix",provider_id:8,logo_path:"/9A1JSVmSxsyaBK4SUFsYVqbAYfW.jpg"},poster_path:"/9PFonBhy4cQy7Jz20NpMygczOkv.jpg",backdrop_path:"/iHSwvRVsRyxpX7FE7GbviaDvgGZ.jpg",currentEpisode:{seasonNumber:1,episodeNumber:2,progressPercentage:25,duration:48,watchedDuration:12},totalEpisodes:8,completedEpisodes:1},{showId:1396,title:"Breaking Bad",mediaType:"tv",lastWatched:"2025-08-02T18:45:00Z",platform:{provider_name:"Netflix",provider_id:8,logo_path:"/9A1JSVmSxsyaBK4SUFsYVqbAYfW.jpg"},poster_path:"/3xnWaLQjelJDDF7LT1WBo6f4BRe.jpg",backdrop_path:"/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg",currentEpisode:{seasonNumber:3,episodeNumber:7,progressPercentage:90,duration:47,watchedDuration:42},totalEpisodes:62,completedEpisodes:32}]}function wd({className:t,...e}){return o.jsx("div",{className:Ee("animate-pulse rounded-md bg-gray-700",t),...e})}const tW=({id:t,title:e,episode:n,platform:r,thumbnail:i,backdrop_path:l,poster_path:c,duration:d,progress:h,mediaType:m,seasonNumber:g,episodeNumber:p,totalEpisodes:x,onPlay:N,onRemove:k})=>{var D;const[S,w]=v.useState(!1),[j,P]=v.useState(!1),[C,T]=v.useState(!1),R=v.useRef(null),{data:O}=kv(t,m,e),I=Math.min(h/d*100,100),E=l?`https://image.tmdb.org/t/p/w780${l}`:c?`https://image.tmdb.org/t/p/w500${c}`:i;uc(r);const A=m==="tv"&&g&&p?`S${g}E${p}${n?`  ${n}`:""}`:n,F=d-h,q=Math.ceil(F/60),z=q>60?`${Math.floor(q/60)}h ${q%60}m left`:`${q}m left`;v.useEffect(()=>{var ie;let X;return S&&((ie=O==null?void 0:O.primaryTrailer)!=null&&ie.embeddableUrl)?X=setTimeout(()=>{T(!0)},800):T(!1),()=>{X&&clearTimeout(X)}},[S,O]);const Q=()=>{N({id:t,title:e,episode:A,platform:r,mediaType:m,seasonNumber:g,episodeNumber:p,progress:h})};return o.jsx("div",{className:"relative w-80 flex-shrink-0 group cursor-pointer",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:o.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-2xl bg-slate-900 transition-all duration-500 ease-out group-hover:scale-105 group-hover:shadow-3xl",children:[o.jsxs("div",{className:"relative w-full h-44 overflow-hidden",children:[!j&&o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-800 to-slate-900 animate-pulse"}),o.jsx("img",{src:E,alt:e,className:`w-full h-full object-cover transition-all duration-700 ease-out ${j?"opacity-100":"opacity-0"} ${S?"scale-110":"scale-100"} ${C?"opacity-20":"opacity-100"}`,onLoad:()=>P(!0),onError:X=>{const ie=X.target;if(ie.src.includes("backdrop")&&c){ie.src=`https://image.tmdb.org/t/p/w500${c}`;return}ie.src=`data:image/svg+xml;base64,${btoa(`
                <svg width="400" height="225" xmlns="https://www.w3.org/2000/svg">
                  <defs>
                    <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:#374151;stop-opacity:1" />
                      <stop offset="100%" style="stop-color:#1f2937;stop-opacity:1" />
                    </linearGradient>
                  </defs>
                  <rect width="400" height="225" fill="url(#grad)" rx="8"/>
                  <text x="200" y="112" font-family="Arial, sans-serif" font-size="16" 
                        text-anchor="middle" fill="#9ca3af" opacity="0.7">No Image</text>
                </svg>
              `)}`}}),C&&((D=O==null?void 0:O.primaryTrailer)==null?void 0:D.embeddableUrl)&&o.jsx("div",{className:"absolute inset-0 bg-black/20",children:o.jsx("iframe",{ref:R,src:`${O.primaryTrailer.embeddableUrl}?autoplay=1&mute=1&controls=0&loop=1&modestbranding=1&rel=0`,className:"w-full h-full object-cover",frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:`${e} trailer`})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx(Ny,{providers:typeof r=="string"?[{provider_id:1,provider_name:r}]:[{provider_id:1,provider_name:(r==null?void 0:r.provider_name)||(r==null?void 0:r.name)||"Platform",logo_path:r==null?void 0:r.logo_path}],size:"sm",maxDisplayed:1})}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-black/60 to-black/40",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-red-600 to-red-500 shadow-lg transition-all duration-700 ease-out",style:{width:`${I}%`}})}),o.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent transition-opacity duration-500 ${S?"opacity-100":"opacity-0"}`,children:[o.jsxs("div",{className:"absolute bottom-4 left-4 flex gap-3",children:[o.jsx("button",{onClick:Q,className:"w-10 h-10 rounded-full bg-white text-black hover:bg-gray-200 transition-all duration-300 flex items-center justify-center shadow-lg hover:scale-110",children:o.jsx(St,{size:18,fill:"currentColor"})}),o.jsx("button",{onClick:X=>{X.stopPropagation(),k(t)},className:"w-10 h-10 rounded-full bg-slate-800/90 backdrop-blur-sm text-white hover:bg-red-600 transition-all duration-300 flex items-center justify-center shadow-lg hover:scale-110 border border-white/20",children:o.jsx(Dr,{size:16})}),o.jsx("button",{className:"w-10 h-10 rounded-full bg-slate-800/90 backdrop-blur-sm text-white hover:bg-slate-700 transition-all duration-300 flex items-center justify-center shadow-lg hover:scale-110 border border-white/20",children:o.jsx(Qd,{size:16})})]}),o.jsxs("div",{className:"absolute top-4 left-4 bg-black/80 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs text-white/90 flex items-center gap-2 border border-white/10",children:[o.jsx(li,{size:12}),o.jsx("span",{className:"font-medium",children:z})]}),(O==null?void 0:O.primaryTrailer)&&!C&&o.jsx("div",{className:"absolute bottom-4 right-4 bg-red-600/95 backdrop-blur-sm px-3 py-1 rounded-full text-xs text-white font-semibold tracking-wide shadow-lg",children:" TRAILER"})]}),o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-black/30 transition-opacity duration-500 ${S?"opacity-60":"opacity-30"}`})]}),o.jsx("div",{className:"p-4 bg-gradient-to-t from-slate-900 to-slate-800 border-t border-white/5",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"font-bold text-white text-base truncate leading-tight",children:e}),A&&o.jsx("p",{className:"text-sm text-slate-300 truncate font-medium",children:A})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsxs("span",{className:"text-slate-400 font-medium",children:[Math.round(I),"% watched"]}),x&&o.jsxs("span",{className:"text-slate-500 font-medium",children:[p,"/",x," episodes"]})]}),o.jsxs("div",{className:"relative w-full bg-slate-700/50 rounded-full h-2 overflow-hidden shadow-inner",children:[o.jsx("div",{className:"h-full bg-gradient-to-r from-red-600 via-red-500 to-red-400 transition-all duration-1000 ease-out rounded-full shadow-lg",style:{width:`${I}%`}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/10 rounded-full"})]})]})]})})]})})},nW=({limit:t=10,className:e=""})=>{const{data:n=[],isLoading:r,error:i}=eW(t),l=v.useRef(null),[c,d]=v.useState(!1),[h,m]=v.useState(!1),g=()=>{if(l.current){const{scrollLeft:k,scrollWidth:S,clientWidth:w}=l.current;d(k>0),m(k<S-w-10)}};v.useEffect(()=>{g();const k=l.current;if(k){k.addEventListener("scroll",g);const S=new ResizeObserver(g);return S.observe(k),()=>{k.removeEventListener("scroll",g),S.disconnect()}}},[n]);const p=k=>{if(l.current){const w=l.current.scrollLeft+(k==="left"?-320:320);l.current.scrollTo({left:w,behavior:"smooth"})}},x=k=>{console.log("Playing:",k),alert(`Resume watching: ${k.title}
${k.episode?`Episode: ${k.episode}`:""}
Platform: ${k.platform}`)},N=async k=>{if(console.log("Removing from continue watching:",k),confirm("Remove this item from Continue Watching?"))try{(await fetch(`/api/continue-watching/${k}`,{method:"DELETE",credentials:"include"})).ok?window.location.reload():console.error("Failed to remove item")}catch(S){console.error("Error removing item:",S)}};return r?o.jsxs("section",{className:`space-y-4 ${e}`,children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Continue Watching"}),o.jsx("div",{className:"flex gap-4 overflow-hidden",children:Array.from({length:4}).map((k,S)=>o.jsxs("div",{className:"w-80 flex-shrink-0",children:[o.jsx(wd,{className:"w-full h-44 rounded-t-xl"}),o.jsxs("div",{className:"bg-slate-900 p-3 rounded-b-xl space-y-2",children:[o.jsx(wd,{className:"h-4 w-3/4"}),o.jsx(wd,{className:"h-3 w-1/2"}),o.jsx(wd,{className:"h-1.5 w-full"})]})]},S))})]}):i||!(n!=null&&n.length)?null:o.jsxs("section",{className:`space-y-6 ${e}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white tracking-tight",children:"Continue Watching"}),o.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Pick up where you left off"})]}),o.jsxs("div",{className:"hidden lg:flex gap-2",children:[o.jsx("button",{className:`p-3 rounded-full bg-slate-800/50 backdrop-blur-sm text-white hover:bg-slate-700 transition-all duration-300 border border-slate-600/50 ${c?"hover:scale-110":"opacity-40 cursor-not-allowed"}`,onClick:()=>p("left"),disabled:!c,children:o.jsx(t3,{size:20})}),o.jsx("button",{className:`p-3 rounded-full bg-slate-800/50 backdrop-blur-sm text-white hover:bg-slate-700 transition-all duration-300 border border-slate-600/50 ${h?"hover:scale-110":"opacity-40 cursor-not-allowed"}`,onClick:()=>p("right"),disabled:!h,children:o.jsx(Aj,{size:20})})]})]}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{ref:l,className:"flex gap-6 overflow-x-auto scroll-smooth pb-6 scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:n.map(k=>{var S,w,j,P,C,T;return o.jsx(tW,{id:((S=k.showId)==null?void 0:S.toString())||((w=k.id)==null?void 0:w.toString())||"",title:k.title,episode:k.currentEpisode?`Episode ${k.currentEpisode.episodeNumber}`:void 0,platform:k.platform,thumbnail:k.poster_path?`https://image.tmdb.org/t/p/w500${k.poster_path}`:"",backdrop_path:k.backdrop_path,poster_path:k.poster_path,duration:((j=k.currentEpisode)==null?void 0:j.duration)||3600,progress:((P=k.currentEpisode)==null?void 0:P.watchedDuration)||0,mediaType:k.mediaType,seasonNumber:(C=k.currentEpisode)==null?void 0:C.seasonNumber,episodeNumber:(T=k.currentEpisode)==null?void 0:T.episodeNumber,totalEpisodes:k.totalEpisodes,onPlay:x,onRemove:N},k.showId||k.id)})}),o.jsx("div",{className:"absolute left-0 top-0 bottom-6 w-8 bg-gradient-to-r from-slate-950 to-transparent pointer-events-none z-10"}),o.jsx("div",{className:"absolute right-0 top-0 bottom-6 w-16 bg-gradient-to-l from-slate-950 to-transparent pointer-events-none z-10"})]})]})},_2=v.forwardRef(({options:t=[],value:e=[],onValueChange:n,placeholder:r="Select options...",label:i,disabled:l=!1,maxHeight:c="300px",className:d,showClearAll:h=!0,searchable:m=!1,...g},p)=>{const[x,N]=v.useState(!1),[k,S]=v.useState(""),[w,j]=v.useState(-1),P=v.useRef(null),C=v.useRef(null),T=v.useRef(null);v.useImperativeHandle(p,()=>P.current);const R=v.useMemo(()=>!m||!k?t:t.filter(F=>F.toLowerCase().includes(k.toLowerCase())),[t,k,m]),O=v.useCallback(F=>{if(l)return;const q=e.includes(F)?e.filter(z=>z!==F):[...e,F];n==null||n(q)},[e,n,l]),I=v.useCallback(()=>{l||n==null||n([])},[n,l]),E=v.useCallback(F=>{var q;if(!l)switch(F.key){case"Enter":case" ":F.preventDefault(),x?w>=0&&w<R.length&&O(R[w]):(N(!0),j(0));break;case"Escape":F.preventDefault(),N(!1),j(-1),(q=P.current)==null||q.focus();break;case"ArrowDown":F.preventDefault(),x?j(z=>z<R.length-1?z+1:0):(N(!0),j(0));break;case"ArrowUp":F.preventDefault(),x&&j(z=>z>0?z-1:R.length-1);break;case"Tab":x&&(N(!1),j(-1));break}},[x,w,R,O,l]);v.useEffect(()=>{const F=q=>{C.current&&!C.current.contains(q.target)&&P.current&&!P.current.contains(q.target)&&(N(!1),j(-1))};if(x)return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[x]),v.useEffect(()=>{x&&m&&T.current&&T.current.focus()},[x,m]),v.useEffect(()=>{x||(S(""),j(-1))},[x]);const A=v.useMemo(()=>e.length===0?r:e.length===1?e[0]:`${e.length} selected`,[e,r]);return o.jsxs("div",{className:"relative w-full",children:[o.jsxs("button",{ref:P,type:"button",onClick:()=>!l&&N(!x),onKeyDown:E,disabled:l,"aria-haspopup":"listbox","aria-expanded":x,"aria-label":i,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","bg-slate-800 border-slate-700 text-white hover:bg-slate-700 transition-colors",d),...g,children:[o.jsx("span",{className:Ee("truncate text-left",e.length===0&&"text-muted-foreground text-slate-400"),children:A}),o.jsx(e3,{className:Ee("h-4 w-4 opacity-50 transition-transform",x&&"rotate-180")})]}),x&&o.jsxs("div",{ref:C,className:Ee("absolute top-full left-0 right-0 z-50 mt-1 rounded-md border bg-popover text-popover-foreground shadow-md","bg-slate-800 border-slate-700 text-white animate-in fade-in-0 zoom-in-95"),style:{maxHeight:c},role:"listbox","aria-label":i,children:[m&&o.jsx("div",{className:"p-2 border-b border-slate-700",children:o.jsx("input",{ref:T,type:"text",placeholder:"Search options...",value:k,onChange:F=>S(F.target.value),className:"w-full px-2 py-1 text-sm bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-ring"})}),h&&e.length>0&&o.jsx("div",{className:"p-2 border-b border-slate-700",children:o.jsxs(ae,{variant:"ghost",size:"sm",onClick:I,className:"w-full justify-start text-slate-300 hover:text-white hover:bg-slate-700",children:[o.jsx(Dr,{className:"h-3 w-3 mr-2"}),"Clear all (",e.length,")"]})}),o.jsx("div",{className:"max-h-60 overflow-y-auto p-1",children:R.length===0?o.jsx("div",{className:"px-2 py-4 text-center text-sm text-slate-400",children:k?"No options found":"No options available"}):R.map((F,q)=>{const z=e.includes(F),Q=q===w;return o.jsxs("div",{role:"option","aria-selected":z,onClick:()=>O(F),className:Ee("flex items-center gap-2 px-2 py-1.5 text-sm cursor-pointer rounded-sm transition-colors","hover:bg-slate-700 hover:text-white",Q&&"bg-slate-700 text-white",z&&"text-blue-400"),children:[o.jsx("div",{className:Ee("flex items-center justify-center w-4 h-4 border border-slate-500 rounded-sm",z&&"bg-blue-500 border-blue-500"),children:z&&o.jsx(Hh,{className:"h-3 w-3 text-white"})}),o.jsx("span",{className:"truncate",children:F})]},F)})})]})]})});_2.displayName="MultiSelect";const rW=({title:t,children:e,action:n})=>o.jsxs("section",{className:"w-full space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:t}),n&&o.jsx("div",{className:"flex items-center gap-2",children:n})]}),o.jsx("div",{className:"w-full",children:e})]}),rg=({label:t,options:e,selected:n,onChange:r})=>o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-white font-semibold mb-2",children:t}),o.jsx(_2,{options:e,value:n,onValueChange:r,placeholder:`Select ${t}`,label:t,showClearAll:!0,searchable:e.length>10,className:"bg-slate-800 border-slate-700 text-white hover:bg-slate-700"})]}),sg={genre:["Comedy","Drama","Action","Thriller","Horror","Romance","Sci-Fi","Documentary"],network:["Netflix","HBO","Prime Video","Disney+","Hulu","Apple TV+","Paramount+"],year:["2025","2024","2023","2022","2021","2020"]},sW=()=>{const[t,e]=v.useState({genre:[],network:[],year:[]}),{data:n,isError:r}=ii({queryKey:["trending"],queryFn:async()=>{const C=await Ht("/api/trending/tv/day?includeStreaming=true");if(!C.ok)throw new Error("Failed to fetch trending");return C.json()}}),{data:i,isError:l,isLoading:c}=ii({queryKey:["personalized-with-streaming","v2"],queryFn:async()=>{const C=await Ht("/api/tmdb/discover/tv?sort_by=popularity.desc&includeStreaming=true");if(!C.ok)throw new Error("Failed to fetch recommendations");return C.json()}}),d=v.useMemo(()=>r||!n?[]:OS((n==null?void 0:n.results)||[]),[n,r]),h=v.useMemo(()=>d.find(C=>{var T;return((T=C.streaming)==null?void 0:T.length)>0})||d[0],[d]),m=v.useMemo(()=>{if(l||!i)return[];let C=OS((i==null?void 0:i.results)||[]);return t.genre.length>0&&(C=C.filter(T=>t.genre.some(R=>{var O;return(O=T.genres)==null?void 0:O.some(I=>I.name===R)}))),t.network.length>0&&(C=C.filter(T=>t.network.some(R=>{var O;return(O=T.streaming)==null?void 0:O.some(I=>{var E,A;return((E=I==null?void 0:I.provider_name)==null?void 0:E.includes(R))||((A=I==null?void 0:I.name)==null?void 0:A.includes(R))})}))),t.year.length>0&&(C=C.filter(T=>{const R=T.release_date||T.first_air_date;return R?t.year.includes(new Date(R).getFullYear().toString()):!1})),C.slice(0,6)},[i,l,t]),{addToWatchlist:g,watchNow:p,watchTrailer:x}=j2(),N=async C=>{await g(C)?console.log("Added to watchlist:",C.title||C.name):console.error("Failed to add to watchlist")},k=async C=>{await p(C)||console.error("Failed to launch watch")},S=async C=>{await x(C,!0)||console.error("No trailer available")},w=(C,T)=>{e(R=>({...R,[C]:T}))},j=()=>e({genre:[],network:[],year:[]}),P=t.genre.length>0||t.network.length>0||t.year.length>0;return o.jsxs("div",{className:"min-h-screen bg-slate-900 w-full overflow-x-hidden",children:[o.jsx(qi,{}),o.jsxs("main",{className:"w-full max-w-none px-4 md:px-8 lg:px-16 py-8 space-y-12",children:[h?o.jsx(ei,{media:h,variant:"spotlight-poster-backdrop",size:"xl",showRating:!0,showGenres:!0,showReleaseDate:!0,showDescription:!0,actions:{watchNow:!0,trailer:!0,addToList:!0},showStreamingLogoInButton:!0,onAddToWatchlist:N,onWatchTrailer:S,onCardClick:C=>console.log("Show details:",C),onWatchNow:k,className:"w-full"}):o.jsx("div",{className:"text-center py-12 text-gray-400",children:o.jsx("p",{className:"text-lg",children:"No spotlight content available"})}),o.jsxs(rW,{title:"For You",action:P?o.jsx(ae,{variant:"outline",size:"sm",onClick:j,children:"Clear Filters"}):void 0,children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(rg,{label:"Genre",options:sg.genre,selected:t.genre,onChange:C=>w("genre",C)}),o.jsx(rg,{label:"Network",options:sg.network,selected:t.network,onChange:C=>w("network",C)}),o.jsx(rg,{label:"Year",options:sg.year,selected:t.year,onChange:C=>w("year",C)})]}),c?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4",children:Array.from({length:10}).map((C,T)=>o.jsx("div",{className:"aspect-[2/3] bg-slate-800 rounded-lg animate-pulse"},T))}):m.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-400 text-lg mb-4",children:P?"No shows match your selected filters":"No recommendations available"}),P&&o.jsx(ae,{variant:"outline",onClick:j,children:"Clear All Filters"})]}):o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4",children:m.map(C=>o.jsx(ei,{media:C,variant:"vertical-polished",size:"sm",showRating:!0,showGenres:!1,showReleaseDate:!1,actions:{watchNow:!0,trailer:!1,addToList:!0},moveButtonsToBottom:!0,showStreamingLogoInButton:!1,onAddToWatchlist:N,onWatchTrailer:S,onCardClick:T=>console.log("Show details:",T),onWatchNow:k,className:"rounded-lg overflow-hidden"},C.id))})]}),o.jsx(nW,{limit:10})]})]})};function iW(){const[t]=ir(),[e,n]=v.useState([]),[r,i]=v.useState(!0),c=new URLSearchParams(t.split("?")[1]||"").get("query")||"";v.useEffect(()=>{(async()=>{i(!0);try{if(c.trim()!==""){const p=await t2(c);p.ok?n(p.data):(console.error("Search results fetch error:",p.error),n([]))}else n([])}catch(p){console.error("Search results fetch error:",p),n([])}finally{i(!1)}})()},[c]);const d=g=>{console.log("Add to watchlist:",g)},h=g=>{console.log("Watch trailer:",g)},m=g=>{console.log("Card clicked:",g)};return r?o.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-500 mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-400",children:['Loading results for "',c,'"...']})]})})})}):e.length===0?o.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Search Results"}),o.jsxs("div",{className:"text-center py-20",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsxs("p",{className:"text-xl text-gray-400 mb-2",children:['No results found for "',c,'"']}),o.jsx("p",{className:"text-gray-500",children:"Try searching with different keywords"})]})]})}):o.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Search Results"}),o.jsxs("p",{className:"text-gray-400",children:["Found ",e.length," result",e.length===1?"":"s",' for "',c,'"']})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:e.map(g=>{var p;return o.jsx(ei,{media:{id:parseInt(g.id),title:g.title,poster_path:(p=g.poster)==null?void 0:p.replace("https://image.tmdb.org/t/p/w300",""),vote_average:g.vote_average,genre_ids:g.genres,overview:g.synopsis,media_type:g.type,release_date:g.year?`${g.year}-01-01`:void 0,first_air_date:g.type==="tv"&&g.year?`${g.year}-01-01`:void 0},variant:"vertical",size:"md",showStreamingLogos:!0,showRating:!0,actions:{watchNow:!0,trailer:!0,addToList:!0},onAddToWatchlist:d,onWatchTrailer:h,onCardClick:m},g.id)})})]})})}function oW(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(Qe,{className:"w-full max-w-md mx-4",children:o.jsxs(Ze,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(n3,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const bd=[{id:1,title:"The Matrix",poster_path:"/f89U3ADr1oiB1s9GkdPOEpXUk5H.jpg",backdrop_path:"/fNG7i7RqMErkcqhohV2a6cV1Ehy.jpg",vote_average:8.7,genre_ids:[28,878,53],overview:"A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.",release_date:"1999-03-31",media_type:"movie",streaming_platforms:[{provider_id:8,provider_name:"Netflix"},{provider_id:337,provider_name:"Disney+"}]},{id:2,title:"Inception",poster_path:"/9gk7adHYeDvHkCSEqAvQNLV5Uge.jpg",backdrop_path:"/s3TBrRGB1iav7gFOCNx3H31MoES.jpg",vote_average:8.8,genre_ids:[28,878,53],overview:"A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.",release_date:"2010-07-16",media_type:"movie",streaming_platforms:[{provider_id:119,provider_name:"Amazon Prime Video"},{provider_id:384,provider_name:"HBO Max"}]},{id:3,name:"Stranger Things",poster_path:"/49WJfeN0moxb9IPfGn8AIqMGskD.jpg",backdrop_path:"/56v2KjBlU4XaOv9rVYEQypROD7P.jpg",vote_average:8.6,genre_ids:[18,9648,878],overview:"When a young boy vanishes, a small town uncovers a mystery involving secret experiments, terrifying supernatural forces, and one strange little girl.",first_air_date:"2016-07-15",media_type:"tv",streaming_platforms:[{provider_id:8,provider_name:"Netflix"}]}],aW=()=>{const t=(e,n)=>{console.log(`${n} clicked for:`,e.title)};return o.jsx("div",{className:"min-h-screen bg-slate-900 p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-white",children:"Premium UniversalMediaCard Showcase"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Modern redesign with floating actions, gradient overlays, and unified styling"})]}),o.jsxs("section",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Spotlight/Hero Card"}),o.jsx(ei,{media:bd[0],variant:"spotlight",size:"xl",showRating:!0,showGenres:!0,showDescription:!0,showStreamingLogos:!0,actions:{watchNow:!0,trailer:!0,addToList:!0,share:!0},onWatchNow:e=>t(e,"Watch Now"),onWatchTrailer:e=>t(e,"Trailer"),onAddToWatchlist:e=>t(e,"Add to List"),onShareContent:e=>t(e,"Share"),onCardClick:e=>t(e,"Card Click")})]}),o.jsxs("section",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Vertical Cards"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:bd.map(e=>o.jsx(ei,{media:e,variant:"vertical",size:"md",showRating:!0,showGenres:!0,showReleaseDate:!0,showStreamingLogos:!0,actions:{watchNow:!0,trailer:!0,addToList:!0},onWatchNow:n=>t(n,"Watch Now"),onWatchTrailer:n=>t(n,"Trailer"),onAddToWatchlist:n=>t(n,"Add to List"),onCardClick:n=>t(n,"Card Click")},e.id))})]}),o.jsxs("section",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Horizontal Cards"}),o.jsx("div",{className:"space-y-4",children:bd.map(e=>o.jsx(ei,{media:e,variant:"horizontal",size:"md",showRating:!0,showDescription:!0,showStreamingLogos:!0,actions:{watchNow:!0,addToList:!0,trailer:!0},onWatchNow:n=>t(n,"Watch Now"),onWatchTrailer:n=>t(n,"Trailer"),onAddToWatchlist:n=>t(n,"Add to List"),onCardClick:n=>t(n,"Card Click")},`horizontal-${e.id}`))})]}),o.jsxs("section",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Compact Cards"}),o.jsx("div",{className:"space-y-3",children:bd.map(e=>o.jsx(ei,{media:e,variant:"compact",size:"sm",showRating:!0,showReleaseDate:!0,showStreamingLogos:!0,actions:{addToList:!0,watchNow:!0},onWatchNow:n=>t(n,"Watch Now"),onAddToWatchlist:n=>t(n,"Add to List"),onCardClick:n=>t(n,"Card Click")},`compact-${e.id}`))})]}),o.jsxs("section",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Premium Features"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 text-slate-300",children:[o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 p-6 rounded-xl border border-slate-700/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" Modern Design"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:" Gradient overlays & backgrounds"}),o.jsx("li",{children:" Premium glass-morphism effects"}),o.jsx("li",{children:" Enhanced typography & spacing"}),o.jsx("li",{children:" Consistent design language"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 p-6 rounded-xl border border-slate-700/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" Floating Actions"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:" Smooth hover animations"}),o.jsx("li",{children:" Context-aware button placement"}),o.jsx("li",{children:" Backdrop blur effects"}),o.jsx("li",{children:" Micro-interaction feedback"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 p-6 rounded-xl border border-slate-700/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" Enhanced UX"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:" Framer Motion integration"}),o.jsx("li",{children:" Staggered content reveals"}),o.jsx("li",{children:" Scale & glow hover effects"}),o.jsx("li",{children:" Unified interaction patterns"})]})]})]})]})]})})},lW=Ke.lazy(()=>ut(()=>import("./test-personalized-DZvpouZo.js"),[])),cW=Ke.lazy(()=>ut(()=>import("./dashboard-reconstructed-7rb8BG5S.js"),[])),uW=[{path:"/landing",component:yP},{path:"/login",component:y$},{path:"/signup",component:N$},{path:"/reset",component:S$},{path:"/card-demo",component:aW}],dW=[{path:"/discover",component:DS,requireAuth:!0},{path:"/lists",component:OH,requireAuth:!0},{path:"/friends",component:FH,requireAuth:!0},{path:"/dashboard",component:sW,requireAuth:!0},{path:"/modern-discover",component:DS,requireAuth:!0},{path:"/search",component:iW,requireAuth:!0},{path:"/test-personalized",component:lW,lazy:!0,requireAuth:!0},{path:"/test-dashboard",component:cW,lazy:!0,requireAuth:!0}],hW={component:oW},fW=["/","/landing","/discover","/lists","/friends","/dashboard","/test-dashboard"];function mW(){const[t,e]=v.useState(""),[n,r]=v.useState(!1),i=async()=>{r(!0),e("Testing...");try{console.log(" Starting direct Firebase test...");const l=await nv(We,"rachel.gubin@gmail.com","password123");console.log(" Firebase auth successful:",l.user),e(` SUCCESS! 
        Email: ${l.user.email}
        UID: ${l.user.uid}
        Created: ${l.user.metadata.creationTime}`)}catch(l){console.error(" Firebase auth failed:",l),e(` FAILED: ${l.code} - ${l.message}`)}finally{r(!1)}};return o.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx("h1",{className:"text-2xl mb-6",children:" Auth Debug Tool"}),o.jsx("button",{onClick:i,disabled:n,className:"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded mb-4",children:n?"Testing...":"Test Firebase Auth"}),o.jsxs("div",{className:"bg-gray-900 p-4 rounded",children:[o.jsx("h3",{className:"font-bold mb-2",children:"Result:"}),o.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:t||"Click button to test"})]}),o.jsxs("div",{className:"mt-4 text-sm text-gray-400",children:[o.jsx("p",{children:"Testing credentials:"}),o.jsx("p",{children:"Email: rachel.gubin@gmail.com"}),o.jsx("p",{children:"Password: password123"})]})]})})}function pW(){var d,h,m;const{user:t,isAuthenticated:e,isLoading:n}=Un(),[r]=ir(),[i,l]=v.useState(!1);if(v.useEffect(()=>{if(e&&t){const g=t.id||t.email;localStorage.getItem(`onboarding-completed-${g}`)==="true"||(localStorage.setItem(`onboarding-completed-${g}`,"true"),console.log(" Force-completed onboarding for existing user:",g)),l(!1)}},[e,t]),v.useEffect(()=>{const g=document.getElementById("loadingScreen");g&&(g.style.display="none",console.log(" Loading screen removed after React mount"))},[]),n)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-500 mx-auto"}),o.jsx("p",{className:"text-gray-400 mt-4",children:" Checking authentication..."})]})});const c=!fW.includes(r);return o.jsxs("div",{className:"min-h-screen flex flex-col bg-black overflow-x-hidden",children:[c&&(e?o.jsx(Z8,{}):o.jsx(aU,{})),o.jsx("main",{className:`flex-1 ${c?"pt-16 pb-20 md:pb-20":"pt-0 pb-0"}`,children:o.jsxs(eI,{children:[uW.map(g=>o.jsx(Ti,{path:g.path,children:o.jsx(Fp,{component:g.component})},g.path)),o.jsx(Ti,{path:"/auth-debug",children:o.jsx(mW,{})}),o.jsx(Ti,{path:"/upcoming",children:o.jsx(Nd,{to:"/discover"})}),o.jsx(Ti,{path:"/activity",children:o.jsx(Nd,{to:"/lists"})}),o.jsx(Ti,{path:"/",children:(console.log(` Root route: isAuthenticated=${e}, isLoading=${n}, user=${(t==null?void 0:t.email)||"null"}, redirecting to ${e?"dashboard":"landing"}`),e?o.jsx(Nd,{to:"/dashboard"}):o.jsx(yP,{}))}),dW.map(g=>o.jsx(Ti,{path:g.path,children:o.jsx(Fp,{component:g.component,lazy:g.lazy,requireAuth:g.requireAuth})},g.path)),o.jsx(Ti,{children:o.jsx(Fp,{component:hW.component})})]})}),e&&o.jsx(jF,{}),e&&o.jsx(_F,{}),e&&o.jsx(oU,{isOpen:i,onComplete:()=>{console.log(" Premium onboarding completed!"),(t!=null&&t.id||t!=null&&t.email)&&localStorage.setItem(`onboarding-completed-${t.id||t.email}`,"true"),l(!1)},userDisplayName:(t==null?void 0:t.displayName)||((d=t==null?void 0:t.email)==null?void 0:d.split("@")[0])||"Friend",userData:t?{firstName:(h=t.displayName)==null?void 0:h.split(" ")[0],lastName:(m=t.displayName)==null?void 0:m.split(" ")[1],email:t.email,profileImage:t.photoURL,provider:t.authProvider}:void 0}),o.jsx(lU,{onAccept:()=>{console.log("Consent accepted"),e||(window.location.href="/landing")},onDecline:()=>{console.log("Consent declined"),e||(window.location.href="/landing")}})]})}function gW(){return o.jsx(AI,{children:o.jsx(cj,{children:o.jsx(hU,{children:o.jsxs(cU,{children:[o.jsx(pW,{}),o.jsx(R3,{})]})})})})}console.log(" MAIN.TSX LOADED - Starting React app");const yW=()=>{const e=new URLSearchParams(window.location.search).get("p");if(e&&e!=="/"){const n=window.location.origin+e;window.history.replaceState(null,"",n),console.log(" SPA routing: redirected from 404 to",e)}};yW();const vW=()=>{try{if(!We){console.warn(" Firebase auth not available");return}window.firebaseAuth=We,window.testLogin=async()=>{console.log(" Testing login from console...");const{GoogleAuthProvider:t,signInWithPopup:e}=await ut(async()=>{const{GoogleAuthProvider:r,signInWithPopup:i}=await Promise.resolve().then(()=>zs);return{GoogleAuthProvider:r,signInWithPopup:i}},void 0),n=new t;n.addScope("email"),n.addScope("profile"),n.setCustomParameters({prompt:"select_account"});try{const i=(await e(We,n)).user,l=await i.getIdToken(!0);console.log(" Login success:",i.email),console.log(" Token preview:",l.substring(0,50)+"...");const c=await Ht("/api/auth/user",{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});console.log(" API Status:",c.status),c.ok?console.log(" API SUCCESS - User data:",await c.json()):console.log(" API Error:",await c.text())}catch(r){console.error(" Console login failed:",r)}},window.testAPI=async()=>{const t=We.currentUser;if(!t)return console.log(" No user signed in. Run window.testLogin() first.");const e=await t.getIdToken(!0),n=await Ht("/api/auth/user",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});console.log(" API Status:",n.status),console.log(n.ok?" API Response:":" API Error:",await n.text())},window.debugFirebase=async()=>{console.log(" Firebase Debug Info");const t=We.currentUser;if(console.log(" Current User:",t?{uid:t.uid,email:t.email}:"None"),t){const e=await t.getIdToken(!0);console.log(" Token preview:",e.substring(0,50)+"...")}},window.createTestUser=async()=>{const{createUserWithEmailAndPassword:t}=await ut(async()=>{const{createUserWithEmailAndPassword:e}=await Promise.resolve().then(()=>zs);return{createUserWithEmailAndPassword:e}},void 0);try{const e=await t(We,"test@example.com","password123");return console.log(" Test user created:",e.user.email),e}catch(e){e.code==="auth/email-already-in-use"?console.log(" Test user already exists - try window.testEmailLogin()"):console.error(" Create user error:",e.message)}},window.testEmailLogin=async()=>{const{signInWithEmailAndPassword:t}=await ut(async()=>{const{signInWithEmailAndPassword:e}=await Promise.resolve().then(()=>zs);return{signInWithEmailAndPassword:e}},void 0);try{const e=await t(We,"test@example.com","password123");return console.log(" Email login success:",e.user.email),e}catch(e){console.error(" Email login error:",e.message)}},window.resetPassword=async t=>{const{sendPasswordResetEmail:e}=await ut(async()=>{const{sendPasswordResetEmail:n}=await Promise.resolve().then(()=>zs);return{sendPasswordResetEmail:n}},void 0);try{await e(We,t),console.log(" Password reset email sent to:",t),alert(" Password reset email sent! Check your email inbox.")}catch(n){console.error(" Password reset error:",n.message),alert(" Password reset failed: "+n.message)}},window.resetRachel=async()=>{const{sendPasswordResetEmail:t}=await ut(async()=>{const{sendPasswordResetEmail:e}=await Promise.resolve().then(()=>zs);return{sendPasswordResetEmail:e}},void 0);try{await t(We,"rachel.gubin@gmail.com"),console.log(" Password reset email sent to: rachel.gubin@gmail.com"),alert(" Password reset email sent to rachel.gubin@gmail.com! Check your email inbox.")}catch(e){console.error(" Password reset error:",e.message),alert(" Password reset failed: "+e.message)}},console.log(" Firebase debug helpers available:"),console.log("  - window.firebaseAuth"),console.log("  - window.testLogin() (Google OAuth)"),console.log("  - window.testEmailLogin() (test@example.com / password123)"),console.log("  - window.createTestUser() (creates test@example.com)"),console.log("  - window.resetPassword('email@example.com')"),console.log("  - window.resetRachel() (resets rachel.gubin@gmail.com)"),console.log("  - window.testAPI()"),console.log("  - window.debugFirebase()")}catch(t){console.warn(" Could not set up Firebase debug helpers:",t)}};window.addEventListener("error",t=>{console.error(" Global error caught:",t.error)});window.addEventListener("unhandledrejection",t=>{console.error(" Unhandled promise rejection:",t.reason)});const xW=()=>{const t=navigator.userAgent||"",e=/Android|iPhone|iPad|iPod|Mobile/i.test(t);e&&(document.documentElement.classList.add("mobile-device"),console.log(" Mobile device detected - optimizations applied")),console.log(" Device detection:",{userAgent:t.substring(0,50),isMobile:e})},wW=()=>{vW(),xW();try{const t=document.getElementById("root");if(!t)throw new Error("Root element not found");const e=setTimeout(()=>{t.innerHTML=`
        <div style="color:white;padding:20px;background:#000;text-align:center;">
          <h1 style="color:#14b8a6;">BingeBoard</h1>
          <p>App is taking longer than expected to load...</p>
          <button onclick="window.location.reload()" 
            style="background:#14b8a6;color:white;padding:10px 20px;border:none;border-radius:5px;margin:10px;">
            Reload Page
          </button>
          <br><br>
          <a href="/debug-mobile.html" style="color:#14b8a6;">Debug Tools</a>
        </div>`},1e4);IA.createRoot(t).render(o.jsx(gW,{})),clearTimeout(e);const n=document.querySelector(".loading-fallback");n&&setTimeout(()=>{n.style.opacity="0",n.style.transition="opacity 0.5s ease-out",setTimeout(()=>{n.remove()},500)},100),console.log(" React app rendered successfully")}catch(t){console.error(" Critical error in main.tsx:",t),document.body.innerHTML=`<div style="color:red;padding:20px;">Critical error: ${t.message}</div>`}};wW();"serviceWorker"in navigator?window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>console.log("Service Worker registered:",t)).catch(t=>console.error("Service Worker registration failed:",t))}):"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(t=>{t.length&&console.log("Unregistering service workers in dev to avoid stale caches"),t.forEach(e=>e.unregister())});export{ae as B,Qe as C,qi as N,St as P,Ke as R,Ny as S,fh as T,ut as _,Ze as a,Ar as b,r3 as c,Nt as d,_c as e,$e as f,Fj as g,wd as h,tc as i,o as j,Un as k,eW as l,OS as n,v as r,ii as u};
